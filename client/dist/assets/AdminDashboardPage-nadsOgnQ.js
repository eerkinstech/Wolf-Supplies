import{j as e}from"./editor-BiSlXHWs.js";import{u as t,a}from"./vendor-0z5P9xg-.js";import{A as s}from"./AdminLayout-Cnhsu9ug.js";import{u as l,d as r}from"./redux-DhaBhdiE.js";import{f as o,a as c,q as n}from"./index-BiO51Ilc.js";const i=()=>{const i=t(),d=l(),[x,m]=a.useState({products:0,categories:0,totalValue:0,orders:0,revenue:0}),[u,b]=a.useState(""),[h,p]=a.useState(""),[g,v]=a.useState(!1),[y,f]=a.useState("today"),[j,N]=a.useState("fixed"),{products:w}=r(e=>e.product),{categories:k}=r(e=>e.category),{orders:D=[]}=r(e=>e.order);a.useEffect(()=>{const e=(new Date).toISOString().split("T")[0];b(e),p(e)},[]);a.useEffect(()=>{d(o()),d(c()),d(n())},[d]),a.useEffect(()=>{if(w){const e=w.reduce((e,t)=>{if(t.variantCombinations&&t.variantCombinations.length>0){return e+t.variantCombinations.reduce((e,a)=>e+((a&&a.price?a.price:t.price||0)||0),0)}return e+(t.price||0||0)},0),t=e=>{if(!e)return null;const t=new Date(e);if(isNaN(t))return null;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},a=t(u),s=t(h),l=(D||[]).filter(e=>{if(!a&&!s)return!0;const l=t(e.createdAt);return!!l&&(a&&s?l>=a&&l<=s:a?l>=a:!s||l<=s)}),r=(l||[]).reduce((e,t)=>e+(t.totalPrice||0),0);m({products:w.length,categories:k?.length||0,totalValue:e.toFixed(2),orders:(l||[]).length,revenue:r.toFixed(2)})}},[w,k,D,u,h]);const C=({icon:t,label:a,value:s,trend:l,trendUp:r})=>e.jsxs("div",{className:"rounded-lg shadow p-5 hover:shadow-lg transition hover:scale-105 flex flex-col justify-between",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:"var(--color-accent-primary)"},children:e.jsx("i",{className:`${t} text-2xl`,style:{color:"white"}})})}),e.jsxs("div",{className:"text-center flex-1 flex flex-col justify-center",children:[e.jsx("p",{className:"text-xs font-semibold opacity-70 mb-1",style:{color:"var(--color-text-light)"},children:a}),e.jsx("p",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-accent-primary)"},children:s}),l&&e.jsxs("p",{className:"text-xs font-medium flex items-center justify-center gap-1",style:{color:r?"#22c55e":"#dc2626"},children:[r?e.jsx("i",{className:"fas fa-arrow-up",style:{fontSize:"10px"}}):e.jsx("i",{className:"fas fa-arrow-down",style:{fontSize:"10px"}}),e.jsx("span",{children:l})]})]})]});return e.jsxs(s,{activeTab:"dashboard",children:[e.jsxs("div",{className:"p-6",style:{backgroundColor:"var(--color-bg-section)"},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-1",style:{color:"var(--color-text-primary)"},children:"Dashboard"}),e.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:"Welcome back! Here's your store overview."})]}),e.jsxs("div",{className:"mb-6 rounded-lg p-4 shadow",style:{backgroundColor:"var(--color-bg-primary)"},children:[e.jsxs("button",{onClick:()=>v(!g),className:"text-sm font-semibold px-3 py-1.5 rounded",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},children:[e.jsx("i",{className:"fas fa-calendar mr-1"})," ",g?"Hide":"Show"," Date Filter"]}),g&&e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsxs("div",{className:"w-48 border-r",style:{borderColor:"var(--color-border-light)"},children:[e.jsx("div",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"QUICK SELECT"}),e.jsx("div",{className:"space-y-1",children:[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"Last 30 minutes",value:"last30m"},{label:"Last 12 hours",value:"last12h"},{label:"Last 7 days",value:"last7d"},{label:"Last 30 days",value:"last30d"},{label:"Last 90 days",value:"last90d"},{label:"Last 365 days",value:"last365d"},{label:"Last 12 months",value:"last12m"},{label:"Last week",value:"lastweek"},{label:"Last month",value:"lastmonth"}].map(t=>e.jsxs("button",{onClick:()=>(e=>{f(e);const t=new Date;let a,s;switch(e){case"today":a=new Date(t),a.setHours(0,0,0,0),s=new Date(t),s.setHours(23,59,59,999);break;case"yesterday":a=new Date(t),a.setDate(a.getDate()-1),a.setHours(0,0,0,0),s=new Date(a),s.setHours(23,59,59,999);break;case"last30m":a=new Date(t.getTime()-18e5),s=new Date(t);break;case"last12h":a=new Date(t.getTime()-432e5),s=new Date(t);break;case"last7d":a=new Date(t),a.setDate(a.getDate()-7),s=new Date(t);break;case"last30d":a=new Date(t),a.setDate(a.getDate()-30),s=new Date(t);break;case"last90d":a=new Date(t),a.setDate(a.getDate()-90),s=new Date(t);break;case"last365d":a=new Date(t),a.setDate(a.getDate()-365),s=new Date(t);break;case"lastweek":a=new Date(t),a.setDate(a.getDate()-a.getDay()-7),s=new Date(a),s.setDate(s.getDate()+6);break;case"lastmonth":a=new Date(t.getFullYear(),t.getMonth()-1,1),s=new Date(t.getFullYear(),t.getMonth(),0);break;case"last12m":a=new Date(t),a.setFullYear(a.getFullYear()-1),s=new Date(t);break;default:a=new Date(t),a.setHours(0,0,0,0),s=new Date(t)}b(a.toISOString().split("T")[0]),p(s.toISOString().split("T")[0])})(t.value),className:"w-full text-left text-xs py-1.5 px-2 rounded transition",style:{backgroundColor:y===t.value?"var(--color-accent-primary)":"transparent",color:y===t.value?"white":"var(--color-text-primary)"},children:[y===t.value&&"âœ“ ",t.label]},t.value))})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex gap-4 mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"From"}),e.jsx("input",{type:"date",value:u,onChange:e=>b(e.target.value),className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"To"}),e.jsx("input",{type:"date",value:h,onChange:e=>p(e.target.value),className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("input",{type:"checkbox",id:"includeCurrent",className:"w-3 h-3",defaultChecked:!0}),e.jsx("label",{htmlFor:"includeCurrent",className:"text-xs",style:{color:"var(--color-text-light)"},children:"Include current period"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>{v(!1),b(""),p(""),f("")},className:"px-3 py-1 text-xs rounded font-semibold",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},children:"Cancel"}),e.jsx("button",{onClick:()=>v(!1),className:"px-3 py-1 text-xs rounded font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:"Apply"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 ",children:[e.jsx(C,{icon:"fas fa-box",label:"Products",value:x.products,trend:"Active",trendUp:!0}),e.jsx(C,{icon:"fas fa-shopping-cart",label:"Orders",value:x.orders,trend:"Total",trendUp:!1}),e.jsx(C,{icon:"fas fa-chart-line",label:"Total Sale",value:`Â£${x.revenue}`,trend:"Gross",trendUp:!0}),e.jsx(C,{icon:"fas fa-users",label:"System",value:"Online",trend:"Active",trendUp:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8 p-6",style:{backgroundColor:"var(--color-bg-section)"},children:[e.jsxs("div",{className:"lg:col-span-2 rounded-lg shadow p-5",style:{backgroundColor:"var(--color-bg-primary)"},children:[e.jsx("h2",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("button",{onClick:()=>i("/admin/products"),className:"text-white rounded h-20 text-xs font-semibold   flex flex-col items-center justify-center hover:shadow-md hover:scale-105 transition",style:{backgroundColor:"var(--color-accent-primary)"},children:[e.jsx("i",{className:"fas fa-box text-2xl mb-1",style:{display:"block"}}),e.jsx("span",{className:"text-xs",children:"Products"})]}),e.jsxs("button",{onClick:()=>i("/admin/orders"),className:"text-white rounded h-20 text-xs font-semibold   flex flex-col items-center justify-center hover:shadow-md hover:scale-105 transition",style:{backgroundColor:"var(--color-accent-primary)"},children:[e.jsx("i",{className:"fas fa-shopping-cart text-2xl mb-1",style:{display:"block"}}),e.jsx("span",{className:"text-xs",children:"Orders"})]}),e.jsxs("button",{onClick:()=>i("/admin/categories"),className:"text-white rounded h-20 text-xs font-semibold   flex flex-col items-center justify-center hover:shadow-md hover:scale-105 transition",style:{backgroundColor:"var(--color-accent-primary)"},children:[e.jsx("i",{className:"fas fa-tags text-2xl mb-1",style:{display:"block"}}),e.jsx("span",{className:"text-xs",children:"Categories"})]}),e.jsxs("button",{onClick:()=>i("/admin/analytics"),className:"text-white rounded text-xs font-semibold   flex flex-col items-center justify-center h-20 hover:shadow-md hover:scale-105 transition",style:{backgroundColor:"var(--color-accent-primary)"},children:[e.jsx("i",{className:"fas fa-chart-bar text-2xl mb-1",style:{display:"block"}}),e.jsx("span",{className:"text-xs",children:"Analytics"})]})]})]}),e.jsxs("div",{className:"rounded-lg shadow p-5",style:{backgroundColor:"var(--color-bg-primary)"},children:[e.jsx("h2",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Status"}),e.jsx("div",{className:"space-y-2",children:[{label:"Database",status:"Online",icon:"ðŸ—„ï¸"},{label:"API",status:"Online",icon:"âš™ï¸"},{label:"Backend",status:"Running",icon:"ðŸ–¥ï¸"}].map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded text-xs",style:{backgroundColor:"var(--color-bg-section)"},children:[e.jsxs("span",{children:[t.icon," ",t.label]}),e.jsx("span",{className:"font-semibold",style:{color:"#22c55e"},children:"âœ“"})]},a))})]})]})]})};export{i as default};
