(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function c3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sg={exports:{}},nc={};var h2;function G5(){if(h2)return nc;h2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return nc.Fragment=t,nc.jsx=r,nc.jsxs=r,nc}var f2;function Y5(){return f2||(f2=1,sg.exports=G5()),sg.exports}var n=Y5(),ag={exports:{}},ct={};var p2;function J5(){if(p2)return ct;p2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function w(A,B,P){this.props=A,this.context=B,this.refs=C,this.updater=P||j}w.prototype.isReactComponent={},w.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},w.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function T(){}T.prototype=w.prototype;function E(A,B,P){this.props=A,this.context=B,this.refs=C,this.updater=P||j}var O=E.prototype=new T;O.constructor=E,N(O,w.prototype),O.isPureReactComponent=!0;var R=Array.isArray;function L(){}var z={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function I(A,B,P){var K=P.ref;return{$$typeof:e,type:A,key:B,ref:K!==void 0?K:null,props:P}}function H(A,B){return I(A.type,B,A.props)}function W(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function ie(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(P){return B[P]})}var Y=/\/+/g;function ne(A,B){return typeof A=="object"&&A!==null&&A.key!=null?ie(""+A.key):B.toString(36)}function F(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(L,L):(A.status="pending",A.then(function(B){A.status==="pending"&&(A.status="fulfilled",A.value=B)},function(B){A.status==="pending"&&(A.status="rejected",A.reason=B)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function M(A,B,P,K,de){var ve=typeof A;(ve==="undefined"||ve==="boolean")&&(A=null);var je=!1;if(A===null)je=!0;else switch(ve){case"bigint":case"string":case"number":je=!0;break;case"object":switch(A.$$typeof){case e:case t:je=!0;break;case m:return je=A._init,M(je(A._payload),B,P,K,de)}}if(je)return de=de(A),je=K===""?"."+ne(A,0):K,R(de)?(P="",je!=null&&(P=je.replace(Y,"$&/")+"/"),M(de,B,P,"",function(ue){return ue})):de!=null&&(W(de)&&(de=H(de,P+(de.key==null||A&&A.key===de.key?"":(""+de.key).replace(Y,"$&/")+"/")+je)),B.push(de)),1;je=0;var He=K===""?".":K+":";if(R(A))for(var te=0;te<A.length;te++)K=A[te],ve=He+ne(K,te),je+=M(K,B,P,ve,de);else if(te=b(A),typeof te=="function")for(A=te.call(A),te=0;!(K=A.next()).done;)K=K.value,ve=He+ne(K,te++),je+=M(K,B,P,ve,de);else if(ve==="object"){if(typeof A.then=="function")return M(F(A),B,P,K,de);throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return je}function _(A,B,P){if(A==null)return A;var K=[],de=0;return M(A,K,"","",function(ve){return B.call(P,ve,de++)}),K}function X(A){if(A._status===-1){var B=A._result;B=B(),B.then(function(P){(A._status===0||A._status===-1)&&(A._status=1,A._result=P)},function(P){(A._status===0||A._status===-1)&&(A._status=2,A._result=P)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var $=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ce={map:_,forEach:function(A,B,P){_(A,function(){B.apply(this,arguments)},P)},count:function(A){var B=0;return _(A,function(){B++}),B},toArray:function(A){return _(A,function(B){return B})||[]},only:function(A){if(!W(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ct.Activity=g,ct.Children=ce,ct.Component=w,ct.Fragment=r,ct.Profiler=a,ct.PureComponent=E,ct.StrictMode=s,ct.Suspense=h,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ct.__COMPILER_RUNTIME={__proto__:null,c:function(A){return z.H.useMemoCache(A)}},ct.cache=function(A){return function(){return A.apply(null,arguments)}},ct.cacheSignal=function(){return null},ct.cloneElement=function(A,B,P){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var K=N({},A.props),de=A.key;if(B!=null)for(ve in B.key!==void 0&&(de=""+B.key),B)!q.call(B,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&B.ref===void 0||(K[ve]=B[ve]);var ve=arguments.length-2;if(ve===1)K.children=P;else if(1<ve){for(var je=Array(ve),He=0;He<ve;He++)je[He]=arguments[He+2];K.children=je}return I(A.type,de,K)},ct.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},ct.createElement=function(A,B,P){var K,de={},ve=null;if(B!=null)for(K in B.key!==void 0&&(ve=""+B.key),B)q.call(B,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(de[K]=B[K]);var je=arguments.length-2;if(je===1)de.children=P;else if(1<je){for(var He=Array(je),te=0;te<je;te++)He[te]=arguments[te+2];de.children=He}if(A&&A.defaultProps)for(K in je=A.defaultProps,je)de[K]===void 0&&(de[K]=je[K]);return I(A,ve,de)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(A){return{$$typeof:u,render:A}},ct.isValidElement=W,ct.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:X}},ct.memo=function(A,B){return{$$typeof:f,type:A,compare:B===void 0?null:B}},ct.startTransition=function(A){var B=z.T,P={};z.T=P;try{var K=A(),de=z.S;de!==null&&de(P,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(L,$)}catch(ve){$(ve)}finally{B!==null&&P.types!==null&&(B.types=P.types),z.T=B}},ct.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ct.use=function(A){return z.H.use(A)},ct.useActionState=function(A,B,P){return z.H.useActionState(A,B,P)},ct.useCallback=function(A,B){return z.H.useCallback(A,B)},ct.useContext=function(A){return z.H.useContext(A)},ct.useDebugValue=function(){},ct.useDeferredValue=function(A,B){return z.H.useDeferredValue(A,B)},ct.useEffect=function(A,B){return z.H.useEffect(A,B)},ct.useEffectEvent=function(A){return z.H.useEffectEvent(A)},ct.useId=function(){return z.H.useId()},ct.useImperativeHandle=function(A,B,P){return z.H.useImperativeHandle(A,B,P)},ct.useInsertionEffect=function(A,B){return z.H.useInsertionEffect(A,B)},ct.useLayoutEffect=function(A,B){return z.H.useLayoutEffect(A,B)},ct.useMemo=function(A,B){return z.H.useMemo(A,B)},ct.useOptimistic=function(A,B){return z.H.useOptimistic(A,B)},ct.useReducer=function(A,B,P){return z.H.useReducer(A,B,P)},ct.useRef=function(A){return z.H.useRef(A)},ct.useState=function(A){return z.H.useState(A)},ct.useSyncExternalStore=function(A,B,P){return z.H.useSyncExternalStore(A,B,P)},ct.useTransition=function(){return z.H.useTransition()},ct.version="19.2.0",ct}var m2;function si(){return m2||(m2=1,ag.exports=J5()),ag.exports}var S=si();const vt=c3(S);var og={exports:{}},sc={},lg={exports:{}},ig={};var g2;function Q5(){return g2||(g2=1,(function(e){function t(M,_){var X=M.length;M.push(_);e:for(;0<X;){var $=X-1>>>1,ce=M[$];if(0<a(ce,_))M[$]=_,M[X]=ce,X=$;else break e}}function r(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var _=M[0],X=M.pop();if(X!==_){M[0]=X;e:for(var $=0,ce=M.length,A=ce>>>1;$<A;){var B=2*($+1)-1,P=M[B],K=B+1,de=M[K];if(0>a(P,X))K<ce&&0>a(de,P)?(M[$]=de,M[K]=X,$=K):(M[$]=P,M[B]=X,$=B);else if(K<ce&&0>a(de,X))M[$]=de,M[K]=X,$=K;else break e}}return _}function a(M,_){var X=M.sortIndex-_.sortIndex;return X!==0?X:M.id-_.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],f=[],m=1,g=null,y=3,b=!1,j=!1,N=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function O(M){for(var _=r(f);_!==null;){if(_.callback===null)s(f);else if(_.startTime<=M)s(f),_.sortIndex=_.expirationTime,t(h,_);else break;_=r(f)}}function R(M){if(N=!1,O(M),!j)if(r(h)!==null)j=!0,L||(L=!0,ie());else{var _=r(f);_!==null&&F(R,_.startTime-M)}}var L=!1,z=-1,q=5,I=-1;function H(){return C?!0:!(e.unstable_now()-I<q)}function W(){if(C=!1,L){var M=e.unstable_now();I=M;var _=!0;try{e:{j=!1,N&&(N=!1,T(z),z=-1),b=!0;var X=y;try{t:{for(O(M),g=r(h);g!==null&&!(g.expirationTime>M&&H());){var $=g.callback;if(typeof $=="function"){g.callback=null,y=g.priorityLevel;var ce=$(g.expirationTime<=M);if(M=e.unstable_now(),typeof ce=="function"){g.callback=ce,O(M),_=!0;break t}g===r(h)&&s(h),O(M)}else s(h);g=r(h)}if(g!==null)_=!0;else{var A=r(f);A!==null&&F(R,A.startTime-M),_=!1}}break e}finally{g=null,y=X,b=!1}_=void 0}}finally{_?ie():L=!1}}}var ie;if(typeof E=="function")ie=function(){E(W)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ne=Y.port2;Y.port1.onmessage=W,ie=function(){ne.postMessage(null)}}else ie=function(){w(W,0)};function F(M,_){z=w(function(){M(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(M){switch(y){case 1:case 2:case 3:var _=3;break;default:_=y}var X=y;y=_;try{return M()}finally{y=X}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(M,_){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=y;y=M;try{return _()}finally{y=X}},e.unstable_scheduleCallback=function(M,_,X){var $=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?$+X:$):X=$,M){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=X+ce,M={id:m++,callback:_,priorityLevel:M,startTime:X,expirationTime:ce,sortIndex:-1},X>$?(M.sortIndex=X,t(f,M),r(h)===null&&M===r(f)&&(N?(T(z),z=-1):N=!0,F(R,X-$))):(M.sortIndex=ce,t(h,M),j||b||(j=!0,L||(L=!0,ie()))),M},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(M){var _=y;return function(){var X=y;y=_;try{return M.apply(this,arguments)}finally{y=X}}}})(ig)),ig}var x2;function X5(){return x2||(x2=1,lg.exports=Q5()),lg.exports}var cg={exports:{}},Br={};var y2;function Z5(){if(y2)return Br;y2=1;var e=si();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:h,containerInfo:f,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Br.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(h,f,null,m)},Br.flushSync=function(h){var f=c.T,m=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=f,s.p=m,s.d.f()}},Br.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(h,f))},Br.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Br.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?s.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&s.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Br.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);s.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(h)},Br.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin);s.d.L(h,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Br.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=u(f.as,f.crossOrigin);s.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(h)},Br.requestFormReset=function(h){s.d.r(h)},Br.unstable_batchedUpdates=function(h,f){return h(f)},Br.useFormState=function(h,f,m){return c.H.useFormState(h,f,m)},Br.useFormStatus=function(){return c.H.useHostTransitionStatus()},Br.version="19.2.0",Br}var b2;function d3(){if(b2)return cg.exports;b2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cg.exports=Z5(),cg.exports}var v2;function ek(){if(v2)return sc;v2=1;var e=X5(),t=si(),r=d3();function s(o){var i="https://react.dev/errors/"+o;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function l(o){var i=o,d=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,(i.flags&4098)!==0&&(d=i.return),o=i.return;while(o)}return i.tag===3?d:null}function c(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function u(o){if(o.tag===31){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function h(o){if(l(o)!==o)throw Error(s(188))}function f(o){var i=o.alternate;if(!i){if(i=l(o),i===null)throw Error(s(188));return i!==o?null:o}for(var d=o,p=i;;){var x=d.return;if(x===null)break;var v=x.alternate;if(v===null){if(p=x.return,p!==null){d=p;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===d)return h(x),o;if(v===p)return h(x),i;v=v.sibling}throw Error(s(188))}if(d.return!==p.return)d=x,p=v;else{for(var k=!1,D=x.child;D;){if(D===d){k=!0,d=x,p=v;break}if(D===p){k=!0,p=x,d=v;break}D=D.sibling}if(!k){for(D=v.child;D;){if(D===d){k=!0,d=v,p=x;break}if(D===p){k=!0,p=v,d=x;break}D=D.sibling}if(!k)throw Error(s(189))}}if(d.alternate!==p)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?o:i}function m(o){var i=o.tag;if(i===5||i===26||i===27||i===6)return o;for(o=o.child;o!==null;){if(i=m(o),i!==null)return i;o=o.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),E=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var Y=Symbol.for("react.client.reference");function ne(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Y?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case N:return"Fragment";case w:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case L:return"SuspenseList";case I:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case j:return"Portal";case E:return o.displayName||"Context";case T:return(o._context.displayName||"Context")+".Consumer";case O:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case z:return i=o.displayName||null,i!==null?i:ne(o.type)||"Memo";case q:i=o._payload,o=o._init;try{return ne(o(i))}catch{}}return null}var F=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},$=[],ce=-1;function A(o){return{current:o}}function B(o){0>ce||(o.current=$[ce],$[ce]=null,ce--)}function P(o,i){ce++,$[ce]=o.current,o.current=i}var K=A(null),de=A(null),ve=A(null),je=A(null);function He(o,i){switch(P(ve,i),P(de,o),P(K,null),i.nodeType){case 9:case 11:o=(o=i.documentElement)&&(o=o.namespaceURI)?L1(o):0;break;default:if(o=i.tagName,i=i.namespaceURI)i=L1(i),o=B1(i,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}B(K),P(K,o)}function te(){B(K),B(de),B(ve)}function ue(o){o.memoizedState!==null&&P(je,o);var i=K.current,d=B1(i,o.type);i!==d&&(P(de,o),P(K,d))}function U(o){de.current===o&&(B(K),B(de)),je.current===o&&(B(je),Zi._currentValue=X)}var ae,le;function Q(o){if(ae===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);ae=i&&i[1]||"",le=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+o+le}var ye=!1;function Ne(o,i){if(!o||ye)return"";ye=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(i){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(me){var he=me}Reflect.construct(o,[],ke)}else{try{ke.call()}catch(me){he=me}o.call(ke.prototype)}}else{try{throw Error()}catch(me){he=me}(ke=o())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(me){if(me&&he&&typeof me.stack=="string")return[me.stack,he.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=p.DetermineComponentFrameRoot(),k=v[0],D=v[1];if(k&&D){var V=k.split(`
`),oe=D.split(`
`);for(x=p=0;p<V.length&&!V[p].includes("DetermineComponentFrameRoot");)p++;for(;x<oe.length&&!oe[x].includes("DetermineComponentFrameRoot");)x++;if(p===V.length||x===oe.length)for(p=V.length-1,x=oe.length-1;1<=p&&0<=x&&V[p]!==oe[x];)x--;for(;1<=p&&0<=x;p--,x--)if(V[p]!==oe[x]){if(p!==1||x!==1)do if(p--,x--,0>x||V[p]!==oe[x]){var be=`
`+V[p].replace(" at new "," at ");return o.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",o.displayName)),be}while(1<=p&&0<=x);break}}}finally{ye=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Q(d):""}function Ke(o,i){switch(o.tag){case 26:case 27:case 5:return Q(o.type);case 16:return Q("Lazy");case 13:return o.child!==i&&i!==null?Q("Suspense Fallback"):Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return Ne(o.type,!1);case 11:return Ne(o.type.render,!1);case 1:return Ne(o.type,!0);case 31:return Q("Activity");default:return""}}function at(o){try{var i="",d=null;do i+=Ke(o,d),d=o,o=o.return;while(o);return i}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Nt=Object.prototype.hasOwnProperty,lt=e.unstable_scheduleCallback,Kt=e.unstable_cancelCallback,Gt=e.unstable_shouldYield,qn=e.unstable_requestPaint,Yt=e.unstable_now,Wn=e.unstable_getCurrentPriorityLevel,ge=e.unstable_ImmediatePriority,Te=e.unstable_UserBlockingPriority,Le=e.unstable_NormalPriority,Ye=e.unstable_LowPriority,Ze=e.unstable_IdlePriority,tt=e.log,At=e.unstable_setDisableYieldValue,xe=null,Ge=null;function ft(o){if(typeof tt=="function"&&At(o),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(xe,o)}catch{}}var Fe=Math.clz32?Math.clz32:G,pt=Math.log,Mt=Math.LN2;function G(o){return o>>>=0,o===0?32:31-(pt(o)/Mt|0)|0}var fe=256,$e=262144,Be=4194304;function nt(o){var i=o&42;if(i!==0)return i;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function xt(o,i,d){var p=o.pendingLanes;if(p===0)return 0;var x=0,v=o.suspendedLanes,k=o.pingedLanes;o=o.warmLanes;var D=p&134217727;return D!==0?(p=D&~v,p!==0?x=nt(p):(k&=D,k!==0?x=nt(k):d||(d=D&~o,d!==0&&(x=nt(d))))):(D=p&~v,D!==0?x=nt(D):k!==0?x=nt(k):d||(d=p&~o,d!==0&&(x=nt(d)))),x===0?0:i!==0&&i!==x&&(i&v)===0&&(v=x&-x,d=i&-i,v>=d||v===32&&(d&4194048)!==0)?i:x}function Ot(o,i){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&i)===0}function ir(o,i){switch(o){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bt(){var o=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),o}function cn(o){for(var i=[],d=0;31>d;d++)i.push(o);return i}function it(o,i){o.pendingLanes|=i,i!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function fi(o,i,d,p,x,v){var k=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var D=o.entanglements,V=o.expirationTimes,oe=o.hiddenUpdates;for(d=k&~d;0<d;){var be=31-Fe(d),ke=1<<be;D[be]=0,V[be]=-1;var he=oe[be];if(he!==null)for(oe[be]=null,be=0;be<he.length;be++){var me=he[be];me!==null&&(me.lane&=-536870913)}d&=~ke}p!==0&&re(o,p,0),v!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=v&~(k&~i))}function re(o,i,d){o.pendingLanes|=i,o.suspendedLanes&=~i;var p=31-Fe(i);o.entangledLanes|=i,o.entanglements[p]=o.entanglements[p]|1073741824|d&261930}function Ee(o,i){var d=o.entangledLanes|=i;for(o=o.entanglements;d;){var p=31-Fe(d),x=1<<p;x&i|o[p]&i&&(o[p]|=i),d&=~x}}function we(o,i){var d=i&-i;return d=(d&42)!==0?1:_e(d),(d&(o.suspendedLanes|i))!==0?0:d}function _e(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ce(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ae(){var o=_.p;return o!==0?o:(o=window.event,o===void 0?32:a2(o.type))}function We(o,i){var d=_.p;try{return _.p=o,i()}finally{_.p=d}}var Pe=Math.random().toString(36).slice(2),De="__reactFiber$"+Pe,rt="__reactProps$"+Pe,Ve="__reactContainer$"+Pe,$t="__reactEvents$"+Pe,En="__reactListeners$"+Pe,Lr="__reactHandles$"+Pe,so="__reactResources$"+Pe,pi="__reactMarker$"+Pe;function Jf(o){delete o[De],delete o[rt],delete o[$t],delete o[En],delete o[Lr]}function Xo(o){var i=o[De];if(i)return i;for(var d=o.parentNode;d;){if(i=d[Ve]||d[De]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(o=V1(o);o!==null;){if(d=o[De])return d;o=V1(o)}return i}o=d,d=o.parentNode}return null}function Zo(o){if(o=o[De]||o[Ve]){var i=o.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return o}return null}function mi(o){var i=o.tag;if(i===5||i===26||i===27||i===6)return o.stateNode;throw Error(s(33))}function el(o){var i=o[so];return i||(i=o[so]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function br(o){o[pi]=!0}var Ny=new Set,Cy={};function ao(o,i){tl(o,i),tl(o+"Capture",i)}function tl(o,i){for(Cy[o]=i,o=0;o<i.length;o++)Ny.add(i[o])}var IC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sy={},ky={};function $C(o){return Nt.call(ky,o)?!0:Nt.call(Sy,o)?!1:IC.test(o)?ky[o]=!0:(Sy[o]=!0,!1)}function hd(o,i,d){if($C(i))if(d===null)o.removeAttribute(i);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(i);return;case"boolean":var p=i.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(i);return}}o.setAttribute(i,""+d)}}function fd(o,i,d){if(d===null)o.removeAttribute(i);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(i);return}o.setAttribute(i,""+d)}}function Ss(o,i,d,p){if(p===null)o.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(i,d,""+p)}}function Tn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ey(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function HC(o,i,d){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,i);if(!o.hasOwnProperty(i)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,v=p.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return x.call(this)},set:function(k){d=""+k,v.call(this,k)}}),Object.defineProperty(o,i,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function Qf(o){if(!o._valueTracker){var i=Ey(o)?"checked":"value";o._valueTracker=HC(o,i,""+o[i])}}function Ty(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var d=i.getValue(),p="";return o&&(p=Ey(o)?o.checked?"true":"false":o.value),o=p,o!==d?(i.setValue(o),!0):!1}function pd(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var UC=/[\n"\\]/g;function An(o){return o.replace(UC,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Xf(o,i,d,p,x,v,k,D){o.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.type=k:o.removeAttribute("type"),i!=null?k==="number"?(i===0&&o.value===""||o.value!=i)&&(o.value=""+Tn(i)):o.value!==""+Tn(i)&&(o.value=""+Tn(i)):k!=="submit"&&k!=="reset"||o.removeAttribute("value"),i!=null?Zf(o,k,Tn(i)):d!=null?Zf(o,k,Tn(d)):p!=null&&o.removeAttribute("value"),x==null&&v!=null&&(o.defaultChecked=!!v),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.name=""+Tn(D):o.removeAttribute("name")}function Ay(o,i,d,p,x,v,k,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(o.type=v),i!=null||d!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){Qf(o);return}d=d!=null?""+Tn(d):"",i=i!=null?""+Tn(i):d,D||i===o.value||(o.value=i),o.defaultValue=i}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=D?o.checked:!!p,o.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.name=k),Qf(o)}function Zf(o,i,d){i==="number"&&pd(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function rl(o,i,d,p){if(o=o.options,i){i={};for(var x=0;x<d.length;x++)i["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=i.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&p&&(o[d].defaultSelected=!0)}else{for(d=""+Tn(d),i=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,p&&(o[x].defaultSelected=!0);return}i!==null||o[x].disabled||(i=o[x])}i!==null&&(i.selected=!0)}}function My(o,i,d){if(i!=null&&(i=""+Tn(i),i!==o.value&&(o.value=i),d==null)){o.defaultValue!==i&&(o.defaultValue=i);return}o.defaultValue=d!=null?""+Tn(d):""}function Oy(o,i,d,p){if(i==null){if(p!=null){if(d!=null)throw Error(s(92));if(F(p)){if(1<p.length)throw Error(s(93));p=p[0]}d=p}d==null&&(d=""),i=d}d=Tn(i),o.defaultValue=d,p=o.textContent,p===d&&p!==""&&p!==null&&(o.value=p),Qf(o)}function nl(o,i){if(i){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=i;return}}o.textContent=i}var VC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dy(o,i,d){var p=i.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?o.setProperty(i,""):i==="float"?o.cssFloat="":o[i]="":p?o.setProperty(i,d):typeof d!="number"||d===0||VC.has(i)?i==="float"?o.cssFloat=d:o[i]=(""+d).trim():o[i]=d+"px"}function Ry(o,i,d){if(i!=null&&typeof i!="object")throw Error(s(62));if(o=o.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||i!=null&&i.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var x in i)p=i[x],i.hasOwnProperty(x)&&d[x]!==p&&Dy(o,x,p)}else for(var v in i)i.hasOwnProperty(v)&&Dy(o,v,i[v])}function ep(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function md(o){return qC.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ks(){}var tp=null;function rp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var sl=null,al=null;function zy(o){var i=Zo(o);if(i&&(o=i.stateNode)){var d=o[rt]||null;e:switch(o=i.stateNode,i.type){case"input":if(Xf(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),i=d.name,d.type==="radio"&&i!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+An(""+i)+'"][type="radio"]'),i=0;i<d.length;i++){var p=d[i];if(p!==o&&p.form===o.form){var x=p[rt]||null;if(!x)throw Error(s(90));Xf(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<d.length;i++)p=d[i],p.form===o.form&&Ty(p)}break e;case"textarea":My(o,d.value,d.defaultValue);break e;case"select":i=d.value,i!=null&&rl(o,!!d.multiple,i,!1)}}}var np=!1;function Ly(o,i,d){if(np)return o(i,d);np=!0;try{var p=o(i);return p}finally{if(np=!1,(sl!==null||al!==null)&&(ru(),sl&&(i=sl,o=al,al=sl=null,zy(i),o)))for(i=0;i<o.length;i++)zy(o[i])}}function gi(o,i){var d=o.stateNode;if(d===null)return null;var p=d[rt]||null;if(p===null)return null;d=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(s(231,i,typeof d));return d}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sp=!1;if(Es)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){sp=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{sp=!1}var ia=null,ap=null,gd=null;function By(){if(gd)return gd;var o,i=ap,d=i.length,p,x="value"in ia?ia.value:ia.textContent,v=x.length;for(o=0;o<d&&i[o]===x[o];o++);var k=d-o;for(p=1;p<=k&&i[d-p]===x[v-p];p++);return gd=x.slice(o,1<p?1-p:void 0)}function xd(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function yd(){return!0}function _y(){return!1}function Yr(o){function i(d,p,x,v,k){this._reactName=d,this._targetInst=x,this.type=p,this.nativeEvent=v,this.target=k,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(d=o[D],this[D]=d?d(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?yd:_y,this.isPropagationStopped=_y,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=yd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=yd)},persist:function(){},isPersistent:yd}),i}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bd=Yr(oo),yi=g({},oo,{view:0,detail:0}),WC=Yr(yi),op,lp,bi,vd=g({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==bi&&(bi&&o.type==="mousemove"?(op=o.screenX-bi.screenX,lp=o.screenY-bi.screenY):lp=op=0,bi=o),op)},movementY:function(o){return"movementY"in o?o.movementY:lp}}),Py=Yr(vd),KC=g({},vd,{dataTransfer:0}),GC=Yr(KC),YC=g({},yi,{relatedTarget:0}),ip=Yr(YC),JC=g({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),QC=Yr(JC),XC=g({},oo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ZC=Yr(XC),eS=g({},oo,{data:0}),Iy=Yr(eS),tS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sS(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=nS[o])?!!i[o]:!1}function cp(){return sS}var aS=g({},yi,{key:function(o){if(o.key){var i=tS[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=xd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?rS[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cp,charCode:function(o){return o.type==="keypress"?xd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?xd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),oS=Yr(aS),lS=g({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$y=Yr(lS),iS=g({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cp}),cS=Yr(iS),dS=g({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),uS=Yr(dS),hS=g({},vd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),fS=Yr(hS),pS=g({},oo,{newState:0,oldState:0}),mS=Yr(pS),gS=[9,13,27,32],dp=Es&&"CompositionEvent"in window,vi=null;Es&&"documentMode"in document&&(vi=document.documentMode);var xS=Es&&"TextEvent"in window&&!vi,Hy=Es&&(!dp||vi&&8<vi&&11>=vi),Uy=" ",Vy=!1;function Fy(o,i){switch(o){case"keyup":return gS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qy(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ol=!1;function yS(o,i){switch(o){case"compositionend":return qy(i);case"keypress":return i.which!==32?null:(Vy=!0,Uy);case"textInput":return o=i.data,o===Uy&&Vy?null:o;default:return null}}function bS(o,i){if(ol)return o==="compositionend"||!dp&&Fy(o,i)?(o=By(),gd=ap=ia=null,ol=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Hy&&i.locale!=="ko"?null:i.data;default:return null}}var vS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!vS[o.type]:i==="textarea"}function Ky(o,i,d,p){sl?al?al.push(p):al=[p]:sl=p,i=cu(i,"onChange"),0<i.length&&(d=new bd("onChange","change",null,d,p),o.push({event:d,listeners:i}))}var ji=null,wi=null;function jS(o){A1(o,0)}function jd(o){var i=mi(o);if(Ty(i))return o}function Gy(o,i){if(o==="change")return i}var Yy=!1;if(Es){var up;if(Es){var hp="oninput"in document;if(!hp){var Jy=document.createElement("div");Jy.setAttribute("oninput","return;"),hp=typeof Jy.oninput=="function"}up=hp}else up=!1;Yy=up&&(!document.documentMode||9<document.documentMode)}function Qy(){ji&&(ji.detachEvent("onpropertychange",Xy),wi=ji=null)}function Xy(o){if(o.propertyName==="value"&&jd(wi)){var i=[];Ky(i,wi,o,rp(o)),Ly(jS,i)}}function wS(o,i,d){o==="focusin"?(Qy(),ji=i,wi=d,ji.attachEvent("onpropertychange",Xy)):o==="focusout"&&Qy()}function NS(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return jd(wi)}function CS(o,i){if(o==="click")return jd(i)}function SS(o,i){if(o==="input"||o==="change")return jd(i)}function kS(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var dn=typeof Object.is=="function"?Object.is:kS;function Ni(o,i){if(dn(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var d=Object.keys(o),p=Object.keys(i);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var x=d[p];if(!Nt.call(i,x)||!dn(o[x],i[x]))return!1}return!0}function Zy(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function eb(o,i){var d=Zy(o);o=0;for(var p;d;){if(d.nodeType===3){if(p=o+d.textContent.length,o<=i&&p>=i)return{node:d,offset:i-o};o=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Zy(d)}}function tb(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?tb(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function rb(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var i=pd(o.document);i instanceof o.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch{d=!1}if(d)o=i.contentWindow;else break;i=pd(o.document)}return i}function fp(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}var ES=Es&&"documentMode"in document&&11>=document.documentMode,ll=null,pp=null,Ci=null,mp=!1;function nb(o,i,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;mp||ll==null||ll!==pd(p)||(p=ll,"selectionStart"in p&&fp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ci&&Ni(Ci,p)||(Ci=p,p=cu(pp,"onSelect"),0<p.length&&(i=new bd("onSelect","select",null,i,d),o.push({event:i,listeners:p}),i.target=ll)))}function lo(o,i){var d={};return d[o.toLowerCase()]=i.toLowerCase(),d["Webkit"+o]="webkit"+i,d["Moz"+o]="moz"+i,d}var il={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},gp={},sb={};Es&&(sb=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function io(o){if(gp[o])return gp[o];if(!il[o])return o;var i=il[o],d;for(d in i)if(i.hasOwnProperty(d)&&d in sb)return gp[o]=i[d];return o}var ab=io("animationend"),ob=io("animationiteration"),lb=io("animationstart"),TS=io("transitionrun"),AS=io("transitionstart"),MS=io("transitioncancel"),ib=io("transitionend"),cb=new Map,xp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xp.push("scrollEnd");function Kn(o,i){cb.set(o,i),ao(i,[o])}var wd=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Mn=[],cl=0,yp=0;function Nd(){for(var o=cl,i=yp=cl=0;i<o;){var d=Mn[i];Mn[i++]=null;var p=Mn[i];Mn[i++]=null;var x=Mn[i];Mn[i++]=null;var v=Mn[i];if(Mn[i++]=null,p!==null&&x!==null){var k=p.pending;k===null?x.next=x:(x.next=k.next,k.next=x),p.pending=x}v!==0&&db(d,x,v)}}function Cd(o,i,d,p){Mn[cl++]=o,Mn[cl++]=i,Mn[cl++]=d,Mn[cl++]=p,yp|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function bp(o,i,d,p){return Cd(o,i,d,p),Sd(o)}function co(o,i){return Cd(o,null,null,i),Sd(o)}function db(o,i,d){o.lanes|=d;var p=o.alternate;p!==null&&(p.lanes|=d);for(var x=!1,v=o.return;v!==null;)v.childLanes|=d,p=v.alternate,p!==null&&(p.childLanes|=d),v.tag===22&&(o=v.stateNode,o===null||o._visibility&1||(x=!0)),o=v,v=v.return;return o.tag===3?(v=o.stateNode,x&&i!==null&&(x=31-Fe(d),o=v.hiddenUpdates,p=o[x],p===null?o[x]=[i]:p.push(i),i.lane=d|536870912),v):null}function Sd(o){if(50<Wi)throw Wi=0,Tm=null,Error(s(185));for(var i=o.return;i!==null;)o=i,i=o.return;return o.tag===3?o.stateNode:null}var dl={};function OS(o,i,d,p){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(o,i,d,p){return new OS(o,i,d,p)}function vp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ts(o,i){var d=o.alternate;return d===null?(d=un(o.tag,i,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=i,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,i=o.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function ub(o,i){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=i,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,i=d.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o}function kd(o,i,d,p,x,v){var k=0;if(p=o,typeof o=="function")vp(o)&&(k=1);else if(typeof o=="string")k=B5(o,d,K.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case I:return o=un(31,d,i,x),o.elementType=I,o.lanes=v,o;case N:return uo(d.children,x,v,i);case C:k=8,x|=24;break;case w:return o=un(12,d,i,x|2),o.elementType=w,o.lanes=v,o;case R:return o=un(13,d,i,x),o.elementType=R,o.lanes=v,o;case L:return o=un(19,d,i,x),o.elementType=L,o.lanes=v,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:k=10;break e;case T:k=9;break e;case O:k=11;break e;case z:k=14;break e;case q:k=16,p=null;break e}k=29,d=Error(s(130,o===null?"null":typeof o,"")),p=null}return i=un(k,d,i,x),i.elementType=o,i.type=p,i.lanes=v,i}function uo(o,i,d,p){return o=un(7,o,p,i),o.lanes=d,o}function jp(o,i,d){return o=un(6,o,null,i),o.lanes=d,o}function hb(o){var i=un(18,null,null,0);return i.stateNode=o,i}function wp(o,i,d){return i=un(4,o.children!==null?o.children:[],o.key,i),i.lanes=d,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}var fb=new WeakMap;function On(o,i){if(typeof o=="object"&&o!==null){var d=fb.get(o);return d!==void 0?d:(i={value:o,source:i,stack:at(i)},fb.set(o,i),i)}return{value:o,source:i,stack:at(i)}}var ul=[],hl=0,Ed=null,Si=0,Dn=[],Rn=0,ca=null,is=1,cs="";function As(o,i){ul[hl++]=Si,ul[hl++]=Ed,Ed=o,Si=i}function pb(o,i,d){Dn[Rn++]=is,Dn[Rn++]=cs,Dn[Rn++]=ca,ca=o;var p=is;o=cs;var x=32-Fe(p)-1;p&=~(1<<x),d+=1;var v=32-Fe(i)+x;if(30<v){var k=x-x%5;v=(p&(1<<k)-1).toString(32),p>>=k,x-=k,is=1<<32-Fe(i)+x|d<<x|p,cs=v+o}else is=1<<v|d<<x|p,cs=o}function Np(o){o.return!==null&&(As(o,1),pb(o,1,0))}function Cp(o){for(;o===Ed;)Ed=ul[--hl],ul[hl]=null,Si=ul[--hl],ul[hl]=null;for(;o===ca;)ca=Dn[--Rn],Dn[Rn]=null,cs=Dn[--Rn],Dn[Rn]=null,is=Dn[--Rn],Dn[Rn]=null}function mb(o,i){Dn[Rn++]=is,Dn[Rn++]=cs,Dn[Rn++]=ca,is=i.id,cs=i.overflow,ca=o}var kr=null,Ft=null,Ct=!1,da=null,zn=!1,Sp=Error(s(519));function ua(o){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ki(On(i,o)),Sp}function gb(o){var i=o.stateNode,d=o.type,p=o.memoizedProps;switch(i[De]=o,i[rt]=p,d){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(d=0;d<Gi.length;d++)bt(Gi[d],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":bt("invalid",i),Ay(i,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":bt("invalid",i);break;case"textarea":bt("invalid",i),Oy(i,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||i.textContent===""+d||p.suppressHydrationWarning===!0||R1(i.textContent,d)?(p.popover!=null&&(bt("beforetoggle",i),bt("toggle",i)),p.onScroll!=null&&bt("scroll",i),p.onScrollEnd!=null&&bt("scrollend",i),p.onClick!=null&&(i.onclick=ks),i=!0):i=!1,i||ua(o,!0)}function xb(o){for(kr=o.return;kr;)switch(kr.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:kr=kr.return}}function fl(o){if(o!==kr)return!1;if(!Ct)return xb(o),Ct=!0,!1;var i=o.tag,d;if((d=i!==3&&i!==27)&&((d=i===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||Vm(o.type,o.memoizedProps)),d=!d),d&&Ft&&ua(o),xb(o),i===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));Ft=U1(o)}else if(i===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));Ft=U1(o)}else i===27?(i=Ft,Sa(o.type)?(o=Gm,Gm=null,Ft=o):Ft=i):Ft=kr?Bn(o.stateNode.nextSibling):null;return!0}function ho(){Ft=kr=null,Ct=!1}function kp(){var o=da;return o!==null&&(Zr===null?Zr=o:Zr.push.apply(Zr,o),da=null),o}function ki(o){da===null?da=[o]:da.push(o)}var Ep=A(null),fo=null,Ms=null;function ha(o,i,d){P(Ep,i._currentValue),i._currentValue=d}function Os(o){o._currentValue=Ep.current,B(Ep)}function Tp(o,i,d){for(;o!==null;){var p=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),o===d)break;o=o.return}}function Ap(o,i,d,p){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var v=x.dependencies;if(v!==null){var k=x.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=x;for(var V=0;V<i.length;V++)if(D.context===i[V]){v.lanes|=d,D=v.alternate,D!==null&&(D.lanes|=d),Tp(v.return,d,o),p||(k=null);break e}v=D.next}}else if(x.tag===18){if(k=x.return,k===null)throw Error(s(341));k.lanes|=d,v=k.alternate,v!==null&&(v.lanes|=d),Tp(k,d,o),k=null}else k=x.child;if(k!==null)k.return=x;else for(k=x;k!==null;){if(k===o){k=null;break}if(x=k.sibling,x!==null){x.return=k.return,k=x;break}k=k.return}x=k}}function pl(o,i,d,p){o=null;for(var x=i,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var k=x.alternate;if(k===null)throw Error(s(387));if(k=k.memoizedProps,k!==null){var D=x.type;dn(x.pendingProps.value,k.value)||(o!==null?o.push(D):o=[D])}}else if(x===je.current){if(k=x.alternate,k===null)throw Error(s(387));k.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Zi):o=[Zi])}x=x.return}o!==null&&Ap(i,o,d,p),i.flags|=262144}function Td(o){for(o=o.firstContext;o!==null;){if(!dn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function po(o){fo=o,Ms=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Er(o){return yb(fo,o)}function Ad(o,i){return fo===null&&po(o),yb(o,i)}function yb(o,i){var d=i._currentValue;if(i={context:i,memoizedValue:d,next:null},Ms===null){if(o===null)throw Error(s(308));Ms=i,o.dependencies={lanes:0,firstContext:i},o.flags|=524288}else Ms=Ms.next=i;return d}var DS=typeof AbortController<"u"?AbortController:function(){var o=[],i=this.signal={aborted:!1,addEventListener:function(d,p){o.push(p)}};this.abort=function(){i.aborted=!0,o.forEach(function(d){return d()})}},RS=e.unstable_scheduleCallback,zS=e.unstable_NormalPriority,cr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mp(){return{controller:new DS,data:new Map,refCount:0}}function Ei(o){o.refCount--,o.refCount===0&&RS(zS,function(){o.controller.abort()})}var Ti=null,Op=0,ml=0,gl=null;function LS(o,i){if(Ti===null){var d=Ti=[];Op=0,ml=zm(),gl={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Op++,i.then(bb,bb),i}function bb(){if(--Op===0&&Ti!==null){gl!==null&&(gl.status="fulfilled");var o=Ti;Ti=null,ml=0,gl=null;for(var i=0;i<o.length;i++)(0,o[i])()}}function BS(o,i){var d=[],p={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return o.then(function(){p.status="fulfilled",p.value=i;for(var x=0;x<d.length;x++)(0,d[x])(i)},function(x){for(p.status="rejected",p.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),p}var vb=M.S;M.S=function(o,i){n1=Yt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&LS(o,i),vb!==null&&vb(o,i)};var mo=A(null);function Dp(){var o=mo.current;return o!==null?o:Ht.pooledCache}function Md(o,i){i===null?P(mo,mo.current):P(mo,i.pool)}function jb(){var o=Dp();return o===null?null:{parent:cr._currentValue,pool:o}}var xl=Error(s(460)),Rp=Error(s(474)),Od=Error(s(542)),Dd={then:function(){}};function wb(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Nb(o,i,d){switch(d=o[d],d===void 0?o.push(i):d!==i&&(i.then(ks,ks),i=d),i.status){case"fulfilled":return i.value;case"rejected":throw o=i.reason,Sb(o),o;default:if(typeof i.status=="string")i.then(ks,ks);else{if(o=Ht,o!==null&&100<o.shellSuspendCounter)throw Error(s(482));o=i,o.status="pending",o.then(function(p){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=p}},function(p){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=p}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw o=i.reason,Sb(o),o}throw xo=i,xl}}function go(o){try{var i=o._init;return i(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(xo=d,xl):d}}var xo=null;function Cb(){if(xo===null)throw Error(s(459));var o=xo;return xo=null,o}function Sb(o){if(o===xl||o===Od)throw Error(s(483))}var yl=null,Ai=0;function Rd(o){var i=Ai;return Ai+=1,yl===null&&(yl=[]),Nb(yl,o,i)}function Mi(o,i){i=i.props.ref,o.ref=i!==void 0?i:null}function zd(o,i){throw i.$$typeof===y?Error(s(525)):(o=Object.prototype.toString.call(i),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o)))}function kb(o){function i(Z,J){if(o){var se=Z.deletions;se===null?(Z.deletions=[J],Z.flags|=16):se.push(J)}}function d(Z,J){if(!o)return null;for(;J!==null;)i(Z,J),J=J.sibling;return null}function p(Z){for(var J=new Map;Z!==null;)Z.key!==null?J.set(Z.key,Z):J.set(Z.index,Z),Z=Z.sibling;return J}function x(Z,J){return Z=Ts(Z,J),Z.index=0,Z.sibling=null,Z}function v(Z,J,se){return Z.index=se,o?(se=Z.alternate,se!==null?(se=se.index,se<J?(Z.flags|=67108866,J):se):(Z.flags|=67108866,J)):(Z.flags|=1048576,J)}function k(Z){return o&&Z.alternate===null&&(Z.flags|=67108866),Z}function D(Z,J,se,Se){return J===null||J.tag!==6?(J=jp(se,Z.mode,Se),J.return=Z,J):(J=x(J,se),J.return=Z,J)}function V(Z,J,se,Se){var Je=se.type;return Je===N?be(Z,J,se.props.children,Se,se.key):J!==null&&(J.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===q&&go(Je)===J.type)?(J=x(J,se.props),Mi(J,se),J.return=Z,J):(J=kd(se.type,se.key,se.props,null,Z.mode,Se),Mi(J,se),J.return=Z,J)}function oe(Z,J,se,Se){return J===null||J.tag!==4||J.stateNode.containerInfo!==se.containerInfo||J.stateNode.implementation!==se.implementation?(J=wp(se,Z.mode,Se),J.return=Z,J):(J=x(J,se.children||[]),J.return=Z,J)}function be(Z,J,se,Se,Je){return J===null||J.tag!==7?(J=uo(se,Z.mode,Se,Je),J.return=Z,J):(J=x(J,se),J.return=Z,J)}function ke(Z,J,se){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=jp(""+J,Z.mode,se),J.return=Z,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return se=kd(J.type,J.key,J.props,null,Z.mode,se),Mi(se,J),se.return=Z,se;case j:return J=wp(J,Z.mode,se),J.return=Z,J;case q:return J=go(J),ke(Z,J,se)}if(F(J)||ie(J))return J=uo(J,Z.mode,se,null),J.return=Z,J;if(typeof J.then=="function")return ke(Z,Rd(J),se);if(J.$$typeof===E)return ke(Z,Ad(Z,J),se);zd(Z,J)}return null}function he(Z,J,se,Se){var Je=J!==null?J.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Je!==null?null:D(Z,J,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return se.key===Je?V(Z,J,se,Se):null;case j:return se.key===Je?oe(Z,J,se,Se):null;case q:return se=go(se),he(Z,J,se,Se)}if(F(se)||ie(se))return Je!==null?null:be(Z,J,se,Se,null);if(typeof se.then=="function")return he(Z,J,Rd(se),Se);if(se.$$typeof===E)return he(Z,J,Ad(Z,se),Se);zd(Z,se)}return null}function me(Z,J,se,Se,Je){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Z=Z.get(se)||null,D(J,Z,""+Se,Je);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case b:return Z=Z.get(Se.key===null?se:Se.key)||null,V(J,Z,Se,Je);case j:return Z=Z.get(Se.key===null?se:Se.key)||null,oe(J,Z,Se,Je);case q:return Se=go(Se),me(Z,J,se,Se,Je)}if(F(Se)||ie(Se))return Z=Z.get(se)||null,be(J,Z,Se,Je,null);if(typeof Se.then=="function")return me(Z,J,se,Rd(Se),Je);if(Se.$$typeof===E)return me(Z,J,se,Ad(J,Se),Je);zd(J,Se)}return null}function Ue(Z,J,se,Se){for(var Je=null,kt=null,qe=J,ht=J=0,wt=null;qe!==null&&ht<se.length;ht++){qe.index>ht?(wt=qe,qe=null):wt=qe.sibling;var Et=he(Z,qe,se[ht],Se);if(Et===null){qe===null&&(qe=wt);break}o&&qe&&Et.alternate===null&&i(Z,qe),J=v(Et,J,ht),kt===null?Je=Et:kt.sibling=Et,kt=Et,qe=wt}if(ht===se.length)return d(Z,qe),Ct&&As(Z,ht),Je;if(qe===null){for(;ht<se.length;ht++)qe=ke(Z,se[ht],Se),qe!==null&&(J=v(qe,J,ht),kt===null?Je=qe:kt.sibling=qe,kt=qe);return Ct&&As(Z,ht),Je}for(qe=p(qe);ht<se.length;ht++)wt=me(qe,Z,ht,se[ht],Se),wt!==null&&(o&&wt.alternate!==null&&qe.delete(wt.key===null?ht:wt.key),J=v(wt,J,ht),kt===null?Je=wt:kt.sibling=wt,kt=wt);return o&&qe.forEach(function(Ma){return i(Z,Ma)}),Ct&&As(Z,ht),Je}function et(Z,J,se,Se){if(se==null)throw Error(s(151));for(var Je=null,kt=null,qe=J,ht=J=0,wt=null,Et=se.next();qe!==null&&!Et.done;ht++,Et=se.next()){qe.index>ht?(wt=qe,qe=null):wt=qe.sibling;var Ma=he(Z,qe,Et.value,Se);if(Ma===null){qe===null&&(qe=wt);break}o&&qe&&Ma.alternate===null&&i(Z,qe),J=v(Ma,J,ht),kt===null?Je=Ma:kt.sibling=Ma,kt=Ma,qe=wt}if(Et.done)return d(Z,qe),Ct&&As(Z,ht),Je;if(qe===null){for(;!Et.done;ht++,Et=se.next())Et=ke(Z,Et.value,Se),Et!==null&&(J=v(Et,J,ht),kt===null?Je=Et:kt.sibling=Et,kt=Et);return Ct&&As(Z,ht),Je}for(qe=p(qe);!Et.done;ht++,Et=se.next())Et=me(qe,Z,ht,Et.value,Se),Et!==null&&(o&&Et.alternate!==null&&qe.delete(Et.key===null?ht:Et.key),J=v(Et,J,ht),kt===null?Je=Et:kt.sibling=Et,kt=Et);return o&&qe.forEach(function(K5){return i(Z,K5)}),Ct&&As(Z,ht),Je}function It(Z,J,se,Se){if(typeof se=="object"&&se!==null&&se.type===N&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case b:e:{for(var Je=se.key;J!==null;){if(J.key===Je){if(Je=se.type,Je===N){if(J.tag===7){d(Z,J.sibling),Se=x(J,se.props.children),Se.return=Z,Z=Se;break e}}else if(J.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===q&&go(Je)===J.type){d(Z,J.sibling),Se=x(J,se.props),Mi(Se,se),Se.return=Z,Z=Se;break e}d(Z,J);break}else i(Z,J);J=J.sibling}se.type===N?(Se=uo(se.props.children,Z.mode,Se,se.key),Se.return=Z,Z=Se):(Se=kd(se.type,se.key,se.props,null,Z.mode,Se),Mi(Se,se),Se.return=Z,Z=Se)}return k(Z);case j:e:{for(Je=se.key;J!==null;){if(J.key===Je)if(J.tag===4&&J.stateNode.containerInfo===se.containerInfo&&J.stateNode.implementation===se.implementation){d(Z,J.sibling),Se=x(J,se.children||[]),Se.return=Z,Z=Se;break e}else{d(Z,J);break}else i(Z,J);J=J.sibling}Se=wp(se,Z.mode,Se),Se.return=Z,Z=Se}return k(Z);case q:return se=go(se),It(Z,J,se,Se)}if(F(se))return Ue(Z,J,se,Se);if(ie(se)){if(Je=ie(se),typeof Je!="function")throw Error(s(150));return se=Je.call(se),et(Z,J,se,Se)}if(typeof se.then=="function")return It(Z,J,Rd(se),Se);if(se.$$typeof===E)return It(Z,J,Ad(Z,se),Se);zd(Z,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,J!==null&&J.tag===6?(d(Z,J.sibling),Se=x(J,se),Se.return=Z,Z=Se):(d(Z,J),Se=jp(se,Z.mode,Se),Se.return=Z,Z=Se),k(Z)):d(Z,J)}return function(Z,J,se,Se){try{Ai=0;var Je=It(Z,J,se,Se);return yl=null,Je}catch(qe){if(qe===xl||qe===Od)throw qe;var kt=un(29,qe,null,Z.mode);return kt.lanes=Se,kt.return=Z,kt}finally{}}}var yo=kb(!0),Eb=kb(!1),fa=!1;function zp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lp(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function pa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ma(o,i,d){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Tt&2)!==0){var x=p.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),p.pending=i,i=Sd(o),db(o,null,d),i}return Cd(o,p,i,d),Sd(o)}function Oi(o,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194048)!==0)){var p=i.lanes;p&=o.pendingLanes,d|=p,i.lanes=d,Ee(o,d)}}function Bp(o,i){var d=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var x=null,v=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};v===null?x=v=k:v=v.next=k,d=d.next}while(d!==null);v===null?x=v=i:v=v.next=i}else x=v=i;d={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:p.shared,callbacks:p.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=i:o.next=i,d.lastBaseUpdate=i}var _p=!1;function Di(){if(_p){var o=gl;if(o!==null)throw o}}function Ri(o,i,d,p){_p=!1;var x=o.updateQueue;fa=!1;var v=x.firstBaseUpdate,k=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var V=D,oe=V.next;V.next=null,k===null?v=oe:k.next=oe,k=V;var be=o.alternate;be!==null&&(be=be.updateQueue,D=be.lastBaseUpdate,D!==k&&(D===null?be.firstBaseUpdate=oe:D.next=oe,be.lastBaseUpdate=V))}if(v!==null){var ke=x.baseState;k=0,be=oe=V=null,D=v;do{var he=D.lane&-536870913,me=he!==D.lane;if(me?(jt&he)===he:(p&he)===he){he!==0&&he===ml&&(_p=!0),be!==null&&(be=be.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ue=o,et=D;he=i;var It=d;switch(et.tag){case 1:if(Ue=et.payload,typeof Ue=="function"){ke=Ue.call(It,ke,he);break e}ke=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=et.payload,he=typeof Ue=="function"?Ue.call(It,ke,he):Ue,he==null)break e;ke=g({},ke,he);break e;case 2:fa=!0}}he=D.callback,he!==null&&(o.flags|=64,me&&(o.flags|=8192),me=x.callbacks,me===null?x.callbacks=[he]:me.push(he))}else me={lane:he,tag:D.tag,payload:D.payload,callback:D.callback,next:null},be===null?(oe=be=me,V=ke):be=be.next=me,k|=he;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;me=D,D=me.next,me.next=null,x.lastBaseUpdate=me,x.shared.pending=null}}while(!0);be===null&&(V=ke),x.baseState=V,x.firstBaseUpdate=oe,x.lastBaseUpdate=be,v===null&&(x.shared.lanes=0),va|=k,o.lanes=k,o.memoizedState=ke}}function Tb(o,i){if(typeof o!="function")throw Error(s(191,o));o.call(i)}function Ab(o,i){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)Tb(d[o],i)}var bl=A(null),Ld=A(0);function Mb(o,i){o=$s,P(Ld,o),P(bl,i),$s=o|i.baseLanes}function Pp(){P(Ld,$s),P(bl,bl.current)}function Ip(){$s=Ld.current,B(bl),B(Ld)}var hn=A(null),Ln=null;function ga(o){var i=o.alternate;P(or,or.current&1),P(hn,o),Ln===null&&(i===null||bl.current!==null||i.memoizedState!==null)&&(Ln=o)}function $p(o){P(or,or.current),P(hn,o),Ln===null&&(Ln=o)}function Ob(o){o.tag===22?(P(or,or.current),P(hn,o),Ln===null&&(Ln=o)):xa()}function xa(){P(or,or.current),P(hn,hn.current)}function fn(o){B(hn),Ln===o&&(Ln=null),B(or)}var or=A(0);function Bd(o){for(var i=o;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Wm(d)||Km(d)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ds=0,dt=null,_t=null,dr=null,_d=!1,vl=!1,bo=!1,Pd=0,zi=0,jl=null,_S=0;function er(){throw Error(s(321))}function Hp(o,i){if(i===null)return!1;for(var d=0;d<i.length&&d<o.length;d++)if(!dn(o[d],i[d]))return!1;return!0}function Up(o,i,d,p,x,v){return Ds=v,dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,M.H=o===null||o.memoizedState===null?pv:nm,bo=!1,v=d(p,x),bo=!1,vl&&(v=Rb(i,d,p,x)),Db(o),v}function Db(o){M.H=_i;var i=_t!==null&&_t.next!==null;if(Ds=0,dr=_t=dt=null,_d=!1,zi=0,jl=null,i)throw Error(s(300));o===null||ur||(o=o.dependencies,o!==null&&Td(o)&&(ur=!0))}function Rb(o,i,d,p){dt=o;var x=0;do{if(vl&&(jl=null),zi=0,vl=!1,25<=x)throw Error(s(301));if(x+=1,dr=_t=null,o.updateQueue!=null){var v=o.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}M.H=mv,v=i(d,p)}while(vl);return v}function PS(){var o=M.H,i=o.useState()[0];return i=typeof i.then=="function"?Li(i):i,o=o.useState()[0],(_t!==null?_t.memoizedState:null)!==o&&(dt.flags|=1024),i}function Vp(){var o=Pd!==0;return Pd=0,o}function Fp(o,i,d){i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~d}function qp(o){if(_d){for(o=o.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}_d=!1}Ds=0,dr=_t=dt=null,vl=!1,zi=Pd=0,jl=null}function Ur(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?dt.memoizedState=dr=o:dr=dr.next=o,dr}function lr(){if(_t===null){var o=dt.alternate;o=o!==null?o.memoizedState:null}else o=_t.next;var i=dr===null?dt.memoizedState:dr.next;if(i!==null)dr=i,_t=o;else{if(o===null)throw dt.alternate===null?Error(s(467)):Error(s(310));_t=o,o={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},dr===null?dt.memoizedState=dr=o:dr=dr.next=o}return dr}function Id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Li(o){var i=zi;return zi+=1,jl===null&&(jl=[]),o=Nb(jl,o,i),i=dt,(dr===null?i.memoizedState:dr.next)===null&&(i=i.alternate,M.H=i===null||i.memoizedState===null?pv:nm),o}function $d(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Li(o);if(o.$$typeof===E)return Er(o)}throw Error(s(438,String(o)))}function Wp(o){var i=null,d=dt.updateQueue;if(d!==null&&(i=d.memoCache),i==null){var p=dt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(i={data:p.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),d===null&&(d=Id(),dt.updateQueue=d),d.memoCache=i,d=i.data[i.index],d===void 0)for(d=i.data[i.index]=Array(o),p=0;p<o;p++)d[p]=H;return i.index++,d}function Rs(o,i){return typeof i=="function"?i(o):i}function Hd(o){var i=lr();return Kp(i,_t,o)}function Kp(o,i,d){var p=o.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=d;var x=o.baseQueue,v=p.pending;if(v!==null){if(x!==null){var k=x.next;x.next=v.next,v.next=k}i.baseQueue=x=v,p.pending=null}if(v=o.baseState,x===null)o.memoizedState=v;else{i=x.next;var D=k=null,V=null,oe=i,be=!1;do{var ke=oe.lane&-536870913;if(ke!==oe.lane?(jt&ke)===ke:(Ds&ke)===ke){var he=oe.revertLane;if(he===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ke===ml&&(be=!0);else if((Ds&he)===he){oe=oe.next,he===ml&&(be=!0);continue}else ke={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},V===null?(D=V=ke,k=v):V=V.next=ke,dt.lanes|=he,va|=he;ke=oe.action,bo&&d(v,ke),v=oe.hasEagerState?oe.eagerState:d(v,ke)}else he={lane:ke,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},V===null?(D=V=he,k=v):V=V.next=he,dt.lanes|=ke,va|=ke;oe=oe.next}while(oe!==null&&oe!==i);if(V===null?k=v:V.next=D,!dn(v,o.memoizedState)&&(ur=!0,be&&(d=gl,d!==null)))throw d;o.memoizedState=v,o.baseState=k,o.baseQueue=V,p.lastRenderedState=v}return x===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Gp(o){var i=lr(),d=i.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var p=d.dispatch,x=d.pending,v=i.memoizedState;if(x!==null){d.pending=null;var k=x=x.next;do v=o(v,k.action),k=k.next;while(k!==x);dn(v,i.memoizedState)||(ur=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),d.lastRenderedState=v}return[v,p]}function zb(o,i,d){var p=dt,x=lr(),v=Ct;if(v){if(d===void 0)throw Error(s(407));d=d()}else d=i();var k=!dn((_t||x).memoizedState,d);if(k&&(x.memoizedState=d,ur=!0),x=x.queue,Qp(_b.bind(null,p,x,o),[o]),x.getSnapshot!==i||k||dr!==null&&dr.memoizedState.tag&1){if(p.flags|=2048,wl(9,{destroy:void 0},Bb.bind(null,p,x,d,i),null),Ht===null)throw Error(s(349));v||(Ds&127)!==0||Lb(p,i,d)}return d}function Lb(o,i,d){o.flags|=16384,o={getSnapshot:i,value:d},i=dt.updateQueue,i===null?(i=Id(),dt.updateQueue=i,i.stores=[o]):(d=i.stores,d===null?i.stores=[o]:d.push(o))}function Bb(o,i,d,p){i.value=d,i.getSnapshot=p,Pb(i)&&Ib(o)}function _b(o,i,d){return d(function(){Pb(i)&&Ib(o)})}function Pb(o){var i=o.getSnapshot;o=o.value;try{var d=i();return!dn(o,d)}catch{return!0}}function Ib(o){var i=co(o,2);i!==null&&en(i,o,2)}function Yp(o){var i=Ur();if(typeof o=="function"){var d=o;if(o=d(),bo){ft(!0);try{d()}finally{ft(!1)}}}return i.memoizedState=i.baseState=o,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:o},i}function $b(o,i,d,p){return o.baseState=d,Kp(o,_t,typeof p=="function"?p:Rs)}function IS(o,i,d,p,x){if(Fd(o))throw Error(s(485));if(o=i.action,o!==null){var v={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){v.listeners.push(k)}};M.T!==null?d(!0):v.isTransition=!1,p(v),d=i.pending,d===null?(v.next=i.pending=v,Hb(i,v)):(v.next=d.next,i.pending=d.next=v)}}function Hb(o,i){var d=i.action,p=i.payload,x=o.state;if(i.isTransition){var v=M.T,k={};M.T=k;try{var D=d(x,p),V=M.S;V!==null&&V(k,D),Ub(o,i,D)}catch(oe){Jp(o,i,oe)}finally{v!==null&&k.types!==null&&(v.types=k.types),M.T=v}}else try{v=d(x,p),Ub(o,i,v)}catch(oe){Jp(o,i,oe)}}function Ub(o,i,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){Vb(o,i,p)},function(p){return Jp(o,i,p)}):Vb(o,i,d)}function Vb(o,i,d){i.status="fulfilled",i.value=d,Fb(i),o.state=d,i=o.pending,i!==null&&(d=i.next,d===i?o.pending=null:(d=d.next,i.next=d,Hb(o,d)))}function Jp(o,i,d){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do i.status="rejected",i.reason=d,Fb(i),i=i.next;while(i!==p)}o.action=null}function Fb(o){o=o.listeners;for(var i=0;i<o.length;i++)(0,o[i])()}function qb(o,i){return i}function Wb(o,i){if(Ct){var d=Ht.formState;if(d!==null){e:{var p=dt;if(Ct){if(Ft){t:{for(var x=Ft,v=zn;x.nodeType!==8;){if(!v){x=null;break t}if(x=Bn(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Ft=Bn(x.nextSibling),p=x.data==="F!";break e}}ua(p)}p=!1}p&&(i=d[0])}}return d=Ur(),d.memoizedState=d.baseState=i,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qb,lastRenderedState:i},d.queue=p,d=uv.bind(null,dt,p),p.dispatch=d,p=Yp(!1),v=rm.bind(null,dt,!1,p.queue),p=Ur(),x={state:i,dispatch:null,action:o,pending:null},p.queue=x,d=IS.bind(null,dt,x,v,d),x.dispatch=d,p.memoizedState=o,[i,d,!1]}function Kb(o){var i=lr();return Gb(i,_t,o)}function Gb(o,i,d){if(i=Kp(o,i,qb)[0],o=Hd(Rs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var p=Li(i)}catch(k){throw k===xl?Od:k}else p=i;i=lr();var x=i.queue,v=x.dispatch;return d!==i.memoizedState&&(dt.flags|=2048,wl(9,{destroy:void 0},$S.bind(null,x,d),null)),[p,v,o]}function $S(o,i){o.action=i}function Yb(o){var i=lr(),d=_t;if(d!==null)return Gb(i,d,o);lr(),i=i.memoizedState,d=lr();var p=d.queue.dispatch;return d.memoizedState=o,[i,p,!1]}function wl(o,i,d,p){return o={tag:o,create:d,deps:p,inst:i,next:null},i=dt.updateQueue,i===null&&(i=Id(),dt.updateQueue=i),d=i.lastEffect,d===null?i.lastEffect=o.next=o:(p=d.next,d.next=o,o.next=p,i.lastEffect=o),o}function Jb(){return lr().memoizedState}function Ud(o,i,d,p){var x=Ur();dt.flags|=o,x.memoizedState=wl(1|i,{destroy:void 0},d,p===void 0?null:p)}function Vd(o,i,d,p){var x=lr();p=p===void 0?null:p;var v=x.memoizedState.inst;_t!==null&&p!==null&&Hp(p,_t.memoizedState.deps)?x.memoizedState=wl(i,v,d,p):(dt.flags|=o,x.memoizedState=wl(1|i,v,d,p))}function Qb(o,i){Ud(8390656,8,o,i)}function Qp(o,i){Vd(2048,8,o,i)}function HS(o){dt.flags|=4;var i=dt.updateQueue;if(i===null)i=Id(),dt.updateQueue=i,i.events=[o];else{var d=i.events;d===null?i.events=[o]:d.push(o)}}function Xb(o){var i=lr().memoizedState;return HS({ref:i,nextImpl:o}),function(){if((Tt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Zb(o,i){return Vd(4,2,o,i)}function ev(o,i){return Vd(4,4,o,i)}function tv(o,i){if(typeof i=="function"){o=o();var d=i(o);return function(){typeof d=="function"?d():i(null)}}if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function rv(o,i,d){d=d!=null?d.concat([o]):null,Vd(4,4,tv.bind(null,i,o),d)}function Xp(){}function nv(o,i){var d=lr();i=i===void 0?null:i;var p=d.memoizedState;return i!==null&&Hp(i,p[1])?p[0]:(d.memoizedState=[o,i],o)}function sv(o,i){var d=lr();i=i===void 0?null:i;var p=d.memoizedState;if(i!==null&&Hp(i,p[1]))return p[0];if(p=o(),bo){ft(!0);try{o()}finally{ft(!1)}}return d.memoizedState=[p,i],p}function Zp(o,i,d){return d===void 0||(Ds&1073741824)!==0&&(jt&261930)===0?o.memoizedState=i:(o.memoizedState=d,o=a1(),dt.lanes|=o,va|=o,d)}function av(o,i,d,p){return dn(d,i)?d:bl.current!==null?(o=Zp(o,d,p),dn(o,i)||(ur=!0),o):(Ds&42)===0||(Ds&1073741824)!==0&&(jt&261930)===0?(ur=!0,o.memoizedState=d):(o=a1(),dt.lanes|=o,va|=o,i)}function ov(o,i,d,p,x){var v=_.p;_.p=v!==0&&8>v?v:8;var k=M.T,D={};M.T=D,rm(o,!1,i,d);try{var V=x(),oe=M.S;if(oe!==null&&oe(D,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var be=BS(V,p);Bi(o,i,be,gn(o))}else Bi(o,i,p,gn(o))}catch(ke){Bi(o,i,{then:function(){},status:"rejected",reason:ke},gn())}finally{_.p=v,k!==null&&D.types!==null&&(k.types=D.types),M.T=k}}function US(){}function em(o,i,d,p){if(o.tag!==5)throw Error(s(476));var x=lv(o).queue;ov(o,x,i,X,d===null?US:function(){return iv(o),d(p)})}function lv(o){var i=o.memoizedState;if(i!==null)return i;i={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:X},next:null};var d={};return i.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:d},next:null},o.memoizedState=i,o=o.alternate,o!==null&&(o.memoizedState=i),i}function iv(o){var i=lv(o);i.next===null&&(i=o.alternate.memoizedState),Bi(o,i.next.queue,{},gn())}function tm(){return Er(Zi)}function cv(){return lr().memoizedState}function dv(){return lr().memoizedState}function VS(o){for(var i=o.return;i!==null;){switch(i.tag){case 24:case 3:var d=gn();o=pa(d);var p=ma(i,o,d);p!==null&&(en(p,i,d),Oi(p,i,d)),i={cache:Mp()},o.payload=i;return}i=i.return}}function FS(o,i,d){var p=gn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Fd(o)?hv(i,d):(d=bp(o,i,d,p),d!==null&&(en(d,o,p),fv(d,i,p)))}function uv(o,i,d){var p=gn();Bi(o,i,d,p)}function Bi(o,i,d,p){var x={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Fd(o))hv(i,x);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var k=i.lastRenderedState,D=v(k,d);if(x.hasEagerState=!0,x.eagerState=D,dn(D,k))return Cd(o,i,x,0),Ht===null&&Nd(),!1}catch{}finally{}if(d=bp(o,i,x,p),d!==null)return en(d,o,p),fv(d,i,p),!0}return!1}function rm(o,i,d,p){if(p={lane:2,revertLane:zm(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Fd(o)){if(i)throw Error(s(479))}else i=bp(o,d,p,2),i!==null&&en(i,o,2)}function Fd(o){var i=o.alternate;return o===dt||i!==null&&i===dt}function hv(o,i){vl=_d=!0;var d=o.pending;d===null?i.next=i:(i.next=d.next,d.next=i),o.pending=i}function fv(o,i,d){if((d&4194048)!==0){var p=i.lanes;p&=o.pendingLanes,d|=p,i.lanes=d,Ee(o,d)}}var _i={readContext:Er,use:$d,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useLayoutEffect:er,useInsertionEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useSyncExternalStore:er,useId:er,useHostTransitionStatus:er,useFormState:er,useActionState:er,useOptimistic:er,useMemoCache:er,useCacheRefresh:er};_i.useEffectEvent=er;var pv={readContext:Er,use:$d,useCallback:function(o,i){return Ur().memoizedState=[o,i===void 0?null:i],o},useContext:Er,useEffect:Qb,useImperativeHandle:function(o,i,d){d=d!=null?d.concat([o]):null,Ud(4194308,4,tv.bind(null,i,o),d)},useLayoutEffect:function(o,i){return Ud(4194308,4,o,i)},useInsertionEffect:function(o,i){Ud(4,2,o,i)},useMemo:function(o,i){var d=Ur();i=i===void 0?null:i;var p=o();if(bo){ft(!0);try{o()}finally{ft(!1)}}return d.memoizedState=[p,i],p},useReducer:function(o,i,d){var p=Ur();if(d!==void 0){var x=d(i);if(bo){ft(!0);try{d(i)}finally{ft(!1)}}}else x=i;return p.memoizedState=p.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},p.queue=o,o=o.dispatch=FS.bind(null,dt,o),[p.memoizedState,o]},useRef:function(o){var i=Ur();return o={current:o},i.memoizedState=o},useState:function(o){o=Yp(o);var i=o.queue,d=uv.bind(null,dt,i);return i.dispatch=d,[o.memoizedState,d]},useDebugValue:Xp,useDeferredValue:function(o,i){var d=Ur();return Zp(d,o,i)},useTransition:function(){var o=Yp(!1);return o=ov.bind(null,dt,o.queue,!0,!1),Ur().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,i,d){var p=dt,x=Ur();if(Ct){if(d===void 0)throw Error(s(407));d=d()}else{if(d=i(),Ht===null)throw Error(s(349));(jt&127)!==0||Lb(p,i,d)}x.memoizedState=d;var v={value:d,getSnapshot:i};return x.queue=v,Qb(_b.bind(null,p,v,o),[o]),p.flags|=2048,wl(9,{destroy:void 0},Bb.bind(null,p,v,d,i),null),d},useId:function(){var o=Ur(),i=Ht.identifierPrefix;if(Ct){var d=cs,p=is;d=(p&~(1<<32-Fe(p)-1)).toString(32)+d,i="_"+i+"R_"+d,d=Pd++,0<d&&(i+="H"+d.toString(32)),i+="_"}else d=_S++,i="_"+i+"r_"+d.toString(32)+"_";return o.memoizedState=i},useHostTransitionStatus:tm,useFormState:Wb,useActionState:Wb,useOptimistic:function(o){var i=Ur();i.memoizedState=i.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=d,i=rm.bind(null,dt,!0,d),d.dispatch=i,[o,i]},useMemoCache:Wp,useCacheRefresh:function(){return Ur().memoizedState=VS.bind(null,dt)},useEffectEvent:function(o){var i=Ur(),d={impl:o};return i.memoizedState=d,function(){if((Tt&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},nm={readContext:Er,use:$d,useCallback:nv,useContext:Er,useEffect:Qp,useImperativeHandle:rv,useInsertionEffect:Zb,useLayoutEffect:ev,useMemo:sv,useReducer:Hd,useRef:Jb,useState:function(){return Hd(Rs)},useDebugValue:Xp,useDeferredValue:function(o,i){var d=lr();return av(d,_t.memoizedState,o,i)},useTransition:function(){var o=Hd(Rs)[0],i=lr().memoizedState;return[typeof o=="boolean"?o:Li(o),i]},useSyncExternalStore:zb,useId:cv,useHostTransitionStatus:tm,useFormState:Kb,useActionState:Kb,useOptimistic:function(o,i){var d=lr();return $b(d,_t,o,i)},useMemoCache:Wp,useCacheRefresh:dv};nm.useEffectEvent=Xb;var mv={readContext:Er,use:$d,useCallback:nv,useContext:Er,useEffect:Qp,useImperativeHandle:rv,useInsertionEffect:Zb,useLayoutEffect:ev,useMemo:sv,useReducer:Gp,useRef:Jb,useState:function(){return Gp(Rs)},useDebugValue:Xp,useDeferredValue:function(o,i){var d=lr();return _t===null?Zp(d,o,i):av(d,_t.memoizedState,o,i)},useTransition:function(){var o=Gp(Rs)[0],i=lr().memoizedState;return[typeof o=="boolean"?o:Li(o),i]},useSyncExternalStore:zb,useId:cv,useHostTransitionStatus:tm,useFormState:Yb,useActionState:Yb,useOptimistic:function(o,i){var d=lr();return _t!==null?$b(d,_t,o,i):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:Wp,useCacheRefresh:dv};mv.useEffectEvent=Xb;function sm(o,i,d,p){i=o.memoizedState,d=d(p,i),d=d==null?i:g({},i,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var am={enqueueSetState:function(o,i,d){o=o._reactInternals;var p=gn(),x=pa(p);x.payload=i,d!=null&&(x.callback=d),i=ma(o,x,p),i!==null&&(en(i,o,p),Oi(i,o,p))},enqueueReplaceState:function(o,i,d){o=o._reactInternals;var p=gn(),x=pa(p);x.tag=1,x.payload=i,d!=null&&(x.callback=d),i=ma(o,x,p),i!==null&&(en(i,o,p),Oi(i,o,p))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var d=gn(),p=pa(d);p.tag=2,i!=null&&(p.callback=i),i=ma(o,p,d),i!==null&&(en(i,o,d),Oi(i,o,d))}};function gv(o,i,d,p,x,v,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,v,k):i.prototype&&i.prototype.isPureReactComponent?!Ni(d,p)||!Ni(x,v):!0}function xv(o,i,d,p){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,p),i.state!==o&&am.enqueueReplaceState(i,i.state,null)}function vo(o,i){var d=i;if("ref"in i){d={};for(var p in i)p!=="ref"&&(d[p]=i[p])}if(o=o.defaultProps){d===i&&(d=g({},d));for(var x in o)d[x]===void 0&&(d[x]=o[x])}return d}function yv(o){wd(o)}function bv(o){console.error(o)}function vv(o){wd(o)}function qd(o,i){try{var d=o.onUncaughtError;d(i.value,{componentStack:i.stack})}catch(p){setTimeout(function(){throw p})}}function jv(o,i,d){try{var p=o.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function om(o,i,d){return d=pa(d),d.tag=3,d.payload={element:null},d.callback=function(){qd(o,i)},d}function wv(o){return o=pa(o),o.tag=3,o}function Nv(o,i,d,p){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var v=p.value;o.payload=function(){return x(v)},o.callback=function(){jv(i,d,p)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(o.callback=function(){jv(i,d,p),typeof x!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var D=p.stack;this.componentDidCatch(p.value,{componentStack:D!==null?D:""})})}function qS(o,i,d,p,x){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(i=d.alternate,i!==null&&pl(i,d,x,!0),d=hn.current,d!==null){switch(d.tag){case 31:case 13:return Ln===null?nu():d.alternate===null&&tr===0&&(tr=3),d.flags&=-257,d.flags|=65536,d.lanes=x,p===Dd?d.flags|=16384:(i=d.updateQueue,i===null?d.updateQueue=new Set([p]):i.add(p),Om(o,p,x)),!1;case 22:return d.flags|=65536,p===Dd?d.flags|=16384:(i=d.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=i):(d=i.retryQueue,d===null?i.retryQueue=new Set([p]):d.add(p)),Om(o,p,x)),!1}throw Error(s(435,d.tag))}return Om(o,p,x),nu(),!1}if(Ct)return i=hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,p!==Sp&&(o=Error(s(422),{cause:p}),ki(On(o,d)))):(p!==Sp&&(i=Error(s(423),{cause:p}),ki(On(i,d))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,p=On(p,d),x=om(o.stateNode,p,x),Bp(o,x),tr!==4&&(tr=2)),!1;var v=Error(s(520),{cause:p});if(v=On(v,d),qi===null?qi=[v]:qi.push(v),tr!==4&&(tr=2),i===null)return!0;p=On(p,d),d=i;do{switch(d.tag){case 3:return d.flags|=65536,o=x&-x,d.lanes|=o,o=om(d.stateNode,p,o),Bp(d,o),!1;case 1:if(i=d.type,v=d.stateNode,(d.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ja===null||!ja.has(v))))return d.flags|=65536,x&=-x,d.lanes|=x,x=wv(x),Nv(x,o,d,p),Bp(d,x),!1}d=d.return}while(d!==null);return!1}var lm=Error(s(461)),ur=!1;function Tr(o,i,d,p){i.child=o===null?Eb(i,null,d,p):yo(i,o.child,d,p)}function Cv(o,i,d,p,x){d=d.render;var v=i.ref;if("ref"in p){var k={};for(var D in p)D!=="ref"&&(k[D]=p[D])}else k=p;return po(i),p=Up(o,i,d,k,v,x),D=Vp(),o!==null&&!ur?(Fp(o,i,x),zs(o,i,x)):(Ct&&D&&Np(i),i.flags|=1,Tr(o,i,p,x),i.child)}function Sv(o,i,d,p,x){if(o===null){var v=d.type;return typeof v=="function"&&!vp(v)&&v.defaultProps===void 0&&d.compare===null?(i.tag=15,i.type=v,kv(o,i,v,p,x)):(o=kd(d.type,null,p,i,i.mode,x),o.ref=i.ref,o.return=i,i.child=o)}if(v=o.child,!mm(o,x)){var k=v.memoizedProps;if(d=d.compare,d=d!==null?d:Ni,d(k,p)&&o.ref===i.ref)return zs(o,i,x)}return i.flags|=1,o=Ts(v,p),o.ref=i.ref,o.return=i,i.child=o}function kv(o,i,d,p,x){if(o!==null){var v=o.memoizedProps;if(Ni(v,p)&&o.ref===i.ref)if(ur=!1,i.pendingProps=p=v,mm(o,x))(o.flags&131072)!==0&&(ur=!0);else return i.lanes=o.lanes,zs(o,i,x)}return im(o,i,d,p,x)}function Ev(o,i,d,p){var x=p.children,v=o!==null?o.memoizedState:null;if(o===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|d:d,o!==null){for(p=i.child=o.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;p=x&~v}else p=0,i.child=null;return Tv(o,i,v,d,p)}if((d&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},o!==null&&Md(i,v!==null?v.cachePool:null),v!==null?Mb(i,v):Pp(),Ob(i);else return p=i.lanes=536870912,Tv(o,i,v!==null?v.baseLanes|d:d,d,p)}else v!==null?(Md(i,v.cachePool),Mb(i,v),xa(),i.memoizedState=null):(o!==null&&Md(i,null),Pp(),xa());return Tr(o,i,x,d),i.child}function Pi(o,i){return o!==null&&o.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Tv(o,i,d,p,x){var v=Dp();return v=v===null?null:{parent:cr._currentValue,pool:v},i.memoizedState={baseLanes:d,cachePool:v},o!==null&&Md(i,null),Pp(),Ob(i),o!==null&&pl(o,i,p,!0),i.childLanes=x,null}function Wd(o,i){return i=Gd({mode:i.mode,children:i.children},o.mode),i.ref=o.ref,o.child=i,i.return=o,i}function Av(o,i,d){return yo(i,o.child,null,d),o=Wd(i,i.pendingProps),o.flags|=2,fn(i),i.memoizedState=null,o}function WS(o,i,d){var p=i.pendingProps,x=(i.flags&128)!==0;if(i.flags&=-129,o===null){if(Ct){if(p.mode==="hidden")return o=Wd(i,p),i.lanes=536870912,Pi(null,o);if($p(i),(o=Ft)?(o=H1(o,zn),o=o!==null&&o.data==="&"?o:null,o!==null&&(i.memoizedState={dehydrated:o,treeContext:ca!==null?{id:is,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},d=hb(o),d.return=i,i.child=d,kr=i,Ft=null)):o=null,o===null)throw ua(i);return i.lanes=536870912,null}return Wd(i,p)}var v=o.memoizedState;if(v!==null){var k=v.dehydrated;if($p(i),x)if(i.flags&256)i.flags&=-257,i=Av(o,i,d);else if(i.memoizedState!==null)i.child=o.child,i.flags|=128,i=null;else throw Error(s(558));else if(ur||pl(o,i,d,!1),x=(d&o.childLanes)!==0,ur||x){if(p=Ht,p!==null&&(k=we(p,d),k!==0&&k!==v.retryLane))throw v.retryLane=k,co(o,k),en(p,o,k),lm;nu(),i=Av(o,i,d)}else o=v.treeContext,Ft=Bn(k.nextSibling),kr=i,Ct=!0,da=null,zn=!1,o!==null&&mb(i,o),i=Wd(i,p),i.flags|=4096;return i}return o=Ts(o.child,{mode:p.mode,children:p.children}),o.ref=i.ref,i.child=o,o.return=i,o}function Kd(o,i){var d=i.ref;if(d===null)o!==null&&o.ref!==null&&(i.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(o===null||o.ref!==d)&&(i.flags|=4194816)}}function im(o,i,d,p,x){return po(i),d=Up(o,i,d,p,void 0,x),p=Vp(),o!==null&&!ur?(Fp(o,i,x),zs(o,i,x)):(Ct&&p&&Np(i),i.flags|=1,Tr(o,i,d,x),i.child)}function Mv(o,i,d,p,x,v){return po(i),i.updateQueue=null,d=Rb(i,p,d,x),Db(o),p=Vp(),o!==null&&!ur?(Fp(o,i,v),zs(o,i,v)):(Ct&&p&&Np(i),i.flags|=1,Tr(o,i,d,v),i.child)}function Ov(o,i,d,p,x){if(po(i),i.stateNode===null){var v=dl,k=d.contextType;typeof k=="object"&&k!==null&&(v=Er(k)),v=new d(p,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=am,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=p,v.state=i.memoizedState,v.refs={},zp(i),k=d.contextType,v.context=typeof k=="object"&&k!==null?Er(k):dl,v.state=i.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(sm(i,d,k,p),v.state=i.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(k=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),k!==v.state&&am.enqueueReplaceState(v,v.state,null),Ri(i,p,v,x),Di(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),p=!0}else if(o===null){v=i.stateNode;var D=i.memoizedProps,V=vo(d,D);v.props=V;var oe=v.context,be=d.contextType;k=dl,typeof be=="object"&&be!==null&&(k=Er(be));var ke=d.getDerivedStateFromProps;be=typeof ke=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,be||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||oe!==k)&&xv(i,v,p,k),fa=!1;var he=i.memoizedState;v.state=he,Ri(i,p,v,x),Di(),oe=i.memoizedState,D||he!==oe||fa?(typeof ke=="function"&&(sm(i,d,ke,p),oe=i.memoizedState),(V=fa||gv(i,d,V,p,he,oe,k))?(be||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=oe),v.props=p,v.state=oe,v.context=k,p=V):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{v=i.stateNode,Lp(o,i),k=i.memoizedProps,be=vo(d,k),v.props=be,ke=i.pendingProps,he=v.context,oe=d.contextType,V=dl,typeof oe=="object"&&oe!==null&&(V=Er(oe)),D=d.getDerivedStateFromProps,(oe=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==ke||he!==V)&&xv(i,v,p,V),fa=!1,he=i.memoizedState,v.state=he,Ri(i,p,v,x),Di();var me=i.memoizedState;k!==ke||he!==me||fa||o!==null&&o.dependencies!==null&&Td(o.dependencies)?(typeof D=="function"&&(sm(i,d,D,p),me=i.memoizedState),(be=fa||gv(i,d,be,p,he,me,V)||o!==null&&o.dependencies!==null&&Td(o.dependencies))?(oe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(p,me,V),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(p,me,V)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||k===o.memoizedProps&&he===o.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&he===o.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=me),v.props=p,v.state=me,v.context=V,p=be):(typeof v.componentDidUpdate!="function"||k===o.memoizedProps&&he===o.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&he===o.memoizedState||(i.flags|=1024),p=!1)}return v=p,Kd(o,i),p=(i.flags&128)!==0,v||p?(v=i.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,o!==null&&p?(i.child=yo(i,o.child,null,x),i.child=yo(i,null,d,x)):Tr(o,i,d,x),i.memoizedState=v.state,o=i.child):o=zs(o,i,x),o}function Dv(o,i,d,p){return ho(),i.flags|=256,Tr(o,i,d,p),i.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dm(o){return{baseLanes:o,cachePool:jb()}}function um(o,i,d){return o=o!==null?o.childLanes&~d:0,i&&(o|=mn),o}function Rv(o,i,d){var p=i.pendingProps,x=!1,v=(i.flags&128)!==0,k;if((k=v)||(k=o!==null&&o.memoizedState===null?!1:(or.current&2)!==0),k&&(x=!0,i.flags&=-129),k=(i.flags&32)!==0,i.flags&=-33,o===null){if(Ct){if(x?ga(i):xa(),(o=Ft)?(o=H1(o,zn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(i.memoizedState={dehydrated:o,treeContext:ca!==null?{id:is,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},d=hb(o),d.return=i,i.child=d,kr=i,Ft=null)):o=null,o===null)throw ua(i);return Km(o)?i.lanes=32:i.lanes=536870912,null}var D=p.children;return p=p.fallback,x?(xa(),x=i.mode,D=Gd({mode:"hidden",children:D},x),p=uo(p,x,d,null),D.return=i,p.return=i,D.sibling=p,i.child=D,p=i.child,p.memoizedState=dm(d),p.childLanes=um(o,k,d),i.memoizedState=cm,Pi(null,p)):(ga(i),hm(i,D))}var V=o.memoizedState;if(V!==null&&(D=V.dehydrated,D!==null)){if(v)i.flags&256?(ga(i),i.flags&=-257,i=fm(o,i,d)):i.memoizedState!==null?(xa(),i.child=o.child,i.flags|=128,i=null):(xa(),D=p.fallback,x=i.mode,p=Gd({mode:"visible",children:p.children},x),D=uo(D,x,d,null),D.flags|=2,p.return=i,D.return=i,p.sibling=D,i.child=p,yo(i,o.child,null,d),p=i.child,p.memoizedState=dm(d),p.childLanes=um(o,k,d),i.memoizedState=cm,i=Pi(null,p));else if(ga(i),Km(D)){if(k=D.nextSibling&&D.nextSibling.dataset,k)var oe=k.dgst;k=oe,p=Error(s(419)),p.stack="",p.digest=k,ki({value:p,source:null,stack:null}),i=fm(o,i,d)}else if(ur||pl(o,i,d,!1),k=(d&o.childLanes)!==0,ur||k){if(k=Ht,k!==null&&(p=we(k,d),p!==0&&p!==V.retryLane))throw V.retryLane=p,co(o,p),en(k,o,p),lm;Wm(D)||nu(),i=fm(o,i,d)}else Wm(D)?(i.flags|=192,i.child=o.child,i=null):(o=V.treeContext,Ft=Bn(D.nextSibling),kr=i,Ct=!0,da=null,zn=!1,o!==null&&mb(i,o),i=hm(i,p.children),i.flags|=4096);return i}return x?(xa(),D=p.fallback,x=i.mode,V=o.child,oe=V.sibling,p=Ts(V,{mode:"hidden",children:p.children}),p.subtreeFlags=V.subtreeFlags&65011712,oe!==null?D=Ts(oe,D):(D=uo(D,x,d,null),D.flags|=2),D.return=i,p.return=i,p.sibling=D,i.child=p,Pi(null,p),p=i.child,D=o.child.memoizedState,D===null?D=dm(d):(x=D.cachePool,x!==null?(V=cr._currentValue,x=x.parent!==V?{parent:V,pool:V}:x):x=jb(),D={baseLanes:D.baseLanes|d,cachePool:x}),p.memoizedState=D,p.childLanes=um(o,k,d),i.memoizedState=cm,Pi(o.child,p)):(ga(i),d=o.child,o=d.sibling,d=Ts(d,{mode:"visible",children:p.children}),d.return=i,d.sibling=null,o!==null&&(k=i.deletions,k===null?(i.deletions=[o],i.flags|=16):k.push(o)),i.child=d,i.memoizedState=null,d)}function hm(o,i){return i=Gd({mode:"visible",children:i},o.mode),i.return=o,o.child=i}function Gd(o,i){return o=un(22,o,null,i),o.lanes=0,o}function fm(o,i,d){return yo(i,o.child,null,d),o=hm(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function zv(o,i,d){o.lanes|=i;var p=o.alternate;p!==null&&(p.lanes|=i),Tp(o.return,i,d)}function pm(o,i,d,p,x,v){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:x,treeForkCount:v}:(k.isBackwards=i,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=d,k.tailMode=x,k.treeForkCount=v)}function Lv(o,i,d){var p=i.pendingProps,x=p.revealOrder,v=p.tail;p=p.children;var k=or.current,D=(k&2)!==0;if(D?(k=k&1|2,i.flags|=128):k&=1,P(or,k),Tr(o,i,p,d),p=Ct?Si:0,!D&&o!==null&&(o.flags&128)!==0)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&zv(o,d,i);else if(o.tag===19)zv(o,d,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(d=i.child,x=null;d!==null;)o=d.alternate,o!==null&&Bd(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=i.child,i.child=null):(x=d.sibling,d.sibling=null),pm(i,!1,x,d,v,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=i.child,i.child=null;x!==null;){if(o=x.alternate,o!==null&&Bd(o)===null){i.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}pm(i,!0,d,null,v,p);break;case"together":pm(i,!1,null,null,void 0,p);break;default:i.memoizedState=null}return i.child}function zs(o,i,d){if(o!==null&&(i.dependencies=o.dependencies),va|=i.lanes,(d&i.childLanes)===0)if(o!==null){if(pl(o,i,d,!1),(d&i.childLanes)===0)return null}else return null;if(o!==null&&i.child!==o.child)throw Error(s(153));if(i.child!==null){for(o=i.child,d=Ts(o,o.pendingProps),i.child=d,d.return=i;o.sibling!==null;)o=o.sibling,d=d.sibling=Ts(o,o.pendingProps),d.return=i;d.sibling=null}return i.child}function mm(o,i){return(o.lanes&i)!==0?!0:(o=o.dependencies,!!(o!==null&&Td(o)))}function KS(o,i,d){switch(i.tag){case 3:He(i,i.stateNode.containerInfo),ha(i,cr,o.memoizedState.cache),ho();break;case 27:case 5:ue(i);break;case 4:He(i,i.stateNode.containerInfo);break;case 10:ha(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$p(i),null;break;case 13:var p=i.memoizedState;if(p!==null)return p.dehydrated!==null?(ga(i),i.flags|=128,null):(d&i.child.childLanes)!==0?Rv(o,i,d):(ga(i),o=zs(o,i,d),o!==null?o.sibling:null);ga(i);break;case 19:var x=(o.flags&128)!==0;if(p=(d&i.childLanes)!==0,p||(pl(o,i,d,!1),p=(d&i.childLanes)!==0),x){if(p)return Lv(o,i,d);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),P(or,or.current),p)break;return null;case 22:return i.lanes=0,Ev(o,i,d,i.pendingProps);case 24:ha(i,cr,o.memoizedState.cache)}return zs(o,i,d)}function Bv(o,i,d){if(o!==null)if(o.memoizedProps!==i.pendingProps)ur=!0;else{if(!mm(o,d)&&(i.flags&128)===0)return ur=!1,KS(o,i,d);ur=(o.flags&131072)!==0}else ur=!1,Ct&&(i.flags&1048576)!==0&&pb(i,Si,i.index);switch(i.lanes=0,i.tag){case 16:e:{var p=i.pendingProps;if(o=go(i.elementType),i.type=o,typeof o=="function")vp(o)?(p=vo(o,p),i.tag=1,i=Ov(null,i,o,p,d)):(i.tag=0,i=im(null,i,o,p,d));else{if(o!=null){var x=o.$$typeof;if(x===O){i.tag=11,i=Cv(null,i,o,p,d);break e}else if(x===z){i.tag=14,i=Sv(null,i,o,p,d);break e}}throw i=ne(o)||o,Error(s(306,i,""))}}return i;case 0:return im(o,i,i.type,i.pendingProps,d);case 1:return p=i.type,x=vo(p,i.pendingProps),Ov(o,i,p,x,d);case 3:e:{if(He(i,i.stateNode.containerInfo),o===null)throw Error(s(387));p=i.pendingProps;var v=i.memoizedState;x=v.element,Lp(o,i),Ri(i,p,null,d);var k=i.memoizedState;if(p=k.cache,ha(i,cr,p),p!==v.cache&&Ap(i,[cr],d,!0),Di(),p=k.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:k.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Dv(o,i,p,d);break e}else if(p!==x){x=On(Error(s(424)),i),ki(x),i=Dv(o,i,p,d);break e}else{switch(o=i.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ft=Bn(o.firstChild),kr=i,Ct=!0,da=null,zn=!0,d=Eb(i,null,p,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ho(),p===x){i=zs(o,i,d);break e}Tr(o,i,p,d)}i=i.child}return i;case 26:return Kd(o,i),o===null?(d=K1(i.type,null,i.pendingProps,null))?i.memoizedState=d:Ct||(d=i.type,o=i.pendingProps,p=du(ve.current).createElement(d),p[De]=i,p[rt]=o,Ar(p,d,o),br(p),i.stateNode=p):i.memoizedState=K1(i.type,o.memoizedProps,i.pendingProps,o.memoizedState),null;case 27:return ue(i),o===null&&Ct&&(p=i.stateNode=F1(i.type,i.pendingProps,ve.current),kr=i,zn=!0,x=Ft,Sa(i.type)?(Gm=x,Ft=Bn(p.firstChild)):Ft=x),Tr(o,i,i.pendingProps.children,d),Kd(o,i),o===null&&(i.flags|=4194304),i.child;case 5:return o===null&&Ct&&((x=p=Ft)&&(p=N5(p,i.type,i.pendingProps,zn),p!==null?(i.stateNode=p,kr=i,Ft=Bn(p.firstChild),zn=!1,x=!0):x=!1),x||ua(i)),ue(i),x=i.type,v=i.pendingProps,k=o!==null?o.memoizedProps:null,p=v.children,Vm(x,v)?p=null:k!==null&&Vm(x,k)&&(i.flags|=32),i.memoizedState!==null&&(x=Up(o,i,PS,null,null,d),Zi._currentValue=x),Kd(o,i),Tr(o,i,p,d),i.child;case 6:return o===null&&Ct&&((o=d=Ft)&&(d=C5(d,i.pendingProps,zn),d!==null?(i.stateNode=d,kr=i,Ft=null,o=!0):o=!1),o||ua(i)),null;case 13:return Rv(o,i,d);case 4:return He(i,i.stateNode.containerInfo),p=i.pendingProps,o===null?i.child=yo(i,null,p,d):Tr(o,i,p,d),i.child;case 11:return Cv(o,i,i.type,i.pendingProps,d);case 7:return Tr(o,i,i.pendingProps,d),i.child;case 8:return Tr(o,i,i.pendingProps.children,d),i.child;case 12:return Tr(o,i,i.pendingProps.children,d),i.child;case 10:return p=i.pendingProps,ha(i,i.type,p.value),Tr(o,i,p.children,d),i.child;case 9:return x=i.type._context,p=i.pendingProps.children,po(i),x=Er(x),p=p(x),i.flags|=1,Tr(o,i,p,d),i.child;case 14:return Sv(o,i,i.type,i.pendingProps,d);case 15:return kv(o,i,i.type,i.pendingProps,d);case 19:return Lv(o,i,d);case 31:return WS(o,i,d);case 22:return Ev(o,i,d,i.pendingProps);case 24:return po(i),p=Er(cr),o===null?(x=Dp(),x===null&&(x=Ht,v=Mp(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=d),x=v),i.memoizedState={parent:p,cache:x},zp(i),ha(i,cr,x)):((o.lanes&d)!==0&&(Lp(o,i),Ri(i,null,null,d),Di()),x=o.memoizedState,v=i.memoizedState,x.parent!==p?(x={parent:p,cache:p},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),ha(i,cr,p)):(p=v.cache,ha(i,cr,p),p!==x.cache&&Ap(i,[cr],d,!0))),Tr(o,i,i.pendingProps.children,d),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ls(o){o.flags|=4}function gm(o,i,d,p,x){if((i=(o.mode&32)!==0)&&(i=!1),i){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(c1())o.flags|=8192;else throw xo=Dd,Rp}else o.flags&=-16777217}function _v(o,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!X1(i))if(c1())o.flags|=8192;else throw xo=Dd,Rp}function Yd(o,i){i!==null&&(o.flags|=4),o.flags&16384&&(i=o.tag!==22?Bt():536870912,o.lanes|=i,kl|=i)}function Ii(o,i){if(!Ct)switch(o.tailMode){case"hidden":i=o.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function qt(o){var i=o.alternate!==null&&o.alternate.child===o.child,d=0,p=0;if(i)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=p,o.childLanes=d,i}function GS(o,i,d){var p=i.pendingProps;switch(Cp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(i),null;case 1:return qt(i),null;case 3:return d=i.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),i.memoizedState.cache!==p&&(i.flags|=2048),Os(cr),te(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(fl(i)?Ls(i):o===null||o.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kp())),qt(i),null;case 26:var x=i.type,v=i.memoizedState;return o===null?(Ls(i),v!==null?(qt(i),_v(i,v)):(qt(i),gm(i,x,null,p,d))):v?v!==o.memoizedState?(Ls(i),qt(i),_v(i,v)):(qt(i),i.flags&=-16777217):(o=o.memoizedProps,o!==p&&Ls(i),qt(i),gm(i,x,o,p,d)),null;case 27:if(U(i),d=ve.current,x=i.type,o!==null&&i.stateNode!=null)o.memoizedProps!==p&&Ls(i);else{if(!p){if(i.stateNode===null)throw Error(s(166));return qt(i),null}o=K.current,fl(i)?gb(i):(o=F1(x,p,d),i.stateNode=o,Ls(i))}return qt(i),null;case 5:if(U(i),x=i.type,o!==null&&i.stateNode!=null)o.memoizedProps!==p&&Ls(i);else{if(!p){if(i.stateNode===null)throw Error(s(166));return qt(i),null}if(v=K.current,fl(i))gb(i);else{var k=du(ve.current);switch(v){case 1:v=k.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:v=k.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":v=k.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":v=k.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":v=k.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?v.multiple=!0:p.size&&(v.size=p.size);break;default:v=typeof p.is=="string"?k.createElement(x,{is:p.is}):k.createElement(x)}}v[De]=i,v[rt]=p;e:for(k=i.child;k!==null;){if(k.tag===5||k.tag===6)v.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===i)break e;for(;k.sibling===null;){if(k.return===null||k.return===i)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}i.stateNode=v;e:switch(Ar(v,x,p),x){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ls(i)}}return qt(i),gm(i,i.type,o===null?null:o.memoizedProps,i.pendingProps,d),null;case 6:if(o&&i.stateNode!=null)o.memoizedProps!==p&&Ls(i);else{if(typeof p!="string"&&i.stateNode===null)throw Error(s(166));if(o=ve.current,fl(i)){if(o=i.stateNode,d=i.memoizedProps,p=null,x=kr,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}o[De]=i,o=!!(o.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||R1(o.nodeValue,d)),o||ua(i,!0)}else o=du(o).createTextNode(p),o[De]=i,i.stateNode=o}return qt(i),null;case 31:if(d=i.memoizedState,o===null||o.memoizedState!==null){if(p=fl(i),d!==null){if(o===null){if(!p)throw Error(s(318));if(o=i.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(557));o[De]=i}else ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qt(i),o=!1}else d=kp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return i.flags&256?(fn(i),i):(fn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return qt(i),null;case 13:if(p=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=fl(i),p!==null&&p.dehydrated!==null){if(o===null){if(!x)throw Error(s(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[De]=i}else ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qt(i),x=!1}else x=kp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(fn(i),i):(fn(i),null)}return fn(i),(i.flags&128)!==0?(i.lanes=d,i):(d=p!==null,o=o!==null&&o.memoizedState!==null,d&&(p=i.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool),v=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(v=p.memoizedState.cachePool.pool),v!==x&&(p.flags|=2048)),d!==o&&d&&(i.child.flags|=8192),Yd(i,i.updateQueue),qt(i),null);case 4:return te(),o===null&&Pm(i.stateNode.containerInfo),qt(i),null;case 10:return Os(i.type),qt(i),null;case 19:if(B(or),p=i.memoizedState,p===null)return qt(i),null;if(x=(i.flags&128)!==0,v=p.rendering,v===null)if(x)Ii(p,!1);else{if(tr!==0||o!==null&&(o.flags&128)!==0)for(o=i.child;o!==null;){if(v=Bd(o),v!==null){for(i.flags|=128,Ii(p,!1),o=v.updateQueue,i.updateQueue=o,Yd(i,o),i.subtreeFlags=0,o=d,d=i.child;d!==null;)ub(d,o),d=d.sibling;return P(or,or.current&1|2),Ct&&As(i,p.treeForkCount),i.child}o=o.sibling}p.tail!==null&&Yt()>eu&&(i.flags|=128,x=!0,Ii(p,!1),i.lanes=4194304)}else{if(!x)if(o=Bd(v),o!==null){if(i.flags|=128,x=!0,o=o.updateQueue,i.updateQueue=o,Yd(i,o),Ii(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ct)return qt(i),null}else 2*Yt()-p.renderingStartTime>eu&&d!==536870912&&(i.flags|=128,x=!0,Ii(p,!1),i.lanes=4194304);p.isBackwards?(v.sibling=i.child,i.child=v):(o=p.last,o!==null?o.sibling=v:i.child=v,p.last=v)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Yt(),o.sibling=null,d=or.current,P(or,x?d&1|2:d&1),Ct&&As(i,p.treeForkCount),o):(qt(i),null);case 22:case 23:return fn(i),Ip(),p=i.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(i.flags|=8192):p&&(i.flags|=8192),p?(d&536870912)!==0&&(i.flags&128)===0&&(qt(i),i.subtreeFlags&6&&(i.flags|=8192)):qt(i),d=i.updateQueue,d!==null&&Yd(i,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),p=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(p=i.memoizedState.cachePool.pool),p!==d&&(i.flags|=2048),o!==null&&B(mo),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Os(cr),qt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function YS(o,i){switch(Cp(i),i.tag){case 1:return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return Os(cr),te(),o=i.flags,(o&65536)!==0&&(o&128)===0?(i.flags=o&-65537|128,i):null;case 26:case 27:case 5:return U(i),null;case 31:if(i.memoizedState!==null){if(fn(i),i.alternate===null)throw Error(s(340));ho()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 13:if(fn(i),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ho()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return B(or),null;case 4:return te(),null;case 10:return Os(i.type),null;case 22:case 23:return fn(i),Ip(),o!==null&&B(mo),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 24:return Os(cr),null;case 25:return null;default:return null}}function Pv(o,i){switch(Cp(i),i.tag){case 3:Os(cr),te();break;case 26:case 27:case 5:U(i);break;case 4:te();break;case 31:i.memoizedState!==null&&fn(i);break;case 13:fn(i);break;case 19:B(or);break;case 10:Os(i.type);break;case 22:case 23:fn(i),Ip(),o!==null&&B(mo);break;case 24:Os(cr)}}function $i(o,i){try{var d=i.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var x=p.next;d=x;do{if((d.tag&o)===o){p=void 0;var v=d.create,k=d.inst;p=v(),k.destroy=p}d=d.next}while(d!==x)}}catch(D){zt(i,i.return,D)}}function ya(o,i,d){try{var p=i.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var v=x.next;p=v;do{if((p.tag&o)===o){var k=p.inst,D=k.destroy;if(D!==void 0){k.destroy=void 0,x=i;var V=d,oe=D;try{oe()}catch(be){zt(x,V,be)}}}p=p.next}while(p!==v)}}catch(be){zt(i,i.return,be)}}function Iv(o){var i=o.updateQueue;if(i!==null){var d=o.stateNode;try{Ab(i,d)}catch(p){zt(o,o.return,p)}}}function $v(o,i,d){d.props=vo(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(p){zt(o,i,p)}}function Hi(o,i){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof d=="function"?o.refCleanup=d(p):d.current=p}}catch(x){zt(o,i,x)}}function ds(o,i){var d=o.ref,p=o.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(x){zt(o,i,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){zt(o,i,x)}else d.current=null}function Hv(o){var i=o.type,d=o.memoizedProps,p=o.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(x){zt(o,o.return,x)}}function xm(o,i,d){try{var p=o.stateNode;x5(p,o.type,d,i),p[rt]=i}catch(x){zt(o,o.return,x)}}function Uv(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Sa(o.type)||o.tag===4}function ym(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Uv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Sa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function bm(o,i,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,i?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,i):(i=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,i.appendChild(o),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=ks));else if(p!==4&&(p===27&&Sa(o.type)&&(d=o.stateNode,i=null),o=o.child,o!==null))for(bm(o,i,d),o=o.sibling;o!==null;)bm(o,i,d),o=o.sibling}function Jd(o,i,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,i?d.insertBefore(o,i):d.appendChild(o);else if(p!==4&&(p===27&&Sa(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(Jd(o,i,d),o=o.sibling;o!==null;)Jd(o,i,d),o=o.sibling}function Vv(o){var i=o.stateNode,d=o.memoizedProps;try{for(var p=o.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);Ar(i,p,d),i[De]=o,i[rt]=d}catch(v){zt(o,o.return,v)}}var Bs=!1,hr=!1,vm=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,vr=null;function JS(o,i){if(o=o.containerInfo,Hm=xu,o=rb(o),fp(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var x=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{d.nodeType,v.nodeType}catch{d=null;break e}var k=0,D=-1,V=-1,oe=0,be=0,ke=o,he=null;t:for(;;){for(var me;ke!==d||x!==0&&ke.nodeType!==3||(D=k+x),ke!==v||p!==0&&ke.nodeType!==3||(V=k+p),ke.nodeType===3&&(k+=ke.nodeValue.length),(me=ke.firstChild)!==null;)he=ke,ke=me;for(;;){if(ke===o)break t;if(he===d&&++oe===x&&(D=k),he===v&&++be===p&&(V=k),(me=ke.nextSibling)!==null)break;ke=he,he=ke.parentNode}ke=me}d=D===-1||V===-1?null:{start:D,end:V}}else d=null}d=d||{start:0,end:0}}else d=null;for(Um={focusedElem:o,selectionRange:d},xu=!1,vr=i;vr!==null;)if(i=vr,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,vr=o;else for(;vr!==null;){switch(i=vr,v=i.alternate,o=i.flags,i.tag){case 0:if((o&4)!==0&&(o=i.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)x=o[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&v!==null){o=void 0,d=i,x=v.memoizedProps,v=v.memoizedState,p=d.stateNode;try{var Ue=vo(d.type,x);o=p.getSnapshotBeforeUpdate(Ue,v),p.__reactInternalSnapshotBeforeUpdate=o}catch(et){zt(d,d.return,et)}}break;case 3:if((o&1024)!==0){if(o=i.stateNode.containerInfo,d=o.nodeType,d===9)qm(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":qm(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(s(163))}if(o=i.sibling,o!==null){o.return=i.return,vr=o;break}vr=i.return}}function qv(o,i,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ps(o,d),p&4&&$i(5,d);break;case 1:if(Ps(o,d),p&4)if(o=d.stateNode,i===null)try{o.componentDidMount()}catch(k){zt(d,d.return,k)}else{var x=vo(d.type,i.memoizedProps);i=i.memoizedState;try{o.componentDidUpdate(x,i,o.__reactInternalSnapshotBeforeUpdate)}catch(k){zt(d,d.return,k)}}p&64&&Iv(d),p&512&&Hi(d,d.return);break;case 3:if(Ps(o,d),p&64&&(o=d.updateQueue,o!==null)){if(i=null,d.child!==null)switch(d.child.tag){case 27:case 5:i=d.child.stateNode;break;case 1:i=d.child.stateNode}try{Ab(o,i)}catch(k){zt(d,d.return,k)}}break;case 27:i===null&&p&4&&Vv(d);case 26:case 5:Ps(o,d),i===null&&p&4&&Hv(d),p&512&&Hi(d,d.return);break;case 12:Ps(o,d);break;case 31:Ps(o,d),p&4&&Gv(o,d);break;case 13:Ps(o,d),p&4&&Yv(o,d),p&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=a5.bind(null,d),S5(o,d))));break;case 22:if(p=d.memoizedState!==null||Bs,!p){i=i!==null&&i.memoizedState!==null||hr,x=Bs;var v=hr;Bs=p,(hr=i)&&!v?Is(o,d,(d.subtreeFlags&8772)!==0):Ps(o,d),Bs=x,hr=v}break;case 30:break;default:Ps(o,d)}}function Wv(o){var i=o.alternate;i!==null&&(o.alternate=null,Wv(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&Jf(i)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Jt=null,Jr=!1;function _s(o,i,d){for(d=d.child;d!==null;)Kv(o,i,d),d=d.sibling}function Kv(o,i,d){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(xe,d)}catch{}switch(d.tag){case 26:hr||ds(d,i),_s(o,i,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:hr||ds(d,i);var p=Jt,x=Jr;Sa(d.type)&&(Jt=d.stateNode,Jr=!1),_s(o,i,d),Ji(d.stateNode),Jt=p,Jr=x;break;case 5:hr||ds(d,i);case 6:if(p=Jt,x=Jr,Jt=null,_s(o,i,d),Jt=p,Jr=x,Jt!==null)if(Jr)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(d.stateNode)}catch(v){zt(d,i,v)}else try{Jt.removeChild(d.stateNode)}catch(v){zt(d,i,v)}break;case 18:Jt!==null&&(Jr?(o=Jt,I1(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),zl(o)):I1(Jt,d.stateNode));break;case 4:p=Jt,x=Jr,Jt=d.stateNode.containerInfo,Jr=!0,_s(o,i,d),Jt=p,Jr=x;break;case 0:case 11:case 14:case 15:ya(2,d,i),hr||ya(4,d,i),_s(o,i,d);break;case 1:hr||(ds(d,i),p=d.stateNode,typeof p.componentWillUnmount=="function"&&$v(d,i,p)),_s(o,i,d);break;case 21:_s(o,i,d);break;case 22:hr=(p=hr)||d.memoizedState!==null,_s(o,i,d),hr=p;break;default:_s(o,i,d)}}function Gv(o,i){if(i.memoizedState===null&&(o=i.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{zl(o)}catch(d){zt(i,i.return,d)}}}function Yv(o,i){if(i.memoizedState===null&&(o=i.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{zl(o)}catch(d){zt(i,i.return,d)}}function QS(o){switch(o.tag){case 31:case 13:case 19:var i=o.stateNode;return i===null&&(i=o.stateNode=new Fv),i;case 22:return o=o.stateNode,i=o._retryCache,i===null&&(i=o._retryCache=new Fv),i;default:throw Error(s(435,o.tag))}}function Qd(o,i){var d=QS(o);i.forEach(function(p){if(!d.has(p)){d.add(p);var x=o5.bind(null,o,p);p.then(x,x)}})}function Qr(o,i){var d=i.deletions;if(d!==null)for(var p=0;p<d.length;p++){var x=d[p],v=o,k=i,D=k;e:for(;D!==null;){switch(D.tag){case 27:if(Sa(D.type)){Jt=D.stateNode,Jr=!1;break e}break;case 5:Jt=D.stateNode,Jr=!1;break e;case 3:case 4:Jt=D.stateNode.containerInfo,Jr=!0;break e}D=D.return}if(Jt===null)throw Error(s(160));Kv(v,k,x),Jt=null,Jr=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Jv(i,o),i=i.sibling}var Gn=null;function Jv(o,i){var d=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Qr(i,o),Xr(o),p&4&&(ya(3,o,o.return),$i(3,o),ya(5,o,o.return));break;case 1:Qr(i,o),Xr(o),p&512&&(hr||d===null||ds(d,d.return)),p&64&&Bs&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var x=Gn;if(Qr(i,o),Xr(o),p&512&&(hr||d===null||ds(d,d.return)),p&4){var v=d!==null?d.memoizedState:null;if(p=o.memoizedState,d===null)if(p===null)if(o.stateNode===null){e:{p=o.type,d=o.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":v=x.getElementsByTagName("title")[0],(!v||v[pi]||v[De]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(p),x.head.insertBefore(v,x.querySelector("head > title"))),Ar(v,p,d),v[De]=o,br(v),p=v;break e;case"link":var k=J1("link","href",x).get(p+(d.href||""));if(k){for(var D=0;D<k.length;D++)if(v=k[D],v.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&v.getAttribute("rel")===(d.rel==null?null:d.rel)&&v.getAttribute("title")===(d.title==null?null:d.title)&&v.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(D,1);break t}}v=x.createElement(p),Ar(v,p,d),x.head.appendChild(v);break;case"meta":if(k=J1("meta","content",x).get(p+(d.content||""))){for(D=0;D<k.length;D++)if(v=k[D],v.getAttribute("content")===(d.content==null?null:""+d.content)&&v.getAttribute("name")===(d.name==null?null:d.name)&&v.getAttribute("property")===(d.property==null?null:d.property)&&v.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&v.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(D,1);break t}}v=x.createElement(p),Ar(v,p,d),x.head.appendChild(v);break;default:throw Error(s(468,p))}v[De]=o,br(v),p=v}o.stateNode=p}else Q1(x,o.type,o.stateNode);else o.stateNode=Y1(x,p,o.memoizedProps);else v!==p?(v===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):v.count--,p===null?Q1(x,o.type,o.stateNode):Y1(x,p,o.memoizedProps)):p===null&&o.stateNode!==null&&xm(o,o.memoizedProps,d.memoizedProps)}break;case 27:Qr(i,o),Xr(o),p&512&&(hr||d===null||ds(d,d.return)),d!==null&&p&4&&xm(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Qr(i,o),Xr(o),p&512&&(hr||d===null||ds(d,d.return)),o.flags&32){x=o.stateNode;try{nl(x,"")}catch(Ue){zt(o,o.return,Ue)}}p&4&&o.stateNode!=null&&(x=o.memoizedProps,xm(o,x,d!==null?d.memoizedProps:x)),p&1024&&(vm=!0);break;case 6:if(Qr(i,o),Xr(o),p&4){if(o.stateNode===null)throw Error(s(162));p=o.memoizedProps,d=o.stateNode;try{d.nodeValue=p}catch(Ue){zt(o,o.return,Ue)}}break;case 3:if(fu=null,x=Gn,Gn=uu(i.containerInfo),Qr(i,o),Gn=x,Xr(o),p&4&&d!==null&&d.memoizedState.isDehydrated)try{zl(i.containerInfo)}catch(Ue){zt(o,o.return,Ue)}vm&&(vm=!1,Qv(o));break;case 4:p=Gn,Gn=uu(o.stateNode.containerInfo),Qr(i,o),Xr(o),Gn=p;break;case 12:Qr(i,o),Xr(o);break;case 31:Qr(i,o),Xr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Qd(o,p)));break;case 13:Qr(i,o),Xr(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Zd=Yt()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Qd(o,p)));break;case 22:x=o.memoizedState!==null;var V=d!==null&&d.memoizedState!==null,oe=Bs,be=hr;if(Bs=oe||x,hr=be||V,Qr(i,o),hr=be,Bs=oe,Xr(o),p&8192)e:for(i=o.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(d===null||V||Bs||hr||jo(o)),d=null,i=o;;){if(i.tag===5||i.tag===26){if(d===null){V=d=i;try{if(v=V.stateNode,x)k=v.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{D=V.stateNode;var ke=V.memoizedProps.style,he=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;D.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ue){zt(V,V.return,Ue)}}}else if(i.tag===6){if(d===null){V=i;try{V.stateNode.nodeValue=x?"":V.memoizedProps}catch(Ue){zt(V,V.return,Ue)}}}else if(i.tag===18){if(d===null){V=i;try{var me=V.stateNode;x?$1(me,!0):$1(V.stateNode,!1)}catch(Ue){zt(V,V.return,Ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===o)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;d===i&&(d=null),i=i.return}d===i&&(d=null),i.sibling.return=i.return,i=i.sibling}p&4&&(p=o.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Qd(o,d))));break;case 19:Qr(i,o),Xr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Qd(o,p)));break;case 30:break;case 21:break;default:Qr(i,o),Xr(o)}}function Xr(o){var i=o.flags;if(i&2){try{for(var d,p=o.return;p!==null;){if(Uv(p)){d=p;break}p=p.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var x=d.stateNode,v=ym(o);Jd(o,v,x);break;case 5:var k=d.stateNode;d.flags&32&&(nl(k,""),d.flags&=-33);var D=ym(o);Jd(o,D,k);break;case 3:case 4:var V=d.stateNode.containerInfo,oe=ym(o);bm(o,oe,V);break;default:throw Error(s(161))}}catch(be){zt(o,o.return,be)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function Qv(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var i=o;Qv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),o=o.sibling}}function Ps(o,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qv(o,i.alternate,i),i=i.sibling}function jo(o){for(o=o.child;o!==null;){var i=o;switch(i.tag){case 0:case 11:case 14:case 15:ya(4,i,i.return),jo(i);break;case 1:ds(i,i.return);var d=i.stateNode;typeof d.componentWillUnmount=="function"&&$v(i,i.return,d),jo(i);break;case 27:Ji(i.stateNode);case 26:case 5:ds(i,i.return),jo(i);break;case 22:i.memoizedState===null&&jo(i);break;case 30:jo(i);break;default:jo(i)}o=o.sibling}}function Is(o,i,d){for(d=d&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var p=i.alternate,x=o,v=i,k=v.flags;switch(v.tag){case 0:case 11:case 15:Is(x,v,d),$i(4,v);break;case 1:if(Is(x,v,d),p=v,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(oe){zt(p,p.return,oe)}if(p=v,x=p.updateQueue,x!==null){var D=p.stateNode;try{var V=x.shared.hiddenCallbacks;if(V!==null)for(x.shared.hiddenCallbacks=null,x=0;x<V.length;x++)Tb(V[x],D)}catch(oe){zt(p,p.return,oe)}}d&&k&64&&Iv(v),Hi(v,v.return);break;case 27:Vv(v);case 26:case 5:Is(x,v,d),d&&p===null&&k&4&&Hv(v),Hi(v,v.return);break;case 12:Is(x,v,d);break;case 31:Is(x,v,d),d&&k&4&&Gv(x,v);break;case 13:Is(x,v,d),d&&k&4&&Yv(x,v);break;case 22:v.memoizedState===null&&Is(x,v,d),Hi(v,v.return);break;case 30:break;default:Is(x,v,d)}i=i.sibling}}function jm(o,i){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&Ei(d))}function wm(o,i){o=null,i.alternate!==null&&(o=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==o&&(i.refCount++,o!=null&&Ei(o))}function Yn(o,i,d,p){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xv(o,i,d,p),i=i.sibling}function Xv(o,i,d,p){var x=i.flags;switch(i.tag){case 0:case 11:case 15:Yn(o,i,d,p),x&2048&&$i(9,i);break;case 1:Yn(o,i,d,p);break;case 3:Yn(o,i,d,p),x&2048&&(o=null,i.alternate!==null&&(o=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==o&&(i.refCount++,o!=null&&Ei(o)));break;case 12:if(x&2048){Yn(o,i,d,p),o=i.stateNode;try{var v=i.memoizedProps,k=v.id,D=v.onPostCommit;typeof D=="function"&&D(k,i.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(V){zt(i,i.return,V)}}else Yn(o,i,d,p);break;case 31:Yn(o,i,d,p);break;case 13:Yn(o,i,d,p);break;case 23:break;case 22:v=i.stateNode,k=i.alternate,i.memoizedState!==null?v._visibility&2?Yn(o,i,d,p):Ui(o,i):v._visibility&2?Yn(o,i,d,p):(v._visibility|=2,Nl(o,i,d,p,(i.subtreeFlags&10256)!==0||!1)),x&2048&&jm(k,i);break;case 24:Yn(o,i,d,p),x&2048&&wm(i.alternate,i);break;default:Yn(o,i,d,p)}}function Nl(o,i,d,p,x){for(x=x&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=o,k=i,D=d,V=p,oe=k.flags;switch(k.tag){case 0:case 11:case 15:Nl(v,k,D,V,x),$i(8,k);break;case 23:break;case 22:var be=k.stateNode;k.memoizedState!==null?be._visibility&2?Nl(v,k,D,V,x):Ui(v,k):(be._visibility|=2,Nl(v,k,D,V,x)),x&&oe&2048&&jm(k.alternate,k);break;case 24:Nl(v,k,D,V,x),x&&oe&2048&&wm(k.alternate,k);break;default:Nl(v,k,D,V,x)}i=i.sibling}}function Ui(o,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var d=o,p=i,x=p.flags;switch(p.tag){case 22:Ui(d,p),x&2048&&jm(p.alternate,p);break;case 24:Ui(d,p),x&2048&&wm(p.alternate,p);break;default:Ui(d,p)}i=i.sibling}}var Vi=8192;function Cl(o,i,d){if(o.subtreeFlags&Vi)for(o=o.child;o!==null;)Zv(o,i,d),o=o.sibling}function Zv(o,i,d){switch(o.tag){case 26:Cl(o,i,d),o.flags&Vi&&o.memoizedState!==null&&_5(d,Gn,o.memoizedState,o.memoizedProps);break;case 5:Cl(o,i,d);break;case 3:case 4:var p=Gn;Gn=uu(o.stateNode.containerInfo),Cl(o,i,d),Gn=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=Vi,Vi=16777216,Cl(o,i,d),Vi=p):Cl(o,i,d));break;default:Cl(o,i,d)}}function e1(o){var i=o.alternate;if(i!==null&&(o=i.child,o!==null)){i.child=null;do i=o.sibling,o.sibling=null,o=i;while(o!==null)}}function Fi(o){var i=o.deletions;if((o.flags&16)!==0){if(i!==null)for(var d=0;d<i.length;d++){var p=i[d];vr=p,r1(p,o)}e1(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)t1(o),o=o.sibling}function t1(o){switch(o.tag){case 0:case 11:case 15:Fi(o),o.flags&2048&&ya(9,o,o.return);break;case 3:Fi(o);break;case 12:Fi(o);break;case 22:var i=o.stateNode;o.memoizedState!==null&&i._visibility&2&&(o.return===null||o.return.tag!==13)?(i._visibility&=-3,Xd(o)):Fi(o);break;default:Fi(o)}}function Xd(o){var i=o.deletions;if((o.flags&16)!==0){if(i!==null)for(var d=0;d<i.length;d++){var p=i[d];vr=p,r1(p,o)}e1(o)}for(o=o.child;o!==null;){switch(i=o,i.tag){case 0:case 11:case 15:ya(8,i,i.return),Xd(i);break;case 22:d=i.stateNode,d._visibility&2&&(d._visibility&=-3,Xd(i));break;default:Xd(i)}o=o.sibling}}function r1(o,i){for(;vr!==null;){var d=vr;switch(d.tag){case 0:case 11:case 15:ya(8,d,i);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Ei(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,vr=p;else e:for(d=o;vr!==null;){p=vr;var x=p.sibling,v=p.return;if(Wv(p),p===d){vr=null;break e}if(x!==null){x.return=v,vr=x;break e}vr=v}}}var XS={getCacheForType:function(o){var i=Er(cr),d=i.data.get(o);return d===void 0&&(d=o(),i.data.set(o,d)),d},cacheSignal:function(){return Er(cr).controller.signal}},ZS=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ht=null,yt=null,jt=0,Rt=0,pn=null,ba=!1,Sl=!1,Nm=!1,$s=0,tr=0,va=0,wo=0,Cm=0,mn=0,kl=0,qi=null,Zr=null,Sm=!1,Zd=0,n1=0,eu=1/0,tu=null,ja=null,gr=0,wa=null,El=null,Hs=0,km=0,Em=null,s1=null,Wi=0,Tm=null;function gn(){return(Tt&2)!==0&&jt!==0?jt&-jt:M.T!==null?zm():Ae()}function a1(){if(mn===0)if((jt&536870912)===0||Ct){var o=$e;$e<<=1,($e&3932160)===0&&($e=262144),mn=o}else mn=536870912;return o=hn.current,o!==null&&(o.flags|=32),mn}function en(o,i,d){(o===Ht&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)&&(Tl(o,0),Na(o,jt,mn,!1)),it(o,d),((Tt&2)===0||o!==Ht)&&(o===Ht&&((Tt&2)===0&&(wo|=d),tr===4&&Na(o,jt,mn,!1)),us(o))}function o1(o,i,d){if((Tt&6)!==0)throw Error(s(327));var p=!d&&(i&127)===0&&(i&o.expiredLanes)===0||Ot(o,i),x=p?r5(o,i):Mm(o,i,!0),v=p;do{if(x===0){Sl&&!p&&Na(o,i,0,!1);break}else{if(d=o.current.alternate,v&&!e5(d)){x=Mm(o,i,!1),v=!1;continue}if(x===2){if(v=i,o.errorRecoveryDisabledLanes&v)var k=0;else k=o.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){i=k;e:{var D=o;x=qi;var V=D.current.memoizedState.isDehydrated;if(V&&(Tl(D,k).flags|=256),k=Mm(D,k,!1),k!==2){if(Nm&&!V){D.errorRecoveryDisabledLanes|=v,wo|=v,x=4;break e}v=Zr,Zr=x,v!==null&&(Zr===null?Zr=v:Zr.push.apply(Zr,v))}x=k}if(v=!1,x!==2)continue}}if(x===1){Tl(o,0),Na(o,i,0,!0);break}e:{switch(p=o,v=x,v){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Na(p,i,mn,!ba);break e;case 2:Zr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(x=Zd+300-Yt(),10<x)){if(Na(p,i,mn,!ba),xt(p,0,!0)!==0)break e;Hs=i,p.timeoutHandle=_1(l1.bind(null,p,d,Zr,tu,Sm,i,mn,wo,kl,ba,v,"Throttled",-0,0),x);break e}l1(p,d,Zr,tu,Sm,i,mn,wo,kl,ba,v,null,-0,0)}}break}while(!0);us(o)}function l1(o,i,d,p,x,v,k,D,V,oe,be,ke,he,me){if(o.timeoutHandle=-1,ke=i.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ks},Zv(i,v,ke);var Ue=(v&62914560)===v?Zd-Yt():(v&4194048)===v?n1-Yt():0;if(Ue=P5(ke,Ue),Ue!==null){Hs=v,o.cancelPendingCommit=Ue(m1.bind(null,o,i,v,d,p,x,k,D,V,be,ke,null,he,me)),Na(o,v,k,!oe);return}}m1(o,i,v,d,p,x,k,D,V)}function e5(o){for(var i=o;;){var d=i.tag;if((d===0||d===11||d===15)&&i.flags&16384&&(d=i.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var x=d[p],v=x.getSnapshot;x=x.value;try{if(!dn(v(),x))return!1}catch{return!1}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Na(o,i,d,p){i&=~Cm,i&=~wo,o.suspendedLanes|=i,o.pingedLanes&=~i,p&&(o.warmLanes|=i),p=o.expirationTimes;for(var x=i;0<x;){var v=31-Fe(x),k=1<<v;p[v]=-1,x&=~k}d!==0&&re(o,d,i)}function ru(){return(Tt&6)===0?(Ki(0),!1):!0}function Am(){if(yt!==null){if(Rt===0)var o=yt.return;else o=yt,Ms=fo=null,qp(o),yl=null,Ai=0,o=yt;for(;o!==null;)Pv(o.alternate,o),o=o.return;yt=null}}function Tl(o,i){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,v5(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),Hs=0,Am(),Ht=o,yt=d=Ts(o.current,null),jt=i,Rt=0,pn=null,ba=!1,Sl=Ot(o,i),Nm=!1,kl=mn=Cm=wo=va=tr=0,Zr=qi=null,Sm=!1,(i&8)!==0&&(i|=i&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=i;0<p;){var x=31-Fe(p),v=1<<x;i|=o[x],p&=~v}return $s=i,Nd(),d}function i1(o,i){dt=null,M.H=_i,i===xl||i===Od?(i=Cb(),Rt=3):i===Rp?(i=Cb(),Rt=4):Rt=i===lm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,yt===null&&(tr=1,qd(o,On(i,o.current)))}function c1(){var o=hn.current;return o===null?!0:(jt&4194048)===jt?Ln===null:(jt&62914560)===jt||(jt&536870912)!==0?o===Ln:!1}function d1(){var o=M.H;return M.H=_i,o===null?_i:o}function u1(){var o=M.A;return M.A=XS,o}function nu(){tr=4,ba||(jt&4194048)!==jt&&hn.current!==null||(Sl=!0),(va&134217727)===0&&(wo&134217727)===0||Ht===null||Na(Ht,jt,mn,!1)}function Mm(o,i,d){var p=Tt;Tt|=2;var x=d1(),v=u1();(Ht!==o||jt!==i)&&(tu=null,Tl(o,i)),i=!1;var k=tr;e:do try{if(Rt!==0&&yt!==null){var D=yt,V=pn;switch(Rt){case 8:Am(),k=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(i=!0);var oe=Rt;if(Rt=0,pn=null,Al(o,D,V,oe),d&&Sl){k=0;break e}break;default:oe=Rt,Rt=0,pn=null,Al(o,D,V,oe)}}t5(),k=tr;break}catch(be){i1(o,be)}while(!0);return i&&o.shellSuspendCounter++,Ms=fo=null,Tt=p,M.H=x,M.A=v,yt===null&&(Ht=null,jt=0,Nd()),k}function t5(){for(;yt!==null;)h1(yt)}function r5(o,i){var d=Tt;Tt|=2;var p=d1(),x=u1();Ht!==o||jt!==i?(tu=null,eu=Yt()+500,Tl(o,i)):Sl=Ot(o,i);e:do try{if(Rt!==0&&yt!==null){i=yt;var v=pn;t:switch(Rt){case 1:Rt=0,pn=null,Al(o,i,v,1);break;case 2:case 9:if(wb(v)){Rt=0,pn=null,f1(i);break}i=function(){Rt!==2&&Rt!==9||Ht!==o||(Rt=7),us(o)},v.then(i,i);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:wb(v)?(Rt=0,pn=null,f1(i)):(Rt=0,pn=null,Al(o,i,v,7));break;case 5:var k=null;switch(yt.tag){case 26:k=yt.memoizedState;case 5:case 27:var D=yt;if(k?X1(k):D.stateNode.complete){Rt=0,pn=null;var V=D.sibling;if(V!==null)yt=V;else{var oe=D.return;oe!==null?(yt=oe,su(oe)):yt=null}break t}}Rt=0,pn=null,Al(o,i,v,5);break;case 6:Rt=0,pn=null,Al(o,i,v,6);break;case 8:Am(),tr=6;break e;default:throw Error(s(462))}}n5();break}catch(be){i1(o,be)}while(!0);return Ms=fo=null,M.H=p,M.A=x,Tt=d,yt!==null?0:(Ht=null,jt=0,Nd(),tr)}function n5(){for(;yt!==null&&!Gt();)h1(yt)}function h1(o){var i=Bv(o.alternate,o,$s);o.memoizedProps=o.pendingProps,i===null?su(o):yt=i}function f1(o){var i=o,d=i.alternate;switch(i.tag){case 15:case 0:i=Mv(d,i,i.pendingProps,i.type,void 0,jt);break;case 11:i=Mv(d,i,i.pendingProps,i.type.render,i.ref,jt);break;case 5:qp(i);default:Pv(d,i),i=yt=ub(i,$s),i=Bv(d,i,$s)}o.memoizedProps=o.pendingProps,i===null?su(o):yt=i}function Al(o,i,d,p){Ms=fo=null,qp(i),yl=null,Ai=0;var x=i.return;try{if(qS(o,x,i,d,jt)){tr=1,qd(o,On(d,o.current)),yt=null;return}}catch(v){if(x!==null)throw yt=x,v;tr=1,qd(o,On(d,o.current)),yt=null;return}i.flags&32768?(Ct||p===1?o=!0:Sl||(jt&536870912)!==0?o=!1:(ba=o=!0,(p===2||p===9||p===3||p===6)&&(p=hn.current,p!==null&&p.tag===13&&(p.flags|=16384))),p1(i,o)):su(i)}function su(o){var i=o;do{if((i.flags&32768)!==0){p1(i,ba);return}o=i.return;var d=GS(i.alternate,i,$s);if(d!==null){yt=d;return}if(i=i.sibling,i!==null){yt=i;return}yt=i=o}while(i!==null);tr===0&&(tr=5)}function p1(o,i){do{var d=YS(o.alternate,o);if(d!==null){d.flags&=32767,yt=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!i&&(o=o.sibling,o!==null)){yt=o;return}yt=o=d}while(o!==null);tr=6,yt=null}function m1(o,i,d,p,x,v,k,D,V){o.cancelPendingCommit=null;do au();while(gr!==0);if((Tt&6)!==0)throw Error(s(327));if(i!==null){if(i===o.current)throw Error(s(177));if(v=i.lanes|i.childLanes,v|=yp,fi(o,d,v,k,D,V),o===Ht&&(yt=Ht=null,jt=0),El=i,wa=o,Hs=d,km=v,Em=x,s1=p,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,l5(Le,function(){return v1(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||p){p=M.T,M.T=null,x=_.p,_.p=2,k=Tt,Tt|=4;try{JS(o,i,d)}finally{Tt=k,_.p=x,M.T=p}}gr=1,g1(),x1(),y1()}}function g1(){if(gr===1){gr=0;var o=wa,i=El,d=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||d){d=M.T,M.T=null;var p=_.p;_.p=2;var x=Tt;Tt|=4;try{Jv(i,o);var v=Um,k=rb(o.containerInfo),D=v.focusedElem,V=v.selectionRange;if(k!==D&&D&&D.ownerDocument&&tb(D.ownerDocument.documentElement,D)){if(V!==null&&fp(D)){var oe=V.start,be=V.end;if(be===void 0&&(be=oe),"selectionStart"in D)D.selectionStart=oe,D.selectionEnd=Math.min(be,D.value.length);else{var ke=D.ownerDocument||document,he=ke&&ke.defaultView||window;if(he.getSelection){var me=he.getSelection(),Ue=D.textContent.length,et=Math.min(V.start,Ue),It=V.end===void 0?et:Math.min(V.end,Ue);!me.extend&&et>It&&(k=It,It=et,et=k);var Z=eb(D,et),J=eb(D,It);if(Z&&J&&(me.rangeCount!==1||me.anchorNode!==Z.node||me.anchorOffset!==Z.offset||me.focusNode!==J.node||me.focusOffset!==J.offset)){var se=ke.createRange();se.setStart(Z.node,Z.offset),me.removeAllRanges(),et>It?(me.addRange(se),me.extend(J.node,J.offset)):(se.setEnd(J.node,J.offset),me.addRange(se))}}}}for(ke=[],me=D;me=me.parentNode;)me.nodeType===1&&ke.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ke.length;D++){var Se=ke[D];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}xu=!!Hm,Um=Hm=null}finally{Tt=x,_.p=p,M.T=d}}o.current=i,gr=2}}function x1(){if(gr===2){gr=0;var o=wa,i=El,d=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||d){d=M.T,M.T=null;var p=_.p;_.p=2;var x=Tt;Tt|=4;try{qv(o,i.alternate,i)}finally{Tt=x,_.p=p,M.T=d}}gr=3}}function y1(){if(gr===4||gr===3){gr=0,qn();var o=wa,i=El,d=Hs,p=s1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gr=5:(gr=0,El=wa=null,b1(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(ja=null),Ce(d),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(xe,i,void 0,(i.current.flags&128)===128)}catch{}if(p!==null){i=M.T,x=_.p,_.p=2,M.T=null;try{for(var v=o.onRecoverableError,k=0;k<p.length;k++){var D=p[k];v(D.value,{componentStack:D.stack})}}finally{M.T=i,_.p=x}}(Hs&3)!==0&&au(),us(o),x=o.pendingLanes,(d&261930)!==0&&(x&42)!==0?o===Tm?Wi++:(Wi=0,Tm=o):Wi=0,Ki(0)}}function b1(o,i){(o.pooledCacheLanes&=i)===0&&(i=o.pooledCache,i!=null&&(o.pooledCache=null,Ei(i)))}function au(){return g1(),x1(),y1(),v1()}function v1(){if(gr!==5)return!1;var o=wa,i=km;km=0;var d=Ce(Hs),p=M.T,x=_.p;try{_.p=32>d?32:d,M.T=null,d=Em,Em=null;var v=wa,k=Hs;if(gr=0,El=wa=null,Hs=0,(Tt&6)!==0)throw Error(s(331));var D=Tt;if(Tt|=4,t1(v.current),Xv(v,v.current,k,d),Tt=D,Ki(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(xe,v)}catch{}return!0}finally{_.p=x,M.T=p,b1(o,i)}}function j1(o,i,d){i=On(d,i),i=om(o.stateNode,i,2),o=ma(o,i,2),o!==null&&(it(o,2),us(o))}function zt(o,i,d){if(o.tag===3)j1(o,o,d);else for(;i!==null;){if(i.tag===3){j1(i,o,d);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ja===null||!ja.has(p))){o=On(d,o),d=wv(2),p=ma(i,d,2),p!==null&&(Nv(d,p,i,o),it(p,2),us(p));break}}i=i.return}}function Om(o,i,d){var p=o.pingCache;if(p===null){p=o.pingCache=new ZS;var x=new Set;p.set(i,x)}else x=p.get(i),x===void 0&&(x=new Set,p.set(i,x));x.has(d)||(Nm=!0,x.add(d),o=s5.bind(null,o,i,d),i.then(o,o))}function s5(o,i,d){var p=o.pingCache;p!==null&&p.delete(i),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Ht===o&&(jt&d)===d&&(tr===4||tr===3&&(jt&62914560)===jt&&300>Yt()-Zd?(Tt&2)===0&&Tl(o,0):Cm|=d,kl===jt&&(kl=0)),us(o)}function w1(o,i){i===0&&(i=Bt()),o=co(o,i),o!==null&&(it(o,i),us(o))}function a5(o){var i=o.memoizedState,d=0;i!==null&&(d=i.retryLane),w1(o,d)}function o5(o,i){var d=0;switch(o.tag){case 31:case 13:var p=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(s(314))}p!==null&&p.delete(i),w1(o,d)}function l5(o,i){return lt(o,i)}var ou=null,Ml=null,Dm=!1,lu=!1,Rm=!1,Ca=0;function us(o){o!==Ml&&o.next===null&&(Ml===null?ou=Ml=o:Ml=Ml.next=o),lu=!0,Dm||(Dm=!0,c5())}function Ki(o,i){if(!Rm&&lu){Rm=!0;do for(var d=!1,p=ou;p!==null;){if(o!==0){var x=p.pendingLanes;if(x===0)var v=0;else{var k=p.suspendedLanes,D=p.pingedLanes;v=(1<<31-Fe(42|o)+1)-1,v&=x&~(k&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(d=!0,k1(p,v))}else v=jt,v=xt(p,p===Ht?v:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(v&3)===0||Ot(p,v)||(d=!0,k1(p,v));p=p.next}while(d);Rm=!1}}function i5(){N1()}function N1(){lu=Dm=!1;var o=0;Ca!==0&&b5()&&(o=Ca);for(var i=Yt(),d=null,p=ou;p!==null;){var x=p.next,v=C1(p,i);v===0?(p.next=null,d===null?ou=x:d.next=x,x===null&&(Ml=d)):(d=p,(o!==0||(v&3)!==0)&&(lu=!0)),p=x}gr!==0&&gr!==5||Ki(o),Ca!==0&&(Ca=0)}function C1(o,i){for(var d=o.suspendedLanes,p=o.pingedLanes,x=o.expirationTimes,v=o.pendingLanes&-62914561;0<v;){var k=31-Fe(v),D=1<<k,V=x[k];V===-1?((D&d)===0||(D&p)!==0)&&(x[k]=ir(D,i)):V<=i&&(o.expiredLanes|=D),v&=~D}if(i=Ht,d=jt,d=xt(o,o===i?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,d===0||o===i&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Kt(p),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Ot(o,d)){if(i=d&-d,i===o.callbackPriority)return i;switch(p!==null&&Kt(p),Ce(d)){case 2:case 8:d=Te;break;case 32:d=Le;break;case 268435456:d=Ze;break;default:d=Le}return p=S1.bind(null,o),d=lt(d,p),o.callbackPriority=i,o.callbackNode=d,i}return p!==null&&p!==null&&Kt(p),o.callbackPriority=2,o.callbackNode=null,2}function S1(o,i){if(gr!==0&&gr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(au()&&o.callbackNode!==d)return null;var p=jt;return p=xt(o,o===Ht?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(o1(o,p,i),C1(o,Yt()),o.callbackNode!=null&&o.callbackNode===d?S1.bind(null,o):null)}function k1(o,i){if(au())return null;o1(o,i,!0)}function c5(){j5(function(){(Tt&6)!==0?lt(ge,i5):N1()})}function zm(){if(Ca===0){var o=ml;o===0&&(o=fe,fe<<=1,(fe&261888)===0&&(fe=256)),Ca=o}return Ca}function E1(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:md(""+o)}function T1(o,i){var d=i.ownerDocument.createElement("input");return d.name=i.name,d.value=i.value,o.id&&d.setAttribute("form",o.id),i.parentNode.insertBefore(d,i),o=new FormData(o),d.parentNode.removeChild(d),o}function d5(o,i,d,p,x){if(i==="submit"&&d&&d.stateNode===x){var v=E1((x[rt]||null).action),k=p.submitter;k&&(i=(i=k[rt]||null)?E1(i.formAction):k.getAttribute("formAction"),i!==null&&(v=i,k=null));var D=new bd("action","action",null,p,x);o.push({event:D,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ca!==0){var V=k?T1(x,k):new FormData(x);em(d,{pending:!0,data:V,method:x.method,action:v},null,V)}}else typeof v=="function"&&(D.preventDefault(),V=k?T1(x,k):new FormData(x),em(d,{pending:!0,data:V,method:x.method,action:v},v,V))},currentTarget:x}]})}}for(var Lm=0;Lm<xp.length;Lm++){var Bm=xp[Lm],u5=Bm.toLowerCase(),h5=Bm[0].toUpperCase()+Bm.slice(1);Kn(u5,"on"+h5)}Kn(ab,"onAnimationEnd"),Kn(ob,"onAnimationIteration"),Kn(lb,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(TS,"onTransitionRun"),Kn(AS,"onTransitionStart"),Kn(MS,"onTransitionCancel"),Kn(ib,"onTransitionEnd"),tl("onMouseEnter",["mouseout","mouseover"]),tl("onMouseLeave",["mouseout","mouseover"]),tl("onPointerEnter",["pointerout","pointerover"]),tl("onPointerLeave",["pointerout","pointerover"]),ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ao("onBeforeInput",["compositionend","keypress","textInput","paste"]),ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gi));function A1(o,i){i=(i&4)!==0;for(var d=0;d<o.length;d++){var p=o[d],x=p.event;p=p.listeners;e:{var v=void 0;if(i)for(var k=p.length-1;0<=k;k--){var D=p[k],V=D.instance,oe=D.currentTarget;if(D=D.listener,V!==v&&x.isPropagationStopped())break e;v=D,x.currentTarget=oe;try{v(x)}catch(be){wd(be)}x.currentTarget=null,v=V}else for(k=0;k<p.length;k++){if(D=p[k],V=D.instance,oe=D.currentTarget,D=D.listener,V!==v&&x.isPropagationStopped())break e;v=D,x.currentTarget=oe;try{v(x)}catch(be){wd(be)}x.currentTarget=null,v=V}}}}function bt(o,i){var d=i[$t];d===void 0&&(d=i[$t]=new Set);var p=o+"__bubble";d.has(p)||(M1(i,o,2,!1),d.add(p))}function _m(o,i,d){var p=0;i&&(p|=4),M1(d,o,p,i)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Pm(o){if(!o[iu]){o[iu]=!0,Ny.forEach(function(d){d!=="selectionchange"&&(f5.has(d)||_m(d,!1,o),_m(d,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[iu]||(i[iu]=!0,_m("selectionchange",!1,i))}}function M1(o,i,d,p){switch(a2(i)){case 2:var x=H5;break;case 8:x=U5;break;default:x=Zm}d=x.bind(null,i,d,o),x=void 0,!sp||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),p?x!==void 0?o.addEventListener(i,d,{capture:!0,passive:x}):o.addEventListener(i,d,!0):x!==void 0?o.addEventListener(i,d,{passive:x}):o.addEventListener(i,d,!1)}function Im(o,i,d,p,x){var v=p;if((i&1)===0&&(i&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var D=p.stateNode.containerInfo;if(D===x)break;if(k===4)for(k=p.return;k!==null;){var V=k.tag;if((V===3||V===4)&&k.stateNode.containerInfo===x)return;k=k.return}for(;D!==null;){if(k=Xo(D),k===null)return;if(V=k.tag,V===5||V===6||V===26||V===27){p=v=k;continue e}D=D.parentNode}}p=p.return}Ly(function(){var oe=v,be=rp(d),ke=[];e:{var he=cb.get(o);if(he!==void 0){var me=bd,Ue=o;switch(o){case"keypress":if(xd(d)===0)break e;case"keydown":case"keyup":me=oS;break;case"focusin":Ue="focus",me=ip;break;case"focusout":Ue="blur",me=ip;break;case"beforeblur":case"afterblur":me=ip;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=cS;break;case ab:case ob:case lb:me=QC;break;case ib:me=uS;break;case"scroll":case"scrollend":me=WC;break;case"wheel":me=fS;break;case"copy":case"cut":case"paste":me=ZC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=$y;break;case"toggle":case"beforetoggle":me=mS}var et=(i&4)!==0,It=!et&&(o==="scroll"||o==="scrollend"),Z=et?he!==null?he+"Capture":null:he;et=[];for(var J=oe,se;J!==null;){var Se=J;if(se=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||se===null||Z===null||(Se=gi(J,Z),Se!=null&&et.push(Yi(J,Se,se))),It)break;J=J.return}0<et.length&&(he=new me(he,Ue,null,d,be),ke.push({event:he,listeners:et}))}}if((i&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",me=o==="mouseout"||o==="pointerout",he&&d!==tp&&(Ue=d.relatedTarget||d.fromElement)&&(Xo(Ue)||Ue[Ve]))break e;if((me||he)&&(he=be.window===be?be:(he=be.ownerDocument)?he.defaultView||he.parentWindow:window,me?(Ue=d.relatedTarget||d.toElement,me=oe,Ue=Ue?Xo(Ue):null,Ue!==null&&(It=l(Ue),et=Ue.tag,Ue!==It||et!==5&&et!==27&&et!==6)&&(Ue=null)):(me=null,Ue=oe),me!==Ue)){if(et=Py,Se="onMouseLeave",Z="onMouseEnter",J="mouse",(o==="pointerout"||o==="pointerover")&&(et=$y,Se="onPointerLeave",Z="onPointerEnter",J="pointer"),It=me==null?he:mi(me),se=Ue==null?he:mi(Ue),he=new et(Se,J+"leave",me,d,be),he.target=It,he.relatedTarget=se,Se=null,Xo(be)===oe&&(et=new et(Z,J+"enter",Ue,d,be),et.target=se,et.relatedTarget=It,Se=et),It=Se,me&&Ue)t:{for(et=p5,Z=me,J=Ue,se=0,Se=Z;Se;Se=et(Se))se++;Se=0;for(var Je=J;Je;Je=et(Je))Se++;for(;0<se-Se;)Z=et(Z),se--;for(;0<Se-se;)J=et(J),Se--;for(;se--;){if(Z===J||J!==null&&Z===J.alternate){et=Z;break t}Z=et(Z),J=et(J)}et=null}else et=null;me!==null&&O1(ke,he,me,et,!1),Ue!==null&&It!==null&&O1(ke,It,Ue,et,!0)}}e:{if(he=oe?mi(oe):window,me=he.nodeName&&he.nodeName.toLowerCase(),me==="select"||me==="input"&&he.type==="file")var kt=Gy;else if(Wy(he))if(Yy)kt=SS;else{kt=NS;var qe=wS}else me=he.nodeName,!me||me.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?oe&&ep(oe.elementType)&&(kt=Gy):kt=CS;if(kt&&(kt=kt(o,oe))){Ky(ke,kt,d,be);break e}qe&&qe(o,he,oe),o==="focusout"&&oe&&he.type==="number"&&oe.memoizedProps.value!=null&&Zf(he,"number",he.value)}switch(qe=oe?mi(oe):window,o){case"focusin":(Wy(qe)||qe.contentEditable==="true")&&(ll=qe,pp=oe,Ci=null);break;case"focusout":Ci=pp=ll=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,nb(ke,d,be);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":nb(ke,d,be)}var ht;if(dp)e:{switch(o){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else ol?Fy(o,d)&&(wt="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(wt="onCompositionStart");wt&&(Hy&&d.locale!=="ko"&&(ol||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ol&&(ht=By()):(ia=be,ap="value"in ia?ia.value:ia.textContent,ol=!0)),qe=cu(oe,wt),0<qe.length&&(wt=new Iy(wt,o,null,d,be),ke.push({event:wt,listeners:qe}),ht?wt.data=ht:(ht=qy(d),ht!==null&&(wt.data=ht)))),(ht=xS?yS(o,d):bS(o,d))&&(wt=cu(oe,"onBeforeInput"),0<wt.length&&(qe=new Iy("onBeforeInput","beforeinput",null,d,be),ke.push({event:qe,listeners:wt}),qe.data=ht)),d5(ke,o,oe,d,be)}A1(ke,i)})}function Yi(o,i,d){return{instance:o,listener:i,currentTarget:d}}function cu(o,i){for(var d=i+"Capture",p=[];o!==null;){var x=o,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=gi(o,d),x!=null&&p.unshift(Yi(o,x,v)),x=gi(o,i),x!=null&&p.push(Yi(o,x,v))),o.tag===3)return p;o=o.return}return[]}function p5(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function O1(o,i,d,p,x){for(var v=i._reactName,k=[];d!==null&&d!==p;){var D=d,V=D.alternate,oe=D.stateNode;if(D=D.tag,V!==null&&V===p)break;D!==5&&D!==26&&D!==27||oe===null||(V=oe,x?(oe=gi(d,v),oe!=null&&k.unshift(Yi(d,oe,V))):x||(oe=gi(d,v),oe!=null&&k.push(Yi(d,oe,V)))),d=d.return}k.length!==0&&o.push({event:i,listeners:k})}var m5=/\r\n?/g,g5=/\u0000|\uFFFD/g;function D1(o){return(typeof o=="string"?o:""+o).replace(m5,`
`).replace(g5,"")}function R1(o,i){return i=D1(i),D1(o)===i}function Pt(o,i,d,p,x,v){switch(d){case"children":typeof p=="string"?i==="body"||i==="textarea"&&p===""||nl(o,p):(typeof p=="number"||typeof p=="bigint")&&i!=="body"&&nl(o,""+p);break;case"className":fd(o,"class",p);break;case"tabIndex":fd(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":fd(o,d,p);break;case"style":Ry(o,p,v);break;case"data":if(i!=="object"){fd(o,"data",p);break}case"src":case"href":if(p===""&&(i!=="a"||d!=="href")){o.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=md(""+p),o.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(d==="formAction"?(i!=="input"&&Pt(o,i,"name",x.name,x,null),Pt(o,i,"formEncType",x.formEncType,x,null),Pt(o,i,"formMethod",x.formMethod,x,null),Pt(o,i,"formTarget",x.formTarget,x,null)):(Pt(o,i,"encType",x.encType,x,null),Pt(o,i,"method",x.method,x,null),Pt(o,i,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=md(""+p),o.setAttribute(d,p);break;case"onClick":p!=null&&(o.onclick=ks);break;case"onScroll":p!=null&&bt("scroll",o);break;case"onScrollEnd":p!=null&&bt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(x.children!=null)throw Error(s(60));o.innerHTML=d}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}d=md(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""+p):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":p===!0?o.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,p):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(d,p):o.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(d):o.setAttribute(d,p);break;case"popover":bt("beforetoggle",o),bt("toggle",o),hd(o,"popover",p);break;case"xlinkActuate":Ss(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ss(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ss(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ss(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ss(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ss(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ss(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ss(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ss(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":hd(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=FC.get(d)||d,hd(o,d,p))}}function $m(o,i,d,p,x,v){switch(d){case"style":Ry(o,p,v);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(x.children!=null)throw Error(s(60));o.innerHTML=d}}break;case"children":typeof p=="string"?nl(o,p):(typeof p=="number"||typeof p=="bigint")&&nl(o,""+p);break;case"onScroll":p!=null&&bt("scroll",o);break;case"onScrollEnd":p!=null&&bt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=ks);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cy.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),i=d.slice(2,x?d.length-7:void 0),v=o[rt]||null,v=v!=null?v[d]:null,typeof v=="function"&&o.removeEventListener(i,v,x),typeof p=="function")){typeof v!="function"&&v!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(i,p,x);break e}d in o?o[d]=p:p===!0?o.setAttribute(d,""):hd(o,d,p)}}}function Ar(o,i,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",o),bt("load",o);var p=!1,x=!1,v;for(v in d)if(d.hasOwnProperty(v)){var k=d[v];if(k!=null)switch(v){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pt(o,i,v,k,d,null)}}x&&Pt(o,i,"srcSet",d.srcSet,d,null),p&&Pt(o,i,"src",d.src,d,null);return;case"input":bt("invalid",o);var D=v=k=x=null,V=null,oe=null;for(p in d)if(d.hasOwnProperty(p)){var be=d[p];if(be!=null)switch(p){case"name":x=be;break;case"type":k=be;break;case"checked":V=be;break;case"defaultChecked":oe=be;break;case"value":v=be;break;case"defaultValue":D=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(s(137,i));break;default:Pt(o,i,p,be,d,null)}}Ay(o,v,D,V,oe,k,x,!1);return;case"select":bt("invalid",o),p=k=v=null;for(x in d)if(d.hasOwnProperty(x)&&(D=d[x],D!=null))switch(x){case"value":v=D;break;case"defaultValue":k=D;break;case"multiple":p=D;default:Pt(o,i,x,D,d,null)}i=v,d=k,o.multiple=!!p,i!=null?rl(o,!!p,i,!1):d!=null&&rl(o,!!p,d,!0);return;case"textarea":bt("invalid",o),v=x=p=null;for(k in d)if(d.hasOwnProperty(k)&&(D=d[k],D!=null))switch(k){case"value":p=D;break;case"defaultValue":x=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:Pt(o,i,k,D,d,null)}Oy(o,p,x,v);return;case"option":for(V in d)if(d.hasOwnProperty(V)&&(p=d[V],p!=null))switch(V){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Pt(o,i,V,p,d,null)}return;case"dialog":bt("beforetoggle",o),bt("toggle",o),bt("cancel",o),bt("close",o);break;case"iframe":case"object":bt("load",o);break;case"video":case"audio":for(p=0;p<Gi.length;p++)bt(Gi[p],o);break;case"image":bt("error",o),bt("load",o);break;case"details":bt("toggle",o);break;case"embed":case"source":case"link":bt("error",o),bt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in d)if(d.hasOwnProperty(oe)&&(p=d[oe],p!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pt(o,i,oe,p,d,null)}return;default:if(ep(i)){for(be in d)d.hasOwnProperty(be)&&(p=d[be],p!==void 0&&$m(o,i,be,p,d,void 0));return}}for(D in d)d.hasOwnProperty(D)&&(p=d[D],p!=null&&Pt(o,i,D,p,d,null))}function x5(o,i,d,p){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,k=null,D=null,V=null,oe=null,be=null;for(me in d){var ke=d[me];if(d.hasOwnProperty(me)&&ke!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":V=ke;default:p.hasOwnProperty(me)||Pt(o,i,me,null,p,ke)}}for(var he in p){var me=p[he];if(ke=d[he],p.hasOwnProperty(he)&&(me!=null||ke!=null))switch(he){case"type":v=me;break;case"name":x=me;break;case"checked":oe=me;break;case"defaultChecked":be=me;break;case"value":k=me;break;case"defaultValue":D=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(s(137,i));break;default:me!==ke&&Pt(o,i,he,me,p,ke)}}Xf(o,k,D,V,oe,be,v,x);return;case"select":me=k=D=he=null;for(v in d)if(V=d[v],d.hasOwnProperty(v)&&V!=null)switch(v){case"value":break;case"multiple":me=V;default:p.hasOwnProperty(v)||Pt(o,i,v,null,p,V)}for(x in p)if(v=p[x],V=d[x],p.hasOwnProperty(x)&&(v!=null||V!=null))switch(x){case"value":he=v;break;case"defaultValue":D=v;break;case"multiple":k=v;default:v!==V&&Pt(o,i,x,v,p,V)}i=D,d=k,p=me,he!=null?rl(o,!!d,he,!1):!!p!=!!d&&(i!=null?rl(o,!!d,i,!0):rl(o,!!d,d?[]:"",!1));return;case"textarea":me=he=null;for(D in d)if(x=d[D],d.hasOwnProperty(D)&&x!=null&&!p.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Pt(o,i,D,null,p,x)}for(k in p)if(x=p[k],v=d[k],p.hasOwnProperty(k)&&(x!=null||v!=null))switch(k){case"value":he=x;break;case"defaultValue":me=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==v&&Pt(o,i,k,x,p,v)}My(o,he,me);return;case"option":for(var Ue in d)if(he=d[Ue],d.hasOwnProperty(Ue)&&he!=null&&!p.hasOwnProperty(Ue))switch(Ue){case"selected":o.selected=!1;break;default:Pt(o,i,Ue,null,p,he)}for(V in p)if(he=p[V],me=d[V],p.hasOwnProperty(V)&&he!==me&&(he!=null||me!=null))switch(V){case"selected":o.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Pt(o,i,V,he,p,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in d)he=d[et],d.hasOwnProperty(et)&&he!=null&&!p.hasOwnProperty(et)&&Pt(o,i,et,null,p,he);for(oe in p)if(he=p[oe],me=d[oe],p.hasOwnProperty(oe)&&he!==me&&(he!=null||me!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,i));break;default:Pt(o,i,oe,he,p,me)}return;default:if(ep(i)){for(var It in d)he=d[It],d.hasOwnProperty(It)&&he!==void 0&&!p.hasOwnProperty(It)&&$m(o,i,It,void 0,p,he);for(be in p)he=p[be],me=d[be],!p.hasOwnProperty(be)||he===me||he===void 0&&me===void 0||$m(o,i,be,he,p,me);return}}for(var Z in d)he=d[Z],d.hasOwnProperty(Z)&&he!=null&&!p.hasOwnProperty(Z)&&Pt(o,i,Z,null,p,he);for(ke in p)he=p[ke],me=d[ke],!p.hasOwnProperty(ke)||he===me||he==null&&me==null||Pt(o,i,ke,he,p,me)}function z1(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y5(){if(typeof performance.getEntriesByType=="function"){for(var o=0,i=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var x=d[p],v=x.transferSize,k=x.initiatorType,D=x.duration;if(v&&D&&z1(k)){for(k=0,D=x.responseEnd,p+=1;p<d.length;p++){var V=d[p],oe=V.startTime;if(oe>D)break;var be=V.transferSize,ke=V.initiatorType;be&&z1(ke)&&(V=V.responseEnd,k+=be*(V<D?1:(D-oe)/(V-oe)))}if(--p,i+=8*(v+k)/(x.duration/1e3),o++,10<o)break}}if(0<o)return i/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Hm=null,Um=null;function du(o){return o.nodeType===9?o:o.ownerDocument}function L1(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B1(o,i){if(o===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&i==="foreignObject"?0:o}function Vm(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fm=null;function b5(){var o=window.event;return o&&o.type==="popstate"?o===Fm?!1:(Fm=o,!0):(Fm=null,!1)}var _1=typeof setTimeout=="function"?setTimeout:void 0,v5=typeof clearTimeout=="function"?clearTimeout:void 0,P1=typeof Promise=="function"?Promise:void 0,j5=typeof queueMicrotask=="function"?queueMicrotask:typeof P1<"u"?function(o){return P1.resolve(null).then(o).catch(w5)}:_1;function w5(o){setTimeout(function(){throw o})}function Sa(o){return o==="head"}function I1(o,i){var d=i,p=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(p===0){o.removeChild(x),zl(i);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")Ji(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Ji(d);for(var v=d.firstChild;v;){var k=v.nextSibling,D=v.nodeName;v[pi]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||d.removeChild(v),v=k}}else d==="body"&&Ji(o.ownerDocument.body);d=x}while(d);zl(i)}function $1(o,i){var d=o;o=0;do{var p=d.nextSibling;if(d.nodeType===1?i?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(i?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=p}while(d)}function qm(o){var i=o.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var d=i;switch(i=i.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":qm(d),Jf(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function N5(o,i,d,p){for(;o.nodeType===1;){var x=d;if(o.nodeName.toLowerCase()!==i.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[pi])switch(i){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(v=o.getAttribute("rel"),v==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(v!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(v=o.getAttribute("src"),(v!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(i==="input"&&o.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===v)return o}else return o;if(o=Bn(o.nextSibling),o===null)break}return null}function C5(o,i,d){if(i==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=Bn(o.nextSibling),o===null))return null;return o}function H1(o,i){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!i||(o=Bn(o.nextSibling),o===null))return null;return o}function Wm(o){return o.data==="$?"||o.data==="$~"}function Km(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function S5(o,i){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=i;else if(o.data!=="$?"||d.readyState!=="loading")i();else{var p=function(){i(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function Bn(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return o}var Gm=null;function U1(o){o=o.nextSibling;for(var i=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(i===0)return Bn(o.nextSibling);i--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||i++}o=o.nextSibling}return null}function V1(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(i===0)return o;i--}else d!=="/$"&&d!=="/&"||i++}o=o.previousSibling}return null}function F1(o,i,d){switch(i=du(d),o){case"html":if(o=i.documentElement,!o)throw Error(s(452));return o;case"head":if(o=i.head,!o)throw Error(s(453));return o;case"body":if(o=i.body,!o)throw Error(s(454));return o;default:throw Error(s(451))}}function Ji(o){for(var i=o.attributes;i.length;)o.removeAttributeNode(i[0]);Jf(o)}var _n=new Map,q1=new Set;function uu(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Us=_.d;_.d={f:k5,r:E5,D:T5,C:A5,L:M5,m:O5,X:R5,S:D5,M:z5};function k5(){var o=Us.f(),i=ru();return o||i}function E5(o){var i=Zo(o);i!==null&&i.tag===5&&i.type==="form"?iv(i):Us.r(o)}var Ol=typeof document>"u"?null:document;function W1(o,i,d){var p=Ol;if(p&&typeof i=="string"&&i){var x=An(i);x='link[rel="'+o+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),q1.has(x)||(q1.add(x),o={rel:o,crossOrigin:d,href:i},p.querySelector(x)===null&&(i=p.createElement("link"),Ar(i,"link",o),br(i),p.head.appendChild(i)))}}function T5(o){Us.D(o),W1("dns-prefetch",o,null)}function A5(o,i){Us.C(o,i),W1("preconnect",o,i)}function M5(o,i,d){Us.L(o,i,d);var p=Ol;if(p&&o&&i){var x='link[rel="preload"][as="'+An(i)+'"]';i==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+An(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+An(d.imageSizes)+'"]')):x+='[href="'+An(o)+'"]';var v=x;switch(i){case"style":v=Dl(o);break;case"script":v=Rl(o)}_n.has(v)||(o=g({rel:"preload",href:i==="image"&&d&&d.imageSrcSet?void 0:o,as:i},d),_n.set(v,o),p.querySelector(x)!==null||i==="style"&&p.querySelector(Qi(v))||i==="script"&&p.querySelector(Xi(v))||(i=p.createElement("link"),Ar(i,"link",o),br(i),p.head.appendChild(i)))}}function O5(o,i){Us.m(o,i);var d=Ol;if(d&&o){var p=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+An(p)+'"][href="'+An(o)+'"]',v=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Rl(o)}if(!_n.has(v)&&(o=g({rel:"modulepreload",href:o},i),_n.set(v,o),d.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Xi(v)))return}p=d.createElement("link"),Ar(p,"link",o),br(p),d.head.appendChild(p)}}}function D5(o,i,d){Us.S(o,i,d);var p=Ol;if(p&&o){var x=el(p).hoistableStyles,v=Dl(o);i=i||"default";var k=x.get(v);if(!k){var D={loading:0,preload:null};if(k=p.querySelector(Qi(v)))D.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":i},d),(d=_n.get(v))&&Ym(o,d);var V=k=p.createElement("link");br(V),Ar(V,"link",o),V._p=new Promise(function(oe,be){V.onload=oe,V.onerror=be}),V.addEventListener("load",function(){D.loading|=1}),V.addEventListener("error",function(){D.loading|=2}),D.loading|=4,hu(k,i,p)}k={type:"stylesheet",instance:k,count:1,state:D},x.set(v,k)}}}function R5(o,i){Us.X(o,i);var d=Ol;if(d&&o){var p=el(d).hoistableScripts,x=Rl(o),v=p.get(x);v||(v=d.querySelector(Xi(x)),v||(o=g({src:o,async:!0},i),(i=_n.get(x))&&Jm(o,i),v=d.createElement("script"),br(v),Ar(v,"link",o),d.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(x,v))}}function z5(o,i){Us.M(o,i);var d=Ol;if(d&&o){var p=el(d).hoistableScripts,x=Rl(o),v=p.get(x);v||(v=d.querySelector(Xi(x)),v||(o=g({src:o,async:!0,type:"module"},i),(i=_n.get(x))&&Jm(o,i),v=d.createElement("script"),br(v),Ar(v,"link",o),d.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(x,v))}}function K1(o,i,d,p){var x=(x=ve.current)?uu(x):null;if(!x)throw Error(s(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(i=Dl(d.href),d=el(x).hoistableStyles,p=d.get(i),p||(p={type:"style",instance:null,count:0,state:null},d.set(i,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Dl(d.href);var v=el(x).hoistableStyles,k=v.get(o);if(k||(x=x.ownerDocument||x,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(o,k),(v=x.querySelector(Qi(o)))&&!v._p&&(k.instance=v,k.state.loading=5),_n.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},_n.set(o,d),v||L5(x,o,d,k.state))),i&&p===null)throw Error(s(528,""));return k}if(i&&p!==null)throw Error(s(529,""));return null;case"script":return i=d.async,d=d.src,typeof d=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Rl(d),d=el(x).hoistableScripts,p=d.get(i),p||(p={type:"script",instance:null,count:0,state:null},d.set(i,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,o))}}function Dl(o){return'href="'+An(o)+'"'}function Qi(o){return'link[rel="stylesheet"]['+o+"]"}function G1(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function L5(o,i,d,p){o.querySelector('link[rel="preload"][as="style"]['+i+"]")?p.loading=1:(i=o.createElement("link"),p.preload=i,i.addEventListener("load",function(){return p.loading|=1}),i.addEventListener("error",function(){return p.loading|=2}),Ar(i,"link",d),br(i),o.head.appendChild(i))}function Rl(o){return'[src="'+An(o)+'"]'}function Xi(o){return"script[async]"+o}function Y1(o,i,d){if(i.count++,i.instance===null)switch(i.type){case"style":var p=o.querySelector('style[data-href~="'+An(d.href)+'"]');if(p)return i.instance=p,br(p),p;var x=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),br(p),Ar(p,"style",x),hu(p,d.precedence,o),i.instance=p;case"stylesheet":x=Dl(d.href);var v=o.querySelector(Qi(x));if(v)return i.state.loading|=4,i.instance=v,br(v),v;p=G1(d),(x=_n.get(x))&&Ym(p,x),v=(o.ownerDocument||o).createElement("link"),br(v);var k=v;return k._p=new Promise(function(D,V){k.onload=D,k.onerror=V}),Ar(v,"link",p),i.state.loading|=4,hu(v,d.precedence,o),i.instance=v;case"script":return v=Rl(d.src),(x=o.querySelector(Xi(v)))?(i.instance=x,br(x),x):(p=d,(x=_n.get(v))&&(p=g({},d),Jm(p,x)),o=o.ownerDocument||o,x=o.createElement("script"),br(x),Ar(x,"link",p),o.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(p=i.instance,i.state.loading|=4,hu(p,d.precedence,o));return i.instance}function hu(o,i,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,v=x,k=0;k<p.length;k++){var D=p[k];if(D.dataset.precedence===i)v=D;else if(v!==x)break}v?v.parentNode.insertBefore(o,v.nextSibling):(i=d.nodeType===9?d.head:d,i.insertBefore(o,i.firstChild))}function Ym(o,i){o.crossOrigin==null&&(o.crossOrigin=i.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=i.referrerPolicy),o.title==null&&(o.title=i.title)}function Jm(o,i){o.crossOrigin==null&&(o.crossOrigin=i.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=i.referrerPolicy),o.integrity==null&&(o.integrity=i.integrity)}var fu=null;function J1(o,i,d){if(fu===null){var p=new Map,x=fu=new Map;x.set(d,p)}else x=fu,p=x.get(d),p||(p=new Map,x.set(d,p));if(p.has(o))return p;for(p.set(o,null),d=d.getElementsByTagName(o),x=0;x<d.length;x++){var v=d[x];if(!(v[pi]||v[De]||o==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var k=v.getAttribute(i)||"";k=o+k;var D=p.get(k);D?D.push(v):p.set(k,[v])}}return p}function Q1(o,i,d){o=o.ownerDocument||o,o.head.insertBefore(d,i==="title"?o.querySelector("head > title"):null)}function B5(o,i,d){if(d===1||i.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return o=i.disabled,typeof i.precedence=="string"&&o==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function X1(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function _5(o,i,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=Dl(p.href),v=i.querySelector(Qi(x));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(o.count++,o=pu.bind(o),i.then(o,o)),d.state.loading|=4,d.instance=v,br(v);return}v=i.ownerDocument||i,p=G1(p),(x=_n.get(x))&&Ym(p,x),v=v.createElement("link"),br(v);var k=v;k._p=new Promise(function(D,V){k.onload=D,k.onerror=V}),Ar(v,"link",p),d.instance=v}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,i),(i=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=pu.bind(o),i.addEventListener("load",d),i.addEventListener("error",d))}}var Qm=0;function P5(o,i){return o.stylesheets&&o.count===0&&gu(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var p=setTimeout(function(){if(o.stylesheets&&gu(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4+i);0<o.imgBytes&&Qm===0&&(Qm=62500*y5());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&gu(o,o.stylesheets),o.unsuspend)){var v=o.unsuspend;o.unsuspend=null,v()}},(o.imgBytes>Qm?50:800)+i);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(x)}}:null}function pu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gu(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var mu=null;function gu(o,i){o.stylesheets=null,o.unsuspend!==null&&(o.count++,mu=new Map,i.forEach(I5,o),mu=null,pu.call(o))}function I5(o,i){if(!(i.state.loading&4)){var d=mu.get(o);if(d)var p=d.get(null);else{d=new Map,mu.set(o,d);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var k=x[v];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),p=k)}p&&d.set(null,p)}x=i.instance,k=x.getAttribute("data-precedence"),v=d.get(k)||p,v===p&&d.set(null,x),d.set(k,x),this.count++,p=pu.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),v?v.parentNode.insertBefore(x,v.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),i.state.loading|=4}}var Zi={$$typeof:E,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function $5(o,i,d,p,x,v,k,D,V){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cn(0),this.hiddenUpdates=cn(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Z1(o,i,d,p,x,v,k,D,V,oe,be,ke){return o=new $5(o,i,d,k,V,oe,be,ke,D),i=1,v===!0&&(i|=24),v=un(3,null,null,i),o.current=v,v.stateNode=o,i=Mp(),i.refCount++,o.pooledCache=i,i.refCount++,v.memoizedState={element:p,isDehydrated:d,cache:i},zp(v),o}function e2(o){return o?(o=dl,o):dl}function t2(o,i,d,p,x,v){x=e2(x),p.context===null?p.context=x:p.pendingContext=x,p=pa(i),p.payload={element:d},v=v===void 0?null:v,v!==null&&(p.callback=v),d=ma(o,p,i),d!==null&&(en(d,o,i),Oi(d,o,i))}function r2(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<i?d:i}}function Xm(o,i){r2(o,i),(o=o.alternate)&&r2(o,i)}function n2(o){if(o.tag===13||o.tag===31){var i=co(o,67108864);i!==null&&en(i,o,67108864),Xm(o,67108864)}}function s2(o){if(o.tag===13||o.tag===31){var i=gn();i=_e(i);var d=co(o,i);d!==null&&en(d,o,i),Xm(o,i)}}var xu=!0;function H5(o,i,d,p){var x=M.T;M.T=null;var v=_.p;try{_.p=2,Zm(o,i,d,p)}finally{_.p=v,M.T=x}}function U5(o,i,d,p){var x=M.T;M.T=null;var v=_.p;try{_.p=8,Zm(o,i,d,p)}finally{_.p=v,M.T=x}}function Zm(o,i,d,p){if(xu){var x=eg(p);if(x===null)Im(o,i,p,yu,d),o2(o,p);else if(F5(x,o,i,d,p))p.stopPropagation();else if(o2(o,p),i&4&&-1<V5.indexOf(o)){for(;x!==null;){var v=Zo(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var k=nt(v.pendingLanes);if(k!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;k;){var V=1<<31-Fe(k);D.entanglements[1]|=V,k&=~V}us(v),(Tt&6)===0&&(eu=Yt()+500,Ki(0))}}break;case 31:case 13:D=co(v,2),D!==null&&en(D,v,2),ru(),Xm(v,2)}if(v=eg(p),v===null&&Im(o,i,p,yu,d),v===x)break;x=v}x!==null&&p.stopPropagation()}else Im(o,i,p,null,d)}}function eg(o){return o=rp(o),tg(o)}var yu=null;function tg(o){if(yu=null,o=Xo(o),o!==null){var i=l(o);if(i===null)o=null;else{var d=i.tag;if(d===13){if(o=c(i),o!==null)return o;o=null}else if(d===31){if(o=u(i),o!==null)return o;o=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return yu=o,null}function a2(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wn()){case ge:return 2;case Te:return 8;case Le:case Ye:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var rg=!1,ka=null,Ea=null,Ta=null,ec=new Map,tc=new Map,Aa=[],V5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o2(o,i){switch(o){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":ec.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(i.pointerId)}}function rc(o,i,d,p,x,v){return o===null||o.nativeEvent!==v?(o={blockedOn:i,domEventName:d,eventSystemFlags:p,nativeEvent:v,targetContainers:[x]},i!==null&&(i=Zo(i),i!==null&&n2(i)),o):(o.eventSystemFlags|=p,i=o.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),o)}function F5(o,i,d,p,x){switch(i){case"focusin":return ka=rc(ka,o,i,d,p,x),!0;case"dragenter":return Ea=rc(Ea,o,i,d,p,x),!0;case"mouseover":return Ta=rc(Ta,o,i,d,p,x),!0;case"pointerover":var v=x.pointerId;return ec.set(v,rc(ec.get(v)||null,o,i,d,p,x)),!0;case"gotpointercapture":return v=x.pointerId,tc.set(v,rc(tc.get(v)||null,o,i,d,p,x)),!0}return!1}function l2(o){var i=Xo(o.target);if(i!==null){var d=l(i);if(d!==null){if(i=d.tag,i===13){if(i=c(d),i!==null){o.blockedOn=i,We(o.priority,function(){s2(d)});return}}else if(i===31){if(i=u(d),i!==null){o.blockedOn=i,We(o.priority,function(){s2(d)});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function bu(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var d=eg(o.nativeEvent);if(d===null){d=o.nativeEvent;var p=new d.constructor(d.type,d);tp=p,d.target.dispatchEvent(p),tp=null}else return i=Zo(d),i!==null&&n2(i),o.blockedOn=d,!1;i.shift()}return!0}function i2(o,i,d){bu(o)&&d.delete(i)}function q5(){rg=!1,ka!==null&&bu(ka)&&(ka=null),Ea!==null&&bu(Ea)&&(Ea=null),Ta!==null&&bu(Ta)&&(Ta=null),ec.forEach(i2),tc.forEach(i2)}function vu(o,i){o.blockedOn===i&&(o.blockedOn=null,rg||(rg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,q5)))}var ju=null;function c2(o){ju!==o&&(ju=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ju===o&&(ju=null);for(var i=0;i<o.length;i+=3){var d=o[i],p=o[i+1],x=o[i+2];if(typeof p!="function"){if(tg(p||d)===null)continue;break}var v=Zo(d);v!==null&&(o.splice(i,3),i-=3,em(v,{pending:!0,data:x,method:d.method,action:p},p,x))}}))}function zl(o){function i(V){return vu(V,o)}ka!==null&&vu(ka,o),Ea!==null&&vu(Ea,o),Ta!==null&&vu(Ta,o),ec.forEach(i),tc.forEach(i);for(var d=0;d<Aa.length;d++){var p=Aa[d];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Aa.length&&(d=Aa[0],d.blockedOn===null);)l2(d),d.blockedOn===null&&Aa.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var x=d[p],v=d[p+1],k=x[rt]||null;if(typeof v=="function")k||c2(d);else if(k){var D=null;if(v&&v.hasAttribute("formAction")){if(x=v,k=v[rt]||null)D=k.formAction;else if(tg(x)!==null)continue}else D=k.action;typeof D=="function"?d[p+1]=D:(d.splice(p,3),p-=3),c2(d)}}}function d2(){function o(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(k){return x=k})},focusReset:"manual",scroll:"manual"})}function i(){x!==null&&(x(),x=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),x!==null&&(x(),x=null)}}}function ng(o){this._internalRoot=o}wu.prototype.render=ng.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(s(409));var d=i.current,p=gn();t2(d,p,o,i,null,null)},wu.prototype.unmount=ng.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;t2(o.current,2,null,o,null,null),ru(),i[Ve]=null}};function wu(o){this._internalRoot=o}wu.prototype.unstable_scheduleHydration=function(o){if(o){var i=Ae();o={blockedOn:null,target:o,priority:i};for(var d=0;d<Aa.length&&i!==0&&i<Aa[d].priority;d++);Aa.splice(d,0,o),d===0&&l2(o)}};var u2=t.version;if(u2!=="19.2.0")throw Error(s(527,u2,"19.2.0"));_.findDOMNode=function(o){var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return o=f(i),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var W5={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{xe=Nu.inject(W5),Ge=Nu}catch{}}return sc.createRoot=function(o,i){if(!a(o))throw Error(s(299));var d=!1,p="",x=yv,v=bv,k=vv;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(k=i.onRecoverableError)),i=Z1(o,1,!1,null,null,d,p,null,x,v,k,d2),o[Ve]=i.current,Pm(o),new ng(i)},sc.hydrateRoot=function(o,i,d){if(!a(o))throw Error(s(299));var p=!1,x="",v=yv,k=bv,D=vv,V=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(v=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(D=d.onRecoverableError),d.formState!==void 0&&(V=d.formState)),i=Z1(o,1,!0,i,d??null,p,x,V,v,k,D,d2),i.context=e2(null),d=i.current,p=gn(),p=_e(p),x=pa(p),x.callback=null,ma(d,x,p),d=p,i.current.lanes=d,it(i,d),us(i),o[Ve]=i.current,Pm(o),new wu(i)},sc.version="19.2.0",sc}var j2;function tk(){if(j2)return og.exports;j2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),og.exports=ek(),og.exports}var rk=tk();function u3(e,t){return function(){return e.apply(t,arguments)}}const{toString:nk}=Object.prototype,{getPrototypeOf:o0}=Object,{iterator:ff,toStringTag:h3}=Symbol,pf=(e=>t=>{const r=nk.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ss=e=>(e=e.toLowerCase(),t=>pf(t)===e),mf=e=>t=>typeof t===e,{isArray:ai}=Array,Kl=mf("undefined");function Xc(e){return e!==null&&!Kl(e)&&e.constructor!==null&&!Kl(e.constructor)&&sn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const f3=ss("ArrayBuffer");function sk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&f3(e.buffer),t}const ak=mf("string"),sn=mf("function"),p3=mf("number"),Zc=e=>e!==null&&typeof e=="object",ok=e=>e===!0||e===!1,Wu=e=>{if(pf(e)!=="object")return!1;const t=o0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(h3 in e)&&!(ff in e)},lk=e=>{if(!Zc(e)||Xc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ik=ss("Date"),ck=ss("File"),dk=ss("Blob"),uk=ss("FileList"),hk=e=>Zc(e)&&sn(e.pipe),fk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||sn(e.append)&&((t=pf(e))==="formdata"||t==="object"&&sn(e.toString)&&e.toString()==="[object FormData]"))},pk=ss("URLSearchParams"),[mk,gk,xk,yk]=["ReadableStream","Request","Response","Headers"].map(ss),bk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ed(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),ai(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(Xc(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let u;for(s=0;s<c;s++)u=l[s],t.call(null,e[u],u,e)}}function m3(e,t){if(Xc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,g3=e=>!Kl(e)&&e!==Eo;function ax(){const{caseless:e,skipUndefined:t}=g3(this)&&this||{},r={},s=(a,l)=>{const c=e&&m3(r,l)||l;Wu(r[c])&&Wu(a)?r[c]=ax(r[c],a):Wu(a)?r[c]=ax({},a):ai(a)?r[c]=a.slice():(!t||!Kl(a))&&(r[c]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&ed(arguments[a],s);return r}const vk=(e,t,r,{allOwnKeys:s}={})=>(ed(t,(a,l)=>{r&&sn(a)?e[l]=u3(a,r):e[l]=a},{allOwnKeys:s}),e),jk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wk=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Nk=(e,t,r,s)=>{let a,l,c;const u={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)c=a[l],(!s||s(c,e,t))&&!u[c]&&(t[c]=e[c],u[c]=!0);e=r!==!1&&o0(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Ck=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Sk=e=>{if(!e)return null;if(ai(e))return e;let t=e.length;if(!p3(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},kk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&o0(Uint8Array)),Ek=(e,t)=>{const s=(e&&e[ff]).call(e);let a;for(;(a=s.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},Tk=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Ak=ss("HTMLFormElement"),Mk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),w2=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ok=ss("RegExp"),x3=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};ed(r,(a,l)=>{let c;(c=t(a,l,e))!==!1&&(s[l]=c||a)}),Object.defineProperties(e,s)},Dk=e=>{x3(e,(t,r)=>{if(sn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(sn(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Rk=(e,t)=>{const r={},s=a=>{a.forEach(l=>{r[l]=!0})};return ai(e)?s(e):s(String(e).split(t)),r},zk=()=>{},Lk=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Bk(e){return!!(e&&sn(e.append)&&e[h3]==="FormData"&&e[ff])}const _k=e=>{const t=new Array(10),r=(s,a)=>{if(Zc(s)){if(t.indexOf(s)>=0)return;if(Xc(s))return s;if(!("toJSON"in s)){t[a]=s;const l=ai(s)?[]:{};return ed(s,(c,u)=>{const h=r(c,a+1);!Kl(h)&&(l[u]=h)}),t[a]=void 0,l}}return s};return r(e,0)},Pk=ss("AsyncFunction"),Ik=e=>e&&(Zc(e)||sn(e))&&sn(e.then)&&sn(e.catch),y3=((e,t)=>e?setImmediate:t?((r,s)=>(Eo.addEventListener("message",({source:a,data:l})=>{a===Eo&&l===r&&s.length&&s.shift()()},!1),a=>{s.push(a),Eo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",sn(Eo.postMessage)),$k=typeof queueMicrotask<"u"?queueMicrotask.bind(Eo):typeof process<"u"&&process.nextTick||y3,Hk=e=>e!=null&&sn(e[ff]),pe={isArray:ai,isArrayBuffer:f3,isBuffer:Xc,isFormData:fk,isArrayBufferView:sk,isString:ak,isNumber:p3,isBoolean:ok,isObject:Zc,isPlainObject:Wu,isEmptyObject:lk,isReadableStream:mk,isRequest:gk,isResponse:xk,isHeaders:yk,isUndefined:Kl,isDate:ik,isFile:ck,isBlob:dk,isRegExp:Ok,isFunction:sn,isStream:hk,isURLSearchParams:pk,isTypedArray:kk,isFileList:uk,forEach:ed,merge:ax,extend:vk,trim:bk,stripBOM:jk,inherits:wk,toFlatObject:Nk,kindOf:pf,kindOfTest:ss,endsWith:Ck,toArray:Sk,forEachEntry:Ek,matchAll:Tk,isHTMLForm:Ak,hasOwnProperty:w2,hasOwnProp:w2,reduceDescriptors:x3,freezeMethods:Dk,toObjectSet:Rk,toCamelCase:Mk,noop:zk,toFiniteNumber:Lk,findKey:m3,global:Eo,isContextDefined:g3,isSpecCompliantForm:Bk,toJSONObject:_k,isAsyncFn:Pk,isThenable:Ik,setImmediate:y3,asap:$k,isIterable:Hk};function ut(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}pe.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const b3=ut.prototype,v3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{v3[e]={value:e}});Object.defineProperties(ut,v3);Object.defineProperty(b3,"isAxiosError",{value:!0});ut.from=(e,t,r,s,a,l)=>{const c=Object.create(b3);pe.toFlatObject(e,c,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const u=e&&e.message?e.message:"Error",h=t==null&&e?e.code:t;return ut.call(c,u,h,r,s,a),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",l&&Object.assign(c,l),c};const Uk=null;function ox(e){return pe.isPlainObject(e)||pe.isArray(e)}function j3(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function N2(e,t,r){return e?e.concat(t).map(function(a,l){return a=j3(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function Vk(e){return pe.isArray(e)&&!e.some(ox)}const Fk=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function gf(e,t,r){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,C){return!pe.isUndefined(C[N])});const s=r.metaTokens,a=r.visitor||m,l=r.dots,c=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(a))throw new TypeError("visitor must be a function");function f(j){if(j===null)return"";if(pe.isDate(j))return j.toISOString();if(pe.isBoolean(j))return j.toString();if(!h&&pe.isBlob(j))throw new ut("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(j)||pe.isTypedArray(j)?h&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function m(j,N,C){let w=j;if(j&&!C&&typeof j=="object"){if(pe.endsWith(N,"{}"))N=s?N:N.slice(0,-2),j=JSON.stringify(j);else if(pe.isArray(j)&&Vk(j)||(pe.isFileList(j)||pe.endsWith(N,"[]"))&&(w=pe.toArray(j)))return N=j3(N),w.forEach(function(E,O){!(pe.isUndefined(E)||E===null)&&t.append(c===!0?N2([N],O,l):c===null?N:N+"[]",f(E))}),!1}return ox(j)?!0:(t.append(N2(C,N,l),f(j)),!1)}const g=[],y=Object.assign(Fk,{defaultVisitor:m,convertValue:f,isVisitable:ox});function b(j,N){if(!pe.isUndefined(j)){if(g.indexOf(j)!==-1)throw Error("Circular reference detected in "+N.join("."));g.push(j),pe.forEach(j,function(w,T){(!(pe.isUndefined(w)||w===null)&&a.call(t,w,pe.isString(T)?T.trim():T,N,y))===!0&&b(w,N?N.concat(T):[T])}),g.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return b(e),t}function C2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function l0(e,t){this._pairs=[],e&&gf(e,this,t)}const w3=l0.prototype;w3.append=function(t,r){this._pairs.push([t,r])};w3.toString=function(t){const r=t?function(s){return t.call(this,s,C2)}:C2;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function qk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function N3(e,t,r){if(!t)return e;const s=r&&r.encode||qk;pe.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(t,r):l=pe.isURLSearchParams(t)?t.toString():new l0(t,r).toString(s),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class S2{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(s){s!==null&&t(s)})}}const C3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wk=typeof URLSearchParams<"u"?URLSearchParams:l0,Kk=typeof FormData<"u"?FormData:null,Gk=typeof Blob<"u"?Blob:null,Yk={isBrowser:!0,classes:{URLSearchParams:Wk,FormData:Kk,Blob:Gk},protocols:["http","https","file","blob","url","data"]},i0=typeof window<"u"&&typeof document<"u",lx=typeof navigator=="object"&&navigator||void 0,Jk=i0&&(!lx||["ReactNative","NativeScript","NS"].indexOf(lx.product)<0),Qk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xk=i0&&window.location.href||"http://localhost",Zk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:i0,hasStandardBrowserEnv:Jk,hasStandardBrowserWebWorkerEnv:Qk,navigator:lx,origin:Xk},Symbol.toStringTag,{value:"Module"})),Pr={...Zk,...Yk};function e8(e,t){return gf(e,new Pr.classes.URLSearchParams,{visitor:function(r,s,a,l){return Pr.isNode&&pe.isBuffer(r)?(this.append(s,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function t8(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function r8(e){const t={},r=Object.keys(e);let s;const a=r.length;let l;for(s=0;s<a;s++)l=r[s],t[l]=e[l];return t}function S3(e){function t(r,s,a,l){let c=r[l++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),h=l>=r.length;return c=!c&&pe.isArray(a)?a.length:c,h?(pe.hasOwnProp(a,c)?a[c]=[a[c],s]:a[c]=s,!u):((!a[c]||!pe.isObject(a[c]))&&(a[c]=[]),t(r,s,a[c],l)&&pe.isArray(a[c])&&(a[c]=r8(a[c])),!u)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const r={};return pe.forEachEntry(e,(s,a)=>{t(t8(s),a,r,0)}),r}return null}function n8(e,t,r){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const td={transitional:C3,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,l=pe.isObject(t);if(l&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return a?JSON.stringify(S3(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return e8(t,this.formSerializer).toString();if((u=pe.isFileList(t))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return gf(u?{"files[]":t}:t,h&&new h,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),n8(t)):t}],transformResponse:[function(t){const r=this.transitional||td.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(s&&!this.responseType||a)){const c=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?ut.from(u,ut.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pr.classes.FormData,Blob:Pr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{td.headers[e]={}});const s8=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),a8=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(c){a=c.indexOf(":"),r=c.substring(0,a).trim().toLowerCase(),s=c.substring(a+1).trim(),!(!r||t[r]&&s8[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},k2=Symbol("internals");function ac(e){return e&&String(e).trim().toLowerCase()}function Ku(e){return e===!1||e==null?e:pe.isArray(e)?e.map(Ku):String(e)}function o8(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const l8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function dg(e,t,r,s,a){if(pe.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!pe.isString(t)){if(pe.isString(s))return t.indexOf(s)!==-1;if(pe.isRegExp(s))return s.test(t)}}function i8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function c8(e,t){const r=pe.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,l,c){return this[s].call(this,t,a,l,c)},configurable:!0})})}let an=class{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function l(u,h,f){const m=ac(h);if(!m)throw new Error("header name must be a non-empty string");const g=pe.findKey(a,m);(!g||a[g]===void 0||f===!0||f===void 0&&a[g]!==!1)&&(a[g||h]=Ku(u))}const c=(u,h)=>pe.forEach(u,(f,m)=>l(f,m,h));if(pe.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(pe.isString(t)&&(t=t.trim())&&!l8(t))c(a8(t),r);else if(pe.isObject(t)&&pe.isIterable(t)){let u={},h,f;for(const m of t){if(!pe.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[f=m[0]]=(h=u[f])?pe.isArray(h)?[...h,m[1]]:[h,m[1]]:m[1]}c(u,r)}else t!=null&&l(r,t,s);return this}get(t,r){if(t=ac(t),t){const s=pe.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return o8(a);if(pe.isFunction(r))return r.call(this,a,s);if(pe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ac(t),t){const s=pe.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||dg(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function l(c){if(c=ac(c),c){const u=pe.findKey(s,c);u&&(!r||dg(s,s[u],u,r))&&(delete s[u],a=!0)}}return pe.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const l=r[s];(!t||dg(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,s={};return pe.forEach(this,(a,l)=>{const c=pe.findKey(s,l);if(c){r[c]=Ku(a),delete r[l];return}const u=t?i8(l):String(l).trim();u!==l&&delete r[l],r[u]=Ku(a),s[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return pe.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&pe.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[k2]=this[k2]={accessors:{}}).accessors,a=this.prototype;function l(c){const u=ac(c);s[u]||(c8(a,c),s[u]=!0)}return pe.isArray(t)?t.forEach(l):l(t),this}};an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(an.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});pe.freezeMethods(an);function ug(e,t){const r=this||td,s=t||r,a=an.from(s.headers);let l=s.data;return pe.forEach(e,function(u){l=u.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function k3(e){return!!(e&&e.__CANCEL__)}function oi(e,t,r){ut.call(this,e??"canceled",ut.ERR_CANCELED,t,r),this.name="CanceledError"}pe.inherits(oi,ut,{__CANCEL__:!0});function E3(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new ut("Request failed with status code "+r.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function d8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function u8(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,l=0,c;return t=t!==void 0?t:1e3,function(h){const f=Date.now(),m=s[l];c||(c=f),r[a]=h,s[a]=f;let g=l,y=0;for(;g!==a;)y+=r[g++],g=g%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),f-c<t)return;const b=m&&f-m;return b?Math.round(y*1e3/b):void 0}}function h8(e,t){let r=0,s=1e3/t,a,l;const c=(f,m=Date.now())=>{r=m,a=null,l&&(clearTimeout(l),l=null),e(...f)};return[(...f)=>{const m=Date.now(),g=m-r;g>=s?c(f,m):(a=f,l||(l=setTimeout(()=>{l=null,c(a)},s-g)))},()=>a&&c(a)]}const lh=(e,t,r=3)=>{let s=0;const a=u8(50,250);return h8(l=>{const c=l.loaded,u=l.lengthComputable?l.total:void 0,h=c-s,f=a(h),m=c<=u;s=c;const g={loaded:c,total:u,progress:u?c/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&m?(u-c)/f:void 0,event:l,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(g)},r)},E2=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},T2=e=>(...t)=>pe.asap(()=>e(...t)),f8=Pr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Pr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Pr.origin),Pr.navigator&&/(msie|trident)/i.test(Pr.navigator.userAgent)):()=>!0,p8=Pr.hasStandardBrowserEnv?{write(e,t,r,s,a,l,c){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];pe.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),pe.isString(s)&&u.push(`path=${s}`),pe.isString(a)&&u.push(`domain=${a}`),l===!0&&u.push("secure"),pe.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function m8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function g8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function T3(e,t,r){let s=!m8(t);return e&&(s||r==!1)?g8(e,t):t}const A2=e=>e instanceof an?{...e}:e;function Ho(e,t){t=t||{};const r={};function s(f,m,g,y){return pe.isPlainObject(f)&&pe.isPlainObject(m)?pe.merge.call({caseless:y},f,m):pe.isPlainObject(m)?pe.merge({},m):pe.isArray(m)?m.slice():m}function a(f,m,g,y){if(pe.isUndefined(m)){if(!pe.isUndefined(f))return s(void 0,f,g,y)}else return s(f,m,g,y)}function l(f,m){if(!pe.isUndefined(m))return s(void 0,m)}function c(f,m){if(pe.isUndefined(m)){if(!pe.isUndefined(f))return s(void 0,f)}else return s(void 0,m)}function u(f,m,g){if(g in t)return s(f,m);if(g in e)return s(void 0,f)}const h={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(f,m,g)=>a(A2(f),A2(m),g,!0)};return pe.forEach(Object.keys({...e,...t}),function(m){const g=h[m]||a,y=g(e[m],t[m],m);pe.isUndefined(y)&&g!==u||(r[m]=y)}),r}const A3=e=>{const t=Ho({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:u}=t;if(t.headers=c=an.from(c),t.url=N3(T3(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),pe.isFormData(r)){if(Pr.hasStandardBrowserEnv||Pr.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(pe.isFunction(r.getHeaders)){const h=r.getHeaders(),f=["content-type","content-length"];Object.entries(h).forEach(([m,g])=>{f.includes(m.toLowerCase())&&c.set(m,g)})}}if(Pr.hasStandardBrowserEnv&&(s&&pe.isFunction(s)&&(s=s(t)),s||s!==!1&&f8(t.url))){const h=a&&l&&p8.read(l);h&&c.set(a,h)}return t},x8=typeof XMLHttpRequest<"u",y8=x8&&function(e){return new Promise(function(r,s){const a=A3(e);let l=a.data;const c=an.from(a.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:f}=a,m,g,y,b,j;function N(){b&&b(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let C=new XMLHttpRequest;C.open(a.method.toUpperCase(),a.url,!0),C.timeout=a.timeout;function w(){if(!C)return;const E=an.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),R={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:E,config:e,request:C};E3(function(z){r(z),N()},function(z){s(z),N()},R),C=null}"onloadend"in C?C.onloadend=w:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(w)},C.onabort=function(){C&&(s(new ut("Request aborted",ut.ECONNABORTED,e,C)),C=null)},C.onerror=function(O){const R=O&&O.message?O.message:"Network Error",L=new ut(R,ut.ERR_NETWORK,e,C);L.event=O||null,s(L),C=null},C.ontimeout=function(){let O=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const R=a.transitional||C3;a.timeoutErrorMessage&&(O=a.timeoutErrorMessage),s(new ut(O,R.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,e,C)),C=null},l===void 0&&c.setContentType(null),"setRequestHeader"in C&&pe.forEach(c.toJSON(),function(O,R){C.setRequestHeader(R,O)}),pe.isUndefined(a.withCredentials)||(C.withCredentials=!!a.withCredentials),u&&u!=="json"&&(C.responseType=a.responseType),f&&([y,j]=lh(f,!0),C.addEventListener("progress",y)),h&&C.upload&&([g,b]=lh(h),C.upload.addEventListener("progress",g),C.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(m=E=>{C&&(s(!E||E.type?new oi(null,e,C):E),C.abort(),C=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const T=d8(a.url);if(T&&Pr.protocols.indexOf(T)===-1){s(new ut("Unsupported protocol "+T+":",ut.ERR_BAD_REQUEST,e));return}C.send(l||null)})},b8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const l=function(f){if(!a){a=!0,u();const m=f instanceof Error?f:this.reason;s.abort(m instanceof ut?m:new oi(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,l(new ut(`timeout ${t} of ms exceeded`,ut.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(l):f.removeEventListener("abort",l)}),e=null)};e.forEach(f=>f.addEventListener("abort",l));const{signal:h}=s;return h.unsubscribe=()=>pe.asap(u),h}},v8=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},j8=async function*(e,t){for await(const r of w8(e))yield*v8(r,t)},w8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},M2=(e,t,r,s)=>{const a=j8(e,t);let l=0,c,u=h=>{c||(c=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:f,value:m}=await a.next();if(f){u(),h.close();return}let g=m.byteLength;if(r){let y=l+=g;r(y)}h.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(h){return u(h),a.return()}},{highWaterMark:2})},O2=64*1024,{isFunction:Cu}=pe,N8=(({Request:e,Response:t})=>({Request:e,Response:t}))(pe.global),{ReadableStream:D2,TextEncoder:R2}=pe.global,z2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},C8=e=>{e=pe.merge.call({skipUndefined:!0},N8,e);const{fetch:t,Request:r,Response:s}=e,a=t?Cu(t):typeof fetch=="function",l=Cu(r),c=Cu(s);if(!a)return!1;const u=a&&Cu(D2),h=a&&(typeof R2=="function"?(j=>N=>j.encode(N))(new R2):async j=>new Uint8Array(await new r(j).arrayBuffer())),f=l&&u&&z2(()=>{let j=!1;const N=new r(Pr.origin,{body:new D2,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!N}),m=c&&u&&z2(()=>pe.isReadableStream(new s("").body)),g={stream:m&&(j=>j.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!g[j]&&(g[j]=(N,C)=>{let w=N&&N[j];if(w)return w.call(N);throw new ut(`Response type '${j}' is not supported`,ut.ERR_NOT_SUPPORT,C)})});const y=async j=>{if(j==null)return 0;if(pe.isBlob(j))return j.size;if(pe.isSpecCompliantForm(j))return(await new r(Pr.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(j)||pe.isArrayBuffer(j))return j.byteLength;if(pe.isURLSearchParams(j)&&(j=j+""),pe.isString(j))return(await h(j)).byteLength},b=async(j,N)=>{const C=pe.toFiniteNumber(j.getContentLength());return C??y(N)};return async j=>{let{url:N,method:C,data:w,signal:T,cancelToken:E,timeout:O,onDownloadProgress:R,onUploadProgress:L,responseType:z,headers:q,withCredentials:I="same-origin",fetchOptions:H}=A3(j),W=t||fetch;z=z?(z+"").toLowerCase():"text";let ie=b8([T,E&&E.toAbortSignal()],O),Y=null;const ne=ie&&ie.unsubscribe&&(()=>{ie.unsubscribe()});let F;try{if(L&&f&&C!=="get"&&C!=="head"&&(F=await b(q,w))!==0){let A=new r(N,{method:"POST",body:w,duplex:"half"}),B;if(pe.isFormData(w)&&(B=A.headers.get("content-type"))&&q.setContentType(B),A.body){const[P,K]=E2(F,lh(T2(L)));w=M2(A.body,O2,P,K)}}pe.isString(I)||(I=I?"include":"omit");const M=l&&"credentials"in r.prototype,_={...H,signal:ie,method:C.toUpperCase(),headers:q.normalize().toJSON(),body:w,duplex:"half",credentials:M?I:void 0};Y=l&&new r(N,_);let X=await(l?W(Y,H):W(N,_));const $=m&&(z==="stream"||z==="response");if(m&&(R||$&&ne)){const A={};["status","statusText","headers"].forEach(de=>{A[de]=X[de]});const B=pe.toFiniteNumber(X.headers.get("content-length")),[P,K]=R&&E2(B,lh(T2(R),!0))||[];X=new s(M2(X.body,O2,P,()=>{K&&K(),ne&&ne()}),A)}z=z||"text";let ce=await g[pe.findKey(g,z)||"text"](X,j);return!$&&ne&&ne(),await new Promise((A,B)=>{E3(A,B,{data:ce,headers:an.from(X.headers),status:X.status,statusText:X.statusText,config:j,request:Y})})}catch(M){throw ne&&ne(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new ut("Network Error",ut.ERR_NETWORK,j,Y),{cause:M.cause||M}):ut.from(M,M&&M.code,j,Y)}}},S8=new Map,M3=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,l=[s,a,r];let c=l.length,u=c,h,f,m=S8;for(;u--;)h=l[u],f=m.get(h),f===void 0&&m.set(h,f=u?new Map:C8(t)),m=f;return f};M3();const c0={http:Uk,xhr:y8,fetch:{get:M3}};pe.forEach(c0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const L2=e=>`- ${e}`,k8=e=>pe.isFunction(e)||e===null||e===!1;function E8(e,t){e=pe.isArray(e)?e:[e];const{length:r}=e;let s,a;const l={};for(let c=0;c<r;c++){s=e[c];let u;if(a=s,!k8(s)&&(a=c0[(u=String(s)).toLowerCase()],a===void 0))throw new ut(`Unknown adapter '${u}'`);if(a&&(pe.isFunction(a)||(a=a.get(t))))break;l[u||"#"+c]=a}if(!a){const c=Object.entries(l).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=r?c.length>1?`since :
`+c.map(L2).join(`
`):" "+L2(c[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return a}const O3={getAdapter:E8,adapters:c0};function hg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new oi(null,e)}function B2(e){return hg(e),e.headers=an.from(e.headers),e.data=ug.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),O3.getAdapter(e.adapter||td.adapter,e)(e).then(function(s){return hg(e),s.data=ug.call(e,e.transformResponse,s),s.headers=an.from(s.headers),s},function(s){return k3(s)||(hg(e),s&&s.response&&(s.response.data=ug.call(e,e.transformResponse,s.response),s.response.headers=an.from(s.response.headers))),Promise.reject(s)})}const D3="1.13.2",xf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xf[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const _2={};xf.transitional=function(t,r,s){function a(l,c){return"[Axios v"+D3+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,u)=>{if(t===!1)throw new ut(a(c," has been removed"+(r?" in "+r:"")),ut.ERR_DEPRECATED);return r&&!_2[c]&&(_2[c]=!0,console.warn(a(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,c,u):!0}};xf.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function T8(e,t,r){if(typeof e!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const l=s[a],c=t[l];if(c){const u=e[l],h=u===void 0||c(u,l,e);if(h!==!0)throw new ut("option "+l+" must be "+h,ut.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ut("Unknown option "+l,ut.ERR_BAD_OPTION)}}const Gu={assertOptions:T8,validators:xf},hs=Gu.validators;let Ro=class{constructor(t){this.defaults=t||{},this.interceptors={request:new S2,response:new S2}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ho(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:l}=r;s!==void 0&&Gu.assertOptions(s,{silentJSONParsing:hs.transitional(hs.boolean),forcedJSONParsing:hs.transitional(hs.boolean),clarifyTimeoutError:hs.transitional(hs.boolean)},!1),a!=null&&(pe.isFunction(a)?r.paramsSerializer={serialize:a}:Gu.assertOptions(a,{encode:hs.function,serialize:hs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Gu.assertOptions(r,{baseUrl:hs.spelling("baseURL"),withXsrfToken:hs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=l&&pe.merge(l.common,l[r.method]);l&&pe.forEach(["delete","get","head","post","put","patch","common"],j=>{delete l[j]}),r.headers=an.concat(c,l);const u=[];let h=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(h=h&&N.synchronous,u.unshift(N.fulfilled,N.rejected))});const f=[];this.interceptors.response.forEach(function(N){f.push(N.fulfilled,N.rejected)});let m,g=0,y;if(!h){const j=[B2.bind(this),void 0];for(j.unshift(...u),j.push(...f),y=j.length,m=Promise.resolve(r);g<y;)m=m.then(j[g++],j[g++]);return m}y=u.length;let b=r;for(;g<y;){const j=u[g++],N=u[g++];try{b=j(b)}catch(C){N.call(this,C);break}}try{m=B2.call(this,b)}catch(j){return Promise.reject(j)}for(g=0,y=f.length;g<y;)m=m.then(f[g++],f[g++]);return m}getUri(t){t=Ho(this.defaults,t);const r=T3(t.baseURL,t.url,t.allowAbsoluteUrls);return N3(r,t.params,t.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(t){Ro.prototype[t]=function(r,s){return this.request(Ho(s||{},{method:t,url:r,data:(s||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function r(s){return function(l,c,u){return this.request(Ho(u||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Ro.prototype[t]=r(),Ro.prototype[t+"Form"]=r(!0)});let A8=class R3{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(u=>{s.subscribe(u),l=u}).then(a);return c.cancel=function(){s.unsubscribe(l)},c},t(function(l,c,u){s.reason||(s.reason=new oi(l,c,u),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new R3(function(a){t=a}),cancel:t}}};function M8(e){return function(r){return e.apply(null,r)}}function O8(e){return pe.isObject(e)&&e.isAxiosError===!0}const ix={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ix).forEach(([e,t])=>{ix[t]=e});function z3(e){const t=new Ro(e),r=u3(Ro.prototype.request,t);return pe.extend(r,Ro.prototype,t,{allOwnKeys:!0}),pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return z3(Ho(e,a))},r}const st=z3(td);st.Axios=Ro;st.CanceledError=oi;st.CancelToken=A8;st.isCancel=k3;st.VERSION=D3;st.toFormData=gf;st.AxiosError=ut;st.Cancel=st.CanceledError;st.all=function(t){return Promise.all(t)};st.spread=M8;st.isAxiosError=O8;st.mergeConfig=Ho;st.AxiosHeaders=an;st.formToJSON=e=>S3(pe.isHTMLForm(e)?new FormData(e):e);st.getAdapter=O3.getAdapter;st.HttpStatusCode=ix;st.default=st;const{Axios:g$,AxiosError:x$,CanceledError:y$,isCancel:b$,CancelToken:v$,VERSION:j$,all:w$,Cancel:N$,isAxiosError:C$,spread:S$,toFormData:k$,AxiosHeaders:E$,HttpStatusCode:T$,formToJSON:A$,getAdapter:M$,mergeConfig:O$}=st;var P2="popstate";function D8(e={}){function t(s,a){let{pathname:l,search:c,hash:u}=s.location;return cx("",{pathname:l,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Oc(a)}return z8(t,r,null,e)}function Qt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function R8(){return Math.random().toString(36).substring(2,10)}function I2(e,t){return{usr:e.state,key:e.key,idx:t}}function cx(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?li(t):t,state:r,key:t&&t.key||s||R8()}}function Oc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function li(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function z8(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,u="POP",h=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function g(){u="POP";let C=m(),w=C==null?null:C-f;f=C,h&&h({action:u,location:N.location,delta:w})}function y(C,w){u="PUSH";let T=cx(N.location,C,w);f=m()+1;let E=I2(T,f),O=N.createHref(T);try{c.pushState(E,"",O)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(O)}l&&h&&h({action:u,location:N.location,delta:1})}function b(C,w){u="REPLACE";let T=cx(N.location,C,w);f=m();let E=I2(T,f),O=N.createHref(T);c.replaceState(E,"",O),l&&h&&h({action:u,location:N.location,delta:0})}function j(C){return L8(C)}let N={get action(){return u},get location(){return e(a,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(P2,g),h=C,()=>{a.removeEventListener(P2,g),h=null}},createHref(C){return t(a,C)},createURL:j,encodeLocation(C){let w=j(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:b,go(C){return c.go(C)}};return N}function L8(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(r,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Oc(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function L3(e,t,r="/"){return B8(e,t,r,!1)}function B8(e,t,r,s){let a=typeof t=="string"?li(t):t,l=ra(a.pathname||"/",r);if(l==null)return null;let c=B3(e);_8(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let f=G8(l);u=W8(c[h],f,s)}return u}function B3(e,t=[],r=[],s="",a=!1){let l=(c,u,h=a,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&h)return;Qt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let g=Qs([s,m.relativePath]),y=r.concat(m);c.children&&c.children.length>0&&(Qt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),B3(c.children,t,y,g,h)),!(c.path==null&&!c.index)&&t.push({path:g,score:F8(g,c.index),routesMeta:y})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let h of _3(c.path))l(c,u,!0,h)}),t}function _3(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=_3(s.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&u.push(...c),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function _8(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:q8(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var P8=/^:[\w-]+$/,I8=3,$8=2,H8=1,U8=10,V8=-2,$2=e=>e==="*";function F8(e,t){let r=e.split("/"),s=r.length;return r.some($2)&&(s+=V8),t&&(s+=$8),r.filter(a=>!$2(a)).reduce((a,l)=>a+(P8.test(l)?I8:l===""?H8:U8),s)}function q8(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function W8(e,t,r=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let u=0;u<s.length;++u){let h=s[u],f=u===s.length-1,m=l==="/"?t:t.slice(l.length)||"/",g=ih({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),y=h.route;if(!g&&f&&r&&!s[s.length-1].route.index&&(g=ih({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Qs([l,g.pathname]),pathnameBase:Z8(Qs([l,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(l=Qs([l,g.pathnameBase]))}return c}function ih(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=K8(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((f,{paramName:m,isOptional:g},y)=>{if(m==="*"){let j=u[y]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const b=u[y];return g&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:e}}function K8(e,t=!1,r=!0){wn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(s.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function G8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ra(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}var Y8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J8=e=>Y8.test(e);function Q8(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?li(e):e,l;if(r)if(J8(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?l=H2(r.substring(1),"/"):l=H2(r,t)}else l=t;return{pathname:l,search:e9(s),hash:t9(a)}}function H2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fg(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X8(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function d0(e){let t=X8(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function u0(e,t,r,s=!1){let a;typeof e=="string"?a=li(e):(a={...e},Qt(!a.pathname||!a.pathname.includes("?"),fg("?","pathname","search",a)),Qt(!a.pathname||!a.pathname.includes("#"),fg("#","pathname","hash",a)),Qt(!a.search||!a.search.includes("#"),fg("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,u;if(c==null)u=r;else{let g=t.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}u=g>=0?t[g]:"/"}let h=Q8(a,u),f=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var Qs=e=>e.join("/").replace(/\/\/+/g,"/"),Z8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),e9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,t9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function r9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var P3=["POST","PUT","PATCH","DELETE"];new Set(P3);var n9=["GET",...P3];new Set(n9);var ii=S.createContext(null);ii.displayName="DataRouter";var yf=S.createContext(null);yf.displayName="DataRouterState";S.createContext(!1);var I3=S.createContext({isTransitioning:!1});I3.displayName="ViewTransition";var s9=S.createContext(new Map);s9.displayName="Fetchers";var a9=S.createContext(null);a9.displayName="Await";var as=S.createContext(null);as.displayName="Navigation";var rd=S.createContext(null);rd.displayName="Location";var ls=S.createContext({outlet:null,matches:[],isDataRoute:!1});ls.displayName="Route";var h0=S.createContext(null);h0.displayName="RouteError";function o9(e,{relative:t}={}){Qt(ci(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=S.useContext(as),{hash:a,pathname:l,search:c}=nd(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:Qs([r,l])),s.createHref({pathname:u,search:c,hash:a})}function ci(){return S.useContext(rd)!=null}function ln(){return Qt(ci(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(rd).location}var $3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H3(e){S.useContext(as).static||S.useLayoutEffect(e)}function Sr(){let{isDataRoute:e}=S.useContext(ls);return e?b9():l9()}function l9(){Qt(ci(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(ii),{basename:t,navigator:r}=S.useContext(as),{matches:s}=S.useContext(ls),{pathname:a}=ln(),l=JSON.stringify(d0(s)),c=S.useRef(!1);return H3(()=>{c.current=!0}),S.useCallback((h,f={})=>{if(wn(c.current,$3),!c.current)return;if(typeof h=="number"){r.go(h);return}let m=u0(h,JSON.parse(l),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Qs([t,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[t,r,l,a,e])}S.createContext(null);function bf(){let{matches:e}=S.useContext(ls),t=e[e.length-1];return t?t.params:{}}function nd(e,{relative:t}={}){let{matches:r}=S.useContext(ls),{pathname:s}=ln(),a=JSON.stringify(d0(r));return S.useMemo(()=>u0(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function i9(e,t){return U3(e,t)}function U3(e,t,r,s,a){Qt(ci(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(as),{matches:c}=S.useContext(ls),u=c[c.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let T=g&&g.path||"";V3(f,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=ln(),b;if(t){let T=typeof t=="string"?li(t):t;Qt(m==="/"||T.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=y;let j=b.pathname||"/",N=j;if(m!=="/"){let T=m.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=L3(e,{pathname:N});wn(g||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),wn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=f9(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:Qs([m,l.encodeLocation?l.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:Qs([m,l.encodeLocation?l.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),c,r,s,a);return t&&w?S.createElement(rd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},w):w}function c9(){let e=y9(),t=r9(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:a},r):null,c)}var d9=S.createElement(c9,null),u9=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(ls.Provider,{value:this.props.routeContext},S.createElement(h0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h9({routeContext:e,match:t,children:r}){let s=S.useContext(ii);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(ls.Provider,{value:e},r)}function f9(e,t=[],r=null,s=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r?.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Qt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,h=-1;if(r)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:y,errors:b}=r,j=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||j){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let f=r&&s?(m,g)=>{s(m,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:g})}:void 0;return l.reduceRight((m,g,y)=>{let b,j=!1,N=null,C=null;r&&(b=c&&g.route.id?c[g.route.id]:void 0,N=g.route.errorElement||d9,u&&(h<0&&y===0?(V3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,C=null):h===y&&(j=!0,C=g.route.hydrateFallbackElement||null)));let w=t.concat(l.slice(0,y+1)),T=()=>{let E;return b?E=N:j?E=C:g.route.Component?E=S.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=m,S.createElement(h9,{match:g,routeContext:{outlet:m,matches:w,isDataRoute:r!=null},children:E})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?S.createElement(u9,{location:r.location,revalidation:r.revalidation,component:N,error:b,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:f}):T()},null)}function f0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p9(e){let t=S.useContext(ii);return Qt(t,f0(e)),t}function m9(e){let t=S.useContext(yf);return Qt(t,f0(e)),t}function g9(e){let t=S.useContext(ls);return Qt(t,f0(e)),t}function p0(e){let t=g9(e),r=t.matches[t.matches.length-1];return Qt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function x9(){return p0("useRouteId")}function y9(){let e=S.useContext(h0),t=m9("useRouteError"),r=p0("useRouteError");return e!==void 0?e:t.errors?.[r]}function b9(){let{router:e}=p9("useNavigate"),t=p0("useNavigate"),r=S.useRef(!1);return H3(()=>{r.current=!0}),S.useCallback(async(a,l={})=>{wn(r.current,$3),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var U2={};function V3(e,t,r){!t&&!U2[e]&&(U2[e]=!0,wn(!1,r))}S.memo(v9);function v9({routes:e,future:t,state:r,unstable_onError:s}){return U3(e,void 0,r,s,t)}function j9({to:e,replace:t,state:r,relative:s}){Qt(ci(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(as);wn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(ls),{pathname:c}=ln(),u=Sr(),h=u0(e,d0(l),c,s==="path"),f=JSON.stringify(h);return S.useEffect(()=>{u(JSON.parse(f),{replace:t,state:r,relative:s})},[u,f,s,t,r]),null}function St(e){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w9({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:l=!1}){Qt(!ci(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof r=="string"&&(r=li(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:y="default"}=r,b=S.useMemo(()=>{let j=ra(h,c);return j==null?null:{location:{pathname:j,search:f,hash:m,state:g,key:y},navigationType:s}},[c,h,f,m,g,y,s]);return wn(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(as.Provider,{value:u},S.createElement(rd.Provider,{children:t,value:b}))}function N9({children:e,location:t}){return i9(dx(e),t)}function dx(e,t=[]){let r=[];return S.Children.forEach(e,(s,a)=>{if(!S.isValidElement(s))return;let l=[...t,a];if(s.type===S.Fragment){r.push.apply(r,dx(s.props.children,l));return}Qt(s.type===St,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=dx(s.props.children,l)),r.push(c)}),r}var Yu="get",Ju="application/x-www-form-urlencoded";function vf(e){return e!=null&&typeof e.tagName=="string"}function C9(e){return vf(e)&&e.tagName.toLowerCase()==="button"}function S9(e){return vf(e)&&e.tagName.toLowerCase()==="form"}function k9(e){return vf(e)&&e.tagName.toLowerCase()==="input"}function E9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T9(e,t){return e.button===0&&(!t||t==="_self")&&!E9(e)}function ux(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function A9(e,t){let r=ux(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(l=>{r.append(a,l)})}),r}var Su=null;function M9(){if(Su===null)try{new FormData(document.createElement("form"),0),Su=!1}catch{Su=!0}return Su}var O9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pg(e){return e!=null&&!O9.has(e)?(wn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):e}function D9(e,t){let r,s,a,l,c;if(S9(e)){let u=e.getAttribute("action");s=u?ra(u,t):null,r=e.getAttribute("method")||Yu,a=pg(e.getAttribute("enctype"))||Ju,l=new FormData(e)}else if(C9(e)||k9(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(s=h?ra(h,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Yu,a=pg(e.getAttribute("formenctype"))||pg(u.getAttribute("enctype"))||Ju,l=new FormData(u,e),!M9()){let{name:f,type:m,value:g}=e;if(m==="image"){let y=f?`${f}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else f&&l.append(f,g)}}else{if(vf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Yu,s=null,a=Ju,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function m0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R9(e,t,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&ra(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function z9(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L9(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function B9(e,t,r){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await z9(l,r);return c.links?c.links():[]}return[]}));return $9(s.flat(1).filter(L9).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function V2(e,t,r,s,a,l){let c=(h,f)=>r[f]?h.route.id!==r[f].route.id:!0,u=(h,f)=>r[f].pathname!==h.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==h.params["*"];return l==="assets"?t.filter((h,f)=>c(h,f)||u(h,f)):l==="data"?t.filter((h,f)=>{let m=s.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _9(e,t,{includeHydrateFallback:r}={}){return P9(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function P9(e){return[...new Set(e)]}function I9(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function $9(e,t){let r=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(I9(a));return r.has(l)||(r.add(l),s.push({key:l,link:a})),s},[])}function F3(){let e=S.useContext(ii);return m0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function H9(){let e=S.useContext(yf);return m0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var g0=S.createContext(void 0);g0.displayName="FrameworkContext";function q3(){let e=S.useContext(g0);return m0(e,"You must render this element inside a <HydratedRouter> element"),e}function U9(e,t){let r=S.useContext(g0),[s,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=t,y=S.useRef(null);S.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let N=w=>{w.forEach(T=>{c(T.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[e]),S.useEffect(()=>{if(s){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[s]);let b=()=>{a(!0)},j=()=>{a(!1),c(!1)};return r?e!=="intent"?[l,y,{}]:[l,y,{onFocus:oc(u,b),onBlur:oc(h,j),onMouseEnter:oc(f,b),onMouseLeave:oc(m,j),onTouchStart:oc(g,b)}]:[!1,y,{}]}function oc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function V9({page:e,...t}){let{router:r}=F3(),s=S.useMemo(()=>L3(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?S.createElement(q9,{page:e,matches:s,...t}):null}function F9(e){let{manifest:t,routeModules:r}=q3(),[s,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return B9(e,t,r).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,r]),s}function q9({page:e,matches:t,...r}){let s=ln(),{manifest:a,routeModules:l}=q3(),{basename:c}=F3(),{loaderData:u,matches:h}=H9(),f=S.useMemo(()=>V2(e,t,h,a,s,"data"),[e,t,h,a,s]),m=S.useMemo(()=>V2(e,t,h,a,s,"assets"),[e,t,h,a,s]),g=S.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let j=new Set,N=!1;if(t.forEach(w=>{let T=a.routes[w.route.id];!T||!T.hasLoader||(!f.some(E=>E.route.id===w.route.id)&&w.route.id in u&&l[w.route.id]?.shouldRevalidate||T.hasClientLoader?N=!0:j.add(w.route.id))}),j.size===0)return[];let C=R9(e,c,"data");return N&&j.size>0&&C.searchParams.set("_routes",t.filter(w=>j.has(w.route.id)).map(w=>w.route.id).join(",")),[C.pathname+C.search]},[c,u,s,a,f,t,e,l]),y=S.useMemo(()=>_9(m,a),[m,a]),b=F9(m);return S.createElement(S.Fragment,null,g.map(j=>S.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),y.map(j=>S.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),b.map(({key:j,link:N})=>S.createElement("link",{key:j,nonce:r.nonce,...N})))}function W9(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var W3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W3&&(window.__reactRouterVersion="7.9.6")}catch{}function K9({basename:e,children:t,window:r}){let s=S.useRef();s.current==null&&(s.current=D8({window:r,v5Compat:!0}));let a=s.current,[l,c]=S.useState({action:a.action,location:a.location}),u=S.useCallback(h=>{S.startTransition(()=>c(h))},[c]);return S.useLayoutEffect(()=>a.listen(u),[a,u]),S.createElement(w9,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var K3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ze=S.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:u,target:h,to:f,preventScrollReset:m,viewTransition:g,...y},b){let{basename:j}=S.useContext(as),N=typeof f=="string"&&K3.test(f),C,w=!1;if(typeof f=="string"&&N&&(C=f,W3))try{let I=new URL(window.location.href),H=f.startsWith("//")?new URL(I.protocol+f):new URL(f),W=ra(H.pathname,j);H.origin===I.origin&&W!=null?f=W+H.search+H.hash:w=!0}catch{wn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=o9(f,{relative:a}),[E,O,R]=U9(s,y),L=Q9(f,{replace:c,state:u,target:h,preventScrollReset:m,relative:a,viewTransition:g});function z(I){t&&t(I),I.defaultPrevented||L(I)}let q=S.createElement("a",{...y,...R,href:C||T,onClick:w||l?t:z,ref:W9(b,O),target:h,"data-discover":!N&&r==="render"?"true":void 0});return E&&!N?S.createElement(S.Fragment,null,q,S.createElement(V9,{page:T})):q});ze.displayName="Link";var G9=S.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:h,...f},m){let g=nd(c,{relative:f.relative}),y=ln(),b=S.useContext(yf),{navigator:j,basename:N}=S.useContext(as),C=b!=null&&n7(g)&&u===!0,w=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,T=y.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(T=T.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&N&&(E=ra(E,N)||E);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let R=T===w||!a&&T.startsWith(w)&&T.charAt(O)==="/",L=E!=null&&(E===w||!a&&E.startsWith(w)&&E.charAt(w.length)==="/"),z={isActive:R,isPending:L,isTransitioning:C},q=R?t:void 0,I;typeof s=="function"?I=s(z):I=[s,R?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let H=typeof l=="function"?l(z):l;return S.createElement(ze,{...f,"aria-current":q,className:I,ref:m,style:H,to:c,viewTransition:u},typeof h=="function"?h(z):h)});G9.displayName="NavLink";var Y9=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:l,method:c=Yu,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:g,...y},b)=>{let j=t7(),N=r7(u,{relative:f}),C=c.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&K3.test(u),T=E=>{if(h&&h(E),E.defaultPrevented)return;E.preventDefault();let O=E.nativeEvent.submitter,R=O?.getAttribute("formmethod")||c;j(O||E.currentTarget,{fetcherKey:t,method:R,navigate:r,replace:a,state:l,relative:f,preventScrollReset:m,viewTransition:g})};return S.createElement("form",{ref:b,method:C,action:N,onSubmit:s?h:T,...y,"data-discover":!w&&e==="render"?"true":void 0})});Y9.displayName="Form";function J9(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G3(e){let t=S.useContext(ii);return Qt(t,J9(e)),t}function Q9(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let u=Sr(),h=ln(),f=nd(e,{relative:l});return S.useCallback(m=>{if(T9(m,t)){m.preventDefault();let g=r!==void 0?r:Oc(h)===Oc(f);u(e,{replace:g,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[h,u,f,r,s,t,e,a,l,c])}function X9(e){wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=S.useRef(ux(e)),r=S.useRef(!1),s=ln(),a=S.useMemo(()=>A9(s.search,r.current?null:t.current),[s.search]),l=Sr(),c=S.useCallback((u,h)=>{const f=ux(typeof u=="function"?u(new URLSearchParams(a)):u);r.current=!0,l("?"+f,h)},[l,a]);return[a,c]}var Z9=0,e7=()=>`__${String(++Z9)}__`;function t7(){let{router:e}=G3("useSubmit"),{basename:t}=S.useContext(as),r=x9();return S.useCallback(async(s,a={})=>{let{action:l,method:c,encType:u,formData:h,body:f}=D9(s,t);if(a.navigate===!1){let m=a.fetcherKey||e7();await e.fetch(m,r,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function r7(e,{relative:t}={}){let{basename:r}=S.useContext(as),s=S.useContext(ls);Qt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...nd(e||".",{relative:t})},c=ln();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();l.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Qs([r,l.pathname])),Oc(l)}function n7(e,{relative:t}={}){let r=S.useContext(I3);Qt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=G3("useViewTransitionState"),a=nd(e,{relative:t});if(!r.isTransitioning)return!1;let l=ra(r.currentLocation.pathname,s)||r.currentLocation.pathname,c=ra(r.nextLocation.pathname,s)||r.nextLocation.pathname;return ih(a.pathname,c)!=null||ih(a.pathname,l)!=null}var s7=d3();const a7=c3(s7);var mg={exports:{}},gg={};var F2;function o7(){if(F2)return gg;F2=1;var e=si();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return gg.useSyncExternalStoreWithSelector=function(h,f,m,g,y){var b=a(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=c(function(){function C(R){if(!w){if(w=!0,T=R,R=g(R),y!==void 0&&j.hasValue){var L=j.value;if(y(L,R))return E=L}return E=R}if(L=E,r(T,R))return L;var z=g(R);return y!==void 0&&y(L,z)?(T=R,L):(T=R,E=z)}var w=!1,T,E,O=m===void 0?null:m;return[function(){return C(f())},O===null?void 0:function(){return C(O())}]},[f,m,g,y]);var N=s(h,b[0],b[1]);return l(function(){j.hasValue=!0,j.value=N},[N]),u(N),N},gg}var q2;function l7(){return q2||(q2=1,mg.exports=o7()),mg.exports}var i7=l7();function c7(e){e()}function d7(){let e=null,t=null;return{clear(){e=null,t=null},notify(){c7(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var W2={notify(){},get:()=>[]};function u7(e,t){let r,s=W2,a=0,l=!1;function c(N){m();const C=s.subscribe(N);let w=!1;return()=>{w||(w=!0,C(),g())}}function u(){s.notify()}function h(){j.onStateChange&&j.onStateChange()}function f(){return l}function m(){a++,r||(r=e.subscribe(h),s=d7())}function g(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=W2)}function y(){l||(l=!0,m())}function b(){l&&(l=!1,g())}const j={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:f,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>s};return j}var h7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f7=h7(),p7=()=>typeof navigator<"u"&&navigator.product==="ReactNative",m7=p7(),g7=()=>f7||m7?S.useLayoutEffect:S.useEffect,x7=g7(),y7=Symbol.for("react-redux-context"),b7=typeof globalThis<"u"?globalThis:{};function v7(){if(!S.createContext)return{};const e=b7[y7]??=new Map;let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var Ga=v7();function j7(e){const{children:t,context:r,serverState:s,store:a}=e,l=S.useMemo(()=>{const h=u7(a);return{store:a,subscription:h,getServerState:s?()=>s:void 0}},[a,s]),c=S.useMemo(()=>a.getState(),[a]);x7(()=>{const{subscription:h}=l;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[l,c]);const u=r||Ga;return S.createElement(u.Provider,{value:l},t)}var w7=j7;function x0(e=Ga){return function(){return S.useContext(e)}}var Y3=x0();function J3(e=Ga){const t=e===Ga?Y3:x0(e),r=()=>{const{store:s}=t();return s};return Object.assign(r,{withTypes:()=>r}),r}var N7=J3();function C7(e=Ga){const t=e===Ga?N7:J3(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var sr=C7(),S7=(e,t)=>e===t;function k7(e=Ga){const t=e===Ga?Y3:x0(e),r=(s,a={})=>{const{equalityFn:l=S7}=typeof a=="function"?{equalityFn:a}:a,c=t(),{store:u,subscription:h,getServerState:f}=c;S.useRef(!0);const m=S.useCallback({[s.name](y){return s(y)}}[s.name],[s]),g=i7.useSyncExternalStoreWithSelector(h.addNestedSub,u.getState,f||u.getState,m,l);return S.useDebugValue(g),g};return Object.assign(r,{withTypes:()=>r}),r}var Dt=k7();function Mr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var E7=typeof Symbol=="function"&&Symbol.observable||"@@observable",K2=E7,xg=()=>Math.random().toString(36).substring(7).split("").join("."),T7={INIT:`@@redux/INIT${xg()}`,REPLACE:`@@redux/REPLACE${xg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xg()}`},ch=T7;function y0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Q3(e,t,r){if(typeof e!="function")throw new Error(Mr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Mr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Mr(1));return r(Q3)(e,t)}let s=e,a=t,l=new Map,c=l,u=0,h=!1;function f(){c===l&&(c=new Map,l.forEach((C,w)=>{c.set(w,C)}))}function m(){if(h)throw new Error(Mr(3));return a}function g(C){if(typeof C!="function")throw new Error(Mr(4));if(h)throw new Error(Mr(5));let w=!0;f();const T=u++;return c.set(T,C),function(){if(w){if(h)throw new Error(Mr(6));w=!1,f(),c.delete(T),l=null}}}function y(C){if(!y0(C))throw new Error(Mr(7));if(typeof C.type>"u")throw new Error(Mr(8));if(typeof C.type!="string")throw new Error(Mr(17));if(h)throw new Error(Mr(9));try{h=!0,a=s(a,C)}finally{h=!1}return(l=c).forEach(T=>{T()}),C}function b(C){if(typeof C!="function")throw new Error(Mr(10));s=C,y({type:ch.REPLACE})}function j(){const C=g;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Mr(11));function T(){const O=w;O.next&&O.next(m())}return T(),{unsubscribe:C(T)}},[K2](){return this}}}return y({type:ch.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:b,[K2]:j}}function A7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ch.INIT})>"u")throw new Error(Mr(12));if(typeof r(void 0,{type:ch.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mr(13))})}function M7(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const s=Object.keys(r);let a;try{A7(r)}catch(l){a=l}return function(c={},u){if(a)throw a;let h=!1;const f={};for(let m=0;m<s.length;m++){const g=s[m],y=r[g],b=c[g],j=y(b,u);if(typeof j>"u")throw u&&u.type,new Error(Mr(14));f[g]=j,h=h||j!==b}return h=h||s.length!==Object.keys(c).length,h?f:c}}function dh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function O7(...e){return t=>(r,s)=>{const a=t(r,s);let l=()=>{throw new Error(Mr(15))};const c={getState:a.getState,dispatch:(h,...f)=>l(h,...f)},u=e.map(h=>h(c));return l=dh(...u)(a.dispatch),{...a,dispatch:l}}}function D7(e){return y0(e)&&"type"in e&&typeof e.type=="string"}var X3=Symbol.for("immer-nothing"),G2=Symbol.for("immer-draftable"),Wr=Symbol.for("immer-state");function Qn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bn=Object,Gl=bn.getPrototypeOf,uh="constructor",jf="prototype",hx="configurable",hh="enumerable",Qu="writable",Dc="value",na=e=>!!e&&!!e[Wr];function rs(e){return e?Z3(e)||wf(e)||!!e[G2]||!!e[uh]?.[G2]||Nf(e)||Cf(e):!1}var R7=bn[jf][uh].toString(),Y2=new WeakMap;function Z3(e){if(!e||!b0(e))return!1;const t=Gl(e);if(t===null||t===bn[jf])return!0;const r=bn.hasOwnProperty.call(t,uh)&&t[uh];if(r===Object)return!0;if(!_l(r))return!1;let s=Y2.get(r);return s===void 0&&(s=Function.toString.call(r),Y2.set(r,s)),s===R7}function sd(e,t,r=!0){ad(e)===0?(r?Reflect.ownKeys(e):bn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((s,a)=>t(a,s,e))}function ad(e){const t=e[Wr];return t?t.type_:wf(e)?1:Nf(e)?2:Cf(e)?3:0}var J2=(e,t,r=ad(e))=>r===2?e.has(t):bn[jf].hasOwnProperty.call(e,t),fx=(e,t,r=ad(e))=>r===2?e.get(t):e[t],fh=(e,t,r,s=ad(e))=>{s===2?e.set(t,r):s===3?e.add(r):e[t]=r};function z7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var wf=Array.isArray,Nf=e=>e instanceof Map,Cf=e=>e instanceof Set,b0=e=>typeof e=="object",_l=e=>typeof e=="function",yg=e=>typeof e=="boolean",Ys=e=>e.copy_||e.base_,v0=e=>e.modified_?e.copy_:e.base_;function px(e,t){if(Nf(e))return new Map(e);if(Cf(e))return new Set(e);if(wf(e))return Array[jf].slice.call(e);const r=Z3(e);if(t===!0||t==="class_only"&&!r){const s=bn.getOwnPropertyDescriptors(e);delete s[Wr];let a=Reflect.ownKeys(s);for(let l=0;l<a.length;l++){const c=a[l],u=s[c];u[Qu]===!1&&(u[Qu]=!0,u[hx]=!0),(u.get||u.set)&&(s[c]={[hx]:!0,[Qu]:!0,[hh]:u[hh],[Dc]:e[c]})}return bn.create(Gl(e),s)}else{const s=Gl(e);if(s!==null&&r)return{...e};const a=bn.create(s);return bn.assign(a,e)}}function j0(e,t=!1){return Sf(e)||na(e)||!rs(e)||(ad(e)>1&&bn.defineProperties(e,{set:ku,add:ku,clear:ku,delete:ku}),bn.freeze(e),t&&sd(e,(r,s)=>{j0(s,!0)},!1)),e}function L7(){Qn(2)}var ku={[Dc]:L7};function Sf(e){return e===null||!b0(e)?!0:bn.isFrozen(e)}var ph="MapSet",mx="Patches",ew={};function Yl(e){const t=ew[e];return t||Qn(0,e),t}var B7=e=>!!ew[e],Rc,tw=()=>Rc,_7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:B7(ph)?Yl(ph):void 0});function Q2(e,t){t&&(e.patchPlugin_=Yl(mx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function gx(e){xx(e),e.drafts_.forEach(P7),e.drafts_=null}function xx(e){e===Rc&&(Rc=e.parent_)}var X2=e=>Rc=_7(Rc,e);function P7(e){const t=e[Wr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Z2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Wr].modified_&&(gx(t),Qn(4)),rs(e)&&(e=e4(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Wr].base_,e,t)}else e=e4(t,r);return I7(t,e,!0),gx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==X3?e:void 0}function e4(e,t){if(Sf(t))return t;const r=t[Wr];if(!r)return w0(t,e.handledSet_,e);if(!kf(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:s}=r;if(s)for(;s.length>0;)s.pop()(e);sw(r,e)}return r.copy_}function I7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&j0(t,r)}function rw(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var kf=(e,t)=>e.scope_===t,$7=[];function nw(e,t,r,s){const a=Ys(e),l=e.type_;if(s!==void 0&&fx(a,s,l)===t){fh(a,s,r,l);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;sd(a,(h,f)=>{if(na(f)){const m=u.get(f)||[];m.push(h),u.set(f,m)}})}const c=e.draftLocations_.get(t)??$7;for(const u of c)fh(a,u,r,l)}function H7(e,t,r){e.callbacks_.push(function(a){const l=t;if(!l||!kf(l,a))return;a.mapSetPlugin_?.fixSetContents(l);const c=v0(l);nw(e,l.draft_??l,c,r),sw(l,a)})}function sw(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:s}=t;if(s){const a=s.getPath(e);a&&s.generatePatches_(e,a,t)}rw(e)}}function U7(e,t,r){const{scope_:s}=e;if(na(r)){const a=r[Wr];kf(a,s)&&a.callbacks_.push(function(){Xu(e);const c=v0(a);nw(e,r,c,t)})}else rs(r)&&e.callbacks_.push(function(){const l=Ys(e);fx(l,t,e.type_)===r&&s.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&w0(fx(e.copy_,t,e.type_),s.handledSet_,s)})}function w0(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||na(e)||t.has(e)||!rs(e)||Sf(e)||(t.add(e),sd(e,(s,a)=>{if(na(a)){const l=a[Wr];if(kf(l,r)){const c=v0(l);fh(e,s,c,e.type_),rw(l)}}else rs(a)&&w0(a,t,r)})),e}function V7(e,t){const r=wf(e),s={type_:r?1:0,scope_:t?t.scope_:tw(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=s,l=N0;r&&(a=[s],l=zc);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return s.draft_=u,s.revoke_=c,[u,s]}var N0={get(e,t){if(t===Wr)return e;const r=Ys(e);if(!J2(r,t,e.type_))return F7(e,r,t);const s=r[t];if(e.finalized_||!rs(s))return s;if(s===bg(e.base_,t)){Xu(e);const a=e.type_===1?+t:t,l=bx(e.scope_,s,e,a);return e.copy_[a]=l}return s},has(e,t){return t in Ys(e)},ownKeys(e){return Reflect.ownKeys(Ys(e))},set(e,t,r){const s=aw(Ys(e),t);if(s?.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){const a=bg(Ys(e),t),l=a?.[Wr];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(z7(r,a)&&(r!==void 0||J2(e.base_,t,e.type_)))return!0;Xu(e),yx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),U7(e,t,r)),!0},deleteProperty(e,t){return Xu(e),bg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),yx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ys(e),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{[Qu]:!0,[hx]:e.type_!==1||t!=="length",[hh]:s[hh],[Dc]:r[t]}},defineProperty(){Qn(11)},getPrototypeOf(e){return Gl(e.base_)},setPrototypeOf(){Qn(12)}},zc={};sd(N0,(e,t)=>{zc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});zc.deleteProperty=function(e,t){return zc.set.call(this,e,t,void 0)};zc.set=function(e,t,r){return N0.set.call(this,e[0],t,r,e[0])};function bg(e,t){const r=e[Wr];return(r?Ys(r):e)[t]}function F7(e,t,r){const s=aw(t,r);return s?Dc in s?s[Dc]:s.get?.call(e.draft_):void 0}function aw(e,t){if(!(t in e))return;let r=Gl(e);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=Gl(r)}}function yx(e){e.modified_||(e.modified_=!0,e.parent_&&yx(e.parent_))}function Xu(e){e.copy_||(e.assigned_=new Map,e.copy_=px(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var q7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,s)=>{if(_l(t)&&!_l(r)){const l=r;r=t;const c=this;return function(h=l,...f){return c.produce(h,m=>r.call(this,m,...f))}}_l(r)||Qn(6),s!==void 0&&!_l(s)&&Qn(7);let a;if(rs(t)){const l=X2(this),c=bx(l,t,void 0);let u=!0;try{a=r(c),u=!1}finally{u?gx(l):xx(l)}return Q2(l,s),Z2(a,l)}else if(!t||!b0(t)){if(a=r(t),a===void 0&&(a=t),a===X3&&(a=void 0),this.autoFreeze_&&j0(a,!0),s){const l=[],c=[];Yl(mx).generateReplacementPatches_(t,a,{patches_:l,inversePatches_:c}),s(l,c)}return a}else Qn(1,t)},this.produceWithPatches=(t,r)=>{if(_l(t))return(c,...u)=>this.produceWithPatches(c,h=>t(h,...u));let s,a;return[this.produce(t,r,(c,u)=>{s=c,a=u}),s,a]},yg(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),yg(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),yg(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){rs(e)||Qn(8),na(e)&&(e=W7(e));const t=X2(this),r=bx(t,e,void 0);return r[Wr].isManual_=!0,xx(t),r}finishDraft(e,t){const r=e&&e[Wr];(!r||!r.isManual_)&&Qn(9);const{scope_:s}=r;return Q2(s,t),Z2(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const s=Yl(mx).applyPatches_;return na(e)?s(e,t):this.produce(e,a=>s(a,t))}};function bx(e,t,r,s){const[a,l]=Nf(t)?Yl(ph).proxyMap_(t,r):Cf(t)?Yl(ph).proxySet_(t,r):V7(t,r);return(r?.scope_??tw()).drafts_.push(a),l.callbacks_=r?.callbacks_??[],l.key_=s,r&&s!==void 0?H7(r,l,s):l.callbacks_.push(function(h){h.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:f}=h;l.modified_&&f&&f.generatePatches_(l,[],h)}),a}function W7(e){return na(e)||Qn(10,e),ow(e)}function ow(e){if(!rs(e)||Sf(e))return e;const t=e[Wr];let r,s=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=px(e,t.scope_.immer_.useStrictShallowCopy_),s=t.scope_.immer_.shouldUseStrictIteration()}else r=px(e,!0);return sd(r,(a,l)=>{fh(r,a,ow(l))},s),t&&(t.finalized_=!1),r}var K7=new q7,lw=K7.produce;function iw(e){return({dispatch:r,getState:s})=>a=>l=>typeof l=="function"?l(r,s,e):a(l)}var G7=iw(),Y7=iw,J7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dh:dh.apply(null,arguments)},Q7=e=>e&&typeof e.match=="function";function bc(e,t){function r(...s){if(t){let a=t(...s);if(!a)throw new Error(Xs(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:s[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=s=>D7(s)&&s.type===e,r}var cw=class pc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,pc.prototype)}static get[Symbol.species](){return pc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new pc(...t[0].concat(this)):new pc(...t.concat(this))}};function t4(e){return rs(e)?lw(e,()=>{}):e}function Eu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function X7(e){return typeof e=="boolean"}var Z7=()=>function(t){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=t??{};let c=new cw;return r&&(X7(r)?c.push(G7):c.push(Y7(r.extraArgument))),c},eE="RTK_autoBatch",r4=e=>t=>{setTimeout(t,e)},tE=(e={type:"raf"})=>t=>(...r)=>{const s=t(...r);let a=!0,l=!1,c=!1;const u=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:r4(10):e.type==="callback"?e.queueNotification:r4(e.timeout),f=()=>{c=!1,l&&(l=!1,u.forEach(m=>m()))};return Object.assign({},s,{subscribe(m){const g=()=>a&&m(),y=s.subscribe(g);return u.add(m),()=>{y(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[eE],l=!a,l&&(c||(c=!0,h(f))),s.dispatch(m)}finally{a=!0}}})},rE=e=>function(r){const{autoBatch:s=!0}=r??{};let a=new cw(e);return s&&a.push(tE(typeof s=="object"?s:void 0)),a};function nE(e){const t=Z7(),{reducer:r=void 0,middleware:s,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(y0(r))u=M7(r);else throw new Error(Xs(1));let h;typeof s=="function"?h=s(t):h=t();let f=dh;a&&(f=J7({trace:!1,...typeof a=="object"&&a}));const m=O7(...h),g=rE(m);let y=typeof c=="function"?c(g):g();const b=f(...y);return Q3(u,l,b)}function dw(e){const t={},r=[];let s;const a={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(Xs(28));if(u in t)throw new Error(Xs(29));return t[u]=c,a},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return r.push({matcher:l,reducer:c}),a},addDefaultCase(l){return s=l,a}};return e(a),[t,r,s]}function sE(e){return typeof e=="function"}function aE(e,t){let[r,s,a]=dw(t),l;if(sE(e))l=()=>t4(e());else{const u=t4(e);l=()=>u}function c(u=l(),h){let f=[r[h.type],...s.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,g)=>{if(g)if(na(m)){const b=g(m,h);return b===void 0?m:b}else{if(rs(m))return lw(m,y=>g(y,h));{const y=g(m,h);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},u)}return c.getInitialState=l,c}var oE=(e,t)=>Q7(e)?e.match(t):e(t);function lE(...e){return t=>e.some(r=>oE(r,t))}var iE="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cE=(e=21)=>{let t="",r=e;for(;r--;)t+=iE[Math.random()*64|0];return t},dE=["name","message","stack","code"],vg=class{constructor(e,t){this.payload=e,this.meta=t}_type},n4=class{constructor(e,t){this.payload=e,this.meta=t}_type},uE=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of dE)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},s4="External signal was aborted",zr=(()=>{function e(t,r,s){const a=bc(t+"/fulfilled",(h,f,m,g)=>({payload:h,meta:{...g||{},arg:m,requestId:f,requestStatus:"fulfilled"}})),l=bc(t+"/pending",(h,f,m)=>({payload:void 0,meta:{...m||{},arg:f,requestId:h,requestStatus:"pending"}})),c=bc(t+"/rejected",(h,f,m,g,y)=>({payload:g,error:(s&&s.serializeError||uE)(h||"Rejected"),meta:{...y||{},arg:m,requestId:f,rejectedWithValue:!!g,requestStatus:"rejected",aborted:h?.name==="AbortError",condition:h?.name==="ConditionError"}}));function u(h,{signal:f}={}){return(m,g,y)=>{const b=s?.idGenerator?s.idGenerator(h):cE(),j=new AbortController;let N,C;function w(E){C=E,j.abort()}f&&(f.aborted?w(s4):f.addEventListener("abort",()=>w(s4),{once:!0}));const T=(async function(){let E;try{let R=s?.condition?.(h,{getState:g,extra:y});if(fE(R)&&(R=await R),R===!1||j.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const L=new Promise((z,q)=>{N=()=>{q({name:"AbortError",message:C||"Aborted"})},j.signal.addEventListener("abort",N)});m(l(b,h,s?.getPendingMeta?.({requestId:b,arg:h},{getState:g,extra:y}))),E=await Promise.race([L,Promise.resolve(r(h,{dispatch:m,getState:g,extra:y,requestId:b,signal:j.signal,abort:w,rejectWithValue:(z,q)=>new vg(z,q),fulfillWithValue:(z,q)=>new n4(z,q)})).then(z=>{if(z instanceof vg)throw z;return z instanceof n4?a(z.payload,b,h,z.meta):a(z,b,h)})])}catch(R){E=R instanceof vg?c(null,b,h,R.payload,R.meta):c(R,b,h)}finally{N&&j.signal.removeEventListener("abort",N)}return s&&!s.dispatchConditionRejection&&c.match(E)&&E.meta.condition||m(E),E})();return Object.assign(T,{abort:w,requestId:b,arg:h,unwrap(){return T.then(hE)}})}}return Object.assign(u,{pending:l,rejected:c,fulfilled:a,settled:lE(c,a),typePrefix:t})}return e.withTypes=()=>e,e})();function hE(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function fE(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var pE=Symbol.for("rtk-slice-createasyncthunk");function mE(e,t){return`${e}/${t}`}function gE({creators:e}={}){const t=e?.asyncThunk?.[pE];return function(s){const{name:a,reducerPath:l=a}=s;if(!a)throw new Error(Xs(11));const c=(typeof s.reducers=="function"?s.reducers(yE()):s.reducers)||{},u=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,O){const R=typeof E=="string"?E:E.type;if(!R)throw new Error(Xs(12));if(R in h.sliceCaseReducersByType)throw new Error(Xs(13));return h.sliceCaseReducersByType[R]=O,f},addMatcher(E,O){return h.sliceMatchers.push({matcher:E,reducer:O}),f},exposeAction(E,O){return h.actionCreators[E]=O,f},exposeCaseReducer(E,O){return h.sliceCaseReducersByName[E]=O,f}};u.forEach(E=>{const O=c[E],R={reducerName:E,type:mE(a,E),createNotation:typeof s.reducers=="function"};vE(O)?wE(R,O,f,t):bE(R,O,f)});function m(){const[E={},O=[],R=void 0]=typeof s.extraReducers=="function"?dw(s.extraReducers):[s.extraReducers],L={...E,...h.sliceCaseReducersByType};return aE(s.initialState,z=>{for(let q in L)z.addCase(q,L[q]);for(let q of h.sliceMatchers)z.addMatcher(q.matcher,q.reducer);for(let q of O)z.addMatcher(q.matcher,q.reducer);R&&z.addDefaultCase(R)})}const g=E=>E,y=new Map,b=new WeakMap;let j;function N(E,O){return j||(j=m()),j(E,O)}function C(){return j||(j=m()),j.getInitialState()}function w(E,O=!1){function R(z){let q=z[E];return typeof q>"u"&&O&&(q=Eu(b,R,C)),q}function L(z=g){const q=Eu(y,O,()=>new WeakMap);return Eu(q,z,()=>{const I={};for(const[H,W]of Object.entries(s.selectors??{}))I[H]=xE(W,z,()=>Eu(b,z,C),O);return I})}return{reducerPath:E,getSelectors:L,get selectors(){return L(R)},selectSlice:R}}const T={name:a,reducer:N,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,...w(l),injectInto(E,{reducerPath:O,...R}={}){const L=O??l;return E.inject({reducerPath:L,reducer:N},R),{...T,...w(L,!0)}}};return T}}function xE(e,t,r,s){function a(l,...c){let u=t(l);return typeof u>"u"&&s&&(u=r()),e(u,...c)}return a.unwrapped=e,a}var di=gE();function yE(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function bE({type:e,reducerName:t,createNotation:r},s,a){let l,c;if("reducer"in s){if(r&&!jE(s))throw new Error(Xs(17));l=s.reducer,c=s.prepare}else l=s;a.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?bc(e,c):bc(e))}function vE(e){return e._reducerDefinitionType==="asyncThunk"}function jE(e){return e._reducerDefinitionType==="reducerWithPrepare"}function wE({type:e,reducerName:t},r,s,a){if(!a)throw new Error(Xs(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:h,settled:f,options:m}=r,g=a(e,l,m);s.exposeAction(t,g),c&&s.addCase(g.fulfilled,c),u&&s.addCase(g.pending,u),h&&s.addCase(g.rejected,h),f&&s.addMatcher(g.settled,f),s.exposeCaseReducer(t,{fulfilled:c||Tu,pending:u||Tu,rejected:h||Tu,settled:f||Tu})}function Tu(){}function Xs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const mh="http://localhost:5000",NE={products:[],product:null,loading:!1,error:null,filters:{category:"",price:{min:0,max:1e4},search:""}},Fr=zr("product/fetchProducts",async(e,{rejectWithValue:t})=>{try{return(await st.get(`${mh}/api/products`)).data}catch(r){return t(r.response?.data?.message||r.message)}}),Vl=zr("product/fetchProductById",async(e,{rejectWithValue:t,getState:r})=>{try{return(await st.get(`${mh}/api/products/${e}`)).data}catch(s){return t(s.response?.data?.message||s.message)}}),Zu=zr("product/fetchProductBySlug",async(e,{rejectWithValue:t})=>{try{try{return(await st.get(`${mh}/api/products/slug/${e}`)).data}catch(r){if(r.response?.status===404)return(await st.get(`${mh}/api/products/${encodeURIComponent(e)}`)).data;throw r}}catch(r){return t(r.response?.data?.message||r.message)}}),uw=di({name:"product",initialState:NE,reducers:{setFilter:(e,t)=>{e.filters={...e.filters,...t.payload}},clearFilters:e=>{e.filters={category:"",price:{min:0,max:1e4},search:""}}},extraReducers:e=>{e.addCase(Fr.pending,t=>{t.loading=!0,t.error=null}).addCase(Fr.fulfilled,(t,r)=>{t.loading=!1,t.products=r.payload.products||r.payload||[]}).addCase(Fr.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Vl.pending,t=>{t.loading=!0,t.error=null}).addCase(Vl.fulfilled,(t,r)=>{t.loading=!1,t.product=r.payload}).addCase(Vl.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}),e.addCase(Zu.pending,t=>{t.loading=!0,t.error=null}).addCase(Zu.fulfilled,(t,r)=>{t.loading=!1,t.product=r.payload}).addCase(Zu.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{setFilter:vc,clearFilters:D$}=uw.actions,CE=uw.reducer,C0="http://localhost:5000",Lc=zr("cart/fetchCart",async(e,t)=>{const r=localStorage.getItem("token");try{const s=r?{Authorization:`Bearer ${r}`}:{};return((await st.get(`${C0}/api/cart`,{headers:s})).data.items||[]).map(u=>{const h=u.product||null;return{_id:u._id||h&&(h._id||h.id)||u.product||"",product:h&&(h._id||h.id)||u.product||"",name:u.name||h&&h.name||"",price:Number(u.price??(h&&h.price)??0),image:u.image||h&&(h.image||h.images&&h.images[0])||"",variantImage:u.variantImage||null,quantity:u.quantity||1,selectedVariants:u.selectedVariants||{},selectedSize:u.selectedSize||null,selectedColor:u.selectedColor||null,variant:u.variant||null,sku:u.sku||null,colorCode:u.colorCode||null}})}catch{return[]}}),Ya=zr("cart/syncCart",async(e,t)=>{const r=localStorage.getItem("token");try{const s=g=>{if(g){if(g.product)return g.product;if(typeof g._id=="string")return g._id.includes("|")?g._id.split("|")[0]:g._id}},a={};for(const g of e||[]){const y=s(g),b=JSON.stringify({product:y,size:g.selectedSize||"",color:g.selectedColor||"",variants:g.selectedVariants||{}});a[b]?a[b].quantity+=g.quantity||1:a[b]={product:y||void 0,name:g.name,quantity:g.quantity||1,price:g.price,selectedVariants:g.selectedVariants||{},selectedSize:g.selectedSize||null,selectedColor:g.selectedColor||null,image:g.image||"",variantImage:g.variantImage||null,variant:g.variant||null,sku:g.sku||null,colorCode:g.colorCode||null}}const l=Object.values(a),c=r?{Authorization:`Bearer ${r}`}:{},u={items:l};return((await st.post(`${C0}/api/cart`,u,{headers:c})).data.items||[]).map(g=>{const y=g.product||null;return{_id:g._id||y&&(y._id||y.id)||g.product||"",product:y&&(y._id||y.id)||g.product||"",name:g.name||y&&y.name||"",price:Number(g.price??(y&&y.price)??0),image:g.image||y&&(y.image||y.images&&y.images[0])||"",variantImage:g.variantImage||null,quantity:g.quantity||1,selectedVariants:g.selectedVariants||{},selectedSize:g.selectedSize||null,selectedColor:g.selectedColor||null,variant:g.variant||null,sku:g.sku||null,colorCode:g.colorCode||null}})}catch{return e}}),hw=zr("cart/clearServerCart",async(e,t)=>{const r=localStorage.getItem("token");try{const s=r?{Authorization:`Bearer ${r}`}:{};return(await st.delete(`${C0}/api/cart`,{headers:s})).data.items||[]}catch{return[]}}),SE={items:[],totalPrice:0,totalQuantity:0},fw=di({name:"cart",initialState:SE,reducers:{setCart:(e,t)=>{const r=Array.isArray(t.payload)?t.payload:[];e.items=r.map(s=>({...s,quantity:s.quantity||1})),e.totalQuantity=e.items.reduce((s,a)=>s+a.quantity,0),e.totalPrice=e.items.reduce((s,a)=>s+(Number(a.price)||0)*a.quantity,0)},addToCart:(e,t)=>{const r=t.payload,s=(l,c)=>{if(!l||!c||(l.product||l._id)!==(c.product||c._id)||(l.selectedSize||"")!==(c.selectedSize||"")||(l.selectedColor||"")!==(c.selectedColor||""))return!1;const u=l.selectedVariants||{},h=c.selectedVariants||{},f=Object.keys(u).sort(),m=Object.keys(h).sort();if(f.length!==m.length)return!1;for(let g=0;g<f.length;g++)if(f[g]!==m[g]||String(u[f[g]])!==String(h[m[g]]))return!1;return!0},a=e.items.find(l=>s(l,r));a?a.quantity+=r.quantity||1:e.items.push({...r,quantity:r.quantity||1}),e.totalQuantity=e.items.reduce((l,c)=>l+c.quantity,0),e.totalPrice=e.items.reduce((l,c)=>l+c.price*c.quantity,0)},removeFromCart:(e,t)=>{e.items=e.items.filter(r=>r._id!==t.payload),e.totalQuantity=e.items.reduce((r,s)=>r+s.quantity,0),e.totalPrice=e.items.reduce((r,s)=>r+s.price*s.quantity,0)},updateCartItem:(e,t)=>{const{id:r,quantity:s}=t.payload,a=e.items.find(l=>l._id===r);a&&(s<=0?e.items=e.items.filter(l=>l._id!==r):a.quantity=s),e.totalQuantity=e.items.reduce((l,c)=>l+c.quantity,0),e.totalPrice=e.items.reduce((l,c)=>l+c.price*c.quantity,0)},clearCart:e=>{e.items=[],e.totalPrice=0,e.totalQuantity=0}},extraReducers:e=>{e.addCase(Lc.fulfilled,(t,r)=>{const s=Array.isArray(r.payload)?r.payload:[];t.items=s.map(a=>({...a,quantity:a.quantity||1})),t.totalQuantity=t.items.reduce((a,l)=>a+l.quantity,0),t.totalPrice=t.items.reduce((a,l)=>a+(Number(l.price)||0)*l.quantity,0)}).addCase(Ya.fulfilled,(t,r)=>{const s=Array.isArray(r.payload)?r.payload:[];t.items=s.map(a=>({...a,quantity:a.quantity||1})),t.totalQuantity=t.items.reduce((a,l)=>a+l.quantity,0),t.totalPrice=t.items.reduce((a,l)=>a+(Number(l.price)||0)*l.quantity,0)}).addCase(hw.fulfilled,(t,r)=>{t.items=[],t.totalPrice=0,t.totalQuantity=0})}}),{setCart:R$,addToCart:gh,removeFromCart:kE,updateCartItem:EE,clearCart:S0}=fw.actions,TE=fw.reducer,AE="http://localhost:5000",ME={user:null,token:localStorage.getItem("token")||null,loading:!1,error:null,isAuthenticated:!!localStorage.getItem("token")},jg=zr("auth/loginUser",async(e,{rejectWithValue:t,dispatch:r})=>{try{const a=(await st.post(`${AE}/api/users/login`,e)).data;return localStorage.setItem("token",a.token),r(Lc()),a}catch(s){return t(s.response?.data?.message||s.message)}}),wg=zr("auth/registerUser",async(e,{rejectWithValue:t})=>t("User registration is disabled. Only admin login is available.")),pw=di({name:"auth",initialState:ME,reducers:{logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,localStorage.removeItem("token")}},extraReducers:e=>{e.addCase(jg.pending,t=>{t.loading=!0,t.error=null}).addCase(jg.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload.user,t.token=r.payload.token,t.isAuthenticated=!0}).addCase(jg.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(wg.pending,t=>{t.loading=!0,t.error=null}).addCase(wg.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload.user,t.token=r.payload.token,t.isAuthenticated=!0}).addCase(wg.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{logout:z$}=pw.actions,OE=pw.reducer,k0="http://localhost:5000",DE={orders:[],order:null,loading:!1,error:null},Vr=zr("order/fetchOrders",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token"),s=r?{headers:{Authorization:`Bearer ${r}`}}:{};return(await st.get(`${k0}/api/orders`,s)).data}catch(r){return t(r.response?.data?.message||r.message)}}),Ng=zr("order/fetchUserOrders",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token"),s=r?{headers:{Authorization:`Bearer ${r}`}}:{};return(await st.get(`${k0}/api/orders/user/my-orders`,s)).data}catch(r){return t(r.response?.data?.message||r.message)}}),Cg=zr("order/createOrder",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token"),s={headers:r?{Authorization:`Bearer ${r}`}:{}};return(await st.post(`${k0}/api/orders`,e,s)).data}catch(r){return t(r.response?.data?.message||r.message)}}),RE=di({name:"order",initialState:DE,reducers:{},extraReducers:e=>{e.addCase(Vr.pending,t=>{t.loading=!0,t.error=null}).addCase(Vr.fulfilled,(t,r)=>{t.loading=!1,t.orders=r.payload}).addCase(Vr.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Ng.pending,t=>{t.loading=!0,t.error=null}).addCase(Ng.fulfilled,(t,r)=>{t.loading=!1,t.orders=r.payload}).addCase(Ng.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Cg.pending,t=>{t.loading=!0,t.error=null}).addCase(Cg.fulfilled,(t,r)=>{t.loading=!1,t.order=r.payload,t.orders.push(r.payload)}).addCase(Cg.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),zE=RE.reducer,Bc="http://localhost:5000",LE={items:[],totalItems:0,loading:!1,error:null},Fl=zr("wishlist/fetchWishlist",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token"),s=r?{Authorization:`Bearer ${r}`}:{};return((await st.get(`${Bc}/api/wishlist`,{headers:s})).data.items||[]).map(u=>{if(u.snapshot){const h=u.product&&u.product._id||u.snapshot._id||null;return{...u.snapshot,_id:h||u.snapshot._id,__isSnapshot:!0,product:u.product||null}}return u.product?{...u.product,__isSnapshot:!1}:u})}catch(r){return t(r.message)}}),xh=zr("wishlist/addItemToServer",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token");let s={};typeof e=="string"?s.productId=e:s=e||{};const a=r?{Authorization:`Bearer ${r}`}:{};return((await st.post(`${Bc}/api/wishlist`,s,{headers:a})).data.items||[]).map(h=>{if(h.snapshot){const f=h.product&&h.product._id||h.snapshot._id||null;return{...h.snapshot,_id:f||h.snapshot._id,__isSnapshot:!0,product:h.product||null}}return h.product?{...h.product,__isSnapshot:!1}:h})}catch(r){return t(r.message)}}),zo=zr("wishlist/removeItemFromServer",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token");let s=null,a=null;if(typeof e=="string"?s=e:e&&typeof e=="object"&&(s=e.productId,a=e.variantId),!s)throw new Error("productId is required to remove wishlist item");let l=a?`${Bc}/api/wishlist/${s}?variantId=${encodeURIComponent(a)}`:`${Bc}/api/wishlist/${s}`;const c=r?{Authorization:`Bearer ${r}`}:{};return((await st.delete(l,{headers:c})).data.items||[]).map(m=>{if(m.snapshot){const g=m.product&&m.product._id||m.snapshot._id||null;return{...m.snapshot,_id:g||m.snapshot._id,__isSnapshot:!0,product:m.product||null}}return m.product?{...m.product,__isSnapshot:!1}:m})}catch(r){return t(r.message)}}),yh=zr("wishlist/clearWishlistServer",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token"),s=r?{Authorization:`Bearer ${r}`}:{},a=await st.delete(`${Bc}/api/wishlist`,{headers:s});return[]}catch(r){return t(r.message)}}),mw=di({name:"wishlist",initialState:LE,reducers:{addToWishlist:(e,t)=>{let r=t.payload;if(!r)return;if(r.snapshot){const a=r.productId||r._id||r.product&&r.product._id||null;if(!e.items.find(c=>c._id===a&&c.__isSnapshot&&c.variantId&&r.snapshot.variantId&&String(c.variantId)===String(r.snapshot.variantId))){const c={...r.snapshot,_id:a||r.snapshot._id,__isSnapshot:!0};r.snapshot.variantId&&(c.variantId=r.snapshot.variantId),e.items.push(c),e.totalItems=e.items.length}return}if(r.product&&(r=r.product),typeof r=="string"){e.items.find(l=>l._id===r)||(e.items.push({_id:r}),e.totalItems=e.items.length);return}e.items.find(a=>a._id===r._id&&!a.__isSnapshot)||(e.items.push({...r,__isSnapshot:!1}),e.totalItems=e.items.length)},removeFromWishlist:(e,t)=>{const r=t.payload;if(r){if(typeof r=="string")e.items=e.items.filter(s=>s._id!==r);else if(typeof r=="object"&&r.productId){const{productId:s,variantId:a}=r;a?e.items=e.items.filter(l=>{if(!(l.__isSnapshot||!!l.variantId||!!l.snapshot))return!0;const u=l.productId||l.product&&(l.product._id||l.product)||l._id,h=l.variantId||l.snapshot&&l.snapshot.variantId||null;return!(String(u)===String(s)&&String(h)===String(a))}):e.items=e.items.filter(l=>{const c=l.productId||l.product&&(l.product._id||l.product)||l._id;return String(c)!==String(s)})}e.totalItems=e.items.length}},clearWishlist:e=>{e.items=[],e.totalItems=0},setWishlist:(e,t)=>{e.items=t.payload||[],e.totalItems=e.items.length},isInWishlist:(e,t)=>e.items.some(r=>r._id===t.payload)},extraReducers:e=>{e.addCase(Fl.pending,t=>{t.loading=!0,t.error=null}).addCase(Fl.fulfilled,(t,r)=>{t.loading=!1,t.items=r.payload,t.totalItems=t.items.length}).addCase(Fl.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(xh.fulfilled,(t,r)=>{t.items=r.payload,t.totalItems=t.items.length,t.loading=!1}).addCase(xh.rejected,(t,r)=>{t.error=r.payload,t.loading=!1}).addCase(zo.fulfilled,(t,r)=>{t.items=r.payload,t.totalItems=t.items.length,t.loading=!1}).addCase(zo.rejected,(t,r)=>{t.error=r.payload,t.loading=!1}).addCase(yh.fulfilled,t=>{t.items=[],t.totalItems=0,t.loading=!1}).addCase(yh.rejected,(t,r)=>{t.error=r.payload,t.loading=!1})}}),{addToWishlist:BE,removeFromWishlist:_E,clearWishlist:PE,setWishlist:IE,isInWishlist:$E}=mw.actions,gw=mw.reducer,HE=Object.freeze(Object.defineProperty({__proto__:null,addItemToServer:xh,addToWishlist:BE,clearWishlist:PE,clearWishlistServer:yh,default:gw,fetchWishlist:Fl,isInWishlist:$E,removeFromWishlist:_E,removeItemFromServer:zo,setWishlist:IE},Symbol.toStringTag,{value:"Module"})),xw="http://localhost:5000",UE={categories:[],selectedCategory:null,loading:!1,error:null,searchQuery:"",mainCategories:[]},Hn=zr("category/fetchCategories",async(e,{rejectWithValue:t})=>{try{return(await st.get(`${xw}/api/categories`)).data}catch(r){return t(r.response?.data?.message||r.message)}}),eh=zr("category/fetchCategoryBySlug",async(e,{rejectWithValue:t,getState:r})=>{try{return(await st.get(`${xw}/api/categories/slug/${e}`)).data}catch(s){return t(s.response?.data?.message||s.message)}}),yw=di({name:"category",initialState:UE,reducers:{setSearchQuery:(e,t)=>{e.searchQuery=t.payload},clearSearchQuery:e=>{e.searchQuery=""}},extraReducers:e=>{e.addCase(Hn.pending,t=>{t.loading=!0,t.error=null}).addCase(Hn.fulfilled,(t,r)=>{t.loading=!1,t.categories=r.payload}).addCase(Hn.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(eh.pending,t=>{t.loading=!0,t.error=null}).addCase(eh.fulfilled,(t,r)=>{t.loading=!1,t.selectedCategory=r.payload}).addCase(eh.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{setSearchQuery:VE,clearSearchQuery:FE}=yw.actions,qE=yw.reducer,WE=nE({reducer:{product:CE,cart:TE,auth:OE,order:zE,wishlist:gw,category:qE}});let KE={data:""},GE=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||KE},YE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,JE=/\/\*[^]*?\*\/|  +/g,a4=/\n+/g,Ba=(e,t)=>{let r="",s="",a="";for(let l in e){let c=e[l];l[0]=="@"?l[1]=="i"?r=l+" "+c+";":s+=l[1]=="f"?Ba(c,l):l+"{"+Ba(c,l[1]=="k"?"":t)+"}":typeof c=="object"?s+=Ba(c,t?t.replace(/([^,])+/g,u=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ba.p?Ba.p(l,c):l+":"+c+";")}return r+(t&&a?t+"{"+a+"}":a)+s},Vs={},bw=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+bw(e[r]);return t}return e},QE=(e,t,r,s,a)=>{let l=bw(e),c=Vs[l]||(Vs[l]=(h=>{let f=0,m=11;for(;f<h.length;)m=101*m+h.charCodeAt(f++)>>>0;return"go"+m})(l));if(!Vs[c]){let h=l!==e?e:(f=>{let m,g,y=[{}];for(;m=YE.exec(f.replace(JE,""));)m[4]?y.shift():m[3]?(g=m[3].replace(a4," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][m[1]]=m[2].replace(a4," ").trim();return y[0]})(e);Vs[c]=Ba(a?{["@keyframes "+c]:h}:h,r?"":"."+c)}let u=r&&Vs.g?Vs.g:null;return r&&(Vs.g=Vs[c]),((h,f,m,g)=>{g?f.data=f.data.replace(g,h):f.data.indexOf(h)===-1&&(f.data=m?h+f.data:f.data+h)})(Vs[c],t,s,u),c},XE=(e,t,r)=>e.reduce((s,a,l)=>{let c=t[l];if(c&&c.call){let u=c(r),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=h?"."+h:u&&typeof u=="object"?u.props?"":Ba(u,""):u===!1?"":u}return s+a+(c??"")},"");function Ef(e){let t=this||{},r=e.call?e(t.p):e;return QE(r.unshift?r.raw?XE(r,[].slice.call(arguments,1),t.p):r.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):r,GE(t.target),t.g,t.o,t.k)}let vw,vx,jx;Ef.bind({g:1});let sa=Ef.bind({k:1});function ZE(e,t,r,s){Ba.p=t,vw=e,vx=r,jx=s}function eo(e,t){let r=this||{};return function(){let s=arguments;function a(l,c){let u=Object.assign({},l),h=u.className||a.className;r.p=Object.assign({theme:vx&&vx()},u),r.o=/ *go\d+/.test(h),u.className=Ef.apply(r,s)+(h?" "+h:"");let f=e;return e[0]&&(f=u.as||e,delete u.as),jx&&f[0]&&jx(u),vw(f,u)}return a}}var eT=e=>typeof e=="function",bh=(e,t)=>eT(e)?e(t):e,tT=(()=>{let e=0;return()=>(++e).toString()})(),jw=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),rT=20,E0="default",ww=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:s}=t;return ww(e,{type:e.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(c=>c.id===a||a===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},th=[],Nw={toasts:[],pausedAt:void 0,settings:{toastLimit:rT}},ys={},Cw=(e,t=E0)=>{ys[t]=ww(ys[t]||Nw,e),th.forEach(([r,s])=>{r===t&&s(ys[t])})},Sw=e=>Object.keys(ys).forEach(t=>Cw(e,t)),nT=e=>Object.keys(ys).find(t=>ys[t].toasts.some(r=>r.id===e)),Tf=(e=E0)=>t=>{Cw(t,e)},sT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},aT=(e={},t=E0)=>{let[r,s]=S.useState(ys[t]||Nw),a=S.useRef(ys[t]);S.useEffect(()=>(a.current!==ys[t]&&s(ys[t]),th.push([t,s]),()=>{let c=th.findIndex(([u])=>u===t);c>-1&&th.splice(c,1)}),[t]);let l=r.toasts.map(c=>{var u,h,f;return{...e,...e[c.type],...c,removeDelay:c.removeDelay||((u=e[c.type])==null?void 0:u.removeDelay)||e?.removeDelay,duration:c.duration||((h=e[c.type])==null?void 0:h.duration)||e?.duration||sT[c.type],style:{...e.style,...(f=e[c.type])==null?void 0:f.style,...c.style}}});return{...r,toasts:l}},oT=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||tT()}),od=e=>(t,r)=>{let s=oT(t,e,r);return Tf(s.toasterId||nT(s.id))({type:2,toast:s}),s.id},xr=(e,t)=>od("blank")(e,t);xr.error=od("error");xr.success=od("success");xr.loading=od("loading");xr.custom=od("custom");xr.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Tf(t)(r):Sw(r)};xr.dismissAll=e=>xr.dismiss(void 0,e);xr.remove=(e,t)=>{let r={type:4,toastId:e};t?Tf(t)(r):Sw(r)};xr.removeAll=e=>xr.remove(void 0,e);xr.promise=(e,t,r)=>{let s=xr.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?bh(t.success,a):void 0;return l?xr.success(l,{id:s,...r,...r?.success}):xr.dismiss(s),a}).catch(a=>{let l=t.error?bh(t.error,a):void 0;l?xr.error(l,{id:s,...r,...r?.error}):xr.dismiss(s)}),e};var lT=1e3,iT=(e,t="default")=>{let{toasts:r,pausedAt:s}=aT(e,t),a=S.useRef(new Map).current,l=S.useCallback((g,y=lT)=>{if(a.has(g))return;let b=setTimeout(()=>{a.delete(g),c({type:4,toastId:g})},y);a.set(g,b)},[]);S.useEffect(()=>{if(s)return;let g=Date.now(),y=r.map(b=>{if(b.duration===1/0)return;let j=(b.duration||0)+b.pauseDuration-(g-b.createdAt);if(j<0){b.visible&&xr.dismiss(b.id);return}return setTimeout(()=>xr.dismiss(b.id,t),j)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[r,s,t]);let c=S.useCallback(Tf(t),[t]),u=S.useCallback(()=>{c({type:5,time:Date.now()})},[c]),h=S.useCallback((g,y)=>{c({type:1,toast:{id:g,height:y}})},[c]),f=S.useCallback(()=>{s&&c({type:6,time:Date.now()})},[s,c]),m=S.useCallback((g,y)=>{let{reverseOrder:b=!1,gutter:j=8,defaultPosition:N}=y||{},C=r.filter(E=>(E.position||N)===(g.position||N)&&E.height),w=C.findIndex(E=>E.id===g.id),T=C.filter((E,O)=>O<w&&E.visible).length;return C.filter(E=>E.visible).slice(...b?[T+1]:[0,T]).reduce((E,O)=>E+(O.height||0)+j,0)},[r]);return S.useEffect(()=>{r.forEach(g=>{if(g.dismissed)l(g.id,g.removeDelay);else{let y=a.get(g.id);y&&(clearTimeout(y),a.delete(g.id))}})},[r,l]),{toasts:r,handlers:{updateHeight:h,startPause:u,endPause:f,calculateOffset:m}}},cT=sa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dT=sa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uT=sa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hT=eo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${uT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fT=sa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pT=eo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${fT} 1s linear infinite;
`,mT=sa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gT=sa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xT=eo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,yT=eo("div")`
  position: absolute;
`,bT=eo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,vT=sa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jT=eo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${vT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wT=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t=="string"?S.createElement(jT,null,t):t:r==="blank"?null:S.createElement(bT,null,S.createElement(pT,{...s}),r!=="loading"&&S.createElement(yT,null,r==="error"?S.createElement(hT,{...s}):S.createElement(xT,{...s})))},NT=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,CT=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ST="0%{opacity:0;} 100%{opacity:1;}",kT="0%{opacity:1;} 100%{opacity:0;}",ET=eo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,TT=eo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,AT=(e,t)=>{let r=e.includes("top")?1:-1,[s,a]=jw()?[ST,kT]:[NT(r),CT(r)];return{animation:t?`${sa(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sa(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},MT=S.memo(({toast:e,position:t,style:r,children:s})=>{let a=e.height?AT(e.position||t||"top-center",e.visible):{opacity:0},l=S.createElement(wT,{toast:e}),c=S.createElement(TT,{...e.ariaProps},bh(e.message,e));return S.createElement(ET,{className:e.className,style:{...a,...r,...e.style}},typeof s=="function"?s({icon:l,message:c}):S.createElement(S.Fragment,null,l,c))});ZE(S.createElement);var OT=({id:e,className:t,style:r,onHeightUpdate:s,children:a})=>{let l=S.useCallback(c=>{if(c){let u=()=>{let h=c.getBoundingClientRect().height;s(e,h)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return S.createElement("div",{ref:l,className:t,style:r},a)},DT=(e,t)=>{let r=e.includes("top"),s=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...s,...a}},RT=Ef`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Au=16,zT=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:s,children:a,toasterId:l,containerStyle:c,containerClassName:u})=>{let{toasts:h,handlers:f}=iT(r,l);return S.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Au,left:Au,right:Au,bottom:Au,pointerEvents:"none",...c},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},h.map(m=>{let g=m.position||t,y=f.calculateOffset(m,{reverseOrder:e,gutter:s,defaultPosition:t}),b=DT(g,y);return S.createElement(OT,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?RT:"",style:b},m.type==="custom"?bh(m.message,m):a?a(m):S.createElement(MT,{toast:m,position:g}))}))},ee=xr;const kw=S.createContext(),Sg="http://localhost:5000",LT=({children:e})=>{const[t,r]=S.useState(null),[s,a]=S.useState(localStorage.getItem("token")||null),[l,c]=S.useState(!0),[u,h]=S.useState(!1),f=sr();S.useEffect(()=>{(async()=>{const C=localStorage.getItem("token");if(C)try{const T=(await st.get(`${Sg}/api/users/profile`,{headers:{Authorization:`Bearer ${C}`}})).data;r(T),a(C),h(T.role==="admin");try{f(Lc())}catch{}}catch{localStorage.removeItem("token"),a(null),r(null),h(!1)}c(!1)})()},[]);const j={user:t,token:s,loading:l,isAdmin:u,login:async(N,C)=>{try{c(!0);const T=(await st.post(`${Sg}/api/users/login`,{email:N,password:C})).data;localStorage.setItem("token",T.token),a(T.token),r(T.user||T),h(T.user?.role==="admin"||T.role==="admin");try{f(Lc())}catch{}return ee.success("Login successful!"),{success:!0,user:T.user||T}}catch(w){const T=w.response?.data?.message||w.message||"Login failed";return ee.error(T),{success:!1,error:T}}finally{c(!1)}},register:async(N,C,w)=>(ee.error("User registration is disabled. Only admin login is available."),{success:!1,error:"Registration is not available"}),logout:()=>{localStorage.removeItem("token"),a(null),r(null),h(!1),f(S0()),ee.success("Logged out successfully!")},updateProfile:async N=>{try{c(!0);const w=(await st.put(`${Sg}/api/users/profile`,N,{headers:{Authorization:`Bearer ${s}`}})).data;return r(w),ee.success("Profile updated successfully!"),{success:!0,user:w}}catch(C){const w=C.response?.data?.message||C.message||"Profile update failed";return ee.error(w),{success:!1,error:w}}finally{c(!1)}},isAuthenticated:!!s};return n.jsx(kw.Provider,{value:j,children:e})},aa=()=>{const e=S.useContext(kw);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},_a=(e,t,r={},s={},a=[],l=null)=>({id:e,kind:t,widgetType:l,props:r,style:s,advanced:{},children:a}),fs=(e,t)=>{if(e.id===t)return e;if(e.children&&e.children.length>0)for(const r of e.children){const s=fs(r,t);if(s)return s}return null},Ko=(e,t,r=[])=>{const s=[...r,e];if(e.id===t)return{node:e,path:s};if(e.children&&e.children.length>0)for(const a of e.children){const l=Ko(a,t,s);if(l)return l}return null},Ew=(e,t,r,s=-1)=>{const a=Ko(e,t);if(!a)return e;const{path:l}=a;return ld(e,l,c=>{const u=[...c.children||[]];return s===-1||s>=u.length?u.push(r):u.splice(s,0,r),{...c,children:u}})},Tw=(e,t)=>{const r=Ko(e,t);if(!r)return e;const{path:s}=r;if(s.length===1)return e;const a=s.slice(0,-1);return ld(e,a,l=>({...l,children:(l.children||[]).filter(c=>c.id!==t)}))},No=(e,t,r)=>{const s=Ko(e,t);if(!s)return e;const{path:a}=s;return ld(e,a,l=>{const{props:c,style:u,responsive:h,advanced:f,...m}=r;return{...l,...m,props:c!==void 0?c:l.props,style:u!==void 0?u:l.style,responsive:h!==void 0?h:l.responsive,advanced:f!==void 0?f:l.advanced}})},BT=(e,t,r,s=-1)=>{const a=Ko(e,t);if(!a)return e;const l=a.node;let c=Tw(e,t);return c=Ew(c,r,l,s),c},_T=(e,t,r,s)=>{const a=Ko(e,t);return a?ld(e,[...a.path],l=>{const c=[...l.children||[]];if(r<0||s<0||r>=c.length||s>=c.length)return l;const[u]=c.splice(r,1);return c.splice(s,0,u),{...l,children:c}}):e},ld=(e,t,r)=>{if(t.length===0)return e;if(t.length===1)return r(e);const[s,...a]=t;return{...s,children:s.children.map(l=>l.id===a[0].id?ld(l,a,r):l)}},Aw=(e,t=[])=>{if(t.push(e),e.children&&e.children.length>0)for(const r of e.children)Aw(r,t);return t},PT=(e,t)=>{const r=Ko(e,t);return r?r.path:[]},IT=e=>{if(!e)return _a("root","root",{},{},[]);if(e.kind==="root")return e;const r=(e.sections||[]).sort((s,a)=>(s.order||0)-(a.order||0)).map(s=>_a(s.id,s.kind||s.type||"section",{...s.content,visible:s.visible!==!1},s.style||{},s.children||[]));return _a("root","root",{},{},r)},$T=e=>e&&(e.kind==="root"||e.type==="root"),Go=S.createContext(),HT=({children:e})=>{const t=aa(),[r,s]=S.useState(()=>({id:"root",kind:"root",props:{},style:{},advanced:{},children:[]})),[a,l]=S.useState(null),[c,u]=S.useState(!1),[h,f]=S.useState("home"),[m,g]=S.useState(!1),[y,b]=S.useState("idle"),[j,N]=S.useState("desktop"),C=S.useRef([_a("root","root",{},{},[])]),w=S.useRef(0),T=S.useRef(null),E=S.useCallback(te=>{C.current=C.current.slice(0,w.current+1),C.current.push(te),w.current=C.current.length-1},[]),O=S.useCallback((te,ue,U={},ae={},le=-1)=>{let Q;if(typeof ue=="object"&&ue!==null&&ue.id)Q=ue;else{const ye=ue,Ne=`${ye}_${Date.now()}_${Math.random().toString(36).slice(2)}`;Q=_a(Ne,ye,U,ae,[])}return s(ye=>{const Ne=Ew(ye,te,Q,le);return E(Ne),Ne}),l(Q.id),Q.id},[E]),R=S.useCallback(te=>{te!=="root"&&(s(ue=>{const U=Tw(ue,te);return E(U),U}),l(null))},[E]),L=S.useCallback(te=>{te!=="root"&&s(ue=>{const U=fs(ue,te);if(!U)return ue;const ae=Ne=>{const Ke=`${Ne.id}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return{...Ne,id:Ke,children:Ne.children?Ne.children.map(ae):[]}},le=ae(U);let Q=ue;if(te==="root")return ue;const ye=Ne=>{if(!Ne.children)return!1;const Ke=Ne.children.findIndex(at=>at.id===te);return Ke!==-1?(Ne.children.splice(Ke+1,0,le),!0):Ne.children.some(at=>ye(at))};return ye(Q),E(Q),l(le.id),Q})},[E]),z=S.useCallback((te,ue)=>{s(U=>{const ae=No(U,te,ue);return E(ae),ae})},[E]),q=S.useCallback((te,ue)=>{s(U=>{const ae=fs(U,te);if(!ae)return U;const le=No(U,te,{style:{...ae.style,...ue}});return E(le),le})},[E]),I=S.useCallback((te,ue)=>{s(U=>{const ae=fs(U,te);if(!ae)return U;const le=No(U,te,{advanced:{...ae.advanced,...ue}});return E(le),le})},[E]),H=S.useCallback((te,ue,U,ae)=>{s(le=>{const Q=fs(le,te);if(!Q)return le;const ye=Q.responsive||{},Ne=ye[ue]||{},Ke=Ne.style||{},at=No(le,te,{responsive:{...ye,[ue]:{...Ne,style:{...Ke,[U]:ae}}}});return E(at),at})},[E]),W=S.useCallback((te,ue,U,ae)=>{s(le=>{const Q=fs(le,te);if(!Q)return le;const ye=Q.responsive||{},Ne=ye[ue]||{},Ke=Ne.advanced||{},at=No(le,te,{responsive:{...ye,[ue]:{...Ne,advanced:{...Ke,[U]:ae}}}});return E(at),at})},[E]),ie=S.useCallback((te,ue,U)=>{ue!=="desktop"&&s(ae=>{const le=fs(ae,te);if(!le)return ae;const Q=le.responsive||{},ye=Q[ue]||{},Ke={...ye.style||{}};delete Ke[U];const at=No(ae,te,{responsive:{...Q,[ue]:{...ye,style:Ke}}});return E(at),at})},[E]),Y=S.useCallback((te,ue,U)=>{ue!=="desktop"&&s(ae=>{const le=fs(ae,te);if(!le)return ae;const Q=le.responsive||{},ye=Q[ue]||{},Ke={...ye.advanced||{}};delete Ke[U];const at=No(ae,te,{responsive:{...Q,[ue]:{...ye,advanced:Ke}}});return E(at),at})},[E]),ne=S.useCallback((te,ue,U=-1)=>{s(ae=>{const le=BT(ae,te,ue,U);return E(le),le})},[E]),F=S.useCallback((te,ue,U)=>{s(ae=>{const le=_T(ae,te,ue,U);return E(le),le})},[E]),M=S.useCallback(()=>{w.current>0&&(w.current-=1,s(C.current[w.current]),l(null))},[]),_=S.useCallback(()=>{w.current<C.current.length-1&&(w.current+=1,s(C.current[w.current]),l(null))},[]),X=w.current>0,$=w.current<C.current.length-1,ce=S.useCallback(te=>Array.isArray(te)?te.map(ue=>(ue&&typeof ue=="object"&&(typeof ue.children=="string"?ue.children=[]:Array.isArray(ue.children)&&(ue.children=ce(ue.children))),ue)):te,[]),A=S.useCallback(async te=>{try{const ue=await fetch(`/api/page-config/${te}`);if(ue.ok){const U=await ue.json();let ae;if(U.sections&&Array.isArray(U.sections)){const le=ce(U.sections);le.length>0?ae={id:"root",kind:"root",props:{},style:{},advanced:{},children:le}:ae=_a("root","root",{},{},[])}else ae=U.kind?U:_a("root","root",{},{},[]);return $T(ae)||(ae=IT(ae)),s(ae),C.current=[ae],w.current=0,l(null),ae}else if(ue.status===404){const U=_a("root","root",{},{},[]);return s(U),C.current=[U],w.current=0,U}}catch{b("error")}},[ce]),B=S.useCallback(async(te=!1)=>new Promise((ue,U)=>{const ae=async()=>{b("saving");try{if(!t?.token&&!t?.user)throw new Error("Save failed: You must be logged in to save. Please login with your admin account.");if(!t?.isAdmin)throw new Error("Save failed: Only admins can save pages. Please login with an admin account.");const le=localStorage.getItem("token")||localStorage.getItem("adminToken")||localStorage.getItem("authToken");if(!le)throw new Error("Save failed: No authentication token found. Please login again.");const Q={sections:r.children||[],meta:{title:h,description:"",layout:"default"}},ye=at=>{if(!Array.isArray(at))return[];const Nt=[];for(const lt of at)lt.responsive&&Nt.push({id:lt.id,responsive:lt.responsive}),lt.children&&Nt.push(...ye(lt.children));return Nt},Ne=ye(Q.sections),Ke=await fetch(`/api/page-config/${h}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`},body:JSON.stringify(Q)});if(!Ke.ok){const Nt=(await Ke.json().catch(()=>({}))).message||Ke.statusText;throw Ke.status===401?new Error(`Save failed: Unauthorized - ${Nt}. Your session may have expired. Please login again.`):Ke.status===403?new Error(`Save failed: Forbidden - ${Nt}. Admin access required.`):new Error(`Save failed: ${Nt}`)}b("saved"),setTimeout(()=>b("idle"),2e3),ue({success:!0})}catch(le){b("error"),U(le)}};te?ae():(T.current&&clearTimeout(T.current),T.current=setTimeout(ae,2e3))}),[h,r]),P=S.useCallback(async(te="home")=>{c||(f(te),await A(te)),u(!c)},[c,A]),K=S.useCallback(te=>{l(te)},[]),de=S.useCallback(()=>fs(r,a||""),[r,a]),ve=S.useCallback(()=>PT(r,a||""),[r,a]),je=Aw(r);S.useEffect(()=>(c&&r&&(T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{B(!1)},2e3)),()=>{T.current&&clearTimeout(T.current)}),[r,c,B]);const He={rootNode:r,selectedNodeId:a,isEditing:c,currentPage:h,isSaving:m,saveStatus:y,currentDevice:j,setCurrentDevice:N,canUndo:X,canRedo:$,flattenedNodes:je,insertNewNode:O,deleteNode:R,updateNodeProps:z,updateNodeStyle:q,updateNodeAdvanced:I,updateNodeResponsiveStyle:H,updateNodeResponsiveAdvanced:W,clearResponsiveStyle:ie,clearResponsiveAdvanced:Y,moveNodeToParent:ne,duplicateNodeAction:L,reorderChildrenAction:F,undo:M,redo:_,loadPage:A,savePage:B,toggleEditMode:P,selectNode:K,getSelectedNode:de,getBreadcrumbPath:ve,findNode:te=>fs(r,te),setRootNode:s};return n.jsx(Go.Provider,{value:He,children:e})},T0=()=>{const e=S.useContext(Go);if(!e)throw new Error("useElementorBuilder must be used within ElementorBuilderProvider");return e},UT=()=>{const e=sr(),t=Dt(a=>a.cart?.items||[]),r=S.useRef(t),s=S.useRef(null);S.useEffect(()=>(JSON.stringify(r.current)!==JSON.stringify(t)&&(s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{e(Ya(t))},500),r.current=t),()=>{s.current&&clearTimeout(s.current)}),[t,e])},VT=()=>{const e=sr(),t=Dt(a=>a.wishlist?.items||[]),r=S.useRef(t),s=S.useRef(!1);S.useEffect(()=>{if(!s.current){s.current=!0,r.current=t;return}JSON.stringify(r.current)!==JSON.stringify(t)&&(r.current=t)},[t,e])},Mw="guestId",FT=()=>localStorage.getItem(Mw),qT=e=>{e&&localStorage.setItem(Mw,e)},WT=()=>FT(),KT=()=>{const e=window.fetch.bind(window);return function(r,s={}){const a={...s,credentials:"include"};return e(r,a).then(l=>{const c=l.headers.get("X-Guest-ID");return c&&qT(c),l}).catch(l=>{throw l})}},GT=()=>{window.fetch=KT()},YT="modulepreload",JT=function(e){return"/"+e},o4={},QT=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){let f=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var c=f;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=f(r.map(m=>{if(m=JT(m),m in o4)return;o4[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":YT,g||(b.as="script"),b.crossOrigin="",b.href=m,h&&b.setAttribute("nonce",h),document.head.appendChild(b),g)return new Promise((j,N)=>{b.addEventListener("load",j),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})},_c="/assets/Wolf%20Supplies%20LTD-CqEoOxlM.png",XT=Object.freeze(Object.defineProperty({__proto__:null,default:_c},Symbol.toStringTag,{value:"Module"}));var Ow={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l4=vt.createContext&&vt.createContext(Ow),ZT=["attr","size","title"];function eA(e,t){if(e==null)return{};var r=tA(e,t),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)s=l[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function tA(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},vh.apply(this,arguments)}function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(s){rA(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function rA(e,t,r){return t=nA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nA(e){var t=sA(e,"string");return typeof t=="symbol"?t:t+""}function sA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dw(e){return e&&e.map((t,r)=>vt.createElement(t.tag,jh({key:r},t.attr),Dw(t.child)))}function Me(e){return t=>vt.createElement(aA,vh({attr:jh({},e.attr)},t),Dw(e.child))}function aA(e){var t=r=>{var{attr:s,size:a,title:l}=e,c=eA(e,ZT),u=a||r.size||"1em",h;return r.className&&(h=r.className),e.className&&(h=(h?h+" ":"")+e.className),vt.createElement("svg",vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,c,{className:h,style:jh(jh({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&vt.createElement("title",null,l),e.children)};return l4!==void 0?vt.createElement(l4.Consumer,null,r=>t(r)):t(Ow)}function oA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function lA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function iA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function cA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function dA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"},child:[]}]})(e)}function uA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function hA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function fA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 224h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm416 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 44.83v38.34A12.82 12.82 0 0 0 172.83 96h262.34A12.82 12.82 0 0 0 448 83.17V44.83A12.82 12.82 0 0 0 435.17 32zm0 256H172.83A12.82 12.82 0 0 0 160 300.83v38.34A12.82 12.82 0 0 0 172.83 352h262.34A12.82 12.82 0 0 0 448 339.17v-38.34A12.82 12.82 0 0 0 435.17 288z"},child:[]}]})(e)}function pA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function Ir(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function c4(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function mA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function gA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"},child:[]}]})(e)}function xA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function yA(e){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"},child:[]}]})(e)}function Nn(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function d4(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function u4(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(e)}function Rw(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function bA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function zw(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function To(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function rn(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function vn(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function A0(e){return Me({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function es(e){return Me({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function h4(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function vA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(e)}function jA(e){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function wA(e){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(e)}function M0(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function O0(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function NA(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function CA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function SA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(e)}function Pc(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function kA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function EA(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function TA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function ui(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Cn(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function f4(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function Lw(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function D0(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function AA(e){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function MA(e){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function OA(e){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function DA(e){return Me({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm200 248c0 22.5-3.9 44.2-10.8 64.4h-20.3c-4.3 0-8.4-1.7-11.4-4.8l-32-32.6c-4.5-4.6-4.5-12.1.1-16.7l12.5-12.5v-8.7c0-3-1.2-5.9-3.3-8l-9.4-9.4c-2.1-2.1-5-3.3-8-3.3h-16c-6.2 0-11.3-5.1-11.3-11.3 0-3 1.2-5.9 3.3-8l9.4-9.4c2.1-2.1 5-3.3 8-3.3h32c6.2 0 11.3-5.1 11.3-11.3v-9.4c0-6.2-5.1-11.3-11.3-11.3h-36.7c-8.8 0-16 7.2-16 16v4.5c0 6.9-4.4 13-10.9 15.2l-31.6 10.5c-3.3 1.1-5.5 4.1-5.5 7.6v2.2c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8s-3.6-8-8-8H247c-3 0-5.8 1.7-7.2 4.4l-9.4 18.7c-2.7 5.4-8.2 8.8-14.3 8.8H194c-8.8 0-16-7.2-16-16V199c0-4.2 1.7-8.3 4.7-11.3l20.1-20.1c4.6-4.6 7.2-10.9 7.2-17.5 0-3.4 2.2-6.5 5.5-7.6l40-13.3c1.7-.6 3.2-1.5 4.4-2.7l26.8-26.8c2.1-2.1 3.3-5 3.3-8 0-6.2-5.1-11.3-11.3-11.3H258l-16 16v8c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8v-20c0-2.5 1.2-4.9 3.2-6.4l28.9-21.7c1.9-.1 3.8-.3 5.7-.3C358.3 56 448 145.7 448 256zM130.1 149.1c0-3 1.2-5.9 3.3-8l25.4-25.4c2.1-2.1 5-3.3 8-3.3 6.2 0 11.3 5.1 11.3 11.3v16c0 3-1.2 5.9-3.3 8l-9.4 9.4c-2.1 2.1-5 3.3-8 3.3h-16c-6.2 0-11.3-5.1-11.3-11.3zm128 306.4v-7.1c0-8.8-7.2-16-16-16h-20.2c-10.8 0-26.7-5.3-35.4-11.8l-22.2-16.7c-11.5-8.6-18.2-22.1-18.2-36.4v-23.9c0-16 8.4-30.8 22.1-39l42.9-25.7c7.1-4.2 15.2-6.5 23.4-6.5h31.2c10.9 0 21.4 3.9 29.6 10.9l43.2 37.1h18.3c8.5 0 16.6 3.4 22.6 9.4l17.3 17.3c3.4 3.4 8.1 5.3 12.9 5.3H423c-32.4 58.9-93.8 99.5-164.9 103.1z"},child:[]}]})(e)}function RA(e){return Me({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function zA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256H48a48 48 0 0 0 0 96h416a48 48 0 0 0 0-96zm16 128H32a16 16 0 0 0-16 16v16a64 64 0 0 0 64 64h352a64 64 0 0 0 64-64v-16a16 16 0 0 0-16-16zM58.64 224h394.72c34.57 0 54.62-43.9 34.82-75.88C448 83.2 359.55 32.1 256 32c-103.54.1-192 51.2-232.18 116.11C4 180.09 24.07 224 58.64 224zM384 112a16 16 0 1 1-16 16 16 16 0 0 1 16-16zM256 80a16 16 0 1 1-16 16 16 16 0 0 1 16-16zm-128 32a16 16 0 1 1-16 16 16 16 0 0 1 16-16z"},child:[]}]})(e)}function p4(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"},child:[]}]})(e)}function Bw(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(e)}function Af(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function LA(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function _w(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function BA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function _A(e){return Me({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"},child:[]}]})(e)}function Ic(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(e)}function PA(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"},child:[]}]})(e)}function IA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function $A(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"},child:[]}]})(e)}function Mf(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Lo(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Pw(e){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function m4(e){return Me({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function Iw(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function HA(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function UA(e){return Me({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"},child:[]}]})(e)}function $c(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function vs(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function js(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function VA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}function FA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},child:[]}]})(e)}function Zs(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function qA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function g4(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function Ja(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function wx(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function ws(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function Of(e){return Me({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(e)}function Qa(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function $w(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function Hw(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function wh(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function WA(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function Vt(e){return Me({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function x4(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function bs(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function KA(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(e)}function Df(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function Uw(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},child:[]}]})(e)}function GA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304.083 405.907c4.686 4.686 4.686 12.284 0 16.971l-44.674 44.674c-59.263 59.262-155.693 59.266-214.961 0-59.264-59.265-59.264-155.696 0-214.96l44.675-44.675c4.686-4.686 12.284-4.686 16.971 0l39.598 39.598c4.686 4.686 4.686 12.284 0 16.971l-44.675 44.674c-28.072 28.073-28.072 73.75 0 101.823 28.072 28.072 73.75 28.073 101.824 0l44.674-44.674c4.686-4.686 12.284-4.686 16.971 0l39.597 39.598zm-56.568-260.216c4.686 4.686 12.284 4.686 16.971 0l44.674-44.674c28.072-28.075 73.75-28.073 101.824 0 28.072 28.073 28.072 73.75 0 101.823l-44.675 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.598 39.598c4.686 4.686 12.284 4.686 16.971 0l44.675-44.675c59.265-59.265 59.265-155.695 0-214.96-59.266-59.264-155.695-59.264-214.961 0l-44.674 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.597 39.598zm234.828 359.28l22.627-22.627c9.373-9.373 9.373-24.569 0-33.941L63.598 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 29.657c-9.373 9.373-9.373 24.569 0 33.941l441.373 441.373c9.373 9.372 24.569 9.372 33.941 0z"},child:[]}]})(e)}function Nx(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function YA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function y4(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Cx(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function JA(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}function Hc(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(e)}const QA=({hideMenu:e=!1})=>{const[t,r]=S.useState(!1),[s,a]=S.useState(!1),[l,c]=S.useState(""),[u,h]=S.useState(""),[f,m]=S.useState(!1),[g,y]=S.useState(!1),b=Sr(),{logout:j,isAuthenticated:N,user:C,isAdmin:w}=aa(),{toggleEditMode:T}=T0(),{totalQuantity:E}=Dt(te=>te.cart),{totalItems:O}=Dt(te=>te.wishlist),{categories:R}=Dt(te=>te.category),L=sr(),z=S.useRef(null),q=S.useRef(null),I=S.useRef(null),[H,W]=S.useState([]),ie=R.filter(te=>te.level==="main"),Y=H&&H.length>0?H:ie,[ne,F]=S.useState([0]),[M,_]=S.useState(!1),[X,$]=S.useState({}),ce=()=>{j(),b("/"),r(!1)},A=te=>{te?.preventDefault();const ue=l?.trim();a(!1),b(ue?`/products?search=${encodeURIComponent(ue)}`:"/products")},B=te=>{te?.preventDefault();const ue=u?.trim();b(ue?`/products?search=${encodeURIComponent(ue)}`:"/products")},P=(te=!1)=>{const ue=window.SpeechRecognition||window.webkitSpeechRecognition;if(!ue){ee.error("Voice search is not supported in your browser");return}const U=new ue;U.lang="en-US",U.continuous=!1,U.interimResults=!0,te?y(!0):m(!0),U.onstart=()=>{},U.onresult=ae=>{let le="",Q="";for(let ye=ae.resultIndex;ye<ae.results.length;ye++){const Ne=ae.results[ye][0].transcript;ae.results[ye].isFinal?Q+=Ne+" ":le+=Ne}te?c(Q||le):h(Q||le)},U.onerror=ae=>{ae.error!=="no-speech"&&ee.error("Error in voice search. Please try again."),te?y(!1):m(!1)},U.onend=()=>{te?y(!1):m(!1)},U.start()},K=S.useRef(null),de=S.useRef(null);S.useEffect(()=>{const te=ue=>{ue.key==="Escape"&&(t&&r(!1),s&&a(!1))};return document.addEventListener("keydown",te),t||s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.removeEventListener("keydown",te),document.body.style.overflow=""}},[t,s]),S.useEffect(()=>{s&&de.current&&setTimeout(()=>de.current.focus(),80)},[s]);const ve=(te,ue="root")=>{!te||!Array.isArray(te)||te.forEach((U,ae)=>{const le=`${ue}[${ae}]`;U.url||U.link,U.url||U.link;const Q=U.submenu||U.sub||[];Q.length>0&&ve(Q,le)})};S.useEffect(()=>{(async()=>{try{const U=await fetch("http://localhost:5000/api/settings/menu");if(!U.ok)return;const ae=await U.json();ae&&Array.isArray(ae.browseMenu)&&(ve(ae.browseMenu),W(ae.browseMenu))}catch{}})()},[]),S.useEffect(()=>{localStorage.getItem("token")&&QT(()=>Promise.resolve().then(()=>HE),[]).then(ue=>{ue.fetchWishlist&&L(ue.fetchWishlist())}).catch(()=>{})},[L]);const je=te=>{$(ue=>({...ue,[te]:!ue[te]}))},He=(te,ue="root")=>!te||te.length===0?null:n.jsx("div",{className:"space-y-1",children:te.map((U,ae)=>{const le=`${ue}_${U.id||ae}`,Q=U.submenu||U.sub||[],ye=Q&&Q.length>0,Ne=X[le];return n.jsxs("div",{className:"ml-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ze,{to:U.url||U.link||"#",className:"flex-1 px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg text-sm font-semibold transition duration-150",onClick:()=>r(!1),children:U.label||U.name}),ye&&n.jsx("button",{onClick:()=>je(le),className:"px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] rounded-lg transition duration-150","aria-label":Ne?"Collapse":"Expand",children:Ne?"":""})]}),ye&&Ne&&He(Q,le)]},le)})});return n.jsxs("header",{className:"w-full bg-[var(--color-bg-primary)] z-50",children:[n.jsx("div",{className:"bg-[var(--color-accent-primary)] text-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2.5",children:n.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm md:text-base",children:[n.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[n.jsx(ze,{to:"/about",className:"hover:text-[var(--color-bg-section)] hidden sm:block transition duration-300 font-semibold whitespace-nowrap",children:"About Us"}),n.jsxs("a",{href:"tel:+447398998101",className:"hover:text-[var(--color-bg-section)]  sm:hidden flex items-center gap-1.5 transition duration-300 font-semibold whitespace-nowrap",children:[n.jsx(vs,{})," +447398998101"]}),n.jsx("div",{className:"hidden sm:block text-white text-opacity-60",children:"|"}),n.jsx(ze,{to:"/policies/shipping",className:"hidden sm:block hover:text-[var(--color-bg-section)] transition duration-300 font-semibold",children:"Shipping"}),n.jsx("div",{className:"hidden sm:block text-white text-opacity-60",children:"|"}),n.jsx(ze,{to:"/policies/returns-refund",className:"hidden md:block hover:text-[var(--color-bg-section)] transition duration-300 font-semibold",children:"Return & Refunds"})]}),n.jsxs("div",{className:"flex items-center gap-3 sm:gap-5",children:[n.jsxs("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"hover:text-[var(--color-bg-section)] transition duration-300 font-semibold whitespace-nowrap flex items-center gap-1.5",children:[n.jsx(Cn,{})," sales@wolfsuppliesltd.co.uk"]}),N?n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"relative group hidden sm:block",children:[n.jsxs("button",{className:"hover:text-[var(--color-bg-section)] transition duration-300 font-semibold flex items-center gap-1.5 whitespace-nowrap",children:[n.jsx(y4,{})," ",C?.name||"User"," ",n.jsx(vn,{className:"text-xs"})]}),n.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition duration-300 z-50",children:[n.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--color-border-light)] text-xs text-[var(--color-text-light)]",children:C?.email}),w&&n.jsxs(n.Fragment,{children:[n.jsxs(ze,{to:"/admin/dashboard",className:"px-4 py-2.5 hover:bg-[var(--color-bg-section)] text-sm flex items-center gap-2",children:[n.jsx(Nx,{className:"text-[var(--color-accent-primary)]"})," Admin Dashboard"]}),n.jsx("div",{className:"border-b border-[var(--color-border-light)]"})]}),n.jsxs("button",{onClick:ce,className:"w-full text-left px-4 py-2.5 hover:bg-[var(--color-border-light)] text-sm rounded-b-lg flex items-center gap-2 text-[var(--color-text-primary)] font-semibold",children:[n.jsx(wx,{})," Logout"]})]})]})}):null]})]})})}),n.jsx("div",{className:"bg-[var(--color-bg-primary)] border-b border-[var(--color-border-light)]",children:n.jsxs("div",{className:"max-w-7xl mx-auto sm:px-2 lg:px-2",children:[n.jsx("div",{className:"px-2 py-4 border-b border-[var(--color-border-light)]",children:n.jsxs("div",{className:"flex md:flex-row flex-row items-center md:justify-between md:gap-6 gap-0",children:[n.jsx("button",{onClick:()=>{a(!1),r(!t)},className:"md:hidden text-2xl text-gray-700 ml-2 hover:text-gray-400 transition duration-300 flex-shrink-0","aria-label":"Toggle menu",children:t?n.jsx(Vt,{}):n.jsx(xA,{})}),n.jsx(ze,{to:"/",className:"flex items-center gap-2 flex-shrink-0 md:flex-shrink-0 md:flex-1 md:flex-none md:order-first flex-1 justify-center md:justify-start",children:n.jsx("img",{src:_c,alt:"Wolf Supplies LTD",className:"h-24 w-auto object-contain"})}),n.jsx("div",{className:"flex-1 mx-4 md:mx-6 hidden lg:block",children:n.jsxs("form",{onSubmit:B,className:"relative w-full flex items-center",children:[n.jsx("input",{ref:z,type:"text",value:u,onChange:te=>h(te.target.value),placeholder:f?"Speak...":"Search for a product or brand",className:"w-full h-12 md:h-14 px-6 rounded-l-full border border-[var(--color-border-light)] placeholder-[var(--color-text-muted)] text-[var(--color-text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)] transition duration-200 bg-[var(--color-bg-primary)]"}),n.jsx("button",{type:"button",onClick:()=>P(!1),className:`h-12 md:h-14 px-4 flex items-center justify-center transition duration-300 ${f?"bg-[var(--color-error)] text-white":"bg-[var(--color-bg-section)] text-[var(--color-text-primary)] hover:bg-[var(--color-border)]"}`,title:"Voice Search","aria-label":"Voice search",children:n.jsx(m4,{className:"text-lg"})}),n.jsx("button",{type:"submit",className:"h-12 md:h-14 bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white px-5 rounded-r-full flex items-center justify-center shadow-md transition duration-300",children:n.jsx(Zs,{className:"text-lg md:text-xl"})})]})}),n.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-shrink-0",children:[n.jsx("button",{onClick:()=>{r(!1),a(!0),c("")},className:"md:hidden ml-2 text-lg text-gray-700 hover:text-gray-400 transition duration-300","aria-label":"Open search",children:n.jsx(Zs,{})}),n.jsxs(ze,{to:"/wishlist",className:"relative text-[var(--color-text-light)] hidden lg:block hover:text-[var(--color-accent-primary)] transition duration-300 p-2 hover:bg-[var(--color-bg-section)] rounded-lg",children:[n.jsx(Af,{className:"text-lg  md:text-xl"}),O>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-[var(--color-error)] text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center",children:O})]}),n.jsx(ze,{to:"/order-lookup",className:"text-[var(--color-text-light)] hidden lg:block hover:text-[var(--color-accent-primary)] transition duration-300 p-2 hover:bg-[var(--color-bg-section)] rounded-lg",title:"Order Lookup",children:n.jsx(Nn,{className:"text-lg md:text-xl"})}),n.jsxs(ze,{to:"/cart",className:"relative text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 p-2 hover:bg-[var(--color-bg-section)] rounded-lg",children:[n.jsx(Ja,{className:"text-lg md:text-xl"}),E>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-[var(--color-error)] text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center",children:E})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-[var(--color-accent-primary)] text-white px-3 md:px-4 py-2 rounded-lg whitespace-nowrap",children:[n.jsx(vs,{className:"text-base md:text-lg"}),n.jsx("span",{className:"font-bold text-sm md:text-base",children:n.jsx("a",{href:"tel:+447398998101",children:"+447398998101"})})]})]})]})}),!e&&n.jsxs("div",{className:"hidden md:block sticky top-0 w-full bg-white border-b border-[var(--color-border-light)] z-30",children:[n.jsxs("div",{className:"flex items-center gap-4 px-4 py-2 overflow-x-auto",children:[n.jsxs("button",{onMouseEnter:()=>{I.current&&clearTimeout(I.current),_(!0)},onMouseLeave:()=>{I.current=setTimeout(()=>{_(!1),F([0])},150)},className:"flex items-center gap-2   text-black hover:opacity-90 transition duration-300 font-bold text-lg whitespace-nowrap min-w-fit",children:[n.jsxs("svg",{viewBox:"0 0 16 12",width:"22",height:"22",fill:"none",stroke:"currentColor",strokeWidth:"1.4",children:[n.jsx("line",{x1:"1",y1:"2",x2:"15",y2:"2"}),n.jsx("line",{x1:"1",y1:"6",x2:"12",y2:"6"}),n.jsx("line",{x1:"1",y1:"10",x2:"8",y2:"10"})]}),n.jsx("span",{children:"Shop By Category"})]}),n.jsx("div",{className:"h-6 w-px bg-[var(--color-border-light)] mx-2"}),n.jsxs("nav",{className:"flex items-center gap-0 flex-1",children:[n.jsx(ze,{to:"/",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"Home"}),n.jsx(ze,{to:"/about",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"About Us"}),n.jsx(ze,{to:"/products",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"Shop"}),n.jsx(ze,{to:"/contact",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"Contact"})]})]}),M&&n.jsx("div",{className:"absolute left-0 right-0 top-full z-40 opacity-100 visible translate-y-0",onMouseEnter:()=>{I.current&&clearTimeout(I.current),_(!0)},onMouseLeave:()=>{I.current=setTimeout(()=>{_(!1),F([0])},150)},children:n.jsxs("div",{className:"w-full bg-white shadow-2xl border-t border-[var(--color-border-light)] flex h-96 overflow-x-auto",children:[n.jsx("div",{className:"w-56 bg-[var(--color-bg-primary)] border-r border-[var(--color-border-light)] overflow-y-auto p-0 flex flex-col flex-shrink-0",children:Y.map((te,ue)=>{te.url||te.link;const U=te.url||te.link||"#",ae=te.submenu&&te.submenu.length>0||te.sub&&te.sub.length>0,le=ne[0]===ue;return n.jsxs(ze,{to:U,onMouseEnter:()=>F([ue]),onClick:()=>{_(!1),F([0])},className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${le?"bg-white text-[var(--color-accent-primary)]":"bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] hover:bg-white hover:text-[var(--color-accent-primary)]"}`,children:[n.jsx("span",{children:te.label||te.name||"Menu Item"}),ae&&n.jsx(vn,{className:"text-xs text-[var(--color-text-light)]"})]},te.id||`m_${ue}`)})}),(()=>{const te=[];let ue=Y,U=[...ne];if(U.length>0){const ae=U[0];if(ae>=0&&ae<ue.length){const le=ue[ae],Q=le?.submenu||le?.sub||[];Q.length>0&&(te.push(n.jsx("div",{className:"w-56 bg-white border-r border-[var(--color-border-light)] overflow-y-auto p-0 flex flex-col flex-shrink-0",children:Q.map((ye,Ne)=>{const Ke=ye.submenu&&ye.submenu.length>0||ye.sub&&ye.sub.length>0,at=Ne===U[1];return n.jsxs(ze,{to:ye.url||ye.link||"#",onClick:()=>{_(!1),F([0])},onMouseEnter:()=>F([U[0],Ne]),className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${at?"bg-[var(--color-bg-section)] text-[var(--color-accent-primary)]":"bg-white text-[var(--color-text-primary)] hover:bg-[var(--color-bg-section)] hover:text-[var(--color-accent-primary)]"}`,children:[n.jsx("span",{children:ye.label||ye.name}),Ke&&n.jsx(vn,{className:"text-xs text-[var(--color-text-light)]"})]},ye.id||`sub_${Ne}`)})},"col_1")),ue=Q)}}for(let ae=1;ae<U.length&&ue&&ue.length>0;ae++){const le=U[ae];if(le>=0&&le<ue.length){const Q=ue[le],ye=Q?.submenu||Q?.sub||[];ye.length>0&&(te.push(n.jsx("div",{className:"w-56 bg-white border-r border-[var(--color-border-light)] overflow-y-auto p-0 flex flex-col flex-shrink-0",children:ye.map((Ne,Ke)=>{const at=Ne.submenu&&Ne.submenu.length>0||Ne.sub&&Ne.sub.length>0,Nt=Ke===U[ae+1];return n.jsxs(ze,{to:Ne.url||Ne.link||"#",onClick:()=>{_(!1),F([0])},onMouseEnter:()=>F([...U.slice(0,ae+1),Ke]),className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${Nt?"bg-[var(--color-bg-section)] text-[var(--color-accent-primary)]":"bg-white text-[var(--color-text-primary)] hover:bg-[var(--color-bg-section)] hover:text-[var(--color-accent-primary)]"}`,children:[n.jsx("span",{children:Ne.label||Ne.name}),at&&n.jsx(vn,{className:"text-xs text-[var(--color-text-light)]"})]},Ne.id||`item_${ae}_${Ke}`)})},`col_${ae+1}`)),ue=ye)}}return te})()]})})]})]})}),n.jsxs("div",{ref:K,"aria-hidden":!t,className:`fixed inset-0 z-50 md:hidden transition-all duration-300 ${t?"visible":"invisible"}`,children:[n.jsx("button",{"aria-label":"Close menu",onClick:()=>r(!1),className:`absolute inset-0 bg-black bg-opacity-40 transition-opacity ${t?"opacity-100":"opacity-0"}`}),n.jsx("nav",{className:`absolute left-0 top-0 bottom-0 w-full sm:w-4/5 bg-[var(--color-bg-primary)] shadow-2xl overflow-auto transform transition-transform duration-300 ${t?"translate-x-0":"-translate-x-full"}`,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ze,{to:"/",className:"flex items-center gap-2",children:n.jsx("img",{src:_c,alt:"Wolf Supplies",className:"h-10 w-auto"})}),n.jsx("button",{onClick:()=>r(!1),className:"text-2xl p-2 rounded-md hover:bg-[var(--color-bg-section)]",children:n.jsx(Vt,{})})]}),n.jsxs("div",{className:"border-t border-[var(--color-border-light)] pt-4",children:[n.jsxs(ze,{to:"/categories",className:"font-bold text-[var(--color-text-primary)] mb-3 text-sm flex items-center gap-2 px-3 py-2 hover:bg-[var(--color-bg-section)] hover:text-[var(--color-accent-primary)] rounded-lg",onClick:()=>r(!1),children:[n.jsx(Mf,{className:"text-[var(--color-accent-primary)]"})," Browse All Categories"]}),He(Y)]}),n.jsxs("div",{className:"border-t border-[var(--color-border-light)] pt-4 space-y-2",children:[n.jsx(ze,{to:"/",className:"block px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm",onClick:()=>r(!1),children:"Home"}),n.jsx(ze,{to:"/products",className:"block px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm",onClick:()=>r(!1),children:"Shop"}),n.jsx(ze,{to:"/about",className:"block px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm",onClick:()=>r(!1),children:"About Us"}),n.jsx(ze,{to:"/contact",className:"block px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm",onClick:()=>r(!1),children:"Contact Us"}),n.jsxs(ze,{to:"/order-lookup",className:"block px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm flex items-center gap-2",onClick:()=>r(!1),children:[n.jsx(Nn,{className:"text-[var(--color-accent-primary)]"})," Order Lookup"]}),w&&n.jsxs(ze,{to:"/admin/dashboard",className:"px-3 py-2 text-white bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] rounded-lg font-semibold text-sm flex items-center gap-2",onClick:()=>r(!1),children:[n.jsx(Nx,{})," Admin Panel"]})]}),n.jsx("div",{className:"border-t border-[var(--color-border-light)] pt-4",children:N?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-[var(--color-text-primary)] font-semibold py-2 px-3 text-sm",children:[n.jsx(y4,{className:"text-[var(--color-accent-primary)]"}),n.jsx("span",{children:C?.name||"User"})]}),n.jsx("p",{className:"text-xs text-[var(--color-text-light)] px-3 py-1",children:C?.email}),n.jsxs("button",{onClick:ce,className:"w-full text-left px-3 py-2 text-[var(--color-text-primary)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm mt-2 flex items-center gap-2",children:[n.jsx(wx,{})," Logout"]})]}):null})]})})]}),n.jsxs("div",{"aria-hidden":!s,role:"dialog","aria-modal":s,"aria-labelledby":"mobile-search-title",className:`fixed inset-0 md:hidden transition-all duration-200 ${s?"visible":"invisible"}`,style:{zIndex:9999},children:[n.jsx("button",{"aria-label":"Close search",onClick:()=>a(!1),className:`absolute inset-0 bg-black bg-opacity-40 transition-opacity ${s?"opacity-100":"opacity-0"}`}),n.jsx("div",{className:`absolute left-1/2 top-16 transform -translate-x-1/2 w-[calc(100%-1rem)] sm:w-11/12 max-w-md bg-[var(--color-bg-primary)] rounded-lg shadow-2xl p-3 sm:p-4 transition-all duration-200 ${s?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-6"}`,children:n.jsxs("div",{className:"flex items-stretch gap-1 sm:gap-2",children:[n.jsxs("form",{onSubmit:A,className:"flex-1 w-full",children:[n.jsx("label",{id:"mobile-search-title",className:"sr-only",children:"Search products"}),n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 w-full",children:[n.jsx("input",{ref:q,type:"text",value:l,onChange:te=>c(te.target.value),placeholder:g?"Speak...":"Search products...",className:"flex-1 h-10 sm:h-12 px-3 sm:px-4 rounded-l-full border border-[var(--color-border-light)] placeholder-[var(--color-text-muted)] text-[var(--color-text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)] text-xs sm:text-sm"}),l.length>0&&n.jsx("button",{type:"button",onClick:()=>{c(""),q.current&&q.current.focus()},"aria-label":"Clear search",className:"text-[var(--color-text-primary)] hover:text-[var(--color-text-light)] p-1 sm:p-2 flex-shrink-0",children:""}),n.jsx("button",{type:"button",onClick:()=>P(!0),className:`h-10 sm:h-12 px-2 sm:px-3 flex items-center justify-center transition duration-300 rounded-full flex-shrink-0 ${g?"bg-[var(--color-error)] text-white":"bg-[var(--color-bg-section)] text-[var(--color-text-primary)] hover:bg-[var(--color-border)]"}`,title:"Voice Search","aria-label":"Voice search",children:n.jsx(m4,{className:"text-sm sm:text-base"})}),n.jsx("button",{type:"submit",className:"h-10 sm:h-12 bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white px-2 sm:px-4 rounded-r-full flex items-center justify-center flex-shrink-0",children:n.jsx(Zs,{className:"text-sm sm:text-base"})})]})]}),n.jsx("button",{onClick:()=>a(!1),"aria-label":"Close search",className:"text-2xl text-[var(--color-text-light)] p-2 hover:bg-[var(--color-bg-section)] rounded-md",children:n.jsx(Vt,{})})]})})]})]})};function Vw(e){return Me({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.15 4.318a42.16 42.16 0 0 0-.454.003c-.15.005-.303.013-.452.04a1.44 1.44 0 0 0-1.06.772c-.07.138-.114.278-.14.43-.028.148-.037.3-.04.45A10.2 10.2 0 0 0 0 6.222v11.557c0 .07.002.138.003.207.004.15.013.303.04.452.027.15.072.291.142.429a1.436 1.436 0 0 0 .63.63c.138.07.278.115.43.142.148.027.3.036.45.04l.208.003h20.194l.207-.003c.15-.004.303-.013.452-.04.15-.027.291-.071.428-.141a1.432 1.432 0 0 0 .631-.631c.07-.138.115-.278.141-.43.027-.148.036-.3.04-.45.002-.07.003-.138.003-.208l.001-.246V6.221c0-.07-.002-.138-.004-.207a2.995 2.995 0 0 0-.04-.452 1.446 1.446 0 0 0-1.2-1.201 3.022 3.022 0 0 0-.452-.04 10.448 10.448 0 0 0-.453-.003zm0 .512h19.942c.066 0 .131.002.197.003.115.004.25.01.375.032.109.02.2.05.287.094a.927.927 0 0 1 .407.407.997.997 0 0 1 .094.288c.022.123.028.258.031.374.002.065.003.13.003.197v11.552c0 .065 0 .13-.003.196-.003.115-.009.25-.032.375a.927.927 0 0 1-.5.693 1.002 1.002 0 0 1-.286.094 2.598 2.598 0 0 1-.373.032l-.2.003H1.906c-.066 0-.133-.002-.196-.003a2.61 2.61 0 0 1-.375-.032c-.109-.02-.2-.05-.288-.094a.918.918 0 0 1-.406-.407 1.006 1.006 0 0 1-.094-.288 2.531 2.531 0 0 1-.032-.373 9.588 9.588 0 0 1-.002-.197V6.224c0-.065 0-.131.002-.197.004-.114.01-.248.032-.375.02-.108.05-.199.094-.287a.925.925 0 0 1 .407-.406 1.03 1.03 0 0 1 .287-.094c.125-.022.26-.029.375-.032.065-.002.131-.002.196-.003zm4.71 3.7c-.3.016-.668.199-.88.456-.191.22-.36.58-.316.918.338.03.675-.169.888-.418.205-.258.345-.603.308-.955zm2.207.42v5.493h.852v-1.877h1.18c1.078 0 1.835-.739 1.835-1.812 0-1.07-.742-1.805-1.808-1.805zm.852.719h.982c.739 0 1.161.396 1.161 1.089 0 .692-.422 1.092-1.164 1.092h-.979zm-3.154.3c-.45.01-.83.28-1.05.28-.235 0-.593-.264-.981-.257a1.446 1.446 0 0 0-1.23.747c-.527.908-.139 2.255.374 2.995.249.366.549.769.944.754.373-.014.52-.242.973-.242.454 0 .586.242.98.235.41-.007.667-.366.915-.733.286-.417.403-.82.41-.841-.007-.008-.79-.308-.797-1.209-.008-.754.615-1.113.644-1.135-.352-.52-.9-.578-1.09-.593a1.123 1.123 0 0 0-.092-.002zm8.204.397c-.99 0-1.606.533-1.652 1.256h.777c.072-.358.369-.586.845-.586.502 0 .803.266.803.711v.309l-1.097.064c-.951.054-1.488.484-1.488 1.184 0 .72.548 1.207 1.332 1.207.526 0 1.032-.281 1.264-.727h.019v.659h.788v-2.76c0-.803-.62-1.317-1.591-1.317zm1.94.072l1.446 4.009c0 .003-.073.24-.073.247-.125.41-.33.571-.711.571-.069 0-.206 0-.267-.015v.666c.06.011.267.019.335.019.83 0 1.226-.312 1.568-1.283l1.5-4.214h-.868l-1.012 3.259h-.015l-1.013-3.26zm-1.167 2.189v.316c0 .521-.45.917-1.024.917-.442 0-.731-.228-.731-.579 0-.342.278-.56.769-.593z"},child:[]}]})(e)}function Fw(e){return Me({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.58 12a2.023 2.023 0 1 1-2.025-2.023h.002c1.118 0 2.023.906 2.023 2.023zm-5.2-2.001c-1.124 0-2.025.884-2.025 1.99 0 1.118.878 1.984 2.007 1.984.319 0 .593-.063.93-.221v-.873c-.296.297-.559.416-.895.416-.747 0-1.277-.542-1.277-1.312 0-.73.547-1.306 1.243-1.306.354 0 .622.126.93.428v-.873a1.898 1.898 0 0 0-.913-.233zm-3.352 1.545c-.445-.165-.576-.273-.576-.479 0-.239.233-.422.553-.422.222 0 .405.091.598.308l.388-.508a1.665 1.665 0 0 0-1.117-.422c-.673 0-1.186.467-1.186 1.089 0 .524.239.792.936 1.043.291.103.438.171.513.217a.456.456 0 0 1 .222.394c0 .308-.245.536-.576.536-.354 0-.639-.177-.809-.507l-.479.461c.342.502.752.724 1.317.724.771 0 1.311-.513 1.311-1.249-.002-.603-.252-.876-1.095-1.185zM24 10.3a.29.29 0 0 1-.288.291.29.29 0 0 1-.291-.291v-.003A.29.29 0 1 1 24 10.3zm-.059.001a.235.235 0 0 0-.231-.239.234.234 0 0 0-.232.239c0 .132.104.239.232.239a.235.235 0 0 0 .231-.239zM3.472 13.887h.742v-3.803h-.742v3.803zm12.702-1.248l-1.014-2.554h-.81l1.614 3.9h.399l1.643-3.9h-.804l-1.028 2.554zm2.166 1.248h2.104v-.644h-1.362v-1.027h1.312v-.644h-1.312v-.844h1.362v-.644H18.34v3.803zm5.409-3.557l.11.138h-.097l-.094-.13v.13h-.08v-.334h.107c.081 0 .126.036.126.103.001.046-.025.08-.072.093zm-.006-.092c0-.029-.021-.043-.06-.043h-.014v.087h.014c.039 0 .06-.014.06-.044zm-1.228 2.047l1.197 1.602H22.8l-1.027-1.528h-.097v1.528h-.741v-3.803h1.1c.855 0 1.346.411 1.346 1.123 0 .583-.308.965-.866 1.078zm.103-1.038c0-.37-.251-.563-.713-.563h-.228v1.152h.217c.473-.001.724-.207.724-.589zm-19.487.742a1.91 1.91 0 0 1-.69 1.46c-.365.303-.781.439-1.357.439H.001v-3.803H1.09c1.202 0 2.041.781 2.041 1.904zm-.764-.006c0-.364-.154-.718-.411-.947-.245-.222-.536-.308-1.015-.308H.742v2.515h.199c.479 0 .782-.092 1.015-.302.256-.228.411-.593.411-.958z"},child:[]}]})(e)}function qw(e){return Me({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3.963 7.235A3.963 3.963 0 00.422 9.419a3.963 3.963 0 000 3.559 3.963 3.963 0 003.541 2.184c1.07 0 1.97-.352 2.627-.957.748-.69 1.18-1.71 1.18-2.916a4.722 4.722 0 00-.07-.806H3.964v1.526h2.14a1.835 1.835 0 01-.79 1.205c-.356.241-.814.379-1.35.379-1.034 0-1.911-.697-2.225-1.636a2.375 2.375 0 010-1.517c.314-.94 1.191-1.636 2.225-1.636a2.152 2.152 0 011.52.594l1.132-1.13a3.808 3.808 0 00-2.652-1.033zm6.501.55v6.9h.886V11.89h1.465c.603 0 1.11-.196 1.522-.588a1.911 1.911 0 00.635-1.464 1.92 1.92 0 00-.635-1.456 2.125 2.125 0 00-1.522-.598zm2.427.85a1.156 1.156 0 01.823.365 1.176 1.176 0 010 1.686 1.171 1.171 0 01-.877.357H11.35V8.635h1.487a1.156 1.156 0 01.054 0zm4.124 1.175c-.842 0-1.477.308-1.907.925l.781.491c.288-.417.68-.626 1.175-.626a1.255 1.255 0 01.856.323 1.009 1.009 0 01.366.785v.202c-.34-.193-.774-.289-1.3-.289-.617 0-1.11.145-1.479.434-.37.288-.554.677-.554 1.165a1.476 1.476 0 00.525 1.156c.35.308.785.463 1.305.463.61 0 1.098-.27 1.465-.81h.038v.655h.848v-2.909c0-.61-.19-1.09-.568-1.44-.38-.35-.896-.525-1.551-.525zm2.263.154l1.946 4.422-1.098 2.38h.915L24 9.963h-.965l-1.368 3.391h-.02l-1.406-3.39zm-2.146 2.368c.494 0 .88.11 1.156.33 0 .372-.147.696-.44.973a1.413 1.413 0 01-.997.414 1.081 1.081 0 01-.69-.232.708.708 0 01-.293-.578c0-.257.12-.47.363-.647.24-.173.54-.26.9-.26Z"},child:[]}]})(e)}function Ww(e){return Me({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.343 18.031c.058.049.12.098.181.146-1.177.783-2.59 1.238-4.107 1.238C3.32 19.416 0 16.096 0 12c0-4.095 3.32-7.416 7.416-7.416 1.518 0 2.931.456 4.105 1.238-.06.051-.12.098-.165.15C9.6 7.489 8.595 9.688 8.595 12c0 2.311 1.001 4.51 2.748 6.031zm5.241-13.447c-1.52 0-2.931.456-4.105 1.238.06.051.12.098.165.15C14.4 7.489 15.405 9.688 15.405 12c0 2.31-1.001 4.507-2.748 6.031-.058.049-.12.098-.181.146 1.177.783 2.588 1.238 4.107 1.238C20.68 19.416 24 16.096 24 12c0-4.094-3.32-7.416-7.416-7.416zM12 6.174c-.096.075-.189.15-.28.231C10.156 7.764 9.169 9.765 9.169 12c0 2.236.987 4.236 2.551 5.595.09.08.185.158.28.232.096-.074.189-.152.28-.232 1.563-1.359 2.551-3.359 2.551-5.595 0-2.235-.987-4.236-2.551-5.595-.09-.08-.184-.156-.28-.231z"},child:[]}]})(e)}function Sx(e){return Me({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.112 8.262L5.97 15.758H3.92L2.374 9.775c-.094-.368-.175-.503-.461-.658C1.447 8.864.677 8.627 0 8.479l.046-.217h3.3a.904.904 0 01.894.764l.817 4.338 2.018-5.102zm8.033 5.049c.008-1.979-2.736-2.088-2.717-2.972.006-.269.262-.555.822-.628a3.66 3.66 0 011.913.336l.34-1.59a5.207 5.207 0 00-1.814-.333c-1.917 0-3.266 1.02-3.278 2.479-.012 1.079.963 1.68 1.698 2.04.756.367 1.01.603 1.006.931-.005.504-.602.725-1.16.734-.975.015-1.54-.263-1.992-.473l-.351 1.642c.453.208 1.289.39 2.156.398 2.037 0 3.37-1.006 3.377-2.564m5.061 2.447H24l-1.565-7.496h-1.656a.883.883 0 00-.826.55l-2.909 6.946h2.036l.405-1.12h2.488zm-2.163-2.656l1.02-2.815.588 2.815zm-8.16-4.84l-1.603 7.496H8.34l1.605-7.496z"},child:[]}]})(e)}const XA=()=>{const e=new Date().getFullYear();return n.jsx("footer",{className:"bg-[var(--color-bg-secondary)] text-[var(--color-text-primary)] mt-16",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:n.jsx("img",{src:_c,alt:"Wolf Supplies LTD",className:"h-auto w-auto object-cover"})}),n.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"Wolf Supplies LTD is a company registered in the United Kingdom. Your trusted UK online shopping destination for quality products at competitive prices."}),n.jsxs("p",{className:"text-[var(--color-text-primary)] text-sm mb-2",children:[n.jsx("strong",{children:"Company Number:"})," ",n.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)]",children:"16070029"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("a",{href:"#",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:n.jsx(oA,{className:"text-lg text-[var(--color-text-light)]"})}),n.jsx("a",{href:"#",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:n.jsx(cA,{className:"text-lg text-[var(--color-text-light)]"})}),n.jsx("a",{href:"#",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:n.jsx(lA,{className:"text-lg text-[var(--color-text-light)]"})}),n.jsx("a",{href:"#",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:n.jsx(iA,{className:"text-lg text-[var(--color-text-light)]"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-bold text-[var(--color-text-primary)] mb-4",children:"Quick Links"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(ze,{to:"/",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Home"})}),n.jsx("li",{children:n.jsx(ze,{to:"/products",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Products"})}),n.jsx("li",{children:n.jsx(ze,{to:"/about",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"About Us"})}),n.jsx("li",{children:n.jsx(ze,{to:"/contact",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Contact Us"})}),n.jsx("li",{children:n.jsx(ze,{to:"/payment-options",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Payment Options"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-bold text-[var(--color-text-primary)] mb-4",children:"Policies & Info"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(ze,{to:"/policies/shipping",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Shipping Policy"})}),n.jsx("li",{children:n.jsx(ze,{to:"/policies/returns-refund",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Return & Refunds"})}),n.jsx("li",{children:n.jsx(ze,{to:"/policies/privacy",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx(ze,{to:"/policies/terms",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Terms of Service"})}),n.jsx("li",{children:n.jsx(ze,{to:"/policies/faq",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"FAQ"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-bold text-[var(--color-text-primary)] mb-4",children:"Contact Us"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsxs("li",{className:"flex items-center gap-3 text-[var(--color-text-light)]",children:[n.jsx(vs,{className:"text-black"}),n.jsx("a",{href:"tel:+447398998101",className:"hover:text-black",children:"+44 7398 998101"})]}),n.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[n.jsx(Cn,{className:"text-black"}),n.jsx("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"hover:text-black",children:"sales@wolfsuppliesltd.co.uk"})]}),n.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[n.jsx(Pw,{className:"text-black mt-1"}),n.jsxs("div",{children:[n.jsx("p",{children:"Unit 4 Atlas Estates"}),n.jsx("p",{children:"Colebrook Road, Birmingham"}),n.jsx("p",{children:"West Midlands, B11 2NT"}),n.jsx("p",{children:"United Kingdom"})]})]}),n.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[n.jsx(RA,{className:"text-black"}),n.jsx("a",{href:"https://wolfsuppliesltd.co.uk",className:"hover:text-black",children:"wolfsuppliesltd.co.uk"})]})]})]})]}),n.jsxs("div",{className:"border-t border-gray-300 py-8 mb-8",children:[n.jsx("h4",{className:"text-lg font-bold mb-6 text-center",children:"We Accept"}),n.jsxs("div",{className:"flex justify-center items-center gap-8 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",title:"Visa",children:[n.jsx(Sx,{className:"text-2xl text-blue-600"}),n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Visa"})]}),n.jsxs("div",{className:"flex items-center gap-2",title:"Mastercard",children:[n.jsx(Ww,{className:"text-2xl text-red-600"}),n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Mastercard"})]}),n.jsxs("div",{className:"flex items-center gap-2",title:"Discover",children:[n.jsx(Fw,{className:"text-2xl text-orange-500"}),n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Discover"})]}),n.jsxs("div",{className:"flex items-center gap-2",title:"Apple Pay",children:[n.jsx(Vw,{className:"text-2xl text-black"}),n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Apple Pay"})]}),n.jsxs("div",{className:"flex items-center gap-2",title:"Google Pay",children:[n.jsx(qw,{className:"text-2xl text-blue-500"}),n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Google Pay"})]})]}),n.jsx("div",{className:"text-center mt-4",children:n.jsx(ze,{to:"/payment-options",className:"text-[var(--color-accent-primary)] hover:text-[var(--color-accent-light)] transition duration-300 text-sm font-semibold",children:"View All Payment Options"})})]}),n.jsx("div",{className:"border-t border-[var(--color-border-light)] pt-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[n.jsxs("p",{className:"text-[var(--color-text-light)]",children:[" ",e," Wolf Supplies LTD. All rights reserved. Company Number: ",n.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)]",children:"16070029"})]}),n.jsxs("div",{className:"flex gap-4 flex-wrap justify-center",children:[n.jsx(ze,{to:"/policies/privacy",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 text-sm",children:"Privacy Policy"}),n.jsx("span",{className:"text-[var(--color-text-muted)]",children:"|"}),n.jsx(ze,{to:"/policies/terms",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 text-sm",children:"Terms of Service"}),n.jsx("span",{className:"text-[var(--color-text-muted)]",children:"|"}),n.jsx(ze,{to:"/policies/shipping",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 text-sm",children:"Shipping Policy"}),n.jsx("span",{className:"text-[var(--color-text-muted)]",children:"|"}),n.jsx(ze,{to:"/policies/returns-refund",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 text-sm",children:"Return & Refunds"}),n.jsx("span",{className:"text-[var(--color-text-muted)]",children:"|"}),n.jsx(ze,{to:"/policies/faq",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 text-sm",children:"FAQ"})]})]})})]})})},ZA=()=>{const[e,t]=S.useState(!1),[r,s]=S.useState([]),[a,l]=S.useState(""),[c,u]=S.useState(!1),[h,f]=S.useState(!1),[m,g]=S.useState(""),[y,b]=S.useState(""),[j,N]=S.useState(!0),[C,w]=S.useState(!1),[T,E]=S.useState(null),[O,R]=S.useState(0),L=S.useRef(null),z="http://localhost:5000";S.useEffect(()=>{const _=localStorage.getItem("chatUserEmail"),X=localStorage.getItem("chatUserName"),$=localStorage.getItem("chatUnreadCount");_&&(g(_),X&&b(X),$&&R(parseInt($)),N(!1),I(_))},[]),S.useEffect(()=>{L.current?.scrollIntoView({behavior:"smooth"})},[r]),S.useEffect(()=>{e&&m&&!T&&q()},[e,m]),S.useEffect(()=>{if(!e||!T)return;const _=setInterval(()=>{q()},3e3);return()=>clearInterval(_)},[e,T]),S.useEffect(()=>{const _=setInterval(()=>{m&&H()},5e3);return()=>clearInterval(_)},[m]);const q=async()=>{if(m)try{const _=await fetch(`${z}/api/forms/contact/user?email=${encodeURIComponent(m)}`);if(_.ok){const X=await _.json();if(X.data){E(X.data._id),s(X.data.messages||[]);const $=(X.data.messages||[]).filter(ce=>ce.sender==="admin"&&!ce.isRead).length;R($),localStorage.setItem("chatUnreadCount",$)}}}catch{}},I=async _=>{if(_)try{const X=await fetch(`${z}/api/forms/contact/user?email=${encodeURIComponent(_)}`);if(X.ok){const $=await X.json();if($.data&&$.data.messages){const ce=$.data.messages.filter(A=>A.sender==="admin"&&!A.isRead).length;R(ce),localStorage.setItem("chatUnreadCount",ce)}}}catch{}},H=async()=>{if(m)try{const _=await fetch(`${z}/api/forms/contact/user?email=${encodeURIComponent(m)}`);if(_.ok){const X=await _.json();if(X.data&&X.data.messages){const $=X.data.messages.filter(ce=>ce.sender==="admin"&&!ce.isRead).length;R($),localStorage.setItem("chatUnreadCount",$),$>0}}}catch{}},W=_=>{if(_.preventDefault(),!m.trim()||!y.trim()){ee.error("Please enter your name and email");return}localStorage.setItem("chatUserEmail",m),localStorage.setItem("chatUserName",y),N(!1),q()},ie=async _=>{_.preventDefault();const X=a.trim(),$=y.trim(),ce=m.trim();if(!X){ee.error("Please enter a message");return}if(!$){ee.error("Name is required");return}if(!ce){ee.error("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ce)){ee.error("Please enter a valid email address");return}f(!0);try{const B={name:$,email:ce,message:X,subject:"Chat Support"},P=await fetch(`${z}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)}),K=await P.json();if(!P.ok)throw new Error(K.message||`Server error: ${P.status}`);if(K.success&&K.data)s(K.data.messages||[]),E(K.data._id),l(""),ee.success("Message sent successfully");else throw new Error("Invalid response from server")}catch(B){ee.error(B.message||"Failed to send message")}finally{f(!1)}},Y=()=>{t(!e),e||(R(0),localStorage.setItem("chatUnreadCount","0"),m&&q())},ne=()=>{t(!1)},F=()=>{w(!0)},M=()=>{if(!m.trim()||!y.trim()){ee.error("Please enter your name and email");return}localStorage.setItem("chatUserEmail",m),localStorage.setItem("chatUserName",y),w(!1),ee.success("Information updated")};return n.jsxs(n.Fragment,{children:[e&&n.jsxs("div",{className:"fixed bottom-24 right-6 w-80 h-96 bg-white rounded-lg shadow-2xl flex flex-col z-[9998] border border-gray-200",style:{position:"fixed",bottom:"96px",right:"24px",zIndex:9998,maxHeight:"400px"},children:[n.jsxs("div",{className:"bg-[var(--color-accent-primary)] text-white p-4 rounded-t-lg flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg",children:"Chat with us"}),!j&&!C&&n.jsx("p",{className:"text-xs opacity-90",children:y})]}),n.jsxs("div",{className:"flex gap-2",children:[!j&&!C&&n.jsx("button",{onClick:F,className:"text-white hover:bg-[var(--color-accent-light)] rounded-full p-2 transition duration-300",title:"Edit name and email","aria-label":"Edit info",children:n.jsx(ui,{className:"text-sm"})}),n.jsx("button",{onClick:ne,className:"text-white hover:bg-[var(--color-accent-light)] rounded-full p-1 transition duration-300","aria-label":"Close chat",children:n.jsx(Vt,{className:"text-lg"})})]})]}),j||C?n.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 flex flex-col justify-center",children:n.jsxs("form",{onSubmit:j?W:_=>{_.preventDefault(),M()},className:"space-y-4",children:[j&&n.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Start a conversation"}),C&&n.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Update your information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Name"}),n.jsx("input",{type:"text",value:y,onChange:_=>b(_.target.value),placeholder:"Enter your name",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)]",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Email"}),n.jsx("input",{type:"email",value:m,onChange:_=>g(_.target.value),placeholder:"Enter your email",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)]",required:!0})]}),n.jsx("button",{type:"submit",className:"w-full bg-[var(--color-accent-primary)] text-white rounded-lg px-4 py-2 text-sm hover:bg-[var(--color-accent-light)] transition duration-300 font-semibold",children:j?"Start Chat":"Save Changes"}),C&&n.jsx("button",{type:"button",onClick:()=>w(!1),className:"w-full bg-gray-300 text-gray-800 rounded-lg px-4 py-2 text-sm hover:bg-gray-400 transition duration-300 font-semibold",children:"Cancel"})]})}):n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-4",children:[r.length===0?n.jsxs("div",{className:"text-center text-gray-500 text-sm py-8",children:[n.jsx("p",{children:"Hello! How can we help you today?"}),n.jsx("p",{className:"text-xs mt-4",children:"Our team is here to assist you with any questions."})]}):r.map((_,X)=>n.jsx("div",{className:`flex ${_.sender==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-xs px-3 py-2 rounded-lg text-sm ${_.sender==="user"?"bg-[var(--color-accent-primary)] text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[n.jsx("p",{className:"font-semibold text-xs mb-1",children:_.senderName||(_.sender==="user"?"You":"Admin")}),n.jsx("p",{children:_.message}),n.jsx("p",{className:"text-xs mt-1 opacity-70",children:new Date(_.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},X)),n.jsx("div",{ref:L})]}),!j&&n.jsx("div",{className:"border-t border-gray-200 p-4 bg-white rounded-b-lg",children:n.jsx("form",{onSubmit:ie,className:"space-y-2",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",placeholder:"Type your message...",value:a,onChange:_=>l(_.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)]",disabled:h}),n.jsx("button",{type:"submit",className:"bg-[var(--color-accent-primary)] text-white rounded-lg px-4 py-2 text-sm hover:bg-[var(--color-accent-light)] transition duration-300 disabled:opacity-50",disabled:h,children:h?"...":"Send"})]})})})]}),n.jsxs("button",{onClick:Y,className:"fixed bottom-6 right-6 w-16 h-16 bg-[var(--color-accent-primary)] text-white rounded-full flex items-center justify-center shadow-2xl hover:bg-[var(--color-accent-light)] transition-all duration-300 z-[9999] hover:scale-110 transform pointer-events-auto",title:"Open chat","aria-label":"Open chat",style:{position:"fixed",bottom:"24px",right:"24px",zIndex:9999,overflow:"visible"},children:[e?n.jsx(Vt,{className:"text-2xl"}):n.jsx(Pc,{className:"text-2xl"}),O>0&&n.jsx("div",{className:"absolute bg-red-600 text-white text-xs font-bold rounded-full flex items-center justify-center border-2 border-white shadow-lg",style:{position:"absolute",top:"-6px",right:"-6px",backgroundColor:"#dc2626",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",zIndex:1e4},children:O>9?"9+":O})]})]})},Sn=e=>{S.useEffect(()=>{if(!e)return;e.title&&(document.title=e.title);let t=document.querySelector('meta[name="description"]');t||(t=document.createElement("meta"),t.name="description",document.head.appendChild(t)),e.description&&(t.content=e.description);let r=document.querySelector('meta[name="keywords"]');if(r||(r=document.createElement("meta"),r.name="keywords",document.head.appendChild(r)),e.keywords&&(r.content=e.keywords),[{property:"og:title",content:e.title},{property:"og:description",content:e.description},{property:"og:url",content:e.url},{property:"og:type",content:e.type||"website"},{property:"og:image",content:e.image}].forEach(({property:l,content:c})=>{if(c){let u=document.querySelector(`meta[property="${l}"]`);u||(u=document.createElement("meta"),u.setAttribute("property",l),document.head.appendChild(u)),u.content=c}}),[{name:"twitter:title",content:e.title},{name:"twitter:description",content:e.description},{name:"twitter:image",content:e.image},{name:"twitter:card",content:"summary_large_image"}].forEach(({name:l,content:c})=>{if(c){let u=document.querySelector(`meta[name="${l}"]`);u||(u=document.createElement("meta"),u.name=l,document.head.appendChild(u)),u.content=c}}),e.url){let l=document.querySelector('link[rel="canonical"]');l||(l=document.createElement("link"),l.rel="canonical",document.head.appendChild(l)),l.href=e.url}},[e])},eM=({children:e,showMenuSlider:t=!1})=>{Sr();const[r,s]=S.useState([]),[a,l]=S.useState([0]),[c,u]=S.useState(!1),[h,f]=S.useState(0),m=(y,b="root")=>{!y||!Array.isArray(y)||y.forEach((j,N)=>{const C=`${b}[${N}]`;j.url||j.link,j.url||j.link;const w=j.submenu||j.sub||[];w.length>0&&m(w,C)})};S.useEffect(()=>{(async()=>{try{const j=await fetch("http://localhost:5000/api/settings/menu");if(!j.ok)return;const N=await j.json();N&&Array.isArray(N.browseMenu)&&(m(N.browseMenu),s(N.browseMenu))}catch{}})()},[]);const g=[{id:1,title:"Premium Safety Equipment",description:"Discover our wide range of high-quality safety equipment designed to keep you protected.",buttonText:"Shop Now",buttonLink:"/products",bgImage:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=1400&h=600&fit=crop",icon:""},{id:2,title:"Professional Tools & Gear",description:"Everything you need for your professional work with durability and reliability.",buttonText:"Explore Tools",buttonLink:"/products",bgImage:"https://images.unsplash.com/photo-1761062176693-74ea7c9f1278?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",icon:""},{id:3,title:"Protective Clothing",description:"Stay safe with our comprehensive collection of protective wear and apparel.",buttonText:"View Collection",buttonLink:"/products",bgImage:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=1400&h=600&fit=crop",icon:""},{id:4,title:"Exclusive Offers",description:"Limited time deals on premium products. Don't miss out on amazing savings!",buttonText:"See Deals",buttonLink:"/products?featured=deals",bgImage:"https://images.unsplash.com/photo-1557821552-17105176677c?w=1400&h=600&fit=crop",icon:""}];return S.useEffect(()=>{const y=setInterval(()=>{f(b=>(b+1)%g.length)},5e3);return()=>clearInterval(y)},[]),t?n.jsxs("div",{className:"w-full bg-[var(--color-bg-primary)] pb-10 md:pb-0",children:[n.jsx("div",{className:"w-full hidden md:block bg-[var(--color-bg-primary)] border-b border-[var(--color-border-light)] sticky top-0 z-30",children:n.jsxs("div",{className:"flex items-center gap-4 px-4 py-2 overflow-x-auto",children:[n.jsxs("div",{className:"flex items-center gap-2 font-bold text-[var(--color-text-primary)] text-lg whitespace-nowrap",children:[n.jsx(zA,{})," Shop By Category"]}),n.jsx("div",{className:"h-6 w-px bg-[var(--color-border-light)]"}),n.jsx(ze,{to:"/",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"Home"}),n.jsx(ze,{to:"/about",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"About Us"}),n.jsx(ze,{to:"/products",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"Shop"}),n.jsx(ze,{to:"/contact",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"Contact Us"})]})}),n.jsx("div",{className:"w-full bg-white relative",onMouseLeave:()=>{u(!1),l([0])},children:n.jsxs("div",{className:"flex w-full h-auto",children:[n.jsxs("div",{className:"hidden md:flex md:flex-col w-72 border-r-4 border-[var(--color-border-light)] bg-[var(--color-bg-primary)] shadow-lg relative",children:[n.jsx("div",{className:"border-b border-[var(--color-border-light)] overflow-y-auto flex-1",children:r.map((y,b)=>{y.url||y.link;const j=y.url||y.link||"#",N=y.submenu&&y.submenu.length>0||y.sub&&y.sub.length>0;return n.jsxs(ze,{to:j,onMouseEnter:()=>{u(!0),l([b])},onClick:()=>{u(!1),l([0])},className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${a[0]===b?"bg-[var(--color-bg-section)] text-[var(--color-text-primary)]":"bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] hover:bg-[var(--color-bg-section)]"}`,children:[n.jsx("span",{children:y.label||y.name||"Menu Item"}),N&&n.jsx(vn,{className:"text-xs text-[var(--color-text-light)]"})]},y.id||`m_${b}`)})}),c&&n.jsx("div",{className:"absolute left-72  top-0 z-50 bg-white overflow-x-auto flex h-96 border border-[var(--color-border-light)] shadow-2xl",style:{width:"calc(100vw - 310px)"},children:(()=>{const y=[];let b=r,j=[...a];if(j.length>0){const N=j[0];if(N>=0&&N<b.length){const C=b[N],w=C?.submenu||C?.sub||[];w.length>0&&(y.push(n.jsx("div",{className:"w-56 bg-white border-r border-[var(--color-border-light)] overflow-y-auto p-0 flex flex-col flex-shrink-0",children:w.map((T,E)=>{const O=T.submenu&&T.submenu.length>0||T.sub&&T.sub.length>0,R=E===j[1];return n.jsxs(ze,{to:T.url||T.link||"#",onClick:()=>{u(!1),l([0])},onMouseEnter:()=>l([j[0],E]),className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${R?"bg-[var(--color-bg-section)] text-[var(--color-accent-primary)]":"bg-white text-[var(--color-text-primary)] hover:bg-[var(--color-bg-section)] hover:text-[var(--color-accent-primary)]"}`,children:[n.jsx("span",{children:T.label||T.name}),O&&n.jsx(vn,{className:"text-xs text-[var(--color-text-light)]"})]},T.id||`sub_${E}`)})},"col_1")),b=w)}}for(let N=1;N<j.length&&b&&b.length>0;N++){const C=j[N];if(C>=0&&C<b.length){const w=b[C],T=w?.submenu||w?.sub||[];T.length>0&&(y.push(n.jsx("div",{className:"w-56 bg-white border-r border-[var(--color-border-light)] overflow-y-auto p-0 flex flex-col flex-shrink-0",children:T.map((E,O)=>{const R=E.submenu&&E.submenu.length>0||E.sub&&E.sub.length>0,L=O===j[N+1];return n.jsxs(ze,{to:E.url||E.link||"#",onClick:()=>{u(!1),l([0])},onMouseEnter:()=>l([...j.slice(0,N+1),O]),className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${L?"bg-[var(--color-bg-section)] text-[var(--color-accent-primary)]":"bg-white text-[var(--color-text-primary)] hover:bg-[var(--color-bg-section)] hover:text-[var(--color-accent-primary)]"}`,children:[n.jsx("span",{children:E.label||E.name}),R&&n.jsx(vn,{className:"text-xs text-[var(--color-text-light)]"})]},E.id||`item_${N}_${O}`)})},`col_${N+1}`)),b=T)}}return y})()})]}),n.jsx("div",{className:"flex-1 bg-[var(--color-bg-primary)] relative h-96",children:n.jsxs("div",{className:"w-full h-full relative overflow-hidden ",children:[g.map((y,b)=>n.jsx("div",{className:`absolute inset-0 transition-transform duration-500 ease-in-out ${b===h?"translate-x-0":b<h?"-translate-x-full":"translate-x-full"}`,style:{backgroundImage:`linear-gradient(135deg, rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('${y.bgImage}')`,backgroundSize:"cover",backgroundPosition:"right center",backgroundRepeat:"no-repeat"},children:n.jsx("div",{className:"flex items-center justify-between h-full px-6 relative",children:n.jsxs("div",{className:"flex-1 text-white z-10 sm:ml-12 ml-4",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4",children:y.title}),n.jsx("p",{className:"text-lg mb-8 leading-relaxed max-w-md",children:y.description}),n.jsx(ze,{to:y.buttonLink,className:"inline-block bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white font-bold px-8 py-3 rounded-lg transition duration-300 shadow-lg",children:y.buttonText})]})})},y.id)),n.jsx("button",{onClick:()=>f(y=>(y-1+g.length)%g.length),className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-[var(--color-bg-primary)] bg-opacity-70 hover:bg-opacity-100 text-[var(--color-accent-primary)] p-2 rounded-full z-20 transition duration-300","aria-label":"Previous slide",children:n.jsx(A0,{className:"sm:text-lg text-sm"})}),n.jsx("button",{onClick:()=>f(y=>(y+1)%g.length),className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-[var(--color-bg-primary)] bg-opacity-70 hover:bg-opacity-100 text-[var(--color-accent-primary)] p-2 rounded-full z-20 transition duration-300","aria-label":"Next slide",children:n.jsx(es,{className:"sm:text-lg text-sm"})})]})})]})}),n.jsx("main",{className:"w-full",children:e})]}):n.jsx(n.Fragment,{children:e})},tM="http://localhost:5000",rM=e=>!e||typeof e!="string"?"":e.startsWith("http")?e:`${tM}${e}`,Nh=({category:e})=>{const t=e?.image||"";return n.jsx(ze,{to:`/category/${e?.slug}`,"aria-label":`View category ${e?.name}`,className:"block",children:n.jsxs("div",{className:"group text-center",children:[n.jsxs("div",{className:"relative w-32 h-32 md:w-40 md:h-40 mx-auto mb-4 rounded-full overflow-hidden shadow-md hover:shadow-lg transition duration-300 bg-white border-2 border-gray-300 flex items-center justify-center",children:[t?n.jsx("img",{src:rM(t),alt:e?.name||"Category image",loading:"lazy",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):n.jsx("div",{className:"text-6xl md:text-7xl",children:e?.icon}),n.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-5 transition duration-300"})]}),n.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800 mb-2 group-hover:text-gray-600 transition duration-300",children:e?.name})]})})},nM=({categoryNames:e=[],limit:t=8,title:r="Featured Categories",showAllIfEmpty:s=!0,layout:a="grid",columns:l=5,spacing:c="md",imageBorderRadius:u="md",titleFontSize:h="lg",descFontSize:f="sm",editorContent:m,editorStyle:g})=>{m&&(r=m.title||r,e=Array.isArray(m.categoryNames)&&m.categoryNames.length>0?m.categoryNames:e,t=m.limit||t,a=m.layout||a,l=m.columns||l,c=m.spacing||c,u=m.imageBorderRadius||u,h=m.titleFontSize||h,f=m.descFontSize||f),sr();const[y,b]=S.useState([]),[j,N]=S.useState(0),[C,w]=S.useState("lg"),{categories:T,loading:E}=Dt(I=>I.category),R=C==="sm"?2:C==="md"?3:6,L=()=>"md:grid-cols-4 lg:grid-cols-6";S.useEffect(()=>{const I=()=>{const H=window.innerWidth;H<768?w("sm"):H<1024?w("md"):w("lg")};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),S.useEffect(()=>{const I=H=>{let W=[];if(!H||!Array.isArray(H))return W;for(const ie of H)W.push(ie),ie.subcategories&&Array.isArray(ie.subcategories)&&(W=W.concat(I(ie.subcategories)));return W};if(T&&T.length>0){let H=I(T);e&&e.length>0?H=H.filter(W=>e.some(ie=>W.name.toLowerCase()===ie.toLowerCase()||W.slug.toLowerCase()===ie.toLowerCase())):s&&(H=I(T)),b(W=>{if(W.length!==H.length||W.length===0)return H;const ie=W.map(ne=>ne._id).join(","),Y=H.map(ne=>ne._id).join(",");return ie===Y?W:H})}},[T,e,s]);const z=()=>{N(I=>Math.max(0,I-1))},q=()=>{N(I=>Math.min(I+1,Math.max(0,y.length-R)))};return E&&T.length===0?n.jsx("section",{className:"py-4 px-4 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-4",children:r}),n.jsx("div",{className:"h-1 w-20 bg-gray-900 rounded-full"})]}),a==="grid"?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 md:gap-10",children:[...Array(t)].map((I,H)=>n.jsxs("div",{className:"flex flex-col items-center gap-6 py-8",children:[n.jsx("div",{className:"w-48 h-48 bg-gradient-to-br from-gray-200 to-black-300 rounded-full animate-pulse"}),n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded-lg animate-pulse"})]},H))}):n.jsx("div",{className:"bg-gradient-to-br from-gray-200 to-black-300 rounded-full h-48 w-48 animate-pulse"})]})}):y.length===0?n.jsx("section",{className:"py-4 px-4 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-4",children:e.length>0?r:"Featured Categories"}),n.jsx("div",{className:"h-1 w-20 bg-gray-900 rounded-full"})]}),n.jsx("div",{className:"text-center py-20 bg-white rounded-2xl border-2 border-dashed border-gray-300",children:n.jsx("p",{className:"text-gray-600 text-xl font-medium",children:e.length>0?`No categories found matching: ${e.join(", ")}`:"No categories available"})})]})}):n.jsx("section",{className:"py-4 px-4 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-4",children:r}),n.jsx("div",{className:"h-1 w-20 bg-gray-900 rounded-full"})]}),a==="grid"?n.jsx("div",{className:`grid grid-cols-2 ${L()} gap-1 sm:gap-2 md:gap-4 lg:gap-8`,children:y.map(I=>n.jsx("div",{className:"transform hover:scale-105 transition duration-300",children:n.jsx(Nh,{category:I})},I._id))}):n.jsxs("div",{className:"relative py-6",children:[n.jsx("button",{onClick:z,disabled:j===0,className:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-black disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-full transition duration-300 shadow-xl hover:shadow-2xl hover:scale-110 z-20","aria-label":"Previous categories",children:n.jsx(A0,{className:"text-lg"})}),n.jsx("div",{className:"overflow-hidden",children:n.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${j*(100/y.length)}%)`,width:`${y.length/R*100}%`},children:y.map(I=>n.jsx("div",{className:"0 flex-shrink-0 px-2 md:px-3",style:{width:`${100/y.length}%`},children:n.jsx(Nh,{category:I})},I._id))})}),n.jsx("button",{onClick:q,disabled:j>=y.length-R,className:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-black disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-full transition duration-300 shadow-xl hover:shadow-2xl hover:scale-110 z-20","aria-label":"Next categories",children:n.jsx(es,{className:"text-lg"})}),n.jsx("div",{className:"flex justify-center items-center gap-3 mt-10",children:Array.from({length:Math.ceil(y.length/R)}).map((I,H)=>n.jsx("button",{onClick:()=>N(H*R),className:`h-3 rounded-full transition-all duration-300 cursor-pointer ${Math.floor(j/R)===H?"bg-black w-10 shadow-lg":"bg-gray-300 w-3 hover:bg-black"}`,"aria-label":`Go to slide ${H+1}`},H))})]}),y.length<T.length&&n.jsx("div",{className:"text-center mt-12 pt-8 border-t border-gray-200",children:n.jsxs("p",{className:"text-gray-600 text-base font-medium",children:["Showing ",y.length," of ",T.length," categories"]})})]})})},sM=vt.memo(nM);function aM(e){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 18v-6a9 9 0 0 1 18 0v6"},child:[]},{tag:"path",attr:{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"},child:[]}]})(e)}function oM(e){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function lM(e){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(e)}function iM(e){return Me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}const cM="http://localhost:5000",Jl=({product:e})=>{const t=sr(),r=Sr(),[s,a]=vt.useState(0);if(e.isDraft)return null;const l=e.variantCombinations&&e.variantCombinations.length>0,c=e.images&&e.images.length>0?e.images:e.image?[e.image]:[],u=j=>!j||typeof j!="string"?"":j.startsWith("http")?j:`${cM}${j}`,{token:h}=aa(),f=Dt(j=>j.cart.items),m=async j=>{j.preventDefault(),j.stopPropagation();const N=c?.[0]||"";let C="";typeof N=="string"?C=N:N&&typeof N=="object"&&(C=N.url||N.src||N.path||N.secure_url||N.secureUrl||N.public_url||N.publicUrl||"");const w={_id:e._id,product:e._id,name:e.name,image:C,price:Number(e.price||0),category:e.category,discount:e.discount,quantity:1,selectedVariants:{}};t(gh(w));const E=f.find(O=>O._id===w._id)?f.map(O=>O._id===w._id?{...O,quantity:(O.quantity||0)+1}:O):[...f,w];try{await t(Ya(E)),ee.success("Added to cart!")}catch{ee.error("Failed to save cart to server")}},g=e.slug||e._id,y=j=>{j.preventDefault(),j.stopPropagation(),r(`/product/${g}`)},b=(j=0,N="text-lg")=>{const C=[];for(let w=1;w<=5;w++)j>=w?C.push(n.jsx(Qa,{className:`${N} text-yellow-400`},w)):j>=w-.5?C.push(n.jsx(Of,{className:`${N} text-yellow-400`},w)):C.push(n.jsx(Hc,{className:`${N} text-yellow-400`},w));return C};return n.jsx(ze,{to:`/product/${g}`,children:n.jsxs("div",{className:"md:hover:shadow-xl transition-all duration-300 overflow-hidden group h-full flex flex-col p-2 sm:p-4 rounded-lg bg-white shadow-md md:shadow-none",children:[n.jsx("div",{className:"w-full h-48 bg-[var(--color-bg-section)] rounded-lg overflow-hidden mb-4 flex items-center justify-center border border-[var(--color-border-light)]",children:n.jsx("img",{src:u(c[s]),alt:e.name,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-105 transition duration-300",onError:j=>j.target.style.display="none"})}),n.jsxs("div",{className:"flex flex-col flex-grow",children:[n.jsx("h3",{className:"font-bold text-black mb-2 line-clamp-2 text-sm group-hover:text-[var(--color-accent-primary)] transition duration-300",children:e.name}),e.numReviews>0&&n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"flex items-center gap-1",children:b(e.rating||0,"text-sm")}),n.jsxs("span",{className:"text-xs text-[var(--color-text-light)]",children:[(e.rating||0).toFixed(1)," (",e.numReviews,")"]})]}),n.jsx("div",{className:"mb-4 flex items-baseline gap-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-xs text-[var(--color-text-light)]",children:"From"}),n.jsxs("span",{className:"text-lg font-bold text-[var(--color-accent-primary)]",children:["",e.variantCombinations[0].price?.toFixed(2)||e.price?.toFixed(2)||"0.00"]})]}):n.jsxs("span",{className:"text-lg font-bold text-[var(--color-accent-primary)]",children:["  ",e.price?.toFixed(2)||"0.00"]})}),l?n.jsx("button",{onClick:y,className:"w-full bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white py-2 rounded font-bold text-sm transition-all duration-300 mt-auto opacity-100 md:opacity-0 md:group-hover:opacity-100 transform md:translate-y-2 md:group-hover:translate-y-0 shadow-md",children:"Select Options"}):n.jsx("button",{onClick:m,className:"w-full bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white py-2 rounded font-bold text-sm transition-all duration-300 mt-auto opacity-100 md:opacity-0 md:group-hover:opacity-100 transform md:translate-y-2 md:group-hover:translate-y-0 shadow-md",children:"Add to Cart"})]})]})})},b4=({category:e="",limit:t=8,title:r="Featured Products",layout:s="grid",columns:a=5,spacing:l="md",imageBorderRadius:c="md",titleFontSize:u="lg",descFontSize:h="sm",editorContent:f,editorStyle:m})=>{f&&(r=f.title||r,e=f.category||e,t=f.limit||t,s=f.layout||s,a=f.columns||a,l=f.spacing||l,c=f.imageBorderRadius||c,u=f.titleFontSize||u,h=f.descFontSize||h);const g=sr(),y=Sr(),[b,j]=S.useState([]),[N,C]=S.useState(0),[w,T]=S.useState("lg"),{products:E,loading:O}=Dt(H=>H.product),R=H=>({2:"md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",3:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3",4:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",5:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",6:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6"})[H]||"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",z=w==="sm"||w==="md"?2:5;S.useEffect(()=>{const H=()=>{const W=window.innerWidth;W<768?T("sm"):W<1024?T("md"):T("lg")};return H(),window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),S.useEffect(()=>{E.length===0&&g(Fr())},[g,E.length]),S.useEffect(()=>{if(E&&E.length>0){let H=E;e&&e.trim()&&(H=H.filter(W=>W.categories&&Array.isArray(W.categories)?W.categories.some(ie=>(typeof ie=="string"?ie:ie.name||ie.slug).toLowerCase()===e.toLowerCase()):W.category?W.category.toLowerCase()===e.toLowerCase():!1)),j(W=>{if(W.length!==H.length||W.length===0)return H;const ie=W.map(ne=>ne._id).join(","),Y=H.map(ne=>ne._id).join(",");return ie===Y?W:H})}},[E,e]);const q=()=>{C(H=>Math.max(0,H-1))},I=()=>{C(H=>Math.min(H+1,Math.max(0,b.length-z)))};return O&&E.length===0?n.jsx("section",{className:"py-4 px-4 bg-[var(--color-bg-primary)]",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-12 flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:r}),e&&n.jsx("button",{onClick:()=>y(`/products?category=${e}`),className:"px-8 py-3 bg-[var(--color-accent-primary)] rounded-lg text-white font-bold text-xs sm:text-sm uppercase tracking-wider hover:bg-[var(--color-accent-light)] transition duration-300",children:"Shop All"})]}),s==="grid"?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3 md:gap-4 lg:gap-6 xl:gap-8",children:[...Array(t)].map((H,W)=>n.jsx("div",{className:"bg-gradient-to-br from-gray-200 to-black-300 rounded-3xl h-96 animate-pulse"},W))}):n.jsx("div",{className:"bg-gradient-to-br from-gray-200 to-black-300 rounded-3xl h-96 animate-pulse"})]})}):b.length===0?n.jsx("section",{className:"py-4 px-4  bg-[var(--color-bg-primary)]",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-12 flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:r}),e&&n.jsx("button",{onClick:()=>y(`/products?category=${e}`),className:"px-8 py-3 bg-[var(--color-accent-primary)] text-white rounded-lg font-bold text-xs sm:text-sm uppercase tracking-wider hover:bg-[var(--color-accent-light)] transition duration-300",children:"Shop All"})]}),n.jsx("div",{className:"text-center py-20 bg-[var(--color-bg-primary)] rounded-2xl border-2 border-dashed border-[var(--color-border-light)]",children:n.jsx("p",{className:"text-[var(--color-text-light)] text-base sm:text-lg md:text-xl font-medium",children:e?`No products found in ${e}`:"No products available"})})]})}):n.jsx("section",{className:"py-4 px-4  bg-[var(--color-bg-primary)]",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-12 flex items-center justify-between",children:[n.jsx("div",{children:n.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:r})}),n.jsx("button",{onClick:()=>y(e?`/products?category=${e}`:"/products"),className:"px-8 py-3 bg-[var(--color-accent-primary)] text-white font-bold rounded-lg text-xs sm:text-sm uppercase tracking-wider hover:bg-gray-900 transition duration-300",children:"Shop All"})]}),s==="grid"?n.jsx("div",{className:`grid grid-cols-2 ${R(a)} gap-2 sm:gap-3 md:gap-4 lg:gap-6 xl:gap-8`,children:b.slice(0,t).map(H=>n.jsx("div",{className:"w-full transform hover:scale-105 transition duration-300",children:n.jsx(Jl,{product:H})},H._id))}):n.jsxs("div",{className:"relative py-6",children:[n.jsx("button",{onClick:q,disabled:N===0,className:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-black disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-full transition duration-300 shadow-xl hover:shadow-2xl hover:scale-110 z-20","aria-label":"Previous products",children:n.jsx(A0,{className:"text-lg"})}),n.jsx("div",{className:"overflow-hidden",children:n.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${N*(100/Math.min(b.length,t))}%)`,width:`${Math.min(b.length,t)/z*100}%`},children:b.slice(0,t).map(H=>n.jsx("div",{className:"transform hover:scale-105 my-4 transition duration-300 flex-shrink-0 px-2 md:px-3",style:{width:`${100/Math.min(b.length,t)}%`},children:n.jsx(Jl,{product:H})},H._id))})}),n.jsx("button",{onClick:I,disabled:N>=Math.min(b.length,t)-z,className:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-black disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-full transition duration-300 shadow-xl hover:shadow-2xl hover:scale-110 z-20","aria-label":"Next products",children:n.jsx(es,{className:"text-lg"})})]})]})})},dM=({content:e={}})=>{const[t,r]=S.useState(""),[s,a]=S.useState(!1),[l,c]=S.useState(!1),u=e.layout||"layout1",h=e.title||"Get the best deals in your inbox",f=e.subtitle||"",m=e.description||"Sign up for exclusive offers, new arrivals, and seasonal sales.",g=e.inputPlaceholder||"Enter Your Email Address",y=e.buttonText||"Subscribe",b=e.successTitle||"You're subscribed!",j=e.successMessage||"Thanks  check your email for the welcome offer.",N=e.bgColor||"var(--color-bg-section)",C=e.accentColor||"var(--color-accent-primary)",w=e.textColor||"var(--color-text-primary)",T=e.padding||10,E=e.borderRadius||16,O=e.benefits||[{id:"1",title:"No Spam",description:"Only curated deals"},{id:"2",title:"Early Access",description:"Subscriber-only previews"},{id:"3",title:"Easy Opt-out",description:"One click to unsubscribe"}],R=async L=>{if(L.preventDefault(),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){ee.error("Please enter a valid email address");return}a(!0);try{const q=await fetch("/api/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),I=await q.json();if(!q.ok){ee.error(I.message||"Failed to subscribe"),a(!1);return}a(!1),c(!0),r(""),ee.success("Successfully subscribed to our newsletter!"),setTimeout(()=>{c(!1)},3e3)}catch{a(!1),ee.error("Failed to subscribe. Please try again.")}};if(u==="layout1")return n.jsx("section",{style:{padding:`${T}px 16px`,background:"var(--color-bg-primary)",backgroundColor:"var(--color-bg-primary)"},children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{style:{backgroundColor:"var(--color-bg-secondary)",padding:"16px",borderRadius:"9999px"},children:n.jsx(Cn,{style:{fontSize:"36px",color:"var(--color-accent-primary)"}})})}),n.jsx("h2",{style:{fontSize:"32px",fontWeight:"bold",color:"var(--color-text-primary)",marginBottom:"8px"},children:h}),f&&n.jsx("p",{style:{color:"var(--color-text-secondary)",marginBottom:"12px",fontSize:"18px"},children:f}),n.jsx("p",{style:{color:"var(--color-text-secondary)",maxWidth:"512px",margin:"0 auto"},children:m})]}),n.jsx("div",{style:{backgroundColor:"var(--color-bg-primary)",borderRadius:`${E}px`,border:"1px solid var(--color-border-light)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",padding:"40px"},children:l?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"mb-4 flex justify-center",children:n.jsx("div",{style:{backgroundColor:"var(--color-bg-secondary)",padding:"12px",borderRadius:"9999px"},children:n.jsx(To,{style:{fontSize:"32px",color:"var(--color-success)"}})})}),n.jsx("h3",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--color-text-primary)",marginBottom:"8px"},children:b}),n.jsx("p",{style:{color:"var(--color-text-secondary)"},children:j})]}):n.jsxs("form",{onSubmit:R,className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-stretch sm:items-center",children:[n.jsxs("div",{className:"flex-1 w-full",children:[n.jsx("label",{className:"sr-only",children:"Email address"}),n.jsx("input",{type:"email",value:t,onChange:L=>r(L.target.value),placeholder:g,style:{width:"100%",padding:"12px 20px",border:"2px solid var(--color-border-light)",borderRadius:"8px",fontSize:"16px",outline:"none",color:"var(--color-text-primary)"},onFocus:L=>L.target.style.borderColor="var(--color-accent-primary)",onBlur:L=>L.target.style.borderColor="var(--color-border-light)",disabled:s})]}),n.jsx("button",{type:"submit",disabled:s,className:"w-full sm:w-auto",style:{backgroundColor:"var(--color-accent-primary)",color:"white",padding:"12px 24px",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:s?"not-allowed":"pointer",opacity:s?.6:1,display:"flex",alignItems:"center",gap:"12px",justifyContent:"center",whiteSpace:"nowrap"},children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Subscribing..."]}):n.jsxs(n.Fragment,{children:[n.jsx($c,{}),y]})})]}),n.jsx("div",{className:"flex flex-wrap gap-6 pt-6 border-t justify-between border-[var(--color-border-light)]",children:O.map(L=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{style:{backgroundColor:"var(--color-bg-secondary)",padding:"12px",borderRadius:"9999px"},children:n.jsx(To,{style:{color:"var(--color-accent-primary)",fontSize:"18px"}})}),n.jsxs("div",{children:[n.jsx("p",{style:{fontWeight:"600",color:"var(--color-text-primary)"},children:L.title}),n.jsx("p",{style:{fontSize:"14px",color:"var(--color-text-secondary)"},children:L.description})]})]},L.id))})]})})]})});if(u==="layout2"){const L=e.imageColWidth||35,z=100-L;return n.jsx("section",{style:{padding:`${T}px 16px`,backgroundColor:N},children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{style:{display:"flex",gap:"0",backgroundColor:"var(--color-bg-primary)",borderRadius:`${E}px`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid var(--color-border-light)",overflow:"hidden",minHeight:"320px"},children:[n.jsx("div",{style:{flex:`0 0 ${L}%`,display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",backgroundColor:"var(--color-bg-section)",borderRight:"1px solid var(--color-border-light)"},children:e.logoImage?n.jsx(n.Fragment,{children:n.jsx("img",{src:e.logoImage,alt:"Newsletter Logo",style:{maxWidth:"100%",maxHeight:"240px",height:"auto",objectFit:"contain",width:"100%"},onError:q=>{},onLoad:()=>{}})}):n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",backgroundColor:"var(--color-border-light)",borderRadius:"8px",color:"var(--color-text-light)",fontSize:"14px",fontWeight:"500",minHeight:"240px"},children:"No Image"})}),n.jsxs("div",{style:{flex:`0 0 ${z}%`,display:"flex",flexDirection:"column",padding:"40px",justifyContent:"center",gap:"20px"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{fontSize:"26px",fontWeight:"bold",color:w,marginBottom:"12px",lineHeight:"1.3"},children:h}),n.jsx("p",{style:{color:"var(--color-text-light)",margin:"0",fontSize:"15px",lineHeight:"1.6"},children:m})]}),l?n.jsxs("div",{style:{textAlign:"center",paddingTop:"12px"},children:[n.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"8px"},children:n.jsx("div",{style:{backgroundColor:`${C}20`,padding:"10px",borderRadius:"9999px"},children:n.jsx(To,{style:{fontSize:"24px",color:C}})})}),n.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",color:w,margin:"0 0 4px 0"},children:b}),n.jsx("p",{style:{fontSize:"12px",color:"var(--color-text-light)",margin:"0"},children:j})]}):n.jsxs("form",{onSubmit:R,className:"flex flex-col sm:flex-row gap-3 sm:gap-3 sm:items-center",children:[n.jsx("input",{type:"email",value:t,onChange:q=>r(q.target.value),placeholder:g,style:{flex:1,padding:"12px 16px",border:"1px solid var(--color-border-light)",borderRadius:"6px",fontSize:"14px",outline:"none"},onFocus:q=>q.target.style.borderColor="var(--color-accent-primary)",onBlur:q=>q.target.style.borderColor="var(--color-border-light)",disabled:s}),n.jsx("button",{type:"submit",disabled:s,className:"w-full sm:w-auto",style:{backgroundColor:C,color:"white",padding:"12px 24px",borderRadius:"6px",fontWeight:"600",border:"none",cursor:s?"not-allowed":"pointer",opacity:s?.6:1,fontSize:"14px",whiteSpace:"nowrap",minWidth:"110px"},children:s?"Subscribing...":y})]})]})]})})})}return u==="layout3"?n.jsx("section",{style:{padding:`${T}px 16px`,backgroundColor:N},children:n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs("div",{style:{backgroundColor:"var(--color-bg-primary)",borderRadius:`${E}px`,padding:"40px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[n.jsx("h2",{style:{fontSize:"28px",fontWeight:"bold",color:w,marginBottom:"12px",textAlign:"center"},children:h}),n.jsx("p",{style:{fontSize:"16px",color:"var(--color-text-light)",marginBottom:"24px",textAlign:"center",margin:"0 0 24px 0"},children:m}),l?n.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[n.jsx("div",{className:"mb-3 flex justify-center",children:n.jsx("div",{style:{backgroundColor:`${C}20`,padding:"12px",borderRadius:"9999px"},children:n.jsx(To,{style:{fontSize:"28px",color:C}})})}),n.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",color:w,marginBottom:"8px"},children:b}),n.jsx("p",{style:{fontSize:"14px",color:"var(--color-text-light)"},children:j})]}):n.jsxs("form",{onSubmit:R,className:"space-y-3",children:[n.jsx("input",{type:"email",value:t,onChange:L=>r(L.target.value),placeholder:g,style:{width:"100%",padding:"14px 16px",border:"2px solid var(--color-border-light)",borderRadius:"8px",fontSize:"16px",outline:"none",boxSizing:"border-box"},onFocus:L=>L.target.style.borderColor="var(--color-accent-primary)",onBlur:L=>L.target.style.borderColor="var(--color-border-light)",disabled:s}),n.jsx("button",{type:"submit",disabled:s,style:{width:"100%",backgroundColor:C,color:"white",padding:"14px 20px",borderRadius:"8px",fontWeight:"600",border:"none",cursor:s?"not-allowed":"pointer",opacity:s?.6:1,fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Subscribing..."]}):n.jsxs(n.Fragment,{children:[n.jsx($c,{}),y]})})]})]})})}):null},uM=()=>n.jsx("section",{className:"pt-4 px-4 md:px-8 bg-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",style:{color:"var(--color-text-primary)"},children:"Wolf Supplies Ltd - Online Retailer"}),n.jsxs("p",{className:"text-lg leading-relaxed",style:{color:"var(--color-text-secondary)"},children:[n.jsx("span",{style:{color:"var(--color-text-primary)",fontWeight:"bold"},children:"Wolf Supplies Ltd"})," (Company Number: 16070029) is a UK-based online retailer offering a selection of products with free UK shipping, 31-day returns, and customer support available Monday-Friday, 9 AM - 6 PM GMT."]})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h3",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-text-primary)"},children:"Products We Offer"}),n.jsx("p",{className:"text-lg leading-relaxed mb-8",style:{color:"var(--color-text-secondary)"},children:"We offer a selection of products for home, garden, and professional use. All products are sourced from established suppliers."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Home & Garden Products"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2",style:{color:"var(--color-text-secondary)"},children:[n.jsxs("li",{children:[n.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Home Improvement"})," - Products for home maintenance and repairs"]}),n.jsxs("li",{children:[n.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Garden & Outdoor"})," - Outdoor and landscaping products"]}),n.jsxs("li",{children:[n.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Home Accessories"})," - Functional items for living spaces"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Tools & Commercial Products"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2",style:{color:"var(--color-text-secondary)"},children:[n.jsxs("li",{children:[n.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Materials & Components"})," - Products from established manufacturers for general use"]}),n.jsxs("li",{children:[n.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Tools & Equipment"})," - Durable tools for various applications"]}),n.jsxs("li",{children:[n.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Workspace Items"})," - Products for work environments"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Product Information"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2",style:{color:"var(--color-text-secondary)"},children:[n.jsxs("li",{children:[n.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Product Details"})," - Detailed descriptions and specifications provided for all items"]}),n.jsxs("li",{children:[n.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Sourced Products"})," - Products sourced from established suppliers"]}),n.jsxs("li",{children:[n.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Returns & Support"})," - 31-day return policy and customer support available"]})]})]})]})]}),n.jsxs("div",{className:"mb-12 p-8 rounded-lg",style:{backgroundColor:"var(--color-desert-200)"},children:[n.jsx("h3",{className:"text-3xl font-bold mb-8",style:{color:"var(--color-accent-secondary)"},children:"How We Serve Customers"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"Selection of Products"}),n.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"We offer a range of products for home and commercial use"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"Competitive Pricing"}),n.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Products offered at competitive prices"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"Free UK Shipping"}),n.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Free shipping on all UK orders, 2-4 business days delivery"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"31-Day Returns"}),n.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"31-day returns policy for items returned in good condition"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"Secure Payment Processing"}),n.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Payments processed through Stripe. We do not store full card details"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"Customer Support"}),n.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Support available Monday-Friday, 9 AM - 6 PM GMT"})]})]})]})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h3",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-text-primary)"},children:"Shopping with Wolf Supplies Ltd"}),n.jsxs("p",{className:"text-lg leading-relaxed",style:{color:"var(--color-text-secondary)"},children:[n.jsx("span",{style:{color:"var(--color-text-primary)",fontWeight:"bold"},children:"Wolf Supplies Ltd"})," offers a selection of products for home and professional use. We provide product information, competitive pricing, secure payment processing through Stripe, free UK shipping, and a 31-day returns policy."]})]}),n.jsxs("div",{className:"p-8 rounded-lg",style:{backgroundColor:"var(--color-accent-primary)"},children:[n.jsx("h3",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-bg-primary)"},children:"Browse Our Products"}),n.jsx("p",{className:"text-lg leading-relaxed mb-6",style:{color:"var(--color-bg-primary)"},children:"Explore our product categories. All orders ship free to UK addresses within 2-4 business days. Payments are processed securely through Stripe, and we offer a 31-day returns policy. Customer support is available Monday-Friday, 9 AM - 6 PM GMT."}),n.jsx(ze,{to:"/products",className:"inline-block px-8 py-3 text-lg font-bold rounded-lg transition-all hover:opacity-90",style:{backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"},children:"View Products"})]})]})}),hM=()=>{const e=[{id:1,title:"Return & Refund",subtitle:"31 Days Return & Refund",icon:lM,color:"text-[var(--color-accent-primary)]",link:"/policies/returns-refund"},{id:2,title:"Free Shipping",subtitle:"2 - 4 business Days",icon:iM,color:"text-[var(--color-accent-primary)]",link:"/policies/shipping"},{id:3,title:"Secure Payment",subtitle:"We Ensure Secure Payment",icon:oM,color:"text-[var(--color-accent-primary)]",link:"/payment-options"},{id:4,title:"Customer Support",subtitle:"Mon - Fri 9:00 AM To 6:00 PM",icon:aM,color:"text-[var(--color-accent-primary)]",link:"/contact"}];return n.jsx("section",{className:"py-16 px-4 bg-[var(--color-bg-primary)]",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(t=>{const r=t.icon;return n.jsx(ze,{to:t.link,className:"no-underline",children:n.jsxs("div",{className:"flex flex-row items-center gap-4 hover:scale-105 transition-transform duration-300 p-4 border border-gray-100 rounded-lg cursor-pointer h-full",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(r,{className:`${t.color} text-3xl`})}),n.jsxs("div",{className:"flex-1 pt-1",children:[n.jsx("h3",{className:"text-base font-bold text-[var(--color-text-primary)] mb-1",children:t.title}),n.jsx("p",{className:"text-sm text-[var(--color-text-light)] leading-relaxed",children:t.subtitle})]})]})},t.id)})})})})},fM=()=>{const e=sr();ln();const[t,r]=S.useState(null),[s,a]=S.useState([]);return Sn({title:"Wolf Supplies LTD | Premium Quality Products, Fast UK Delivery & 31-Day Returns",description:"Shop premium products at Wolf Supplies LTD (UK Company 16070029). Fast 2-4 day UK delivery, free shipping, 31-day money-back guarantee. PCI DSS compliant, GDPR protected. Exceptional customer service Monday-Friday 9AM-6PM GMT.",keywords:"wolf supplies, products, shop, UK delivery, quality, premium, shopping online, fast delivery, returns policy, customer service",url:typeof window<"u"?window.location.href:""}),S.useEffect(()=>{e(Hn()),e(Fr()),window.scrollTo(0,0)},[e]),S.useEffect(()=>{(async()=>{try{const u=await(await fetch("/api/settings/featured-collections")).json();r(u?.featuredCategories||null),a(Array.isArray(u?.featuredProducts)?u.featuredProducts:[])}catch{}})()},[]),n.jsx(eM,{showMenuSlider:!0,children:n.jsxs("div",{className:"w-full bg-white",children:[n.jsx(hM,{}),n.jsx("section",{className:"py-4 px-4",children:n.jsx(sM,{editorContent:t})}),s&&s.length>0?s.map((l,c)=>n.jsx("section",{className:"py-4 px-4",children:n.jsx(b4,{editorContent:l})},`prod-${c}`)):n.jsx("section",{className:"py-4 px-4",children:n.jsx(b4,{})}),n.jsx("section",{className:"py-4 px-4",children:n.jsx(dM,{})}),n.jsx("section",{children:n.jsx(uM,{})})]})})},Kw=({filters:e,onFilterChange:t,maxPrice:r=100})=>{const[s,a]=S.useState(!0),[l,c]=S.useState(!0),u=y=>{const b=e.availability||[];b.includes(y)?t({availability:b.filter(j=>j!==y)}):t({availability:[...b,y]})},h=(y,b)=>{const j=parseFloat(b)||0,N=e.price||{min:0,max:r};t({price:{...N,[y]:j}})},f=e.price||{min:0,max:r},m=e.availability||[],g=f.max===1e4||f.max===0?r:f.max;return n.jsxs("div",{className:"bg-white rounded-lg p-6 space-y-0",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"FILTERS"}),n.jsxs("div",{className:"border-b border-gray-300",children:[n.jsxs("button",{onClick:()=>a(!s),className:"w-full flex items-center justify-between py-4 hover:bg-gray-50 transition",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Availability"}),s?n.jsx(h4,{className:"text-gray-600"}):n.jsx(vn,{className:"text-gray-600"})]}),s&&n.jsxs("div",{className:"pb-4 space-y-3",children:[n.jsxs("label",{className:"flex items-center cursor-pointer group",children:[n.jsx("input",{type:"checkbox",checked:m.includes("in_stock"),onChange:()=>u("in_stock"),className:"w-5 h-5 rounded border-2 border-gray-400 cursor-pointer transition"}),n.jsx("span",{className:"ml-3 text-gray-700 group-hover:text-gray-900 transition",children:"In stock"})]}),n.jsxs("label",{className:"flex items-center cursor-pointer group",children:[n.jsx("input",{type:"checkbox",checked:m.includes("out_of_stock"),onChange:()=>u("out_of_stock"),className:"w-5 h-5 rounded border-2 border-gray-400 cursor-pointer transition"}),n.jsx("span",{className:"ml-3 text-gray-700 group-hover:text-gray-900 transition",children:"Out of stock"})]})]})]}),n.jsxs("div",{className:"border-b border-gray-300",children:[n.jsxs("button",{onClick:()=>c(!l),className:"w-full flex items-center justify-between py-4 hover:bg-gray-50 transition",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Price"}),l?n.jsx(h4,{className:"text-gray-600"}):n.jsx(vn,{className:"text-gray-600"})]}),l&&n.jsxs("div",{className:"pb-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center bg-gray-100 rounded px-3 py-2",children:[n.jsx("span",{className:"text-gray-600 font-semibold",children:""}),n.jsx("input",{type:"number",value:f.min,onChange:y=>h("min",y.target.value),placeholder:"0",className:"bg-gray-100 w-20 outline-none text-gray-900 font-semibold text-center"})]}),n.jsx("span",{className:"text-gray-600 font-semibold",children:"to"}),n.jsxs("div",{className:"flex items-center bg-gray-100 rounded px-3 py-2",children:[n.jsx("span",{className:"text-gray-600 font-semibold",children:""}),n.jsx("input",{type:"number",value:g,onChange:y=>h("max",y.target.value),max:r,className:"bg-gray-100 w-20 outline-none text-gray-900 font-semibold text-center"})]})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["The highest price is ",r.toFixed(2)]})]})]})]})},pM=()=>{const e=sr(),t=ln(),{products:r,loading:s,filters:a}=Dt(y=>y.product),[l,c]=S.useState([]),[u,h]=S.useState("");Sn({title:"Shop All Products | Wolf Supplies LTD",description:"Browse our complete range of quality products. Fast UK delivery, competitive prices, and excellent customer service.",keywords:"products, shop, buy, online store, quality, affordable",url:typeof window<"u"?window.location.href:""}),S.useEffect(()=>{const b=new URLSearchParams(t.search).get("search")||"";h(b),b&&e(vc({...a,search:b}))},[t.search,e]),S.useEffect(()=>{e(Fr())},[e]);const f=S.useMemo(()=>{if(!r||r.length===0)return 100;let y=0;return r.forEach(b=>{b.price>y&&(y=b.price),b.variantCombinations&&b.variantCombinations.length>0&&b.variantCombinations.forEach(j=>{const N=j.price||b.price;N>y&&(y=N)})}),y||100},[r]);S.useEffect(()=>{let y=r;const b=a.search?.toLowerCase()||"";y=y.filter(T=>!T.isDraft);let j=[],N=[],C=[];y.forEach(T=>{const E=T.name.toLowerCase(),O=Array.isArray(T.categories)?T.categories.map(L=>(L.name||L).toLowerCase()).join(" "):(T.category||"").toLowerCase();b&&(E.includes(b)||O.includes(b))?E.startsWith(b)?j.push(T):N.push(T):C.push(T)});let w=[...j,...N,...C];a.category&&(w=w.filter(T=>Array.isArray(T.categories)?T.categories.some(E=>E._id===a.category||E.name===a.category):T.category===a.category)),a.availability&&a.availability.length>0&&(w=w.filter(T=>{const E=T.variants&&T.variants.length>0;let O;return E?O=T.variantCombinations&&T.variantCombinations.some(L=>L.stock>0):O=T.stock>0,!!(a.availability.includes("in_stock")&&O||a.availability.includes("out_of_stock")&&!O)})),w=w.filter(T=>{if(T.variants&&T.variants.length>0&&T.variantCombinations&&T.variantCombinations.length>0){let O=null;for(const L of T.variantCombinations)L.price&&L.price>0&&(O===null||L.price<O)&&(O=L.price);const R=O!==null?O:T.price;return R>=a.price.min&&R<=a.price.max}return T.price>=a.price.min&&T.price<=a.price.max}),c(w)},[r,a]);const m=u&&l.length>0,g=S.useMemo(()=>u?l.filter(y=>y.name.toLowerCase().startsWith(u.toLowerCase())).length:0,[l,u]);return n.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] py-16 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-16",children:[n.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:"Our Products"}),u?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-xl text-[var(--color-text-light)]",children:["Search results for: ",n.jsxs("span",{className:"font-bold text-[var(--color-text-primary)]",children:['"',u,'"']})]}),m&&n.jsxs("p",{className:"text-sm text-green-600 font-semibold",children:[" Found ",l.length," matching product",l.length!==1?"s":""," (Showing best matches first)"]})]}):n.jsx("p",{className:"text-xl text-[var(--color-text-light)]",children:"Browse our amazing collection of products"})]}),n.jsxs("div",{className:"grid lg:grid-cols-6 gap-10",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx("div",{className:"sticky top-24",children:n.jsx(Kw,{filters:a,maxPrice:f,onFilterChange:y=>e(vc(y))})})}),n.jsx("div",{className:"lg:col-span-4 space-y-8",children:s?n.jsx("div",{className:"flex justify-center items-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ws,{className:"text-6xl text-[var(--color-text-light)] animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-xl text-[var(--color-text-light)]",children:"Loading products..."})]})}):l.length>0?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-8 p-4 bg-gradient-to-r from-[var(--color-bg-section)] to-[var(--color-bg-section)] rounded-lg border border-[var(--color-border-light)]",children:[n.jsxs("p",{className:"text-[var(--color-text-light)]",children:["Showing ",n.jsx("span",{className:"font-bold text-[var(--color-text-primary)]",children:l.length})," product",l.length!==1?"s":"",u&&n.jsxs("span",{children:[' matching "',n.jsx("span",{className:"font-bold text-[var(--color-accent-primary)]",children:u}),'"']})]}),u&&g>0&&n.jsxs("p",{className:"text-sm text-green-700 mt-2",children:[" ",g," exact match",g!==1?"es":""," shown first"]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(y=>n.jsx(Jl,{product:y},y._id))})]}):n.jsxs("div",{className:"text-center py-24 bg-gradient-to-br from-[var(--color-bg-section)] to-[var(--color-bg-section)] rounded-2xl shadow-lg border border-[var(--color-border-light)]",children:[n.jsx("div",{className:"text-6xl mb-6",children:""}),n.jsx("p",{className:"text-2xl text-[var(--color-text-light)] font-semibold mb-2",children:"No products found"}),u?n.jsxs("div",{children:[n.jsxs("p",{className:"text-[var(--color-text-light)] text-lg mb-4",children:[`We couldn't find any products matching "`,n.jsx("span",{className:"font-bold",children:u}),'"']}),n.jsx("button",{onClick:()=>{e(vc({...a,search:""})),h("")},className:"inline-block px-6 py-2 bg-[var(--color-accent-primary)] text-white font-bold rounded-lg hover:bg-[var(--color-accent-light)] transition duration-300",children:"View All Products"})]}):n.jsx("p",{className:"text-[var(--color-text-light)] text-lg",children:"Try adjusting your filters"})]})})]})]})})},Gw=({currentProductId:e,currentCategory:t})=>{const r=Sr(),{products:s}=Dt(c=>c.product),a=5,l=S.useMemo(()=>s.filter(c=>c.category===t&&c._id!==e).slice(0,a),[s,t,e,a]);return l.length===0?null:n.jsxs("div",{className:"mt-20 py-12 bg-white rounded-3xl p-8 md:p-12",children:[n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"h-1 w-12 rounded-full",style:{backgroundColor:"var(--color-accent-primary)"}}),n.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:"More Products"})]}),n.jsx("h3",{className:"text-4xl md:text-5xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Related Products"}),n.jsxs("p",{className:"text-xl",style:{color:"var(--color-text-light)"},children:["You might also like these ",t," items"]})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-5 gap-6",children:l.map(c=>n.jsx("div",{className:"h-full",children:n.jsx(Jl,{product:c})},c._id))}),n.jsx("div",{className:"mt-12 text-center",children:n.jsxs("button",{onClick:()=>r(`/products?category=${t}`),className:"inline-flex items-center gap-3 text-white px-10 py-4 rounded-xl font-bold text-lg transition duration-300 transform hover:scale-105 shadow-lg",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:c=>c.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:c=>c.target.style.backgroundColor="var(--color-accent-primary)",children:["View All ",t," Products",n.jsx(es,{className:"text-sm"})]})})]})},mM=({product:e,token:t,user:r,onSubmitReview:s,requireReviewApproval:a,API:l})=>{const[c,u]=S.useState(!1),[h,f]=S.useState(5),[m,g]=S.useState(""),[y,b]=S.useState(!1),[j,N]=S.useState(0),[C,w]=S.useState(!1),T=(H=0,W="text-lg")=>{const ie=[];for(let Y=1;Y<=5;Y++)H>=Y?ie.push(n.jsx(Qa,{className:`${W} text-yellow-400`},Y)):H>=Y-.5?ie.push(n.jsx(Of,{className:`${W} text-yellow-400`},Y)):ie.push(n.jsx(Hc,{className:`${W} text-yellow-400`},Y));return ie},E=async H=>{if(H.preventDefault(),!t){ee.error("Please log in to submit a review");return}try{await s({rating:h,comment:m,name:r?.name,email:r?.email}),u(!1),f(5),g(""),b(!0),setTimeout(()=>b(!1),3500)}catch(W){ee.error(W.message||"Failed to submit review")}},O=Array.isArray(e?.reviews)?e.reviews:[],R=O.length>0?a?O.filter(H=>H&&H.isApproved===!0):O:[],L=R.slice().sort((H,W)=>{const ie=new Date(H?.createdAt||H?.updatedAt||0).getTime();return new Date(W?.createdAt||W?.updatedAt||0).getTime()-ie}),z=C?L:L.slice(0,8),q=R.length,I=q>8;return n.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-lg",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Customer Reviews & Ratings"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[n.jsxs("div",{className:"bg-linear-to-br from-gray-100 to-gray-200 p-8 rounded-xl border-2 border-gray-400 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-4",children:e?.rating||4.6}),n.jsx("div",{className:"flex justify-center mb-4 text-3xl",children:T(e?.rating||0,"text-3xl")}),n.jsxs("p",{className:"text-gray-700 font-semibold",children:["Based on ",q," verified reviews"]})]}),n.jsx("div",{className:"col-span-2 space-y-4",children:(()=>{const H=R.length||0,W=[5,4,3,2,1].map(ie=>R.filter(Y=>Math.round(Number(Y?.rating||0))===ie).length);return[5,4,3,2,1].map((ie,Y)=>{const ne=W[Y],F=H?Math.round(ne/H*100):0;return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"font-semibold text-gray-700 w-16",children:[ie," Star"]}),n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 overflow-hidden",children:n.jsx("div",{className:"bg-gray-800 h-full transition-all",style:{width:`${F}%`}})}),n.jsxs("span",{className:"text-gray-600 font-semibold w-12",children:[F,"%"]})]},ie)})})()})]}),n.jsxs("div",{className:"border-t pt-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Recent Reviews"}),n.jsx("button",{onClick:()=>{if(!t){ee("Please log in to leave a review",{icon:""});return}u(H=>!H)},className:"py-2 px-4 text-[10px] sm:text-xl bg-black text-white rounded-lg font-semibold hover:bg-black transition",children:c?"Cancel":"Write a review"})]}),y&&n.jsx("div",{className:"mb-4 p-4 rounded-lg bg-gray-50 border border-gray-200 text-gray-800",children:"Thank you  your review has been submitted."}),c&&n.jsxs("form",{onSubmit:E,className:"bg-gray-50 p-6 rounded-lg mb-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Your Rating"}),n.jsx("div",{className:"mt-2 flex items-center gap-2",role:"radiogroup","aria-label":"Your rating",children:[1,2,3,4,5].map(H=>{const W=H<=(j||h);return n.jsx("button",{type:"button",onClick:()=>f(H),onMouseEnter:()=>N(H),onMouseLeave:()=>N(0),onKeyDown:ie=>{(ie.key==="Enter"||ie.key===" ")&&(ie.preventDefault(),f(H))},"aria-checked":h===H,role:"radio","aria-label":`${H} star${H>1?"s":""}`,className:`focus:outline-none ${W?"text-gray-800":"text-gray-300"} text-2xl transition cursor-pointer`,children:W?n.jsx(Qa,{}):n.jsx(Hc,{})},H)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Your Name"}),n.jsx("input",{value:r?.name||"",disabled:!0,className:"w-full mt-2 p-3 border rounded-lg bg-white text-gray-700"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Your Email"}),n.jsx("input",{value:r?.email||"",disabled:!0,className:"w-full mt-2 p-3 border rounded-lg bg-white text-gray-700"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Your Review"}),n.jsx("textarea",{value:m,onChange:H=>g(H.target.value),rows:4,placeholder:"Share your experience with this product...",className:"w-full mt-2 p-3 border rounded-lg focus:border-gray-400 focus:outline-none"})]}),n.jsx("div",{className:"text-right",children:n.jsx("button",{type:"submit",className:"py-3 px-6 bg-black text-white rounded-lg font-semibold hover:bg-black transition",children:"Submit Review"})})]}),n.jsxs("div",{className:"space-y-6",children:[z.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:z.map(H=>{const W=H?._id?`review-${H._id}`:`review-${Math.random()}`,ie=H?.name||H?.user?.name||"Customer",Y=H?.user?.email||"",ne=Number(H?.rating||0),F=H?.comment||"",M=H?.isApproved===!0;return new Date(H?.createdAt||H?.updatedAt||Date.now()).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),n.jsxs("div",{className:"p-6 rounded-lg border transition-all hover:shadow-md bg-gray-50 border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-gray-900 text-sm",children:ie}),Y&&n.jsx("p",{className:"text-xs text-gray-900",children:Y}),M&&n.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-gray-100 text-gray-800 text-xs font-semibold rounded",children:" Verified"})]}),n.jsx("div",{className:"flex text-gray-800",children:T(ne,"text-xs")})]}),n.jsx("p",{className:"text-gray-700 text-sm leading-relaxed line-clamp-3 mb-3",children:F})]},W)})}):n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[n.jsx("p",{className:"text-gray-600 font-semibold mb-2",children:"No reviews yet"}),n.jsx("p",{className:"text-gray-900 text-sm",children:"Be the first to share your experience with this product!"})]}),I&&n.jsx("div",{className:"flex justify-center pt-6 border-t",children:n.jsx("button",{onClick:()=>w(H=>!H),className:"py-2 px-6 bg-black text-white rounded-lg font-semibold hover:bg-black transition-colors",children:C?"Show fewer reviews":`Show all ${q} reviews`})})]})]})]})},Yw="/assets/Strip%20Logos-gVdXTu1U.png",gM=Object.freeze(Object.defineProperty({__proto__:null,default:Yw},Symbol.toStringTag,{value:"Module"})),xM=()=>{const{id:e,slug:t}=bf(),r=Sr(),s=sr(),{product:a,loading:l}=Dt(ge=>ge.product),c=Dt(ge=>ge.wishlist.items),[u,h]=S.useState(1),[f,m]=S.useState(!1),[g,y]=S.useState(null),[b,j]=S.useState(!1),[N,C]=S.useState(null),[w,T]=S.useState(null),[E,O]=S.useState({}),[R,L]=S.useState(0),[z,q]=S.useState(0),I=7,H=S.useRef(null),[W,ie]=S.useState(!1),[Y,ne]=S.useState(!1),[F,M]=S.useState("description"),[_,X]=S.useState(!1),[$,ce]=S.useState(0),[A,B]=S.useState({x:0,y:0}),P=S.useRef(null),K=S.useRef(0),[de,ve]=S.useState(!0),{token:je,user:He}=aa(),te=Dt(ge=>ge.cart.items),ue="http://localhost:5000",U=ge=>{if(!ge)return"";if(typeof ge=="string")return ge.trim()?ge.startsWith("http")?ge:`${ue}${ge}`:"";if(typeof ge=="object"){const Te=ge.url||ge.secure_url||ge.public_url||ge.path||ge.src||"";if(!Te)return"";if(typeof Te=="string")return Te.startsWith("http")?Te:`${ue}${Te}`}return""};Sn({title:a?.metaTitle||a?.name||"Product",description:a?.metaDescription||a?.description||"Browse our product selection",keywords:a?.metaKeywords||"",image:a?.images?.[0]||"",url:typeof window<"u"?window.location.href:""}),S.useEffect(()=>{(async()=>{try{const Te=await fetch(`${ue}/api/settings`);if(!Te.ok)throw new Error("Failed to fetch settings");const Le=await Te.json();ve(Le.requireReviewApproval!==!1)}catch{}})()},[ue]),S.useEffect(()=>{h(1),C(null),T(null),O({}),L(0),m(!1),y(null),j(!1),(t||e)&&s(t?Zu(t):Vl(e))},[e,t,s]),S.useEffect(()=>{K.current>0&&!l&&requestAnimationFrame(()=>{window.scrollTo(0,K.current),K.current=0})},[a,l]),S.useEffect(()=>{K.current>0&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.scrollTo(0,K.current),K.current=0})})},[F]),S.useEffect(()=>{if(!a)return;let ge=null;if(a.variantCombinations&&a.variantCombinations.length>0){const Ze={...E||{}};N&&(Ze.Size=N),w&&(Ze.Color=w);for(const tt of a.variantCombinations){const At=tt.variantValues||{},xe=At instanceof Map?Object.fromEntries(At):At,Ge=Object.keys(xe);let ft=!0;for(const Fe of Ge){const pt=xe[Fe],Mt=Ze[Fe];if(pt!==void 0&&(Mt===void 0||String(Mt)!==String(pt))){ft=!1;break}}if(ft){ge=tt._id||tt.id||null;break}}}const Te={variantId:ge||null,selectedSize:N||null,selectedColor:w||null,selectedVariants:E||{}},Le=Ze=>{if(!Ze)return!1;if(Ze.variantId&&Te.variantId&&String(Ze.variantId)===String(Te.variantId))return!0;const tt=Ze.selectedSize||null,At=Ze.selectedColor||null,xe=Ze.selectedVariants||{};if(tt&&Te.selectedSize&&String(tt)===String(Te.selectedSize)&&At&&Te.selectedColor&&String(At)===String(Te.selectedColor))return!0;const Ge=Object.keys(xe||{}).sort(),ft=Object.keys(Te.selectedVariants||{}).sort();if(Ge.length&&Ge.length===ft.length){for(let Fe=0;Fe<Ge.length;Fe++){const pt=Ge[Fe];if(String(xe[pt])!==String(Te.selectedVariants[pt]))return!1}return!0}return!1};let Ye=!1;for(const Ze of c){const tt=Ze.productId||Ze.product&&(Ze.product._id||Ze.product)||Ze._id||Ze.product;if(String(tt)!==String(a._id))continue;if(!(Ze.__isSnapshot||Ze.snapshot!==void 0||!!Ze.variantId)&&(!a.variantCombinations||a.variantCombinations.length===0)){Ye=!0;break}const xe=Ze.snapshot?Ze.snapshot:Ze,Ge=Ze.variantId||xe.variantId||null,ft={...xe,variantId:Ge};if(Le(ft)){Ye=!0;break}}Ye||(Te.variantId?g&&String(g)===String(Te.variantId)&&(Ye=!0):b&&(Ye=!0)),m(!!Ye),a.variantCombinations&&a.variantCombinations.length>0&&b&&j(!1),g&&Te.variantId&&String(g)!==String(Te.variantId)&&y(null)},[a,c,E,N,w]),S.useEffect(()=>{if(a&&a.variants&&a.variants.length>0&&a.variantCombinations&&a.variantCombinations.length>0&&Object.keys(E).length===0){const Te={};for(const Ye of a.variantCombinations){const Ze=Ye.variantValues||{};for(const[tt,At]of Object.entries(Ze))Te[tt]||(Te[tt]=new Set),Te[tt].add(String(At))}const Le={};for(const[Ye,Ze]of Object.entries(Te)){const tt=Array.from(Ze).sort();Le[Ye]=tt[0]}Object.keys(Le).length>0&&O(Le)}},[a]),S.useEffect(()=>{L(0),q(0)},[E,N,w]);const ae=()=>{if(!a)return[];const ge={...E||{}};N&&(ge.Size=N),w&&(ge.Color=w);let Te=null;for(const tt of a.variantCombinations||[]){const At=tt.variantValues||{},xe=At instanceof Map?Object.fromEntries(At):At,Ge=Object.keys(xe);let ft=!0;for(const Fe of Ge){const pt=xe[Fe],Mt=ge[Fe];if(pt!==void 0&&(Mt===void 0||String(Mt)!==String(pt))){ft=!1;break}}if(ft){Te=tt;break}}const Le=tt=>tt?typeof tt=="string"?tt:typeof tt=="object"&&(tt.url||tt.secure_url||tt.public_url||tt.path||tt.src)||"":"",Ze=(a?.images||[]).map(Le).filter(Boolean);if(Te&&Te.image){const tt=Le(Te.image);if(tt){const At=Ze.filter(xe=>xe!==tt);return[tt,...At]}}return Ze.length===0&&a.image?[Le(a.image)]:Ze},le=(ge=0,Te="text-lg")=>{const Le=[];for(let Ye=1;Ye<=5;Ye++)ge>=Ye?Le.push(n.jsx(Qa,{className:`${Te} text-yellow-400`},Ye)):ge>=Ye-.5?Le.push(n.jsx(Of,{className:`${Te} text-yellow-400`},Ye)):Le.push(n.jsx(Hc,{className:`${Te} text-yellow-400`},Ye));return Le},Q=ae(),ye=Q&&Q.length>0?Q[R]:a?.image||"";S.useEffect(()=>{if(!Q||Q.length===0){q(0);return}q(ge=>Math.max(0,Math.min(Math.max(0,Q.length-I),ge)))},[R,Q]),S.useEffect(()=>{const ge=H.current;if(!ge)return;const Te=ge.querySelectorAll("button")[R];Te&&Te.scrollIntoView&&Te.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"});const Le=()=>{ge&&(ie(ge.scrollLeft>8),ne(ge.scrollWidth-ge.clientWidth-ge.scrollLeft>8))},Ye=setTimeout(Le,120);return Le(),()=>clearTimeout(Ye)},[R,Q]),S.useEffect(()=>{const ge=H.current;if(!ge)return;const Te=()=>{ie(ge.scrollLeft>8),ne(ge.scrollWidth-ge.clientWidth-ge.scrollLeft>8)};return ge.addEventListener("scroll",Te),Te(),()=>ge.removeEventListener("scroll",Te)},[Q]);const Ne=async()=>{if(a){if(!Gt){ee.error("This item is out of stock");return}if(a.specifications?.sizes&&!N){ee.error("Please select a size");return}if(a.specifications?.colors&&!w){ee.error("Please select a color");return}if(a.variants&&Object.keys(a.variants).length>0){for(const[Fe,pt]of Object.entries(a.variants))if(pt.required&&!E[Fe]){ee.error(`Please select ${Fe}`);return}}const ge=Q&&Q.length>0?Q[0]:a.image||a.images&&a.images[0]||"";let Te="";typeof ge=="string"?Te=ge:ge&&typeof ge=="object"&&(Te=ge.url||ge.src||ge.path||"");let Le=null;lt&&lt.image&&(Le=U(lt.image));const tt={_id:((Fe,pt,Mt,G)=>{const fe=[Fe||""];if(fe.push(`size:${pt||""}`),fe.push(`color:${Mt||""}`),G&&typeof G=="object"){const Be=Object.keys(G).sort().map(nt=>`${nt}:${G[nt]}`);fe.push(`vars:${Be.join(",")}`)}else fe.push("vars:");return fe.join("|")})(a._id,N,w,E),product:a._id,name:a.name,image:Te,variantImage:Le||Te,price:Number(lt?.price??a.price??0),category:a.category,discount:a.discount,quantity:u,selectedSize:N,selectedColor:w,selectedVariants:a.variants&&a.variants.length>0?E:{},variant:a.variants&&a.variants.length>0&&Object.values(E).join(" - ")||null,sku:lt?.sku||a.sku||null,colorCode:E?.Color?"#cccccc":null};s(gh(tt));const At=(Fe,pt)=>{if(!Fe||!pt||(Fe.product||"")!==(pt.product||"")||(Fe.selectedSize||"")!==(pt.selectedSize||"")||(Fe.selectedColor||"")!==(pt.selectedColor||""))return!1;const Mt=Fe.selectedVariants||{},G=pt.selectedVariants||{},fe=Object.keys(Mt).sort(),$e=Object.keys(G).sort();if(fe.length!==$e.length)return!1;for(let Be=0;Be<fe.length;Be++){const nt=fe[Be];if(nt!==$e[Be]||String(Mt[nt])!==String(G[nt]))return!1}return!0},xe=te.find(Fe=>At(Fe,tt));let Ge=[];xe?Ge=te.map(Fe=>At(Fe,tt)?{...Fe,quantity:(Fe.quantity||0)+(tt.quantity||1)}:Fe):Ge=[...te,tt];try{const Fe=await s(Ya(Ge))}catch{ee.error("Failed to save cart to server")}const ft=Object.entries(E).map(([Fe,pt])=>`${Fe}: ${pt}`).join(", ");ee.success(`${u} item(s) added to cart! ${ft}`)}},Ke=()=>{if(a){localStorage.getItem("token");const ge=lt||null,Te=ge?._id||ge?.id||null,Le=Q&&Q.length>0?Q[0]:a.image||a.images&&a.images[0]||"";let Ye="";typeof Le=="string"?Ye=Le:Le&&typeof Le=="object"&&(Ye=Le.url||Le.src||Le.path||"");const Ze={productId:a._id,name:a.name,price:Number(lt?.price??a.price??0),image:Ye,selectedVariants:E||{},selectedSize:N||null,selectedColor:w||null,variantId:Te||null};f?(m(!1),y(null),j(!1),s(zo({productId:a._id,variantId:Te}))):(m(!0),Te?(y(Te),j(!1)):(y(null),j(!0)),s(xh({productId:a._id,snapshot:Ze}))),ee.success(f?"Removed from wishlist":"Added to wishlist!")}},at=()=>{navigator.share&&a?navigator.share({title:a.name,text:`Check out this amazing product: ${a.name}`,url:window.location.href}):ee.success("Link copied to clipboard!")};if(l)return n.jsx("div",{className:"min-h-screen flex justify-center items-center bg-[var(--color-bg-section)]",children:n.jsx(ws,{className:"text-6xl text-[var(--color-text-light)] animate-spin"})});if(!a)return n.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center bg-[var(--color-bg-section)]",children:[n.jsx("p",{className:"text-3xl text-[var(--color-text-light)] mb-6",children:"Product not found"}),n.jsx("button",{onClick:()=>r("/products"),className:"bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white px-8 py-3 rounded-lg font-bold transition duration-300",children:"Browse Products"})]});const lt=(()=>{if(!a||!a.variantCombinations||a.variantCombinations.length===0)return null;const ge={...E||{}};N&&(ge.Size=N),w&&(ge.Color=w);for(const Te of a.variantCombinations){const Le=Te.variantValues||{},Ye=Le instanceof Map?Object.fromEntries(Le):Le,Ze=Object.keys(Ye);let tt=!0;for(const At of Ze){const xe=Ye[At],Ge=ge[At];if(xe!==void 0&&(Ge===void 0||String(Ge)!==String(xe))){tt=!1;break}}if(tt)return Te}return null})();let Kt=null;lt?Kt=Number(lt.stock||0):a.variantCombinations&&a.variantCombinations.length>0?Kt=null:Kt=Number(a.stock||0);const Gt=Kt!==null?Kt>0:!!a.inStock,Yt=(()=>{if(!a.variantCombinations||a.variantCombinations.length===0)return{};const ge={};for(const Le of a.variantCombinations){const Ye=Le.variantValues||{};for(const[Ze,tt]of Object.entries(Ye))ge[Ze]||(ge[Ze]=new Set),ge[Ze].add(String(tt))}const Te={};for(const[Le,Ye]of Object.entries(ge))Te[Le]=Array.from(Ye).sort();return Te})(),Wn=async ge=>{if(!je)throw ee.error("Please log in to submit a review"),new Error("Not authenticated");try{K.current=window.scrollY;const Te=a?._id||e||t;if(!Te)throw new Error("Product identifier missing");const Le=await fetch(`${ue}/api/products/${Te}/reviews`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${je}`},body:JSON.stringify(ge)}),Ye=await Le.json();if(!Le.ok)throw new Error(Ye.message||"Failed to submit review");ee.success("Review submitted successfully"),a&&a._id?s(Vl(a._id)):s(Vl(Te))}catch(Te){throw K.current=0,Te}};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("div",{className:"bg-[var(--color-bg-primary)] border-b border-[var(--color-border-light)]",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-[var(--color-text-light)]",children:[n.jsx("button",{onClick:()=>r("/"),className:"hover:text-[var(--color-accent-primary)] transition",children:"Home"}),n.jsx("span",{children:"/"}),n.jsx("button",{onClick:()=>r("/products"),className:"hover:text-[var(--color-accent-primary)] transition",children:"Products"}),n.jsx("span",{children:"/"}),n.jsx("span",{className:"text-[var(--color-accent-primary)] font-semibold",children:a.name})]})})}),n.jsxs("div",{className:"max-w-full mx-auto px-2 sm:px-2 lg:px-2 py-8",children:[n.jsxs("div",{className:"grid lg:grid-cols-2 gap-5 mb-16",children:[n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:" rounded-2xl  overflow-hidden p-2 sticky",style:{top:"var(--pdp-sticky-offset, 0px)"},children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 w-full",children:[Q.length>1&&n.jsx("div",{className:"w-full lg:flex-shrink-0 lg:w-auto",children:n.jsx("div",{ref:H,className:"flex lg:flex-col gap-2 lg:gap-3 overflow-x-auto lg:overflow-y-auto lg:overflow-x-hidden px-1 rounded-lg hide-scrollbar",style:{height:"auto",minHeight:"auto",scrollBehavior:"smooth",maxWidth:"400px",maxHeight:"500px",lg:{maxHeight:"500px",maxWidth:"none",minWidth:"120px",minHeight:"400px"}},children:Q&&Q.length>0?Q.map((ge,Te)=>n.jsx("button",{onClick:()=>L(Te),className:`flex-shrink-0 w-16 h-16 lg:w-20 lg:h-20 rounded-lg overflow-hidden border-3 transition-all duration-300 hover:scale-105 ${R===Te?"border-[var(--color-accent-primary)] shadow-lg":"border-[var(--color-border-light)] hover:border-[var(--color-accent-primary)] shadow-sm"}`,children:n.jsx("img",{src:U(ge),alt:`Thumbnail ${Te+1}`,className:"w-full h-full object-contain",onError:Le=>{Le.target.style.opacity="0"}},`thumb-${Te}`)},Te)):n.jsx("div",{className:"w-20 h-20 bg-[var(--color-bg-section)] rounded-lg flex items-center justify-center text-[var(--color-text-light)]",children:n.jsx("span",{className:"text-xs text-center",children:"No Images"})})})}),n.jsx("div",{className:"flex-1 flex flex-col w-full",children:n.jsxs("div",{className:"relative rounded-xl overflow-hidden group cursor-zoom-in flex items-center justify-center mx-auto lg:mx-0",style:{aspectRatio:"1/1",width:"100%",maxWidth:"100%",height:"auto"},onClick:()=>{ce(R),X(!0)},children:[Q&&Q.length>0?n.jsx("img",{src:U(ye),alt:a.name,className:"w-full h-full object-contain group-hover:scale-105 transition duration-500",onError:ge=>{ge.target.style.opacity="0"}},R):n.jsx("div",{className:"text-[var(--color-text-light)] text-center",children:n.jsx("p",{className:"text-lg font-semibold",children:"No Images Available"})}),Q&&Q.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:ge=>{ge.stopPropagation(),L(Te=>{const Le=(Te-1+Q.length)%Q.length;return q(Ye=>Math.max(0,Math.min(Math.max(0,Q.length-I),Ye-1))),Le})},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-[var(--color-accent-primary)] bg-opacity-70 hover:bg-opacity-100 text-white p-3 rounded-full transition-all z-10 shadow-lg flex items-center justify-center","aria-label":"Previous image",children:n.jsx(Ir,{className:"text-lg"})}),n.jsx("button",{onClick:ge=>{ge.stopPropagation(),L(Te=>{const Le=(Te+1)%Q.length;return q(Ye=>Math.min(Math.max(0,Q.length-I),Ye+1)),Le})},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-[var(--color-accent-primary)] bg-opacity-70 hover:bg-opacity-100 text-white p-3 rounded-full transition-all z-10 shadow-lg flex items-center justify-center","aria-label":"Next image",children:n.jsx(c4,{className:"text-lg"})})]})]})})]})})}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"m-0",children:[(lt?.sku||a.sku)&&n.jsxs("div",{className:"text-sm text-[var(--color-text-light)] mb-3 font-semibold",children:["SKU: ",lt?.sku||a.sku]}),n.jsx("h1",{className:"text-3xl font-bold text-[var(--color-text-primary)] leading-tight",children:a.name}),(a.numReviews||a.reviews?.length||0)>0&&n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex",children:le(a.rating||0,"text-lg")}),n.jsx("span",{className:"text-lg font-bold text-[var(--color-text-primary)]",children:(a.rating||0).toFixed(1)})]}),n.jsxs("span",{className:"text-[var(--color-text-light)]",children:["(",a.numReviews||a.reviews?.length||0," verified reviews)"]})]})]}),n.jsxs("div",{className:"bg-white p-4",children:[n.jsxs("div",{className:"flex items-baseline gap-4 mb-4",children:[n.jsxs("span",{className:"text-2xl font-bold text-[var(--color-accent-primary)]",children:["",lt?.price||a.price]}),a.originalPrice&&n.jsx(n.Fragment,{children:n.jsxs("span",{className:"text-3xl text-[var(--color-text-light)] line-through",children:["",a.originalPrice]})})]}),n.jsx("p",{className:"text-[var(--color-text-light)] font-semibold",children:" Great Price  Free Shipping In UK Everywhere"}),n.jsx("p",{className:"text-[var(--color-text-light)] text-sm mt-2",children:"VAT 0 - We don't claim VAT"})]}),n.jsx("div",{className:"p-4 bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`text-2xl ${Gt?"text-green-400":"text-red-600"}`,children:Gt?"":""}),n.jsxs("div",{children:[n.jsx("p",{className:`font-bold text-lg ${Gt?"text-[var(--color-text-primary)]":"text-red-600"}`,children:Gt?"In Stock - Ships Today!":"Out of Stock"}),n.jsx("p",{className:"text-[var(--color-text-light)] text-sm",children:Gt?"Available for immediate dispatch":"This item is currently unavailable"})]})]})}),n.jsxs("div",{className:"space-y-6",children:[a.specifications?.sizes&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-bold text-[var(--color-text-primary)] uppercase tracking-wide",children:["Size ",N&&n.jsxs("span",{className:"text-[var(--color-text-light)]",children:["- ",N]})]}),n.jsx("select",{value:N||"",onChange:ge=>C(ge.target.value||null),className:"w-full px-4 py-3 border-2 border-[var(--color-border-light)] rounded-lg font-semibold text-[var(--color-text-primary)] bg-[var(--color-bg-primary)] cursor-pointer hover:border-[var(--color-accent-primary)] transition focus:outline-none focus:border-[var(--color-accent-primary)]",children:a.specifications.sizes.map(ge=>n.jsx("option",{value:ge,children:ge},ge))})]}),a.specifications?.colors&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-bold text-[var(--color-text-primary)] uppercase tracking-wide",children:["Color ",w&&n.jsxs("span",{className:"text-[var(--color-text-light)]",children:["- ",w]})]}),n.jsx("select",{value:w||"",onChange:ge=>T(ge.target.value||null),className:"w-full px-4 py-3 border-2 border-[var(--color-border-light)] rounded-lg font-semibold text-[var(--color-text-primary)] bg-[var(--color-bg-primary)] cursor-pointer hover:border-[var(--color-accent-primary)] transition focus:outline-none focus:border-[var(--color-accent-primary)]",children:a.specifications.colors.map(ge=>n.jsx("option",{value:ge,children:ge},ge))})]}),Object.keys(Yt).length>0&&Object.entries(Yt).map(([ge,Te])=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-bold text-[var(--color-text-primary)] uppercase tracking-wide",children:[ge," ",E[ge]&&n.jsxs("span",{className:"text-[var(--color-text-light)]",children:["- ",E[ge]]})]}),n.jsx("select",{value:E[ge]||"",onChange:Le=>O({...E,[ge]:Le.target.value||null}),className:"w-full px-4 py-3 border-2 border-[var(--color-border-light)] rounded-lg font-semibold text-[var(--color-text-primary)] bg-[var(--color-bg-primary)] cursor-pointer hover:border-[var(--color-accent-primary)] transition focus:outline-none focus:border-[var(--color-accent-primary)]",children:Te.map(Le=>n.jsx("option",{value:Le,children:Le},Le))})]},ge)),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center border-2 border-[var(--color-border-light)] rounded-lg overflow-hidden bg-[var(--color-bg-primary)]",children:[n.jsx("button",{onClick:()=>h(Math.max(1,u-1)),className:"px-6 py-3 hover:bg-[var(--color-bg-section)] font-bold text-lg text-[var(--color-text-primary)] transition",children:""}),n.jsx("span",{className:"px-8 py-3 border-l-2 border-r-2 border-[var(--color-border-light)] font-bold text-xl text-[var(--color-text-primary)]",children:u}),n.jsx("button",{onClick:()=>h(u+1),className:"px-6 py-3 hover:bg-[var(--color-bg-section)] font-bold text-lg text-[var(--color-text-primary)] transition",children:"+"})]}),n.jsxs("button",{onClick:Ne,disabled:!Gt,className:`flex-1 px-8 py-4 rounded-lg font-bold transition duration-300 flex items-center justify-center gap-3 text-lg shadow-lg ${Gt?"bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white":"bg-[var(--color-border-light)] text-[var(--color-text-light)] cursor-not-allowed"}`,children:[n.jsx(Ja,{})," ",Gt?"Add to Cart":"Sold Out"]})]}),n.jsxs("button",{onClick:()=>{Gt&&(Ne(),r("/checkout"))},disabled:!Gt,className:`w-full px-8 py-4 rounded-lg font-bold transition duration-300 flex items-center justify-center gap-3 text-lg shadow-lg ${Gt?"bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white":"bg-[var(--color-border-light)] text-[var(--color-text-light)] cursor-not-allowed"}`,children:[n.jsx(rn,{})," ",Gt?"Buy Now":"Sold Out"]}),(N&&a.specifications?.sizes||w&&a.specifications?.colors||Object.values(E).some(ge=>ge)&&Object.keys(Yt).length>0)&&n.jsxs("div",{className:"bg-[var(--color-bg-section)] p-6 rounded-lg border-2 border-[var(--color-accent-primary)]",children:[n.jsxs("h4",{className:"font-bold text-lg text-[var(--color-text-primary)] mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"bg-[var(--color-accent-primary)] text-white px-3 py-1 rounded-full text-sm",children:""}),"Your Selection Summary"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N&&n.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-3 rounded-lg",children:[n.jsx("p",{className:"text-xs text-[var(--color-text-light)] font-semibold uppercase",children:"Size"}),n.jsx("p",{className:"text-lg font-bold text-[var(--color-accent-primary)]",children:N})]}),w&&n.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-3 rounded-lg",children:[n.jsx("p",{className:"text-xs text-[var(--color-text-light)] font-semibold uppercase",children:"Color"}),n.jsx("p",{className:"text-lg font-bold text-[var(--color-accent-primary)]",children:w})]}),Object.entries(E).filter(([ge,Te])=>Te).map(([ge,Te])=>n.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-3 rounded-lg",children:[n.jsx("p",{className:"text-xs text-[var(--color-text-light)] font-semibold uppercase",children:ge}),n.jsx("p",{className:"text-lg font-bold text-[var(--color-accent-primary)]",children:Te})]},ge)),n.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-3 rounded-lg",children:[n.jsx("p",{className:"text-xs text-[var(--color-text-light)] font-semibold uppercase",children:"Quantity"}),n.jsxs("p",{className:"text-lg font-bold text-[var(--color-accent-primary)]",children:["x",u]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-3 rounded-lg col-span-2",children:[n.jsx("p",{className:"text-xs text-[var(--color-text-light)] font-semibold uppercase",children:"Total Price"}),n.jsxs("p",{className:"text-2xl font-bold text-[var(--color-accent-primary)]",children:["",((lt?.price||a.price)*u).toFixed(2)]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:Ke,className:`py-3 px-4 rounded-lg font-bold transition duration-300 flex items-center justify-center gap-2 ${f?"bg-red-600 text-white hover:bg-red-700":"bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white"}`,children:[n.jsx(Af,{})," ",f?"Saved":"Save"]}),n.jsxs("button",{onClick:at,className:"py-3 px-4 rounded-lg font-bold bg-[var(--color-accent-primary)] text-white hover:bg-[var(--color-accent-light)] transition duration-300 flex items-center justify-center gap-2",children:[n.jsx(qA,{})," Share"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-0 bg-[var(--color-bg-primary)] border border-[var(--color-border-light)] rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"flex gap-4 items-center p-6 border-b border-[var(--color-border-light)]",children:[n.jsx("div",{className:"text-3xl text-[var(--color-accent-primary)] flex-shrink-0",children:n.jsx(Df,{})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-[var(--color-text-primary)] text-sm leading-tight",children:"Free Shipping: 2-4 Business Days"}),n.jsxs("p",{className:"text-[var(--color-text-light)] text-xs mt-1",children:["Ships within the United Kingdom only. ",n.jsx(ze,{to:"/policies/shipping",className:"text-[var(--color-accent-primary)] hover:underline font-semibold",children:"See details "})]})]})]}),n.jsxs("div",{className:"flex gap-4 items-center p-6 border-b border-[var(--color-border-light)]",children:[n.jsx("div",{className:"text-3xl text-[var(--color-accent-primary)] flex-shrink-0",children:n.jsx(Nn,{})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-[var(--color-text-primary)] text-sm leading-tight",children:"31 Days Return & Refunds Policy"}),n.jsxs("p",{className:"text-[var(--color-text-light)] text-xs mt-1",children:["Full refund within 31 days of purchase.",n.jsx(ze,{to:"/policies/returns-refund",className:"text-[var(--color-accent-primary)] hover:underline font-semibold",children:" See details "})]})]})]}),n.jsxs("div",{className:"flex gap-4 items-center p-6",children:[n.jsx("div",{className:"text-3xl text-[var(--color-accent-primary)] flex-shrink-0",children:n.jsx(Lo,{})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"",children:n.jsx("img",{src:Yw,alt:"Payment methods",className:"h-8 object-contain"})}),n.jsx("p",{className:"text-[var(--color-text-light)] text-xs leading-relaxed",children:"All payments are processed securely in  ()."})]})]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-section)] p-6 rounded-xl border-l-4 border-[var(--color-accent-primary)]",children:[n.jsx("h3",{className:"font-bold text-lg text-[var(--color-text-primary)] mb-4",children:a.benefitsHeading||"Why Buy This Product?"}),a.benefits&&typeof a.benefits=="string"&&a.benefits.trim()?n.jsx("div",{className:"prose prose-sm max-w-none text-[var(--color-text-light)]",dangerouslySetInnerHTML:{__html:a.benefits}}):a.benefits&&Array.isArray(a.benefits)&&a.benefits.length>0?n.jsx("ul",{className:"space-y-2 text-[var(--color-text-light)]",children:a.benefits.map((ge,Te)=>n.jsxs("li",{className:"flex items-center gap-3",children:[n.jsx(rn,{className:"text-[var(--color-accent-primary)]"})," ",ge]},Te))}):n.jsxs("ul",{className:"space-y-2 text-[var(--color-text-light)]",children:[n.jsxs("li",{className:"flex items-center gap-3",children:[n.jsx(rn,{className:"text-[var(--color-accent-primary)]"})," Premium quality & authentic products"]}),n.jsxs("li",{className:"flex items-center gap-3",children:[n.jsx(rn,{className:"text-[var(--color-accent-primary)]"})," Competitive pricing with great value"]}),n.jsxs("li",{className:"flex items-center gap-3",children:[n.jsx(rn,{className:"text-[var(--color-accent-primary)]"})," Trusted by 100K+ customers"]}),n.jsxs("li",{className:"flex items-center gap-3",children:[n.jsx(rn,{className:"text-[var(--color-accent-primary)]"})," Expert customer support team"]})]})]})]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-6 rounded-2xl shadow-lg mb-16",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:ge=>{ge.preventDefault(),K.current=window.scrollY,M("description")},className:`px-4 py-2 rounded-lg font-semibold transition ${F==="description"?"bg-[var(--color-accent-primary)] text-white":"bg-[var(--color-bg-section)] text-[var(--color-text-primary)] hover:bg-[var(--color-border-light)]"}`,children:"Product Description"}),n.jsxs("button",{onClick:ge=>{ge.preventDefault(),K.current=window.scrollY,M("reviews")},className:`px-4 py-2 rounded-lg font-semibold transition ${F==="reviews"?"bg-[var(--color-accent-primary)] text-white":"bg-[var(--color-bg-section)] text-[var(--color-text-primary)] hover:bg-[var(--color-border-light)]"}`,children:["Reviews (",a.numReviews||a.reviews?.length||0,")"]})]})}),F==="description"?n.jsx("div",{children:n.jsx("div",{className:"prose prose-sm max-w-none text-[var(--color-text-light)] leading-relaxed mb-8",dangerouslySetInnerHTML:{__html:a.description||""}})}):n.jsx("div",{className:"p-0",children:n.jsx(mM,{product:a,token:je,user:He,onSubmitReview:Wn,requireReviewApproval:de,API:ue})})]}),a&&n.jsx(Gw,{currentProductId:a._id,currentCategory:a.category,limit:5}),_&&Q.length>0&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:()=>X(!1),children:n.jsxs("div",{className:"relative w-full max-w-5xl flex items-center justify-center gap-6",onClick:ge=>ge.stopPropagation(),children:[n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[n.jsxs("div",{ref:P,className:"relative bg-white rounded-lg overflow-hidden shadow-2xl cursor-crosshair",onMouseMove:ge=>{if(!P.current)return;const Te=P.current.getBoundingClientRect(),Le=ge.clientX-Te.left,Ye=ge.clientY-Te.top;B({x:Le,y:Ye})},onMouseLeave:()=>B({x:0,y:0}),style:{maxWidth:"500px",maxHeight:"500px"},children:[n.jsx("img",{src:U(Q[$]),alt:`${a.name} zoom`,className:"w-full h-full object-contain",onError:ge=>{ge.target.style.opacity="0"}},`zoom-main-${$}`),n.jsx("div",{className:"absolute w-20 h-20 border-4 border-yellow-400 rounded-full pointer-events-none shadow-lg",style:{left:`${A.x-40}px`,top:`${A.y-40}px`,opacity:A.x>0||A.y>0?1:0,transition:"opacity 0.2s"}})]}),Q.length>1&&n.jsxs("div",{className:"flex gap-3 m-5 justify-center",children:[n.jsx("button",{onClick:ge=>{ge.stopPropagation(),ce(Te=>(Te-1+Q.length)%Q.length)},className:"bg-[var(--color-bg-primary)] hover:bg-[var(--color-bg-section)] text-[var(--color-text-primary)] rounded-full p-3 shadow-lg transition","aria-label":"Previous image",children:n.jsx(Ir,{size:18})}),n.jsx("div",{className:"bg-[var(--color-accent-primary)] bg-opacity-60 text-white px-4 py-2 rounded-full flex items-center justify-center min-w-20",children:n.jsxs("span",{className:"font-semibold",children:[$+1," / ",Q.length]})}),n.jsx("button",{onClick:ge=>{ge.stopPropagation(),ce(Te=>(Te+1)%Q.length)},className:"bg-[var(--color-bg-primary)] hover:bg-[var(--color-bg-section)] text-[var(--color-text-primary)] rounded-full p-3 shadow-lg transition","aria-label":"Next image",children:n.jsx(c4,{size:18})})]})]}),n.jsx("div",{className:"flex-1 flex flex-col justify-center items-center gap-4",children:n.jsxs("div",{className:"relative bg-[var(--color-bg-primary)] rounded-lg overflow-hidden shadow-2xl border-4 border-[var(--color-border-light)]",style:{width:"300px",height:"300px"},children:[n.jsx("img",{src:U(Q[$]),alt:`${a.name} magnified`,className:"absolute w-full h-full object-contain",style:{transform:"scale(2.5)",transformOrigin:`${A.x/(P.current?.offsetWidth||1)*100}% ${A.y/(P.current?.offsetHeight||1)*100}%`,transition:"transform 0.1s ease-out"},onError:ge=>{ge.target.style.opacity="0"}},`zoom-magnified-${$}`),A.x===0&&A.y===0&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[var(--color-bg-section)] bg-opacity-50",children:n.jsx("p",{className:"text-[var(--color-text-light)] text-center font-semibold",children:"Move mouse over image to zoom"})})]})}),n.jsx("button",{onClick:()=>X(!1),className:"absolute top-4 right-4 bg-[var(--color-bg-primary)] bg-opacity-80 hover:bg-opacity-100 text-[var(--color-text-primary)] rounded-full p-3 shadow-lg transition","aria-label":"Close zoom",children:n.jsx("span",{className:"text-xl font-bold",children:""})})]})})]})]})},yM=({searchQuery:e,onSearchChange:t,onClearSearch:r})=>n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Zs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"}),n.jsx("input",{type:"text",placeholder:"Search categories...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-gray-800 transition duration-300 text-gray-700 font-medium"})]}),e&&n.jsx("button",{onClick:r,className:"bg-black hover:bg-gray-900 text-white p-3 rounded-lg transition duration-300 transform hover:scale-105",children:n.jsx(Vt,{className:"text-lg"})})]})})}),bM=()=>{const e=sr(),{categories:t,loading:r,error:s,searchQuery:a}=Dt(f=>f.category),[l,c]=S.useState([]);Sn({title:"Product Categories | Wolf Supplies LTD",description:"Explore all our product categories. Find exactly what you need from our wide selection of quality products.",keywords:"categories, products, browse, shop, selection",url:typeof window<"u"?window.location.href:""}),S.useEffect(()=>{e(Hn())},[e]),S.useEffect(()=>{const f=g=>{let y=[];return g.forEach(b=>{y.push(b),b.subcategories&&Array.isArray(b.subcategories)&&b.subcategories.length>0&&(y=y.concat(f(b.subcategories)))}),y};let m=f(t);a&&(m=m.filter(g=>g.name.toLowerCase().includes(a.toLowerCase())||g.description?.toLowerCase().includes(a.toLowerCase()))),c(m)},[t,a]);const u=f=>{e(VE(f))},h=()=>{e(FE())};return n.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] py-16 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-16",children:[n.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:"Shop by Category"}),n.jsx("p",{className:"text-xl text-[var(--color-text-light)] max-w-2xl",children:"Explore our wide range of products organized by category. Find exactly what you're looking for."})]}),n.jsx(yM,{searchQuery:a,onSearchChange:u,onClearSearch:h}),r?n.jsx("div",{className:"flex justify-center items-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ws,{className:"text-6xl text-[var(--color-text-light)] animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-xl text-[var(--color-text-light)]",children:"Loading categories..."})]})}):s?n.jsxs("div",{className:"text-center py-24 bg-[var(--color-bg-primary)] rounded-2xl shadow-lg",children:[n.jsx("div",{className:"text-6xl mb-6",children:""}),n.jsx("p",{className:"text-2xl text-red-600 font-semibold mb-2",children:"Error Loading Categories"}),n.jsx("p",{className:"text-[var(--color-text-primary)] text-lg",children:s})]}):l.length>0?n.jsxs("div",{children:[n.jsxs("p",{className:"text-[var(--color-text-light)] mb-8 text-lg",children:["Showing ",n.jsx("span",{className:"font-bold text-[var(--color-accent-primary)]",children:l.length})," categor",l.length===1?"y":"ies"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8",children:l.map(f=>n.jsx(Nh,{category:f},f._id))})]}):n.jsxs("div",{className:"text-center py-24 bg-[var(--color-bg-primary)] rounded-2xl shadow-lg",children:[n.jsx("div",{className:"text-6xl mb-6",children:""}),n.jsx("p",{className:"text-2xl text-[var(--color-text-light)] font-semibold mb-2",children:"No categories found"}),n.jsx("p",{className:"text-[var(--color-text-primary)] text-lg",children:"Try adjusting your search query"})]})]})})},vM=()=>{const{slug:e}=bf(),t=Sr(),r=sr(),{categories:s,selectedCategory:a,loading:l,error:c}=Dt(j=>j.category),{products:u,filters:h}=Dt(j=>j.product),[f,m]=vt.useState([]),[g,y]=vt.useState([]);Sn({title:a?.metaTitle||a?.name||"Category",description:a?.metaDescription||a?.description||"Browse our product categories",keywords:a?.metaKeywords||"",image:a?.image||"",url:typeof window<"u"?window.location.href:""}),S.useEffect(()=>{m([]),y([]),r(eh(e)),r(Fr()),window.scrollTo(0,0)},[e,r]),S.useEffect(()=>{if(a&&a.subcategories&&a.subcategories.length>0){const j=Array.isArray(a.subcategories)?a.subcategories:s.filter(N=>a.subcategories.includes(N._id));y(j)}else y([])},[a,s]),S.useEffect(()=>{a&&r(vc({category:a.name}))},[a,r]);const b=S.useMemo(()=>{if(!u||u.length===0)return 100;let j=0;return u.forEach(N=>{N.price>j&&(j=N.price),N.variantCombinations&&N.variantCombinations.length>0&&N.variantCombinations.forEach(C=>{const w=C.price||N.price;w>j&&(j=w)})}),j||100},[u]);return S.useEffect(()=>{let j=u;a&&(j=j.filter(N=>Array.isArray(N.categories)?N.categories.some(C=>C._id===a._id):N.category===a._id||N.category===a.name)),h.search&&(j=j.filter(N=>N.name.toLowerCase().includes(h.search.toLowerCase()))),h.availability&&h.availability.length>0&&(j=j.filter(N=>{const C=N.variants&&N.variants.length>0;let w;return C?w=N.variantCombinations&&N.variantCombinations.some(E=>E.stock>0):w=N.stock>0,!!(h.availability.includes("in_stock")&&w||h.availability.includes("out_of_stock")&&!w)})),j=j.filter(N=>{if(N.variants&&N.variants.length>0&&N.variantCombinations&&N.variantCombinations.length>0){let w=null;for(const E of N.variantCombinations)E.price&&E.price>0&&(w===null||E.price<w)&&(w=E.price);const T=w!==null?w:N.price;return T>=h.price.min&&T<=h.price.max}return N.price>=h.price.min&&N.price<=h.price.max}),m(j)},[u,h,a]),l?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-black-100 py-16 px-4 sm:px-6 lg:px-8 flex justify-center items-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ws,{className:"text-6xl text-gray-400 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-xl text-gray-600",children:"Loading category..."})]})}):c||!a?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-black-100 py-16 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("button",{onClick:()=>t("/categories"),className:"flex items-center gap-2 text-gray-400 hover:text-gray-700 font-semibold mb-8 transition duration-300",children:[n.jsx(Ir,{})," Back to Categories"]}),n.jsxs("div",{className:"text-center py-24 bg-white rounded-2xl shadow-lg",children:[n.jsx("div",{className:"text-6xl mb-6",children:""}),n.jsx("p",{className:"text-2xl text-red-600 font-semibold mb-2",children:"Category Not Found"}),n.jsx("p",{className:"text-gray-900 text-lg",children:"The category you're looking for doesn't exist."})]})]})}):n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsxs("div",{className:"relative h-80 md:h-96 overflow-hidden bg-gradient-to-br from-gray-700 to-grey-700",children:[a.image&&n.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover opacity-80"}),n.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${a.color||"from-gray-700/70 to-grey-700/70"}`}),n.jsx("div",{className:"absolute inset-0 flex flex-col justify-center",children:n.jsx("div",{className:"max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"text-white",children:[n.jsx("div",{className:"text-6xl md:text-7xl mb-6",children:a.icon}),n.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:a.name}),n.jsx("p",{className:"text-white text-opacity-95 text-lg md:text-xl max-w-3xl leading-relaxed",children:a.description})]})})})]}),n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:n.jsxs("button",{onClick:()=>t("/categories"),className:"flex items-center gap-2 text-gray-400 hover:text-gray-700 font-semibold transition duration-300 transform hover:-translate-x-1",children:[n.jsx(Ir,{})," Back to Categories"]})})}),n.jsx("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:g.length>0?n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:a.parent?"Sub-Subcategories":"Subcategories"}),n.jsxs("p",{className:"text-gray-600 text-lg",children:["Browse all ",a.parent?"sub-subcategories":"subcategories"," under ",n.jsx("span",{className:"font-semibold text-gray-400",children:a.name})]})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8",children:g.map(j=>n.jsx(Nh,{category:j},j._id))})]}):f.length>0?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:a.level==="main"?`All ${a.name} Products`:`${a.name} Products`}),n.jsxs("p",{className:"text-gray-600 text-lg",children:["Showing ",n.jsx("span",{className:"font-semibold text-gray-400",children:f.length})," product",f.length!==1?"s":""]})]}),n.jsxs("div",{className:"grid lg:grid-cols-6 gap-10",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx("div",{className:"sticky top-32",children:n.jsx(Kw,{filters:h,maxPrice:b,onFilterChange:j=>r(vc(j))})})}),n.jsx("div",{className:"lg:col-span-4",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map(j=>n.jsx(Jl,{product:j},j._id))})})]})]}):n.jsxs("div",{className:"text-center py-24 bg-white rounded-2xl shadow-lg",children:[n.jsx("div",{className:"text-6xl mb-6",children:""}),n.jsx("p",{className:"text-2xl text-gray-600 font-semibold mb-2",children:"Nothing Found"}),n.jsx("p",{className:"text-gray-900 text-lg mb-8",children:"This category has no subcategories or products yet"}),n.jsxs("button",{onClick:()=>t("/categories"),className:"inline-flex items-center gap-2 text-gray-400 hover:text-gray-700 font-semibold transition duration-300",children:[n.jsx(Ir,{})," Back to Categories"]})]})})}),a.level==="main"&&n.jsx("div",{className:"bg-white py-16 px-4 sm:px-6 lg:px-8 mt-16",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Explore More Categories"}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.filter(j=>j.level==="main"&&j._id!==a._id).slice(0,4).map(j=>n.jsxs("button",{onClick:()=>t(`/category/${j.slug}`),className:`bg-gradient-to-br ${j.color} rounded-xl p-6 text-white text-center hover:shadow-lg transition duration-300 transform hover:scale-105`,children:[n.jsx("div",{className:"text-4xl mb-2",children:j.icon}),n.jsx("p",{className:"font-bold text-lg",children:j.name})]},j._id))})]})})]})},v4="http://localhost:5000",kx=e=>{if(!e)return null;if(Array.isArray(e)){const t=e.find(r=>!!r);return kx(t)}if(typeof e=="object"){const t=e.url||e.secure_url||e.path||e.src||e.public_id||e.location;return t&&typeof t=="string"?t.startsWith("http")?t:`${v4}${t}`:null}return typeof e=="string"?e.startsWith("http")?e:`${v4}${e}`:null},jM=({item:e,onRemove:t,onUpdateQuantity:r,index:s,isLast:a})=>n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-6 sm:p-8 transition duration-300",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 mb-4",children:[n.jsx("div",{className:"relative w-32 h-32 rounded-xl flex-shrink-0 overflow-hidden group flex items-center justify-center",style:{backgroundColor:"var(--color-bg-section)",borderColor:"var(--color-border-light)"},children:kx(e.image)?n.jsx("img",{src:kx(e.image),alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition duration-300 rounded-xl"}):n.jsx("div",{className:"text-4xl",children:""})}),n.jsxs("div",{className:"grow",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-xl mb-1",style:{color:"var(--color-text-primary)"},children:e.name}),n.jsx("div",{className:"flex items-center gap-2 mt-2",children:n.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:"var(--color-accent-primary)",color:"white"},children:"VAT 0%"})})]}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:"var(--color-accent-primary)"},children:["",Number(e.price).toFixed(2)]})]}),(e.selectedSize||e.selectedColor||e.selectedVariants&&Object.keys(e.selectedVariants).length>0)&&n.jsx("div",{className:"mt-4 pt-4",style:{borderColor:"var(--color-border-light)",borderTopWidth:"1px"},children:n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.selectedSize&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"text-sm",style:{color:"var(--color-accent-primary)"}}),n.jsxs("span",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:"Size:"}),n.jsx("span",{className:"ml-1",style:{color:"var(--color-text-secondary)"},children:e.selectedSize})]})]}),e.selectedColor&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hw,{className:"text-sm",style:{color:"var(--color-accent-primary)"}}),n.jsxs("span",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:"Color:"}),n.jsx("span",{className:"ml-1",style:{color:"var(--color-text-secondary)"},children:e.selectedColor})]})]}),e.selectedVariants&&Object.entries(e.selectedVariants).filter(([l,c])=>c).map(([l,c])=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rn,{className:"text-sm",style:{color:"var(--color-accent-primary)"}}),n.jsxs("span",{className:"text-sm",children:[n.jsxs("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:[l,":"]}),n.jsx("span",{className:"ml-1",style:{color:"var(--color-text-secondary)"},children:c})]})]},l))]})})]})]}),n.jsxs("div",{className:"flex sm:flex-row sm:items-center justify-between gap-4 pt-4",style:{borderColor:"var(--color-border-light)",borderTopWidth:"1px"},children:[n.jsxs("div",{className:"flex items-center rounded-lg w-fit",style:{borderWidth:"2px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-primary)"},children:[n.jsx("button",{onClick:()=>r(e._id,e.quantity-1),className:"px-3 py-2 font-bold text-lg transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed",style:{color:"var(--color-accent-primary)"},onMouseEnter:l=>l.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:l=>l.target.style.backgroundColor="transparent",disabled:e.quantity<=1,children:""}),n.jsx("span",{className:"px-3 py-2 font-bold text-lg w-10 text-center",style:{borderLeftWidth:"2px",borderRightWidth:"2px",borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},children:e.quantity}),n.jsx("button",{onClick:()=>r(e._id,e.quantity+1),className:"px-3 py-2 font-bold text-lg transition duration-300",style:{color:"var(--color-accent-primary)"},onMouseEnter:l=>l.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:l=>l.target.style.backgroundColor="transparent",children:"+"})]}),n.jsx("div",{className:"flex items-center justify-between sm:justify-end gap-8",children:n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Subtotal"}),n.jsxs("p",{className:"font-bold text-2xl",style:{color:"var(--color-accent-primary)"},children:["",(Number(e.price)*e.quantity).toFixed(2)]})]})}),n.jsx("button",{onClick:()=>{try{typeof t=="function"&&t(e._id)}catch{}},className:"w-16 sm:w-auto px-4 py-2 font-semibold flex items-center justify-center gap-2 transition duration-300 rounded-lg",style:{borderWidth:"2px",borderColor:"var(--color-border-light)",color:"var(--color-accent-primary)"},onMouseEnter:l=>l.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:l=>l.target.style.backgroundColor="transparent",children:n.jsx(bs,{className:"text-sm"})})]})]}),!a&&n.jsx("div",{style:{borderBottomColor:"var(--color-border-light)",borderBottomWidth:"1px"}})]}),wM=({totalPrice:e=0,totalQuantity:t=0,onCheckout:r,onClearCart:s,shippingCost:a=0,taxCost:l=0,finalTotal:c=0,appliedCoupon:u,discountAmount:h=0,onApplyCoupon:f,onRemoveCoupon:m})=>{const[g,y]=S.useState(""),[b,j]=S.useState(!1),N=async()=>{j(!0),await f(g),j(!1)};return n.jsxs("div",{className:"rounded-2xl shadow-lg border p-8 sticky top-24 space-y-8",style:{backgroundColor:"var(--color-bg-section)",borderColor:"var(--color-border-light)"},children:[n.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[n.jsx(Nn,{style:{color:"var(--color-accent-primary)"}})," Order Summary"]}),n.jsxs("div",{className:"border-l-4 p-6 rounded-xl",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-accent-primary)"},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Df,{className:"text-xl",style:{color:"var(--color-accent-primary)"}}),n.jsx("p",{className:"font-bold text-lg",style:{color:"var(--color-text-primary)"},children:"Free Shipping"})]}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Shipping is free for all orders"})]}),n.jsxs("div",{className:"space-y-4 pb-8",style:{borderBottomColor:"var(--color-border-light)"},children:[n.jsxs("div",{className:"flex justify-between text-base",style:{borderColor:"var(--color-border-light)"},children:[n.jsx("span",{className:"font-medium",style:{color:"var(--color-text-secondary)"},children:"Subtotal"}),n.jsxs("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:["",(e||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-base",children:[n.jsx("span",{className:"font-medium",style:{color:"var(--color-text-secondary)"},children:"Shipping"}),n.jsx("span",{className:"font-semibold",style:{color:(a||0)===0?"var(--color-text-light)":"var(--color-text-primary)"},children:(a||0)===0?"FREE":`${(a||0).toFixed(2)}`})]}),n.jsxs("div",{className:"flex justify-between text-base items-center",children:[n.jsx("span",{className:"font-medium",style:{color:"var(--color-text-secondary)"},children:"VAT"}),n.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:"var(--color-accent-primary)",color:"white"},children:"0%"})]}),(h||0)>0&&n.jsxs("div",{className:"flex justify-between text-base items-center pt-2",style:{borderTopColor:"var(--color-border-light)",borderTopWidth:"1px"},children:[n.jsxs("span",{className:"font-medium flex items-center gap-2",style:{color:"var(--color-accent-primary)"},children:[n.jsx(Hw,{className:"text-sm"})," Discount"]}),n.jsxs("span",{className:"font-semibold",style:{color:"var(--color-accent-primary)"},children:["-",(h||0).toFixed(2)]})]})]}),u?n.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-accent-primary)",borderWidth:"2px"},children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--color-accent-primary)"},children:" Coupon Applied"}),n.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:u.code})]}),n.jsx("button",{onClick:m,className:"p-2 rounded-lg transition duration-300",style:{color:"var(--color-accent-primary)"},onMouseEnter:C=>C.target.style.opacity="0.7",onMouseLeave:C=>C.target.style.opacity="1",children:n.jsx(Vt,{})})]}):n.jsxs("div",{className:"space-y-3 pb-6",style:{borderBottomColor:"var(--color-border-light)",borderBottomWidth:"1px"},children:[n.jsx("label",{className:"text-sm font-semibold",style:{color:"var(--color-text-primary)"},children:"Apply Coupon Code"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:g,onChange:C=>y(C.target.value.toUpperCase()),placeholder:"Enter coupon code",className:"flex-1 px-3 py-2 rounded-lg text-sm border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},onKeyPress:C=>C.key==="Enter"&&N()}),n.jsx("button",{onClick:N,disabled:b||!g.trim(),className:"px-4 py-2 rounded-lg font-semibold text-sm transition duration-300 text-white disabled:opacity-50",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:C=>!b&&(C.target.style.backgroundColor="var(--color-accent-light)"),onMouseLeave:C=>C.target.style.backgroundColor="var(--color-accent-primary)",children:b?"Applying...":"Apply"})]})]}),n.jsxs("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--color-bg-secondary)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium",style:{color:"var(--color-text-secondary)"},children:"Total Items"}),n.jsx("span",{className:"font-bold text-lg",style:{color:"var(--color-text-primary)"},children:t})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-lg font-bold",style:{color:"var(--color-text-primary)"},children:"Total Amount"}),n.jsxs("span",{className:"text-2xl font-bold",style:{color:"var(--color-accent-primary)"},children:["",(c||0).toFixed(2)]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4",children:[n.jsxs("button",{onClick:r,className:"w-full text-white py-4 rounded-xl font-bold transition duration-300 text-lg transform hover:scale-105 shadow-lg flex items-center justify-center gap-2",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:C=>C.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:C=>C.target.style.backgroundColor="var(--color-accent-primary)",children:[n.jsx(rn,{})," Proceed to Checkout"]}),n.jsx("button",{onClick:s,className:"w-full py-4 rounded-xl font-bold transition duration-300 text-lg",style:{borderColor:"var(--color-accent-primary)",color:"var(--color-accent-primary)",borderWidth:"2px",backgroundColor:"transparent"},onMouseEnter:C=>C.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:C=>C.target.style.backgroundColor="transparent",children:"Clear Cart"})]})]})},NM=()=>{const e=sr(),t=Sr(),{token:r}=aa(),{items:s,totalPrice:a,totalQuantity:l}=Dt(T=>T.cart),[c,u]=S.useState(null),[h,f]=S.useState(0),m=T=>{(async()=>{try{const E=s.filter(O=>O._id!==T);if(e(kE(T)),ee.success("Item removed from cart"),r)try{await e(Ya(E)).unwrap()}catch{await g(E)}}catch{}})()},g=async T=>{const E="http://localhost:5000";if(r)try{await fetch(`${E}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({items:T})})}catch{}},y=(T,E)=>{if(E<1)return;e(EE({id:T,quantity:E}));const O=s.map(R=>R._id===T?{...R,quantity:E}:R);r&&e(Ya(O))},b=()=>{if(s.length===0){ee.error("Your cart is empty");return}t("/checkout",{state:{appliedCoupon:c,discountAmount:h}})},j=async T=>{if(!T.trim()){ee.error("Please enter a coupon code");return}try{const E="http://localhost:5000",O=s.map(I=>I.product),R=await fetch(`${E}/api/coupons/validate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:T,orderTotal:a,cartItems:s,productIds:O})});if(!R.ok)throw new Error("Invalid or expired coupon");const L=await R.json(),z=L.coupon||L;let q=z.discount||0;if(!q){const I=parseFloat(z.discountValue)||0;let H=0;z.discountType==="percentage"?H=a*I/100:H=I,q=Math.min(Math.max(0,H),a)}u(z),f(q),ee.success(`Coupon applied! You saved ${q.toFixed(2)}`)}catch(E){ee.error(E.message),u(null),f(0)}},N=()=>{u(null),f(0),ee.success("Coupon removed")};return n.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] py-16 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(Ja,{className:"text-4xl text-[var(--color-accent-primary)]"}),n.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-[var(--color-text-primary)]",children:"Shopping Cart"})]}),n.jsx("p",{className:"text-xl text-[var(--color-text-light)]",children:s.length===0?"Your cart is empty":`You have ${l} item${l!==1?"s":""} in your cart`})]}),s.length===0?n.jsxs("div",{className:"text-center py-24 bg-[var(--color-bg-secondary)] rounded-3xl shadow-lg border-2 border-[var(--color-border-light)]",children:[n.jsx(Ja,{className:"text-8xl text-[var(--color-text-muted)] mx-auto mb-6"}),n.jsx("p",{className:"text-3xl font-bold text-[var(--color-text-primary)] mb-4",children:"Your cart is empty"}),n.jsx("p",{className:"text-xl text-[var(--color-text-light)] mb-12",children:"Add some items to your cart to get started!"}),n.jsxs(ze,{to:"/products",className:"inline-flex items-center gap-3 bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white px-10 py-4 rounded-lg font-bold text-lg transition duration-300 shadow-lg",children:[n.jsx(Ir,{})," Continue Shopping"]})]}):n.jsxs("div",{className:"grid lg:grid-cols-3 gap-10",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsx("div",{className:"bg-[var(--color-bg-primary)] rounded-2xl shadow-lg overflow-hidden border border-[var(--color-border-light)]",children:s.map((T,E)=>n.jsx(jM,{item:T,onRemove:O=>{m(O)},onUpdateQuantity:(O,R)=>{y(O,R)},index:E,isLast:E===s.length-1},T._id))})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx(wM,{totalPrice:a,totalQuantity:l,onCheckout:b,onClearCart:async()=>{e(S0()),u(null),f(0),ee.success("Cart cleared"),r&&e(hw())},shippingCost:0,taxCost:0,finalTotal:a-h,appliedCoupon:c,discountAmount:h,onApplyCoupon:j,onRemoveCoupon:N})})]}),s.length>0&&n.jsx("div",{className:"mt-20",children:n.jsx(Gw,{currentProductId:"",currentCategory:s[0]?.category||"Electronics",limit:4})})]})})};var Jw="clover",CM=function(t){return t===3?"v3":t},Qw="https://js.stripe.com",SM="".concat(Qw,"/").concat(Jw,"/stripe.js"),kM=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,EM=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var TM=function(t){return kM.test(t)||EM.test(t)},AM=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Qw,'"]')),r=0;r<t.length;r++){var s=t[r];if(TM(s.src))return s}return null},j4=function(t){var r="",s=document.createElement("script");s.src="".concat(SM).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},MM=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.5.3",startTime:r})},lc=null,Mu=null,Ou=null,OM=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},DM=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},RM=function(t){return lc!==null?lc:(lc=new Promise(function(r,s){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var a=AM();if(!(a&&t)){if(!a)a=j4(t);else if(a&&Ou!==null&&Mu!==null){var l;a.removeEventListener("load",Ou),a.removeEventListener("error",Mu),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=j4(t)}}Ou=DM(r,s),Mu=OM(s),a.addEventListener("load",Ou),a.addEventListener("error",Mu)}catch(c){s(c);return}}),lc.catch(function(r){return lc=null,Promise.reject(r)}))},zM=function(t,r,s){if(t===null)return null;var a=r[0],l=a.match(/^pk_test/),c=CM(t.version),u=Jw;l&&c!==u&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.5.3"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var h=t.apply(void 0,r);return MM(h,s),h},ic,Xw=!1,Zw=function(){return ic||(ic=RM(null).catch(function(t){return ic=null,Promise.reject(t)}),ic)};Promise.resolve().then(function(){return Zw()}).catch(function(e){Xw||console.warn(e)});var LM=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];Xw=!0;var a=Date.now();return Zw().then(function(l){return zM(l,r,a)})};let Du=null;const w4=()=>Du||(Du=LM("pk_test_51Sd8pH4JIXs43X9UA34kzcfvXzky3k5wvksXMTbho5WHiWr9lYXgf1xZYW85jSwvc7bUv3SuN9TMGmc1TMsDRMID000AhcpMal"),Du),BM=()=>{const e=sr(),t=Sr(),r=ln(),{items:s,totalPrice:a,totalQuantity:l}=Dt(xe=>xe.cart),{appliedCoupon:c,discountAmount:u}=r.state||{},h=0,f=Math.max(0,(a||0)-(u||0)),m="http://localhost:5000",g=xe=>{if(!xe)return"https://via.placeholder.com/150";if(Array.isArray(xe)){const Ge=xe.find(ft=>!!ft);return g(Ge)}if(typeof xe=="object"){const Ge=xe.url||xe.secure_url||xe.path||xe.src||xe.public_id||xe.location;return Ge&&typeof Ge=="string"?Ge.startsWith("http")?Ge:`${m}${Ge}`:"https://via.placeholder.com/150"}return typeof xe=="string"?xe.startsWith("http")?xe:`${m}${xe}`:"https://via.placeholder.com/150"},y=xe=>{if(!xe)return null;const Ge=[];return xe.selectedSize&&Ge.push(`Size: ${xe.selectedSize}`),xe.selectedColor&&Ge.push(`Color: ${xe.selectedColor}`),xe.selectedVariants&&typeof xe.selectedVariants=="object"&&Object.entries(xe.selectedVariants).forEach(([ft,Fe])=>{Fe&&Ge.push(`${ft}: ${Fe}`)}),Ge.length===0?null:n.jsx("div",{className:"text-sm text-gray-900",children:Ge.join(" / ")})},[b,j]=S.useState(""),[N,C]=S.useState(""),[w,T]=S.useState(""),[E,O]=S.useState(""),[R,L]=S.useState(""),[z,q]=S.useState(""),[I,H]=S.useState(""),[W,ie]=S.useState(""),[Y,ne]=S.useState(""),[F,M]=S.useState(""),[_,X]=S.useState(""),[$,ce]=S.useState(!1),[A,B]=S.useState(""),[P,K]=S.useState(""),[de,ve]=S.useState(""),[je,He]=S.useState(""),[te,ue]=S.useState(""),[U,ae]=S.useState(""),[le,Q]=S.useState(""),[ye,Ne]=S.useState(""),[Ke,at]=S.useState(""),[Nt,lt]=S.useState(!1),[Kt,Gt]=S.useState(!1),[qn,Yt]=S.useState("card"),[Wn,ge]=S.useState(!1),Te=S.useRef(null),Le=S.useRef(null),Ye=S.useRef(null),Ze=S.useRef(!1);S.useEffect(()=>{try{const xe=JSON.parse(localStorage.getItem("checkoutSavedInfo")||"null");xe&&(j(xe.firstName||""),C(xe.lastName||""),T(xe.email||""),O(xe.phone||""),L(xe.address||""),q(xe.apartment||""),H(xe.city||""),ie(xe.stateRegion||""),ne(xe.postalCode||""),M(xe.country||""),Gt(!0))}catch{}},[]),S.useEffect(()=>((async()=>{try{const Ge="pk_test_51Sd8pH4JIXs43X9UA34kzcfvXzky3k5wvksXMTbho5WHiWr9lYXgf1xZYW85jSwvc7bUv3SuN9TMGmc1TMsDRMID000AhcpMal",ft=await w4();if(!ft){console.error("Failed to initialize Stripe");return}Te.current=ft;const Fe=Te.current.elements();if(Le.current=Fe,!Ze.current){const pt=Fe.create("card",{style:{base:{fontSize:"16px",color:"#000000",fontFamily:"system-ui, -apple-system, sans-serif","::placeholder":{color:"#999999"}},invalid:{color:"#EF4444",iconColor:"#EF4444"}}});document.getElementById("card-element")?(pt.mount("#card-element"),Ye.current=pt,Ze.current=!0,console.log("Card Element mounted successfully"),pt.on("change",G=>{const fe=document.getElementById("card-errors");fe&&(fe.textContent=G.error?G.error.message:"",fe.style.display=G.error?"block":"none")})):console.error("Card element container not found")}}catch(Ge){console.error("Stripe setup error:",Ge)}})(),()=>{try{Ye.current&&Ye.current.unmount()}catch{}}),[]);const tt=async()=>{if(Te.current&&Ye.current)return!0;try{const xe=await w4();if(!xe)return!1;if(Te.current=xe,!Ye.current){const Ge=Te.current.elements();Le.current=Ge;const ft=Ge.create("card",{style:{base:{fontSize:"16px",color:"#000000",fontFamily:"system-ui, -apple-system, sans-serif","::placeholder":{color:"#999999"}},invalid:{color:"#EF4444",iconColor:"#EF4444"}}});document.getElementById("card-element")&&(ft.mount("#card-element"),Ye.current=ft,Ze.current=!0,ft.on("change",pt=>{const Mt=document.getElementById("card-errors");Mt&&(Mt.textContent=pt.error?pt.error.message:"",Mt.style.display=pt.error?"block":"none")}))}return!0}catch(xe){return console.error("Stripe ready error:",xe),!1}},At=async()=>{if(s.length===0){ee.error("Cart is empty");return}if(!b||!N||!w||!E||!R||!I||!Y||!W){ee.error("Please complete all required fields");return}s.map(xe=>({product:xe._id,qty:xe.quantity,price:xe.price,name:xe.name,image:xe.image})),Number(f.toFixed(2)),c?.code;try{if(ge(!0),Kt){const Be={firstName:b,lastName:N,email:w,phone:E,address:R,apartment:z,city:I,stateRegion:W,postalCode:Y,country:F};localStorage.setItem("checkoutSavedInfo",JSON.stringify(Be))}else localStorage.removeItem("checkoutSavedInfo");const xe={orderItems:s.map(Be=>({name:Be.name,price:Be.price,qty:Be.quantity,product:Be.product||Be._id,image:Be.image,variantImage:Be.variantImage||null,selectedVariants:Be.selectedVariants||null,selectedSize:Be.selectedSize||null,selectedColor:Be.selectedColor||null,colorCode:Be.colorCode||null,variant:Be.variant||null,sku:Be.sku||null,variantId:Be.variantId||Be.snapshot?.variantId||null})),shippingAddress:{address:R,apartment:z,city:I,stateRegion:W,postalCode:Y,country:F,firstName:b,lastName:N,email:w,phone:E},billingAddress:$?{address:A,apartment:P,city:de,stateRegion:je,postalCode:te,country:U}:null,paymentMethod:qn,itemsPrice:a,taxPrice:0,shippingPrice:Number(h.toFixed(2)),totalAmount:Number(f.toFixed(2)),couponCode:c?.code||null,discountAmount:u||0};if(!await tt()){const Be=localStorage.getItem("token"),nt=await fetch("http://localhost:5000/api/payments/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",...Be?{Authorization:`Bearer ${Be}`}:{}},credentials:"include",body:JSON.stringify(xe)}),xt=await nt.json();if(!nt.ok)throw new Error(xt.error||xt.message||"Failed to create checkout session");if(xt&&xt.url){window.location.href=xt.url;return}throw new Error("No checkout URL from server")}const ft=localStorage.getItem("token"),Fe=await fetch("http://localhost:5000/api/payments/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",...ft?{Authorization:`Bearer ${ft}`}:{}},credentials:"include",body:JSON.stringify(xe)}),pt=await Fe.json();if(!Fe.ok){const Be=pt.error||pt.message||"Failed to create payment intent";throw new Error(Be)}const Mt=pt.clientSecret;if(!Mt)throw new Error("Missing clientSecret from payment API");const G=Te.current,fe=Ye.current;if(!G||!fe)throw new Error("Stripe Card Element not initialized");const $e=await G.confirmCardPayment(Mt,{payment_method:{card:fe,billing_details:{name:`${b} ${N}`.trim()||void 0,email:w||void 0,phone:E||void 0}}});if($e.error)throw new Error($e.error.message||"Payment confirmation failed");if($e.paymentIntent)if($e.paymentIntent.status==="succeeded"){const Be=pt.orderId;e(S0()),lt(!0),setTimeout(()=>{ee.success("Payment successful"),t(`/order/${Be}`)},1800)}else throw $e.paymentIntent.status==="requires_action"?new Error("Payment requires additional authentication. Please complete the verification."):new Error("Payment not completed. Status: "+$e.paymentIntent.status);else throw new Error("No payment intent returned")}catch(xe){ee.error(xe.message||"Error creating Stripe session")}finally{ge(!1)}};return n.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-section)] py-12 px-4 sm:px-6 lg:px-8",children:[Nt&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg p-6 shadow-lg max-w-md w-full text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-2",children:"Thank you!"}),n.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"Your order has been placed successfully."})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-2xl shadow p-8 space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Contact "}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{placeholder:"First name",value:b,onChange:xe=>j(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),n.jsx("input",{placeholder:"Last name",value:N,onChange:xe=>C(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),n.jsx("input",{placeholder:"Email",value:w,onChange:xe=>T(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] md:col-span-2"}),n.jsx("input",{placeholder:"Phone",value:E,onChange:xe=>O(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] md:col-span-2"})]}),n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Shipping Address"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{placeholder:"Address (street)",value:R,onChange:xe=>L(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] md:col-span-2"}),n.jsx("input",{placeholder:"Apt, suite (optional)",value:z,onChange:xe=>q(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),n.jsx("input",{placeholder:"City",value:I,onChange:xe=>H(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),n.jsx("input",{placeholder:"State / Region",value:W,onChange:xe=>ie(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),n.jsx("input",{placeholder:"Postal Code",value:Y,onChange:xe=>ne(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),n.jsx("input",{placeholder:"Country",value:F,onChange:xe=>M(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"})]}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:$,onChange:xe=>ce(xe.target.checked)}),n.jsx("span",{className:"text-sm text-[var(--color-text-light)]",children:"Add separate billing address"})]})}),$&&n.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[n.jsx("input",{placeholder:"Billing address (street)",value:A,onChange:xe=>B(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),n.jsx("input",{placeholder:"Apt, suite (optional)",value:P,onChange:xe=>K(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx("input",{placeholder:"City",value:de,onChange:xe=>ve(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),n.jsx("input",{placeholder:"State / Region",value:je,onChange:xe=>He(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),n.jsx("input",{placeholder:"Postal Code",value:te,onChange:xe=>ue(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),n.jsx("input",{placeholder:"Country",value:U,onChange:xe=>ae(xe.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"})]})]}),n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Payment"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:" Apple Pay   Google Pay   Credit Card"}),n.jsx("div",{className:"",children:n.jsx("input",{placeholder:"Name on card",value:_,onChange:xe=>X(xe.target.value),className:"border border-[var(--color-border-light)] p-3 w-full rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"})}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-[var(--color-text-light)] mb-2",children:"Card details"}),n.jsx("div",{id:"card-element",className:"border-2 border-[var(--color-border-light)] p-4 rounded-lg bg-[var(--color-bg-primary)] min-h-12 focus-within:border-[var(--color-accent-primary)] focus-within:ring-2 focus-within:ring-[var(--color-accent-primary)] focus-within:ring-opacity-30 transition-all duration-200"}),n.jsx("div",{id:"card-errors",role:"alert",className:"text-red-500 text-sm mt-2 font-medium"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{id:"saveDetails",type:"checkbox",checked:Kt,onChange:xe=>Gt(xe.target.checked)}),n.jsx("label",{htmlFor:"saveDetails",className:"text-sm text-[var(--color-text-light)]",children:"Save my details for future purchases"})]})]})]})}),n.jsx("div",{children:n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-2xl shadow p-6 space-y-6 sticky top-24",children:[n.jsx("h3",{className:"text-xl font-bold text-[var(--color-text-primary)]",children:"Order Summary"}),n.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:s.map(xe=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:g(xe.image),alt:xe.name,className:"w-12 h-12 object-cover rounded"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:xe.name}),y(xe),n.jsxs("div",{className:"text-sm text-gray-900 mt-1",children:["Qty: ",xe.quantity]})]})]}),n.jsxs("div",{className:"font-semibold",children:["",(xe.price*xe.quantity).toFixed(2)]})]},xe._id))}),n.jsxs("div",{className:"pt-4 border-t space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[n.jsx("span",{children:"Items"}),n.jsxs("span",{children:["",a.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[n.jsx("span",{children:"Shipping"}),n.jsx("span",{children:"0.00"})]}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[n.jsx("span",{children:"VAT"}),n.jsx("span",{children:"0.00"})]}),u>0&&n.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-semibold",children:[n.jsxs("span",{children:["Discount ",c?.code?`(${c.code})`:""]}),n.jsxs("span",{children:["-",u.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between font-bold text-lg text-[var(--color-text-primary)]",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["",f.toFixed(2)]})]})]}),n.jsx("button",{onClick:At,disabled:Wn,className:"w-full bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white py-3 rounded-lg font-bold shadow transition duration-300",children:Wn?"Placing Order":`Place Order  ${f.toFixed(2)}`}),n.jsx("p",{className:"text-xs text-[var(--color-text-light)]",children:"We do not store your CVV. Saved details are stored locally in your browser."})]})})]})]})},_M=()=>{const e=sr(),t=Dt(w=>w.wishlist.items),[r,s]=S.useState("newest"),a="http://localhost:5000",l=w=>!w||typeof w!="string"?"":w.startsWith("http")?w:`${a}${w}`,c=w=>String(w||"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-"),u=w=>w?w.slug?w.slug:w.product&&w.product.slug?w.product.slug:w.snapshot&&w.snapshot.slug?w.snapshot.slug:w.name?c(w.name):"":"",h=Dt(w=>w.cart.items),f=w=>{if(!w)return null;const T=w.product&&(w.product._id||w.product)||w.productId||w.snapshot?.productId||w._id||"",E=w.variantId||w.snapshot&&w.snapshot.variantId||"",O=typeof T=="string"&&T.includes("|")?T.split("|")[0]:T,L=typeof O=="string"&&/^[0-9a-fA-F]{24}$/.test(O)?O:"",z=w.selectedVariants||w.snapshot?.selectedVariants||{};return w.selectedSize&&(z.Size=w.selectedSize),w.selectedColor&&(z.Color=w.selectedColor),{_id:E?`${L||"unknown"}|variant:${E}`:`${L||"unknown"}`,product:L||void 0,name:w.name||w.product&&w.product.name||"",price:Number(w.price??w.snapshot?.price??(w.product&&w.product.price)??0),image:w.image||w.snapshot?.image||w.product&&(w.product.image||w.product.images&&w.product.images[0])||"",quantity:1,selectedVariants:z||{}}},m=w=>{if(!w)return!0;if(w.__isSnapshot){const T=w.product||null;if(T&&T.variantCombinations&&w.variantId){const E=T.variantCombinations.find(O=>String(O._id||O.id)===String(w.variantId));if(E)return Number(E.stock||0)>0}if(T&&T.variantCombinations){const E={...w.selectedVariants||{}};w.selectedSize&&(E.Size=w.selectedSize),w.selectedColor&&(E.Color=w.selectedColor);for(const O of T.variantCombinations){const R=O.variantValues||{},L=R instanceof Map?Object.fromEntries(R):R,z=Object.keys(L);let q=!0;for(const I of z){const H=L[I],W=E[I];if(H!==void 0&&(W===void 0||String(W)!==String(H))){q=!1;break}}if(q)return Number(O.stock||0)>0}}return w.inStock!==void 0?!!w.inStock:w.stock!==void 0?Number(w.stock)>0:!0}return w.variantCombinations&&w.variantCombinations.length>0?w.stock!==void 0?Number(w.stock)>0:w.inStock!==void 0?!!w.inStock:!0:w.inStock!==void 0?!!w.inStock:w.stock!==void 0?Number(w.stock)>0:!0},g=()=>{let w=[...t];return r==="priceLow"?w.sort((T,E)=>T.price-E.price):r==="priceHigh"?w.sort((T,E)=>E.price-T.price):r==="name"&&w.sort((T,E)=>T.name.localeCompare(E.name)),w},y=w=>{if(typeof w=="string")e(zo(w)).then(()=>{ee.success("Removed from wishlist")}).catch(T=>{ee.error("Failed to remove from wishlist")});else if(w&&typeof w=="object"){let T=null;w.__isSnapshot?T=w._id:T=w.productId||w._id||w.product&&(w.product._id||w.product);const E=w.variantId||w.snapshot&&w.snapshot.variantId||null;e(zo({productId:T,variantId:E})).then(()=>{ee.success("Removed from wishlist")}).catch(O=>{ee.error("Failed to remove from wishlist")})}},b=w=>{if(!m(w)){ee.error("This item is out of stock and cannot be added to cart");return}const E=f(w);if(!E)return;e(gh(E));const O=[...h||[],E];e(Ya(O)),ee.success("Added to cart")},j=()=>{const w=[],T=[];for(const R of t)m(R)?w.push(R):T.push(R);if(w.length===0){ee.error("No available items to move to cart");return}const E=[];w.forEach(R=>{const L=f(R);L&&(E.push(L),e(gh(L)))});const O=[...h||[],...E];e(Ya(O)),w.forEach(R=>{const L=R.productId||R._id||R.product&&(R.product._id||R.product),z=R.variantId||null;e(zo({productId:L,variantId:z}))}),ee.success(`Moved ${w.length} item(s) to cart${T.length?`  ${T.length} out-of-stock skipped`:""}`)},N=()=>{t.length>0&&window.confirm("Are you sure you want to clear your entire wishlist?")&&e(yh()).then(()=>{ee.success("Wishlist cleared")}).catch(T=>{ee.error("Failed to clear wishlist")})};vt.useEffect(()=>{localStorage.getItem("token")&&e(Fl())},[e]),vt.useEffect(()=>{t.forEach((w,T)=>{})},[t]);const C=g();return n.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsx("div",{className:"text-white py-12 md:py-16",style:{backgroundColor:"var(--color-accent-primary)"},children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-6 hover:opacity-80 w-fit",children:[n.jsx(Ir,{})," Back to Home"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Af,{className:"text-3xl"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-5xl md:text-6xl font-bold",children:"My Wishlist"}),n.jsxs("p",{className:"text-xl mt-2",children:[t.length," ",t.length===1?"item":"items"," saved"]})]})]})]})}),n.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:t.length===0?n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"inline-block",children:n.jsx("div",{className:"text-8xl mb-6 opacity-50",children:""})}),n.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Your Wishlist is Empty"}),n.jsx("p",{className:"text-lg mb-8",style:{color:"var(--color-text-light)"},children:"Start adding products to your wishlist and save them for later!"}),n.jsx(ze,{to:"/products",className:"inline-block text-white px-8 py-3 rounded-lg font-bold transition duration-300",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:w=>w.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:w=>w.target.style.backgroundColor="var(--color-accent-primary)",children:"Browse Products"})]}):n.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"lg:col-span-3",children:[n.jsx("div",{className:"rounded-lg shadow-md p-6 mb-8",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:"Sort by:"}),n.jsxs("select",{value:r,onChange:w=>s(w.target.value),className:"px-4 py-2 rounded-lg focus:outline-none focus:ring-2",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",color:"var(--color-text-primary)"},onFocus:w=>(w.target.style.outline="none",w.target.style.ringColor="var(--color-accent-primary)"),children:[n.jsx("option",{value:"newest",children:"Newest"}),n.jsx("option",{value:"priceLow",children:"Price: Low to High"}),n.jsx("option",{value:"priceHigh",children:"Price: High to Low"}),n.jsx("option",{value:"name",children:"Name: A to Z"})]})]}),n.jsxs("button",{onClick:N,className:"font-semibold flex items-center gap-2 transition duration-300",style:{color:"var(--color-accent-primary)"},onMouseEnter:w=>w.target.style.opacity="0.8",onMouseLeave:w=>w.target.style.opacity="1",children:[n.jsx(bs,{})," Clear All"]})]})}),n.jsx("div",{className:"space-y-6",children:C.map(w=>(m(w),n.jsx("div",{className:"relative rounded-lg shadow-md hover:shadow-xl transition duration-300 overflow-hidden",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:w.__isSnapshot?n.jsxs("div",{className:"flex items-stretch md:items-start",children:[n.jsx("div",{className:"w-36 shrink-0 overflow-hidden",style:{backgroundColor:"var(--color-bg-section)"},children:n.jsx("img",{src:l(w.image)||"https://via.placeholder.com/300",alt:w.name,className:"w-full h-full object-cover",onError:T=>{T.target.src="https://via.placeholder.com/300"}})}),n.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(ze,{to:`/product/${u(w)}`,className:"hover:underline",children:n.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-text-primary)"},children:w.name})}),n.jsx("div",{className:"mt-1 text-sm",style:{color:"var(--color-text-secondary)"},children:Object.entries(w.selectedVariants||{}).map(([T,E])=>`${T}: ${E}`).join(", ")})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-xl font-bold",style:{color:"var(--color-accent-primary)"},children:["",(w.price||0).toFixed(2)]}),n.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Variant"})]})]}),n.jsxs("div",{className:"mt-4 flex gap-3",children:[!m(w)&&n.jsx("div",{className:"absolute top-3 left-3 text-white px-2 py-1 rounded text-xs font-bold",style:{backgroundColor:"var(--color-accent-primary)"},children:"Out of stock"}),m(w)?n.jsxs("button",{onClick:()=>b(w),className:"py-2 px-4 rounded-lg font-semibold transition duration-300 flex items-center gap-2 text-white",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:T=>T.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:T=>T.target.style.backgroundColor="var(--color-accent-primary)",children:[n.jsx(Ja,{})," Add to Cart"]}):n.jsx("button",{disabled:!0,className:"py-2 px-4 rounded-lg font-semibold transition duration-300 flex items-center gap-2 text-white cursor-not-allowed",style:{backgroundColor:"var(--color-text-light)",opacity:"0.6"},children:"Sold Out"}),n.jsxs("button",{onClick:()=>y(w),className:"py-2 px-4 rounded-lg font-semibold transition duration-300 flex items-center gap-2",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-accent-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},onMouseEnter:T=>T.target.style.backgroundColor="var(--color-border-light)",onMouseLeave:T=>T.target.style.backgroundColor="var(--color-bg-section)",children:[n.jsx(bs,{})," Remove"]}),n.jsx(ze,{to:`/product/${u(w)}`,className:"ml-auto inline-flex items-center justify-center gap-2 rounded-lg px-3 py-2",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",color:"var(--color-text-primary)"},onMouseEnter:T=>T.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:T=>T.target.style.backgroundColor="transparent",children:"View Product"})]})]})]}):n.jsxs("div",{className:"relative",children:[n.jsx(Jl,{product:w}),n.jsx("button",{onClick:T=>{T.preventDefault(),T.stopPropagation(),y(w)},className:"absolute top-3 right-3 z-50 p-2 rounded-full shadow transition duration-300",style:{backgroundColor:"white",color:"var(--color-accent-primary)"},onMouseEnter:T=>T.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:T=>T.target.style.backgroundColor="white","aria-label":`Remove ${w.name} from wishlist`,children:n.jsx(bs,{})})]})},(w.productId||w._id)+(w.variantId?`-${w.variantId}`:""))))})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("aside",{className:"rounded-lg shadow-lg p-6 sticky top-24",style:{backgroundColor:"var(--color-bg-section)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Wishlist Summary"}),n.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-1",children:[n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Items"}),n.jsx("p",{className:"text-3xl font-extrabold",style:{color:"var(--color-accent-primary)"},children:t.length})]}),n.jsxs("div",{className:"col-span-1 text-right",children:[n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:""}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("button",{onClick:j,disabled:t.filter(m).length===0,className:"w-full text-white py-3 px-4 rounded-lg font-bold transition duration-300 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:w=>!w.target.disabled&&(w.target.style.backgroundColor="var(--color-accent-light)"),onMouseLeave:w=>w.target.style.backgroundColor="var(--color-accent-primary)",children:[n.jsx(Ja,{})," Move All to Cart"]})}),n.jsx("div",{className:"flex gap-3 mb-4",children:n.jsx(ze,{to:"/products",className:"flex-1 inline-flex items-center bg-white justify-center gap-2 rounded-lg px-3 py-2",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",color:"var(--color-text-primary)"},onMouseEnter:w=>w.target.style.backgroundColor="var(--color-bg-secondary)",onMouseLeave:w=>w.target.style.backgroundColor="white",children:"Continue Shopping"})})]})})]})})]})},PM=()=>{const e=Sr(),{login:t,loading:r}=aa(),[s,a]=S.useState({email:"",password:""}),[l,c]=S.useState(!1),u=f=>{const{name:m,value:g}=f.target;a(y=>({...y,[m]:g}))},h=async f=>{if(f.preventDefault(),!s.email||!s.password){ee.error("Please fill all fields");return}const m=await t(s.email,s.password);if(m.success){if(m.user.role!=="admin"){ee.error("You do not have admin privileges");return}e("/admin/dashboard")}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center py-6",style:{backgroundColor:"var(--color-bg-primary)"},children:n.jsx("div",{className:"max-w-xl w-full relative z-10",children:n.jsxs("div",{className:"rounded-lg shadow-lg p-8 space-y-8",style:{backgroundColor:"var(--color-bg-primary)",border:"2px solid var(--color-border-light)"},children:[n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"inline-block p-5 mb-0 rounded-full",style:{backgroundColor:"var(--color-bg-secondary)"},children:n.jsx(Nx,{className:"text-4xl",style:{color:"var(--color-accent-primary)"}})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Admin Portal"}),n.jsx("p",{className:"text-base",style:{color:"var(--color-text-light)"},children:"Secure Access for Administrators"})]})]}),n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsxs("div",{className:"",children:[n.jsx("label",{className:"block text-sm font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Admin Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(Cn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-lg",style:{color:"var(--color-text-light)"}}),n.jsx("input",{type:"email",name:"email",value:s.email,onChange:u,className:"w-full pl-12 pr-4 py-3 border-2 rounded-lg focus:outline-none transition text-lg",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},placeholder:"admin@example.com",disabled:r})]})]}),n.jsxs("div",{className:"",children:[n.jsx("label",{className:"block text-sm font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Lo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-lg",style:{color:"var(--color-text-light)"}}),n.jsx("input",{type:l?"text":"password",name:"password",value:s.password,onChange:u,className:"w-full pl-12 pr-12 py-3 border-2 rounded-lg focus:outline-none transition text-lg",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},placeholder:"",disabled:r}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-4 top-1/2 transform -translate-y-1/2 transition text-lg hover:opacity-80",style:{color:"var(--color-text-light)"},disabled:r,children:l?n.jsx(Lw,{}):n.jsx(D0,{})})]})]}),n.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 rounded-lg font-bold transition duration-300 disabled:opacity-50 text-lg mt-2 shadow-md transform hover:scale-105",style:{backgroundColor:"var(--color-accent-primary)",color:"#FFFFFF"},onMouseEnter:f=>{f.target.style.backgroundColor="var(--color-accent-light)"},onMouseLeave:f=>{f.target.style.backgroundColor="var(--color-accent-primary)"},children:r?"Verifying Admin Credentials...":"Sign In as Administrator"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full",style:{borderTop:"2px solid var(--color-border-light)"}})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 font-semibold",style:{backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-light)"},children:"Need Help?"})})]}),n.jsxs("div",{className:"space-y-3 flex justify-between",children:[n.jsx("span",{style:{color:"var(--color-text-light)"},children:n.jsx(ze,{to:"/",className:"font-bold transition",style:{color:"var(--color-accent-primary)"},children:" Back to Home"})}),n.jsx("span",{style:{color:"var(--color-text-light)"},children:n.jsx(ze,{to:"/contact",className:"font-bold transition",style:{color:"var(--color-accent-primary)"},children:"Contact Support"})})]}),n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-bg-secondary)",border:"2px solid var(--color-border-light)"},children:n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:" This portal is exclusively for authorized administrators. Unauthorized access attempts are logged and monitored."})})]})})})},IM="/assets/Wolf%20Supplies%20LTD%20(2)-D1JKq_4e.png",$M=Object.freeze(Object.defineProperty({__proto__:null,default:IM},Symbol.toStringTag,{value:"Module"})),HM="/assets/transition-c_6hvWZ-.png",UM=Object.freeze(Object.defineProperty({__proto__:null,default:HM},Symbol.toStringTag,{value:"Module"})),VM="/assets/warehouse%20images%20(1)-DmUQH2fn.webp",FM=Object.freeze(Object.defineProperty({__proto__:null,default:VM},Symbol.toStringTag,{value:"Module"})),qM="/assets/warehouse%20images%20(2)-BvYBzbuJ.webp",WM=Object.freeze(Object.defineProperty({__proto__:null,default:qM},Symbol.toStringTag,{value:"Module"})),KM="/assets/warehouse%20images%20(3)-DBrY2oAN.webp",GM=Object.freeze(Object.defineProperty({__proto__:null,default:KM},Symbol.toStringTag,{value:"Module"})),YM="/assets/warehouse%20images%20(4)-Dlc1Q83M.webp",JM=Object.freeze(Object.defineProperty({__proto__:null,default:YM},Symbol.toStringTag,{value:"Module"})),QM="/assets/warehouse%20images%20(5)-B6YS2qee.webp",XM=Object.freeze(Object.defineProperty({__proto__:null,default:QM},Symbol.toStringTag,{value:"Module"})),N4=Object.assign({"/src/assets/Strip Logos.png":gM,"/src/assets/Wolf Supplies LTD (2).png":$M,"/src/assets/Wolf Supplies LTD.png":XT,"/src/assets/transition.png":UM,"/src/assets/warehouse images (1).webp":FM,"/src/assets/warehouse images (2).webp":WM,"/src/assets/warehouse images (3).webp":GM,"/src/assets/warehouse images (4).webp":JM,"/src/assets/warehouse images (5).webp":XM}),Ru=Object.keys(N4).filter(e=>e.split("/").pop().toLowerCase().includes("warehouse")).map(e=>({path:e,file:e.split("/").pop()})).sort((e,t)=>{const r=e.file.match(/(\d+)/),s=t.file.match(/(\d+)/),a=r?parseInt(r[1],10):0,l=s?parseInt(s[1],10):0;return a===l?e.file.localeCompare(t.file):a-l}).map(e=>{const t=N4[e.path];return t&&(t.default||t)}),ZM=()=>(Sn({title:"About Wolf Supplies LTD | Our Story & Mission",description:"Learn about Wolf Supplies LTD - our mission to provide quality products, trusted service, and exceptional value to customers worldwide.",keywords:"about us, company, story, mission, quality, trusted service",url:typeof window<"u"?window.location.href:""}),n.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-section)]",children:[n.jsx("div",{className:"bg-[var(--color-accent-primary)] text-white py-12 md:py-16",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-6 hover:text-gray-100 w-fit",children:[n.jsx(Ir,{})," Back to Home"]}),n.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"About Wolf Supplies LTD"}),n.jsx("p",{className:"text-xl text-gray-100",children:"Your Trusted Online Shopping Destination"})]})}),n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsx("section",{className:"mb-16",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-4xl font-bold text-[var(--color-text-primary)] mb-6",children:"Our Story"}),n.jsx("p",{className:"text-[var(--color-text-light)] text-lg leading-relaxed mb-4",children:"Wolf Supplies LTD is a UK-based online retailer registered with Companies House (Company Number: 16070029) operating from Birmingham. We operate in accordance with UK consumer protection laws and data protection regulations.              "}),n.jsx("p",{className:"text-[var(--color-text-light)] text-lg leading-relaxed mb-4",children:"We offer customers across the United Kingdom a selection of products at competitive prices with transparent policies, secure payment processing, and customer support. We offer a 31-day returns policy and free UK shipping."}),n.jsx("p",{className:"text-[var(--color-text-light)] text-lg leading-relaxed",children:"We are committed to transparency and compliance with applicable UK law. Support is available Monday-Friday, 9 AM - 6 PM GMT."})]}),n.jsx("div",{className:"bg-[var(--color-bg-section)] rounded-lg p-8 border-2 border-[var(--color-border-light)]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:_c,alt:"Wolf Supplies Logo",className:"h-auto w-auto mx-auto mb-4"}),n.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"UK-based online retailer serving customers since 2024"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("p",{children:n.jsx("strong",{children:"Wolf Supplies Ltd"})}),n.jsxs("p",{children:["Company Number: ",n.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:underline",children:"16070029"})]}),n.jsx("p",{children:"Registered in United Kingdom"})]})]})})]})}),n.jsxs("section",{className:"mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-[var(--color-text-primary)] mb-12 text-center",children:"Our Mission & Vision"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-lg p-8 border-l-4 border-[var(--color-accent-primary)]",children:[n.jsxs("h3",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-4 flex items-center gap-3",children:[n.jsx(rn,{className:"text-[var(--color-accent-primary)] text-2xl"}),"Our Mission"]}),n.jsx("p",{className:"text-[var(--color-text-light)] leading-relaxed",children:"To provide customers with a seamless, trustworthy, and enjoyable shopping experience by offering a curated selection of quality products, competitive pricing, and exceptional customer service across the United Kingdom."})]}),n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-lg p-8 border-l-4 border-[var(--color-accent-primary)]",children:[n.jsxs("h3",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-4 flex items-center gap-3",children:[n.jsx(KA,{className:"text-[var(--color-accent-primary)] text-2xl"}),"Our Vision"]}),n.jsx("p",{className:"text-[var(--color-text-light)] leading-relaxed",children:"To serve UK customers with a reliable online marketplace, offering competitive pricing, transparent practices, and responsive customer service."})]})]})]}),n.jsxs("section",{className:"mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-12 text-center",children:"Our Core Values"}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:Cx,title:"Responsive Service",desc:"We respond to customer inquiries during business hours (Monday-Friday, 9 AM - 6 PM GMT)."},{icon:rn,title:"Quality & Integrity",desc:"We maintain the highest standards of quality products and honest business practices."},{icon:PA,title:"Sustainability",desc:"We are committed to environmentally responsible practices and ethical sourcing."}].map((e,t)=>{const r=e.icon;return n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center hover:shadow-xl transition duration-300",children:[n.jsx(r,{className:"text-4xl text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),n.jsx("p",{className:"text-gray-700",children:e.desc})]},t)})})]}),n.jsxs("section",{className:"mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-12 text-center",children:"By The Numbers"}),n.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:[{number:"Free",label:"UK Shipping",icon:Qa},{number:"31",label:"Day Returns",icon:Cx},{number:"2-4",label:"Day Delivery",icon:DA},{number:"Secure",label:"Payments",icon:rn}].map((e,t)=>{const r=e.icon;return n.jsxs("div",{className:"bg-white rounded-lg p-6 text-center border-2 border-gray-200",children:[n.jsx(r,{className:"text-3xl text-gray-400 mx-auto mb-3"}),n.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.number}),n.jsx("p",{className:"text-gray-700 font-semibold",children:e.label})]},t)})})]}),n.jsxs("section",{className:"mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-12 text-center",children:"Why Choose Wolf Supplies?"}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-12",children:n.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[" Selection of Products"," Competitive Pricing"," Free UK Delivery (2-4 Business Days)"," 31-Day Returns Policy"," Customer Support (Mon-Fri 9 AM - 6 PM GMT)"," Secure Payment Processing"," UK GDPR Compliant"," Transparent Return Process"].map((e,t)=>n.jsxs("p",{className:"text-lg text-gray-700 font-semibold flex items-center gap-3",children:[n.jsx("span",{className:"text-gray-400 text-2xl",children:""}),e.replace(" ","")]},t))})})]}),n.jsxs("section",{className:"mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4 text-center",children:"Our Warehouse & Facilities"}),n.jsx("p",{className:"text-center text-gray-600 text-lg mb-12",children:"Based in Birmingham, United Kingdom - Our fulfillment facility serving UK customers"}),n.jsxs("div",{className:"bg-white rounded-lg p-6 mb-8 border-l-4 border-gray-400",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Our Location"}),n.jsx("p",{className:"text-gray-700 mb-2",children:n.jsx("strong",{children:"Unit 4 Atlas Estates"})}),n.jsx("p",{className:"text-gray-700 mb-2",children:"Colebrook Road"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Birmingham, West Midlands, B11 2NT"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"United Kingdom"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("div",{className:"group rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition duration-300 lg:col-span-2 lg:row-span-2",children:n.jsxs("div",{className:"relative overflow-hidden h-64 md:h-80 lg:h-full",children:[Ru[0]?n.jsx("img",{src:Ru[0],alt:"Main Warehouse",className:"object-cover w-full h-full"}):n.jsx("div",{className:"h-full w-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center",children:n.jsx("div",{className:"text-6xl",children:""})}),n.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition duration-300"})]})}),[1,2,3,4].map(e=>n.jsx("div",{className:"group rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition duration-300",children:n.jsxs("div",{className:"relative overflow-hidden h-40 md:h-48",children:[Ru[e]?n.jsx("img",{src:Ru[e],alt:`Warehouse ${e+1}`,className:"object-cover w-full h-full"}):n.jsx("div",{className:`h-full w-full flex items-center justify-center ${e===1?"bg-gray-700":e===2?"bg-purple-600":e===3?"bg-gray-700":"bg-red-600"}`,children:n.jsx("div",{className:"text-5xl",children:e===1?"":e===2?"":e===3?"":""})}),n.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition duration-300"})]})},e))]})]}),n.jsxs("section",{className:"mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-12 text-center",children:"Our Team"}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-grey-100 rounded-lg p-12 border-2 border-gray-200 text-center",children:[n.jsx("p",{className:"text-xl text-gray-700 mb-4",children:"Our dedicated team of professionals is committed to bringing you the best online shopping experience."}),n.jsx("p",{className:"text-lg text-gray-600",children:"From product curation to customer service, logistics to technology, Our team supports day-to-day operations including product handling, order fulfillment, and customer service."})]})]}),n.jsxs("section",{className:"bg-gray-900 text-white rounded-lg p-12 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Have Questions About Wolf Supplies?"}),n.jsx("p",{className:"text-lg text-gray-100 mb-8",children:"Get in touch with our team. We'd love to hear from you!"}),n.jsx(ze,{to:"/contact",className:"inline-block bg-white text-gray-900 px-8 py-3 rounded-lg font-bold hover:bg-gray-100 transition duration-300 shadow-lg",children:"Contact Us"})]})]})]})),eO=()=>{Sn({title:"Contact Wolf Supplies LTD | UK Customer Support - 9AM-6PM GMT",description:"Contact Wolf Supplies LTD (Company 16070029). Customer support Monday-Friday 9AM-6PM GMT. Email: sales@wolfsuppliesltd.co.uk | Phone: +44 7398 998101. UK based, GDPR compliant.",keywords:"contact, customer service, support, UK, wolf supplies, phone, email, help",url:typeof window<"u"?window.location.href:""});const[e,t]=S.useState({name:"",email:"",subject:"",message:""}),r=a=>{const{name:l,value:c}=a.target;t(u=>({...u,[l]:c}))},s=async a=>{if(a.preventDefault(),!e.name||!e.email||!e.subject||!e.message){ee.error("Please fill in all fields");return}try{const l=await fetch("/api/forms/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),c=await l.json();if(!l.ok){ee.error(c.message||"Failed to send message");return}ee.success("Message sent successfully! We will get back to you soon."),t({name:"",email:"",subject:"",message:""})}catch{ee.error("Failed to send message. Please try again.")}};return n.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-primary, #ffffff)"},children:[n.jsx("div",{className:"text-white py-12 md:py-16",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-6 hover:opacity-80 w-fit transition duration-300",children:[n.jsx(Ir,{})," Back to Home"]}),n.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Contact Us"}),n.jsx("p",{className:"text-xl text-white",children:"We're Here to Help - Get in Touch"})]})}),n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[n.jsxs("div",{className:"rounded-lg shadow-lg p-8 text-center hover:shadow-xl transition duration-300",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx(vs,{className:"text-4xl mx-auto mb-4",style:{color:"var(--color-accent-primary, #a5632a)"}}),n.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Call Us"}),n.jsx("p",{className:"mb-2",style:{color:"var(--color-text-light, #6B6B6B)"},children:n.jsx("a",{href:"tel:+447398998101",className:"hover:opacity-75 transition duration-300",style:{color:"var(--color-accent-primary, #a5632a)"},children:"+44 7398 998101"})}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Monday - Friday, 9 AM - 6 PM GMT"})]}),n.jsxs("div",{className:"rounded-lg shadow-lg p-8 text-center hover:shadow-xl transition duration-300",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx(Cn,{className:"text-4xl mx-auto mb-4",style:{color:"var(--color-accent-primary, #a5632a)"}}),n.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Email Us"}),n.jsx("p",{className:"mb-2",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:n.jsx("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"hover:opacity-75 transition duration-300",style:{color:"var(--color-accent-primary, #a5632a)"},children:"sales@wolfsuppliesltd.co.uk"})}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light, #6B6B6B)"},children:"We'll respond within 24 hours"})]}),n.jsxs("div",{className:"rounded-lg shadow-lg p-8 text-center hover:shadow-xl transition duration-300",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx(Pw,{className:"text-4xl mx-auto mb-4",style:{color:"var(--color-accent-primary, #a5632a)"}}),n.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Visit Us"}),n.jsx("p",{className:"mb-2 font-semibold",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Unit 4 Atlas Estates"}),n.jsx("p",{className:"mb-2",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Colebrook Road, Birmingham"}),n.jsx("p",{className:"mb-2",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"West Midlands, B11 2NT"}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light, #6B6B6B)"},children:"United Kingdom"})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"rounded-lg shadow-lg p-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsxs("h2",{className:"text-3xl font-bold mb-8 flex items-center gap-3",style:{color:"var(--color-text-primary, #000000)"},children:[n.jsx($c,{style:{color:"var(--color-accent-primary, #a5632a)"}}),"Send us a Message"]}),n.jsxs("form",{onSubmit:s,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Your Name"}),n.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:r,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition duration-300",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"},onFocus:a=>a.target.style.borderColor="var(--color-accent-primary, #a5632a)",onBlur:a=>a.target.style.borderColor="var(--color-border-light, #e5e5e5)",placeholder:"John Doe"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Email Address"}),n.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:r,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition duration-300",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"},onFocus:a=>a.target.style.borderColor="var(--color-accent-primary, #a5632a)",onBlur:a=>a.target.style.borderColor="var(--color-border-light, #e5e5e5)",placeholder:"john@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Subject"}),n.jsx("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:r,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition duration-300",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"},onFocus:a=>a.target.style.borderColor="var(--color-accent-primary, #a5632a)",onBlur:a=>a.target.style.borderColor="var(--color-border-light, #e5e5e5)",placeholder:"How can we help?"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Message"}),n.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:r,rows:"6",className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition duration-300 resize-none",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"},onFocus:a=>a.target.style.borderColor="var(--color-accent-primary, #a5632a)",onBlur:a=>a.target.style.borderColor="var(--color-border-light, #e5e5e5)",placeholder:"Tell us more about your inquiry..."})]}),n.jsxs("button",{type:"submit",className:"w-full text-white font-bold py-3 rounded-lg transition duration-300 flex items-center justify-center gap-2 shadow-lg hover:opacity-90",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:[n.jsx($c,{})," Send Message"]})]})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"rounded-lg shadow-lg p-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",style:{color:"var(--color-text-primary, #000000)"},children:[n.jsx(M0,{style:{color:"var(--color-accent-primary, #a5632a)"}}),"Support Hours"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"pl-4 p-3 rounded",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)",backgroundColor:"rgba(165, 99, 42, 0.1)"},children:[n.jsx("p",{className:"font-bold",style:{color:"var(--color-text-primary, #000000)"},children:"Monday - Friday"}),n.jsx("p",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"9:00 AM - 6:00 PM GMT"})]}),n.jsxs("div",{className:"pl-4 p-3 rounded",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)",backgroundColor:"rgba(165, 99, 42, 0.1)"},children:[n.jsx("p",{className:"font-bold",style:{color:"var(--color-text-primary, #000000)"},children:"Saturday - Sunday"}),n.jsx("p",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"10:00 AM - 4:00 PM GMT"})]}),n.jsxs("div",{className:"pl-4 p-3 rounded",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)",backgroundColor:"rgba(165, 99, 42, 0.1)"},children:[n.jsx("p",{className:"font-bold",style:{color:"var(--color-text-primary, #000000)"},children:"Bank Holidays"}),n.jsx("p",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Closed"})]})]})]}),n.jsxs("div",{className:"rounded-lg shadow-lg p-8 border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",style:{color:"var(--color-text-primary, #000000)"},children:[n.jsx(Bw,{style:{color:"var(--color-accent-primary, #a5632a)"}}),"Quick Support"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ze,{to:"/policies/shipping",className:"block p-3 rounded hover:opacity-80 transition duration-300 font-semibold",style:{backgroundColor:"var(--color-bg-primary, #ffffff)",color:"var(--color-accent-primary, #a5632a)"},children:" Shipping Policy"}),n.jsx(ze,{to:"/policies/returns-refund",className:"block p-3 rounded hover:opacity-80 transition duration-300 font-semibold",style:{backgroundColor:"var(--color-bg-primary, #ffffff)",color:"var(--color-accent-primary, #a5632a)"},children:" Return & Refunds"}),n.jsx(ze,{to:"/policies/privacy",className:"block p-3 rounded hover:opacity-80 transition duration-300 font-semibold",style:{backgroundColor:"var(--color-bg-primary, #ffffff)",color:"var(--color-accent-primary, #a5632a)"},children:" Privacy Policy"}),n.jsx(ze,{to:"/policies/faq",className:"block p-3 rounded hover:opacity-80 transition duration-300 font-semibold",style:{backgroundColor:"var(--color-bg-primary, #ffffff)",color:"var(--color-accent-primary, #a5632a)"},children:" FAQ"})]})]})]})]}),n.jsxs("div",{className:"mt-12 bg-blue-50 rounded-lg p-8 border border-blue-200",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"About Wolf Supplies LTD"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Company Information"}),n.jsxs("ul",{className:"text-gray-700 space-y-3 text-sm",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Business Name:"})," Wolf Supplies Limited"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Company Number:"})," ",n.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"16070029"})," (UK Companies House)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Trading Address:"})," Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Website:"})," ",n.jsx("a",{href:"https://wolfsuppliesltd.co.uk",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"wolfsuppliesltd.co.uk"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Email:"})," ",n.jsx("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"text-blue-600 hover:underline",children:"sales@wolfsuppliesltd.co.uk"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Phone:"})," ",n.jsx("a",{href:"tel:+447398998101",className:"text-blue-600 hover:underline",children:"+44 7398 998101"})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Compliance & Trust"}),n.jsxs("ul",{className:"text-gray-700 space-y-3 text-sm",children:[n.jsxs("li",{children:[" ",n.jsx("strong",{children:"UK GDPR Compliant:"})," Full data protection compliance"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Consumer Rights Act 2015:"})," 31-day money-back guarantee"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"SSL/TLS Encrypted:"})," Secure communications"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"PCI DSS Level 1:"})," Payment card industry compliant"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Verified Merchant:"})," Listed with Companies House"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Free UK Shipping:"})," All orders, no minimum"]})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-6",children:"Our Policies"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs(ze,{to:"/policies/shipping",className:"p-4 border-2 border-blue-600 rounded-lg hover:bg-blue-50 transition text-center",children:[n.jsx("div",{className:"font-bold text-blue-600 mb-2",children:" Shipping Policy"}),n.jsx("p",{className:"text-sm text-gray-600",children:"2-4 business day delivery, free UK shipping"})]}),n.jsxs(ze,{to:"/policies/returns-refund",className:"p-4 border-2 border-green-600 rounded-lg hover:bg-green-50 transition text-center",children:[n.jsx("div",{className:"font-bold text-green-600 mb-2",children:" Returns & Refunds"}),n.jsx("p",{className:"text-sm text-gray-600",children:"31-day returns, full refund guarantee"})]}),n.jsxs(ze,{to:"/payment-options",className:"p-4 border-2 border-purple-600 rounded-lg hover:bg-purple-50 transition text-center",children:[n.jsx("div",{className:"font-bold text-purple-600 mb-2",children:" Payment Options"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Secure checkout, multiple payment methods"})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mt-4",children:[n.jsxs(ze,{to:"/policies/privacy",className:"p-4 border-2 border-red-600 rounded-lg hover:bg-red-50 transition text-center",children:[n.jsx("div",{className:"font-bold text-red-600 mb-2",children:" Privacy Policy"}),n.jsx("p",{className:"text-sm text-gray-600",children:"GDPR compliant, data protection assured"})]}),n.jsxs(ze,{to:"/policies/terms",className:"p-4 border-2 border-orange-600 rounded-lg hover:bg-orange-50 transition text-center",children:[n.jsx("div",{className:"font-bold text-orange-600 mb-2",children:" Terms of Service"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Legal terms and conditions"})]}),n.jsxs(ze,{to:"/policies/faq",className:"p-4 border-2 border-cyan-600 rounded-lg hover:bg-cyan-50 transition text-center",children:[n.jsx("div",{className:"font-bold text-cyan-600 mb-2",children:" FAQ"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Answers to common questions"})]})]})]})]})]})]})},Ex="http://localhost:5000",tO=e=>{if(!e)return"";if(typeof e=="string")return e.trim()?e.startsWith("http")?e:`${Ex}${e}`:"";if(typeof e=="object"){const t=e.url||e.secure_url||e.public_url||e.path||e.src||"";if(!t)return"";if(typeof t=="string")return t.startsWith("http")?t:`${Ex}${t}`}return""},rO=()=>{const{id:e}=bf(),[t]=X9(),{token:r,user:s}=aa(),[a,l]=S.useState(null),[c,u]=S.useState(!0);S.useEffect(()=>{(async()=>{u(!0);try{const g=await fetch(`${Ex}/api/orders/${e}`,{headers:r?{Authorization:`Bearer ${r}`}:{}});if(!g.ok){const b=await g.json().catch(()=>({}));throw new Error(b.message||"Failed to load order")}const y=await g.json();l(y)}catch{}finally{u(!1)}})()},[e,r,t]);const h=()=>{if(!a)return;const m=a.orderId||`ORD-${new Date(a.createdAt).toISOString().slice(0,10).replace(/-/g,"")}-${a._id?.slice(-6)}`,g=new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),y=document.documentElement,b=getComputedStyle(y).getPropertyValue("--color-bg-primary")?.trim()||"#ffffff",j=getComputedStyle(y).getPropertyValue("--color-bg-section")?.trim()||"#f5f5f5",N=getComputedStyle(y).getPropertyValue("--color-accent-primary")?.trim()||"#a5632a",C=getComputedStyle(y).getPropertyValue("--color-text-primary")?.trim()||"#333333",w=getComputedStyle(y).getPropertyValue("--color-text-light")?.trim()||"#666666",T=getComputedStyle(y).getPropertyValue("--color-border-light")?.trim()||"#dddddd",E=`
      <!DOCTYPE html>
      <html>
      <head>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap');
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background-color: ${j};
            color: ${C};
            line-height: 1.6;
          }
          .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: ${b};
            padding: 40px 30px;
          }
          .header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 3px solid ${N};
            padding-bottom: 20px;
          }
          .header h1 {
            font-size: 32px;
            color: ${C};
            margin-bottom: 10px;
            font-weight: 700;
          }
          .order-info {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            font-size: 13px;
            color: ${w};
            margin-top: 10px;
          }
          .order-info-item {
            font-family: 'Courier New', monospace;
          }
          .order-info-label {
            font-weight: 600;
            color: ${C};
          }
          .important-banner {
            background-color: ${j};
            border: 2px solid ${N};
            border-left: 5px solid ${N};
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 4px;
          }
          .important-banner h3 {
            font-size: 14px;
            color: ${N};
            margin-bottom: 8px;
            font-weight: 700;
          }
          .important-banner p {
            font-size: 13px;
            color: ${C};
            margin: 5px 0;
            font-weight: 500;
          }
          .section {
            margin-bottom: 30px;
          }
          .section-title {
            font-size: 16px;
            font-weight: 700;
            color: ${C};
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid ${N};
          }
          .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
          }
          .info-card {
            background-color: ${j};
            border: 1px solid ${T};
            padding: 15px;
            border-radius: 4px;
          }
          .info-card-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            font-size: 14px;
            font-weight: 700;
            color: ${C};
          }
          .info-card-icon {
            display: inline-block;
            width: 24px;
            height: 24px;
            background-color: ${N};
            color: white;
            border-radius: 3px;
            text-align: center;
            line-height: 24px;
            font-size: 12px;
            font-weight: bold;
          }
          .items-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 13px;
          }
          .items-table thead {
            background-color: ${j};
            border-bottom: 2px solid ${N};
          }
          .items-table th {
            padding: 12px 10px;
            text-align: left;
            font-weight: 700;
            color: ${C};
          }
          .items-table td {
            padding: 12px 10px;
            border-bottom: 1px solid ${T};
          }
          .items-table tr:last-child td {
            border-bottom: none;
          }
          .totals-section {
            background-color: ${j};
            border: 1px solid ${T};
            padding: 20px;
            border-radius: 4px;
            margin-top: 20px;
          }
          .total-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            font-size: 13px;
            border-bottom: 1px solid ${T};
          }
          .total-row:last-child {
            border-bottom: none;
          }
          .total-row.grand-total {
            background-color: ${N};
            color: white;
            padding: 15px;
            margin: 0 -20px -20px -20px;
            padding-left: 20px;
            padding-right: 20px;
            border-radius: 0 0 4px 4px;
            font-weight: 700;
            font-size: 14px;
          }
          .status-section {
            margin-top: 20px;
          }
          .badges {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
          }
          .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            display: inline-block;
          }
          .badge.paid {
            background-color: #d4edda;
            color: #155724;
          }
          .badge.processing {
            background-color: #e2e3e5;
            color: #383d41;
          }
          .badge.completed {
            background-color: #d1ecf1;
            color: #0c5460;
          }
          .badge.shipped {
            background-color: #fff3cd;
            color: #856404;
          }
          .badge.delivered {
            background-color: #d4edda;
            color: #155724;
          }
          .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
          }
          .contact-field {
            background-color: ${j};
            border: 1px solid ${T};
            padding: 10px;
            border-radius: 4px;
          }
          .contact-field-label {
            font-size: 11px;
            font-weight: 600;
            color: ${w};
            margin-bottom: 4px;
            text-transform: uppercase;
          }
          .contact-field-value {
            font-size: 13px;
            color: ${C};
            font-weight: 500;
          }
          .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid ${T};
            text-align: center;
            font-size: 11px;
            color: ${w};
          }
          .footer p {
            margin: 5px 0;
          }
        </style>
      </head>
      <body>
        <div class="container">
          <!-- Header -->
          <div class="header">
            <h1>Order Confirmation</h1>
            <div class="order-info">
              <div class="order-info-item"><span class="order-info-label">Order ID:</span> ${m}</div>
              <div class="order-info-item"><span class="order-info-label">Date:</span> ${g}</div>
            </div>
          </div>

          <!-- Important Banner -->
          <div class="important-banner">
            <h3> Keep This For Your Records</h3>
            <p><strong>Order ID: ${m}</strong></p>
            <p>Use this ID to track and look up your order status anytime at our website.</p>
          </div>

          <!-- Contact Details Section -->
          <div class="section">
            <h2 class="section-title">Contact Details</h2>
            <div class="grid-4">
              <div class="contact-field">
                <div class="contact-field-label">First Name</div>
                <div class="contact-field-value">${a.contactDetails?.firstName||a.user?.name?.split(" ")[0]||"N/A"}</div>
              </div>
              <div class="contact-field">
                <div class="contact-field-label">Last Name</div>
                <div class="contact-field-value">${a.contactDetails?.lastName||a.user?.name?.split(" ")[1]||"N/A"}</div>
              </div>
              <div class="contact-field">
                <div class="contact-field-label">Email</div>
                <div class="contact-field-value">${a.contactDetails?.email||a.user?.email||"N/A"}</div>
              </div>
              <div class="contact-field">
                <div class="contact-field-label">Phone</div>
                <div class="contact-field-value">${a.contactDetails?.phone||"N/A"}</div>
              </div>
            </div>
          </div>

          <!-- Addresses Section -->
          <div class="section">
            <h2 class="section-title">Delivery Information</h2>
            <div class="grid-2">
              <div class="info-card">
                <div class="info-card-title">
                  <span class="info-card-icon"></span>
                  Shipping Address
                </div>
                ${a.shippingAddress?`
                  <p style="font-size: 13px; color: ${C}; margin-bottom: 8px;">
                    <strong>${a.shippingAddress.address}</strong><br/>
                    ${a.shippingAddress.apartment||""}<br/>
                    ${a.shippingAddress.city}, ${a.shippingAddress.stateRegion} ${a.shippingAddress.postalCode}<br/>
                    ${a.shippingAddress.country}
                  </p>
                `:`<p style="color: ${w}; font-size: 13px;">No shipping address provided</p>`}
              </div>
              <div class="info-card">
                <div class="info-card-title">
                  <span class="info-card-icon"></span>
                  Billing Address
                </div>
                ${a.billingAddress?`
                  <p style="font-size: 13px; color: ${C}; margin-bottom: 8px;">
                    <strong>${a.billingAddress.address}</strong><br/>
                    ${a.billingAddress.apartment||""}<br/>
                    ${a.billingAddress.city}, ${a.billingAddress.stateRegion} ${a.billingAddress.postalCode}<br/>
                    ${a.billingAddress.country}
                  </p>
                `:`<p style="color: ${w}; font-size: 13px;">Same as shipping address</p>`}
              </div>
            </div>
          </div>

          <!-- Order Items Section -->
          <div class="section">
            <h2 class="section-title">Order Items</h2>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Product</th>
                  <th>Variants</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${a.orderItems?.map(z=>{const q=[];z.selectedSize&&q.push(`Size: ${z.selectedSize}`),z.selectedColor&&q.push(`Color: ${z.selectedColor}`),z.selectedVariants&&typeof z.selectedVariants=="object"&&Object.entries(z.selectedVariants).forEach(([H,W])=>{W&&q.push(`${H}: ${W}`)}),z.sku&&q.push(`SKU: ${z.sku}`);const I=q.length>0?q.join(", "):"None";return`
                    <tr>
                      <td><strong>${z.name}</strong></td>
                      <td style="font-size: 12px; color: ${w};">${I}</td>
                      <td style="text-align: center;">${z.qty||z.quantity||1}</td>
                      <td style="text-align: right;">${(z.price||0).toFixed(2)}</td>
                      <td style="text-align: right;"><strong>${((z.price||0)*(z.qty||z.quantity||1)).toFixed(2)}</strong></td>
                    </tr>
                  `}).join("")||""}
              </tbody>
            </table>
          </div>

          <!-- Order Summary Section -->
          <div class="section">
            <h2 class="section-title">Order Summary</h2>
            <div class="totals-section">
              <div class="total-row">
                <span>Items Total:</span>
                <span>${(a.itemsPrice||0).toFixed(2)}</span>
              </div>
              <div class="total-row">
                <span>Shipping Cost:</span>
                <span>${(a.shippingPrice||0).toFixed(2)}</span>
              </div>
              <div class="total-row">
                <span>Tax:</span>
                <span>${(a.taxPrice||0).toFixed(2)}</span>
              </div>
              ${a.discountAmount>0&&a.couponCode?`
              <div class="total-row" style="color: #10b981; font-weight: bold;">
                <span>Discount (${a.couponCode}):</span>
                <span>-${(a.discountAmount||0).toFixed(2)}</span>
              </div>
              `:""}
              <div class="total-row grand-total">
                <span>Grand Total:</span>
                <span>${(a.totalPrice||a.totalAmount||0).toFixed(2)}</span>
              </div>
            </div>
          </div>

          <!-- Status Section -->
          <div class="section status-section">
            <h2 class="section-title">Order Status</h2>
            <div class="badges">
              ${a.fulfillmentStatus==="fulfilled"?'<div class="badge completed"> Fulfilled</div>':'<div class="badge processing"> Unfulfilled</div>'}
              ${a.deliveryStatus==="refunded"?'<div class="badge refunded" style="background-color: #dc2626; color: white;"> Refunded</div>':a.deliveryStatus==="delivered"?'<div class="badge delivered"> Delivered</div>':a.deliveryStatus==="shipped"?'<div class="badge shipped"> Shipped</div>':'<div class="badge processing"> No Status</div>'}
            </div>
          </div>

          <!-- Footer -->
          <div class="footer">
            <p><strong>Thank you for your order!</strong></p>
            <p>This is an automated confirmation document. Please keep it for your records.</p>
            <p>Generated on ${new Date().toLocaleString()}</p>
          </div>
        </div>
      </body>
      </html>
    `,O=document.createElement("a"),R=new Blob([E],{type:"text/html"});O.href=URL.createObjectURL(R),O.download=`Order_${m}_${new Date().getTime()}.pdf`,document.body.appendChild(O);const L=document.createElement("script");L.src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",L.onload=()=>{const z={margin:10,filename:`Order_${m}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{orientation:"portrait",unit:"mm",format:"a4"}},q=document.createElement("div");q.innerHTML=E,html2pdf().set(z).from(q).save()},document.head.appendChild(L)};if(c)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-bg-primary)]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[var(--color-accent-primary)] mb-4"}),n.jsx("p",{className:"text-[var(--color-text-light)]",children:"Loading order"})]})});if(!a)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-bg-primary)]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[var(--color-text-primary)] font-semibold mb-4",children:"Order not found."}),n.jsx(ze,{to:"/order-lookup",className:"text-[var(--color-accent-primary)] font-bold hover:underline",children:"Back to Order Lookup "})]})});const f={items:a.itemsPrice??a.orderItems?.reduce((m,g)=>m+g.price*g.qty,0)??0,shipping:a.shippingPrice??0,tax:a.taxPrice??0,total:a.totalPrice??a.totalAmount??0};return n.jsx("div",{className:"min-h-screen py-8 px-4 sm:px-6 lg:px-8",style:{backgroundColor:"var(--color-bg-primary, #ffffff)"},children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-2 text-[var(--color-text-primary)]",children:"Order Details"}),n.jsxs("p",{className:"text-sm sm:text-base font-mono text-[var(--color-accent-primary)]",children:[n.jsx("span",{children:"Order ID: "}),a.orderId||`ORD-${new Date(a.createdAt).toISOString().slice(0,10).replace(/-/g,"")}-${a._id?.slice(-6)}`]}),n.jsx("p",{className:"text-xs sm:text-sm text-[var(--color-text-light)] mt-1",children:new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[n.jsxs("button",{onClick:h,className:"px-6 py-2.5 rounded-lg font-semibold text-white hover:opacity-90 transition duration-300 flex items-center justify-center gap-2",style:{backgroundColor:"var(--color-accent-primary)"},children:[n.jsx(TA,{})," Download PDF"]}),n.jsx(ze,{to:"/order-lookup",className:"px-6 py-2.5 rounded-lg font-semibold text-white hover:opacity-90 transition duration-300 text-center",style:{backgroundColor:"var(--color-accent-primary)"},children:" Back to Order Lookup"})]})]}),n.jsx("div",{className:"mb-8 p-4 sm:p-6 rounded-lg border-l-4",style:{backgroundColor:"var(--color-bg-section, #f5f5f5)",borderLeftColor:"var(--color-accent-primary)"},children:n.jsx("p",{className:"text-sm sm:text-base font-semibold text-[var(--color-text-primary)]",children:" Keep your Order ID saved kindly for future reference and tracking."})}),n.jsxs("div",{className:"mb-8 p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-[var(--color-text-primary)]",children:"Contact Details"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"First Name"}),n.jsx("p",{className:"text-sm sm:text-base text-[var(--color-text-primary)]",children:a.contactDetails?.firstName||a.user?.name?.split(" ")[0]||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"Last Name"}),n.jsx("p",{className:"text-sm sm:text-base text-[var(--color-text-primary)]",children:a.contactDetails?.lastName||a.user?.name?.split(" ")[1]||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"Email"}),n.jsx("p",{className:"text-sm sm:text-base text-[var(--color-text-primary)]",children:a.contactDetails?.email||a.user?.email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"Phone"}),n.jsx("p",{className:"text-sm sm:text-base text-[var(--color-text-primary)]",children:a.contactDetails?.phone||"N/A"})]})]})]}),n.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"p-2 rounded",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:n.jsx(Df,{style:{color:"white"},size:18})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-[var(--color-text-primary)]",children:"Shipping Address"})]}),a.shippingAddress?n.jsxs("div",{className:"space-y-2 text-sm sm:text-base text-[var(--color-text-primary)]",children:[n.jsx("p",{className:"font-semibold",children:a.shippingAddress.address}),a.shippingAddress.apartment&&n.jsx("p",{children:a.shippingAddress.apartment}),n.jsxs("p",{children:[a.shippingAddress.city,a.shippingAddress.stateRegion?`, ${a.shippingAddress.stateRegion}`:""," ",a.shippingAddress.postalCode]}),n.jsx("p",{children:a.shippingAddress.country})]}):n.jsx("p",{className:"text-[var(--color-text-light)]",children:"No shipping address provided"})]}),n.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"p-2 rounded",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:n.jsx(EA,{style:{color:"white"},size:18})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-[var(--color-text-primary)]",children:"Billing Address"})]}),a.billingAddress?n.jsxs("div",{className:"space-y-2 text-sm sm:text-base text-[var(--color-text-primary)]",children:[n.jsx("p",{className:"font-semibold",children:a.billingAddress.address}),a.billingAddress.apartment&&n.jsx("p",{children:a.billingAddress.apartment}),n.jsxs("p",{children:[a.billingAddress.city,a.billingAddress.stateRegion?`, ${a.billingAddress.stateRegion}`:""," ",a.billingAddress.postalCode]}),n.jsx("p",{children:a.billingAddress.country})]}):n.jsx("p",{className:"text-[var(--color-text-light)]",children:"Same as shipping address"})]})]}),n.jsxs("div",{className:"mb-8 p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-[var(--color-text-primary)]",children:"Order Items"}),n.jsx("div",{className:"space-y-4",children:a.orderItems&&a.orderItems.map(m=>{const g=[];return m.selectedSize&&g.push(`Size: ${m.selectedSize}`),m.selectedColor&&g.push(`Color: ${m.selectedColor}`),m.selectedVariants&&typeof m.selectedVariants=="object"&&Object.entries(m.selectedVariants).forEach(([y,b])=>{b&&g.push(`${y}: ${b}`)}),m.variantId&&g.push(`VariantId: ${m.variantId}`),m.sku&&g.push(`SKU: ${m.sku}`),n.jsxs("div",{className:"flex gap-3 sm:gap-4 pb-4 border-b",style:{borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("img",{src:tO(m.image),alt:m.name,className:"w-16 h-16 sm:w-20 sm:h-20 object-cover rounded"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-bold text-sm sm:text-base text-[var(--color-text-primary)]",children:m.name}),g.length>0&&n.jsx("p",{className:"text-xs sm:text-sm mt-1 text-[var(--color-text-light)]",children:g.join(" / ")}),n.jsxs("p",{className:"text-xs sm:text-sm mt-1 text-[var(--color-text-secondary)]",children:["Qty: ",m.qty,"  ",Number(m.price).toFixed(2)]})]}),n.jsx("div",{className:"text-right flex-shrink-0",children:n.jsxs("p",{className:"font-bold text-base sm:text-lg text-[var(--color-accent-primary)]",children:["",(m.qty*m.price).toFixed(2)]})})]},m._id||m.product)})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"md:col-span-2 p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-4 text-[var(--color-text-primary)]",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3 text-sm sm:text-base",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Items Subtotal:"}),n.jsxs("span",{className:"font-bold text-[var(--color-text-primary)]",children:["",f.items.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Shipping:"}),n.jsxs("span",{className:"font-bold text-[var(--color-text-primary)]",children:["",f.shipping.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Tax:"}),n.jsxs("span",{className:"font-bold text-[var(--color-text-primary)]",children:["",f.tax.toFixed(2)]})]}),a.discountAmount>0&&a.couponCode&&n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-[var(--color-text-secondary)]",children:["Discount (",a.couponCode,"):"]}),n.jsxs("span",{className:"font-bold text-green-600",children:["-",Number(a.discountAmount).toFixed(2)]})]}),n.jsxs("div",{className:"border-t pt-3 flex justify-between",style:{borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("span",{className:"text-base sm:text-lg font-bold text-[var(--color-text-primary)]",children:"Grand Total:"}),n.jsxs("span",{className:"text-base sm:text-lg font-bold text-[var(--color-accent-primary)]",children:["",f.total.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-4 text-[var(--color-text-primary)]",children:"Status"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"Fulfillment"}),n.jsx("p",{className:"font-bold text-sm sm:text-base text-[var(--color-text-primary)]",children:a.fulfillmentStatus==="fulfilled"?" Fulfilled":" Unfulfilled"})]}),n.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"Delivery Status"}),n.jsx("p",{className:"font-bold text-sm sm:text-base text-[var(--color-text-primary)]",children:a.deliveryStatus==="refunded"?" Refunded":a.deliveryStatus==="delivered"?" Delivered":a.deliveryStatus==="shipped"?" Shipped":" No Status"})]})]})]})]})]})})},nO=()=>{const[e,t]=S.useState(""),[r,s]=S.useState(!1),a=Sr(),l="http://localhost:5000",c=async u=>{if(u.preventDefault(),!e.trim()){ee.error("Please enter an order ID");return}s(!0);try{const h=await fetch(`${l}/api/orders/${e}`,{credentials:"include"});if(!h.ok){const f=await h.json().catch(()=>({}));throw new Error(f.message||"Order not found")}a(`/order/${e}`)}catch(h){ee.error(h.message||"Order not found. Please check the order ID and try again.")}finally{s(!1)}};return n.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 text-[var(--color-text-primary)]",children:"Find Your Order"}),n.jsx("p",{className:"text-lg text-[var(--color-text-light)]",children:"Enter your order ID from your confirmation email to view order details"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 sm:p-12",children:[n.jsx("form",{onSubmit:c,className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("label",{htmlFor:"orderId",className:"block text-sm font-semibold text-[var(--color-text-primary)] mb-3",children:"Order ID"}),n.jsxs("div",{className:"flex gap-3 flex-col md:flex-row",children:[n.jsx("input",{id:"orderId",type:"text",placeholder:"e.g., ORD-123456789-abc123 or just the ID",value:e,onChange:u=>t(u.target.value),className:"flex-1 px-4 py-3 border border-[var(--color-border-light)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)] bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]",disabled:r}),n.jsxs("button",{type:"submit",disabled:r,className:"px-6 py-3 rounded-lg font-bold text-white transition duration-300 flex items-center gap-2 disabled:opacity-50",style:{backgroundColor:"var(--color-accent-primary)"},children:[n.jsx(Zs,{}),r?"Searching...":"Search"]})]}),n.jsx("p",{className:"text-xs text-[var(--color-text-light)] mt-2",children:"You can find your order ID in the confirmation email sent after checkout"})]})}),n.jsxs("div",{className:"mt-12 pt-8 border-t border-[var(--color-border-light)]",children:[n.jsx("h2",{className:"text-lg font-bold text-[var(--color-text-primary)] mb-4",children:"How to find your Order ID:"}),n.jsxs("ol",{className:"space-y-3 text-sm text-[var(--color-text-light)]",children:[n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"font-bold text-[var(--color-accent-primary)] flex-shrink-0",children:"1."}),n.jsx("span",{children:"Check your email for the order confirmation message"})]}),n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"font-bold text-[var(--color-accent-primary)] flex-shrink-0",children:"2."}),n.jsx("span",{children:'Look for "Order ID" or "Order Number" in the email'})]}),n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"font-bold text-[var(--color-accent-primary)] flex-shrink-0",children:"3."}),n.jsx("span",{children:"Copy the ID and paste it above to view your order details"})]})]})]})]})]})})},sO=()=>(Sn({title:"Shipping Policy | Fast & Reliable UK Delivery",description:"Wolf Supplies LTD Shipping Policy - Fast delivery, tracking information, and reliable service across the UK.",keywords:"shipping, delivery, policy, UK, fast delivery, tracking",url:typeof window<"u"?window.location.href:""}),n.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-secondary)]",children:[n.jsx("div",{className:"bg-[var(--color-accent-primary)] text-white py-8 md:py-12",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-4 hover:text-gray-200 w-fit",children:[n.jsx(Ir,{})," Back to Home"]}),n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(Df,{className:"text-4xl"}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Shipping Policy"})]}),n.jsx("p",{className:"text-gray-100 text-lg",children:"Wolf Supplies LTD - Fast & Reliable Delivery"})]})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(M0,{className:"text-[var(--color-accent-primary)] text-2xl"}),n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Delivery Timeframe"})]}),n.jsxs("p",{className:"text-[var(--color-text-light)] mb-4 leading-relaxed",children:["At Wolf Supplies LTD, we are committed to delivering your orders promptly and safely. All orders placed on our UK-based store are processed and shipped within ",n.jsx("span",{className:"font-bold text-[var(--color-accent-primary)]",children:"2-4 business days"}),"."]}),n.jsx("div",{className:"bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] p-4 rounded mb-4",children:n.jsxs("p",{className:"text-[var(--color-text-light)]",children:[n.jsx("strong",{children:"Business Days Definition:"})," Monday to Friday, excluding UK public holidays and weekends."]})}),n.jsx("div",{className:"bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] p-4 rounded mb-4",children:n.jsx("p",{className:"text-[var(--color-text-primary)] font-semibold",children:"Free Shipping on all UK orders   no minimum spend"})}),n.jsxs("div",{className:"bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] p-4 rounded text-sm",children:[n.jsx("p",{className:"text-[var(--color-text-light)]",children:n.jsxs("strong",{children:["Wolf Supplies Ltd | Company Number: ",n.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-accent-primary)] hover:underline",children:"16070029"})]})}),n.jsx("p",{className:"text-[var(--color-text-light)]",children:"Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"})]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-6",children:"Shipping Methods & Costs"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border-l-4 border-[var(--color-accent-primary)] pl-6 pb-6 border-b",children:[n.jsx("h3",{className:"text-xl font-bold text-[var(--color-text-primary)] mb-2",children:"Standard Delivery"}),n.jsxs("ul",{className:"text-[var(--color-text-light)] space-y-2",children:[n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Coverage:"})," All UK postcodes (England, Scotland, Wales, Northern Ireland)"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Delivery Time:"})," 2-4 business days from order confirmation"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Cost:"})," FREE for all UK orders"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Tracking:"})," Real-time order tracking available"]})]})]}),n.jsxs("div",{className:"border-l-4 border-[var(--color-accent-primary)] pl-6",children:[n.jsx("h3",{className:"text-xl font-bold text-[var(--color-text-primary)] mb-2",children:"International Shipping"}),n.jsxs("ul",{className:"text-[var(--color-text-light)] space-y-2",children:[n.jsxs("li",{children:[" ",n.jsx("strong",{children:"International Orders:"})," We currently deliver within the United Kingdom only. International shipping is not available through our online checkout."]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Contact Us:"})," Please ",n.jsx(ze,{to:"/contact",className:"text-[var(--color-accent-primary)] hover:underline font-semibold",children:"contact our team"})," for international shipping inquiries, custom quotes, and delivery timelines."]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Cost:"})," Shipping costs vary based on destination and will be confirmed via email after your inquiry."]})]})]})]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-6",children:"Postcode Coverage"}),n.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"We deliver to all UK postcodes including:"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["England","Scotland","Wales","Northern Ireland","London","Manchester","Birmingham","Leeds"].map((e,t)=>n.jsx("div",{className:"bg-[var(--color-bg-section)] p-3 rounded-lg border border-[var(--color-border-light)] text-center",children:n.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:e})},t))}),n.jsxs("p",{className:"text-[var(--color-text-light)] mt-4",children:[n.jsx("strong",{children:"Remote Areas:"})," The Highlands, Islands, and other remote postcode areas may take an additional 1-2 business days."]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-section)] rounded-lg border-2 border-[var(--color-border-light)] p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-4",children:"Questions About Shipping?"}),n.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"Our customer support team is here to help. Contact us at:"}),n.jsxs("div",{className:"space-y-2 text-[var(--color-text-light)]",children:[n.jsxs("p",{children:[n.jsx(Cn,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Email: ",n.jsx("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"text-[var(--color-accent-primary)] hover:underline",children:"sales@wolfsuppliesltd.co.uk"})]}),n.jsxs("p",{children:[n.jsx(vs,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Phone: ",n.jsx("a",{href:"tel:+447398998101",className:"text-[var(--color-accent-primary)] hover:underline",children:"+44 7398 998101"})]}),n.jsx("p",{children:" Hours: Monday - Friday, 9 AM - 6 PM GMT"})]})]}),n.jsx("p",{className:"text-center text-[var(--color-text-light)] text-sm mt-8",children:"Last updated: January 19, 2026 | Wolf Supplies LTD"})]})]})),aO=()=>(Sn({title:"31 Days Return & Refunds Policy | Wolf Supplies LTD",description:"Wolf Supplies LTD 31 Days Return & Refund Policy. Easy returns, full refunds, and hassle-free exchanges guaranteed.",keywords:"returns, refunds, policy, returns policy, 31 days, money back guarantee",url:typeof window<"u"?window.location.href:""}),n.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-section)]",children:[n.jsx("div",{className:"bg-[var(--color-accent-primary)] text-white py-12 md:py-16",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-4 hover:text-gray-100 w-fit",children:[n.jsx(Ir,{})," Back to Home"]}),n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(Uw,{className:"text-4xl"}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Return & Refunds Policy"})]}),n.jsx("p",{className:"text-gray-100 text-lg",children:"31 Days Return & Refund - UK"})]})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(M0,{className:"text-[var(--color-accent-primary)] text-2xl"}),n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"31 Days Return & Refund Window"})]}),n.jsxs("p",{className:"text-[var(--color-text-light)] mb-4 leading-relaxed",children:["At Wolf Supplies LTD, we want you to be completely satisfied with your purchase. If you're not happy with your item, you can return it within ",n.jsx("span",{className:"font-bold text-[var(--color-accent-primary)]",children:"31 days"})," of delivery for a full refund. This forms our ",n.jsx("strong",{children:"31 Days Return & Refund"})," policy."]}),n.jsx("div",{className:"bg-[var(--color-bg-section)] border-l-4 border-orange-500 p-4 rounded mb-4",children:n.jsxs("p",{className:"text-[var(--color-text-light)]",children:[n.jsx("strong",{children:"Important:"})," We do not accept exchanges. All returns result in a full refund to your original payment method."]})}),n.jsx("div",{className:"bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] p-4 rounded mb-4",children:n.jsxs("p",{className:"text-[var(--color-text-light)] mb-2",children:[n.jsx("strong",{children:"Consumer Rights:"})," This policy complies with UK Consumer Rights Act 2015 and provides protection for all purchases."]})}),n.jsxs("div",{className:"bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] p-4 rounded text-sm",children:[n.jsx("p",{className:"text-[var(--color-text-light)]",children:n.jsxs("strong",{children:["Wolf Supplies Ltd | Company Number: ",n.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-accent-primary)] hover:underline",children:"16070029"})]})}),n.jsx("p",{className:"text-[var(--color-text-light)]",children:"Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"})]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-6",children:"What Can Be Returned?"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-[var(--color-accent-primary)] mb-4",children:" Eligible for Return"}),n.jsxs("ul",{className:"space-y-3 text-[var(--color-text-light)]",children:[n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"text-[var(--color-accent-primary)] font-bold",children:""}),n.jsx("span",{children:"Unused items in original packaging"})]}),n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"text-[var(--color-accent-primary)] font-bold",children:""}),n.jsx("span",{children:"Defective or damaged products"})]}),n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"text-[var(--color-accent-primary)] font-bold",children:""}),n.jsx("span",{children:"Wrong item sent"})]}),n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"text-[var(--color-accent-primary)] font-bold",children:""}),n.jsx("span",{children:"Item not as described"})]}),n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"text-[var(--color-accent-primary)] font-bold",children:""}),n.jsx("span",{children:"Faulty items"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-red-600 mb-4",children:" Not Eligible for Return"}),n.jsxs("ul",{className:"space-y-3 text-[var(--color-text-light)]",children:[n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"text-red-600 font-bold",children:""}),n.jsx("span",{children:"Items used or worn"})]}),n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"text-red-600 font-bold",children:""}),n.jsx("span",{children:"Damage caused by misuse"})]}),n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"text-red-600 font-bold",children:""}),n.jsx("span",{children:"Missing original packaging"})]}),n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:"text-red-600 font-bold",children:""}),n.jsx("span",{children:"Items returned after 31 days"})]})]})]})]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-6",children:"How to Start a Return"}),n.jsx("p",{className:"text-[var(--color-text-light)] mb-6 leading-relaxed",children:"Starting a return is easy! You have multiple ways to contact us:"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-[var(--color-bg-section)] p-4 rounded border-l-4 border-[var(--color-accent-primary)]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Pc,{className:"text-[var(--color-accent-primary)] text-xl"}),n.jsx("h3",{className:"font-bold text-[var(--color-text-primary)]",children:"Chat Bubble"})]}),n.jsx("p",{className:"text-[var(--color-text-light)] text-sm",children:"Use the chat bubble on our website to instantly message our support team during business hours."})]}),n.jsxs("div",{className:"bg-[var(--color-bg-section)] p-4 rounded border-l-4 border-[var(--color-accent-primary)]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Cn,{className:"text-[var(--color-accent-primary)] text-xl"}),n.jsx("h3",{className:"font-bold text-[var(--color-text-primary)]",children:"Email"})]}),n.jsxs("p",{className:"text-[var(--color-text-light)] text-sm",children:[n.jsx("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"text-[var(--color-accent-primary)] hover:underline font-semibold",children:"sales@wolfsuppliesltd.co.uk"})," - We'll respond within 24 hours"]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-section)] p-4 rounded border-l-4 border-[var(--color-accent-primary)]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(vs,{className:"text-[var(--color-accent-primary)] text-xl"}),n.jsx("h3",{className:"font-bold text-[var(--color-text-primary)]",children:"Phone"})]}),n.jsxs("p",{className:"text-[var(--color-text-light)] text-sm",children:[n.jsx("a",{href:"tel:+447398998101",className:"text-[var(--color-accent-primary)] hover:underline font-semibold",children:"+44 7398 998101"})," - Mon-Fri, 9 AM - 6 PM GMT"]})]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-section)] p-4 rounded border-l-4 border-blue-500",children:[n.jsx("h3",{className:"font-bold text-[var(--color-text-primary)] mb-3",children:" What to Include"}),n.jsxs("ul",{className:"space-y-2 text-[var(--color-text-light)] text-sm",children:[n.jsx("li",{children:" Your order number"}),n.jsx("li",{children:" Reason for return"}),n.jsx("li",{children:" Item description"}),n.jsx("li",{children:" Photos (if applicable)"})]})]})]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-6",children:"Return Shipping"}),n.jsxs("div",{className:"bg-green-50 border-l-4 border-green-600 p-4 rounded mb-6",children:[n.jsx("p",{className:"text-green-900 font-bold text-lg",children:" FREE Return Shipping"}),n.jsx("p",{className:"text-green-800 mt-2",children:"All returns are shipped FREE of charge. We'll provide a prepaid return label with your return authorization."})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-[var(--color-text-primary)] mb-2",children:"Return Process Steps:"}),n.jsxs("ol",{className:"list-decimal list-inside text-[var(--color-text-light)] space-y-2",children:[n.jsx("li",{children:"Contact us to request a return"}),n.jsx("li",{children:"Receive return authorization and prepaid shipping label"}),n.jsx("li",{children:"Pack the item securely in original packaging"}),n.jsx("li",{children:"Use the provided label to ship at no cost"}),n.jsx("li",{children:"We'll inspect and process your refund"})]})]})})]}),n.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(HA,{className:"text-[var(--color-accent-primary)] text-2xl"}),n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Refund Details"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-[var(--color-text-primary)] mb-2",children:" Refund Timeline"}),n.jsx("p",{className:"text-[var(--color-text-light)] mb-3",children:"Once we receive and inspect your returned item:"}),n.jsxs("ul",{className:"list-disc list-inside text-[var(--color-text-light)] space-y-2",children:[n.jsx("li",{children:"Inspection: 3-5 business days"}),n.jsx("li",{children:"Refund Approval: 1-2 business days"}),n.jsx("li",{children:"Refund Processing: 5-10 business days to your original payment method"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-[var(--color-text-primary)] mb-2",children:" What Gets Refunded"}),n.jsx("ul",{className:"list-disc list-inside text-[var(--color-text-light)] space-y-2",children:n.jsx("li",{children:"Full product price"})})]})]})]}),n.jsxs("div",{className:"bg-[var(--color-bg-section)] rounded-lg border-2 border-[var(--color-border-light)] p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-4",children:"Need Help With a Return?"}),n.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"Our support team is ready to assist you:"}),n.jsxs("div",{className:"space-y-2 text-[var(--color-text-light)]",children:[n.jsxs("p",{children:[n.jsx(Cn,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Email: ",n.jsx("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"text-[var(--color-accent-primary)] hover:underline",children:"sales@wolfsuppliesltd.co.uk"})]}),n.jsxs("p",{children:[n.jsx(vs,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Phone: ",n.jsx("a",{href:"tel:+447398998101",className:"text-[var(--color-accent-primary)] hover:underline",children:"+44 7398 998101"})]}),n.jsx("p",{children:" Hours: Monday - Friday, 9 AM - 6 PM GMT"})]})]}),n.jsx("p",{className:"text-center text-[var(--color-text-light)] text-sm mt-8",children:"Last updated: January 19, 2026 | Wolf Supplies LTD"})]})]})),oO=()=>(Sn({title:"Privacy Policy | GDPR Compliant Data Protection",description:"Wolf Supplies LTD Privacy Policy - GDPR compliant data protection. Learn how we protect your personal information and privacy rights.",keywords:"privacy, GDPR, data protection, privacy policy, security, personal data",url:typeof window<"u"?window.location.href:""}),n.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-primary, #ffffff)"},children:[n.jsx("div",{className:"text-white py-12 md:py-16",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-4 hover:opacity-80 w-fit transition duration-300",children:[n.jsx(Ir,{})," Back to Home"]}),n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(Lo,{className:"text-4xl"}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Privacy Policy"})]}),n.jsx("p",{className:"text-white text-lg",children:"Your Data Protection & Privacy Rights - GDPR Compliant"})]})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("p",{className:"mb-4 leading-relaxed",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:'Wolf Supplies LTD ("we", "our", or "us") operates the wolfsuppliesltd.co.uk website. This Privacy Policy explains what personal information we collect, how we use it, and your rights under UK data protection law.'}),n.jsxs("p",{className:"mb-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsx("strong",{children:"Company Details:"})," Wolf Supplies Ltd | Company Number: ",n.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"16070029"})," | Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"]}),n.jsxs("p",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsx("strong",{children:"Last Updated:"})," January 31, 2026 | ",n.jsx("strong",{children:"Effective Date:"})," Immediately"]})]}),n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Information We Collect"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"pl-6",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Personal Information"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsx("li",{children:"Full name and contact information"}),n.jsx("li",{children:"Email address and phone number"}),n.jsx("li",{children:"Delivery and billing address"}),n.jsx("li",{children:"Order history and purchase preferences"})]})]}),n.jsxs("div",{className:"pl-6",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Shopping Information"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsx("li",{children:"Shopping cart contents and saved items"}),n.jsx("li",{children:"Wishlist items"}),n.jsx("li",{children:"Order history and tracking information"}),n.jsx("li",{children:"Customer reviews and ratings"})]})]}),n.jsxs("div",{className:"pl-6",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[n.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Technical Information"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsx("li",{children:"Device information and browser type"}),n.jsx("li",{children:"IP address for site security purposes"}),n.jsx("li",{children:"Website usage analytics (only collected with your consent via cookie settings)"})]})]})]})]}),n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"How We Store Your Shopping Experience"}),n.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsx("p",{children:"We do not require you to create a user account or password to shop with us. Instead, we use a secure guest identification system:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Guest ID:"})," When you first visit our website, a unique identifier is assigned and stored on your device using essential cookies required for site functionality."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Shopping Cart & Wishlist:"})," Your cart contents, saved items, and wishlist are linked to this guest identifier and stored on our servers"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Order Retrieval:"})," After placing an order using your email and billing information, you can retrieve past orders using your Order ID"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Data Security:"})," Your guest ID and associated shopping data are protected using the same security measures as all other customer information"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Privacy:"})," You remain anonymous until you choose to provide personal information for checkout or contact us"]})]})]})]}),n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Data Security & Protection"}),n.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsx("p",{children:"We implement security measures to protect your personal information:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Encryption:"})," Data transmitted to and from our website uses encryption (HTTPS)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Guest ID System:"})," Your shopping cart, wishlist, and order history are stored securely using a unique guest identifier assigned to your device"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Access Control:"})," Access to personal data is restricted to authorized personnel only"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Third-Party Security:"})," Payment processing partners comply with industry security standards"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Data Retention:"})," Personal data is retained for the duration of your business relationship with us and for as long as required by law (typically 6 years for tax and legal compliance purposes)"]})]}),n.jsxs("p",{className:"font-semibold",children:[n.jsx("strong",{children:"Data Breach:"})," If a data breach occurs, we will notify affected individuals as required by applicable UK data protection law."]})]})]}),n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Your Data Rights (UK GDPR)"}),n.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[{title:"Right to Access",desc:"Request a copy of your personal data we hold"},{title:"Right to Rectification",desc:"Correct inaccurate or incomplete information"},{title:"Right to Erasure",desc:'Request deletion of your data ("right to be forgotten")'},{title:"Right to Portability",desc:"Export your data to another provider"},{title:"Right to Restrict",desc:"Limit how we process your data"},{title:"Right to Object",desc:"Opt-out of certain data processing activities"}].map((e,t)=>n.jsxs("div",{className:"pl-4",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[n.jsx("h4",{className:"font-bold mb-1",style:{color:"var(--color-text-primary, #000000)"},children:e.title}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:e.desc})]},t))}),n.jsxs("p",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:["To exercise any of these rights, please contact us at ",n.jsx("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"sales@wolfsuppliesltd.co.uk"})," with proof of identity. We will respond within 30 days."]})]}),n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Cookies & Website Tracking"}),n.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsx("p",{children:"Our website uses cookies to enhance your browsing experience. Cookies are small text files stored on your device that help us remember your preferences and understand how you use our site."}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold mb-2",children:"Types of Cookies We Use:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 mb-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Essential Cookies:"})," Required for basic site functionality (shopping cart, guest identification). These cannot be disabled."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Preference Cookies:"})," Remember your choices (language, theme) for improved user experience."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Analytics Cookies:"})," Collect anonymous data about site usage to help us improve our services. These require your consent."]})]})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Your Cookie Choices:"})," When you first visit our website, a cookie banner will appear asking for your consent to non-essential cookies. You can:"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:'Accept all cookies by clicking "Accept"'}),n.jsx("li",{children:'Decline non-essential cookies by clicking "Decline"'}),n.jsx("li",{children:'Customize your preferences by clicking "Preferences"'}),n.jsx("li",{children:"Change your cookie settings at any time through your browser settings"})]})]})]}),n.jsxs("div",{className:"rounded-lg border-2 p-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text-primary, #000000)"},children:"Privacy Questions?"}),n.jsx("p",{className:"mb-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Contact our Data Protection Officer:"}),n.jsxs("div",{className:"space-y-2",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsxs("p",{children:[n.jsx(Cn,{className:"inline mr-2",style:{color:"var(--color-accent-primary, #a5632a)"}})," Email: ",n.jsx("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"sales@wolfsuppliesltd.co.uk"})]}),n.jsxs("p",{children:[n.jsx(vs,{className:"inline mr-2",style:{color:"var(--color-accent-primary, #a5632a)"}})," Phone: ",n.jsx("a",{href:"tel:+447398998101",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"+44 7398 998101"})]})]})]}),n.jsx("p",{className:"text-center text-sm mt-8",style:{color:"var(--color-text-primary, #000000)"},children:"Last updated: January 31, 2026 | Wolf Supplies LTD"})]})]})),lO=()=>(Sn({title:"Terms of Service | Wolf Supplies LTD",description:"Wolf Supplies LTD Terms of Service. Legal agreement outlining your rights, responsibilities, and our policies.",keywords:"terms, conditions, legal, terms of service, agreement",url:typeof window<"u"?window.location.href:""}),n.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-primary, #ffffff)"},children:[n.jsx("div",{className:"text-white py-12 md:py-16",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-4 hover:opacity-80 w-fit transition duration-300",children:[n.jsx(Ir,{})," Back to Home"]}),n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(MA,{className:"text-4xl"}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Terms of Service"})]}),n.jsx("p",{className:"text-white text-lg",children:"Legal Agreement Between Wolf Supplies LTD and Users"})]})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text-primary, #000000)"},children:"Acceptance of Terms"}),n.jsx("p",{className:"leading-relaxed mb-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"By accessing and using this website (wolfsuppliesltd.co.uk), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."}),n.jsxs("div",{className:"p-4 rounded mb-4",style:{backgroundColor:"rgba(165, 99, 42, 0.1)",borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[n.jsx("p",{className:"mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"These Terms of Service constitute a binding legal agreement between Wolf Supplies LTD and you, the user."}),n.jsxs("p",{className:"text-sm",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsx("strong",{children:"Company Number:"})," ",n.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"16070029"})," | ",n.jsx("strong",{children:"Address:"})," Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"]})]})]}),n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Guest Checkout & Personal Information"}),n.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsxs("p",{children:[n.jsx("strong",{children:"No Account Required:"})," You do not need to create a user account to shop on our website. We offer guest checkout for all customers, allowing you to purchase without registration."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Personal Information:"})," During checkout, you will be asked to provide:"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 mb-4",children:[n.jsx("li",{children:"Name, email address, and phone number"}),n.jsx("li",{children:"Billing and delivery address"}),n.jsx("li",{children:"Payment card information (processed securely by Stripe; we do not store or process full payment card details)"})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Age Requirement:"})," You must be at least 18 years old to make a purchase on our website."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Guest ID System:"})," Your shopping cart, order history, and saved items are stored using a secure guest identifier on your device. You do not need to remember passwords or maintain an account."]})]})]}),n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Orders & Purchases"}),n.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Order Confirmation:"})," Placement of an order represents an offer to purchase. We reserve the right to accept or reject any order in accordance with our policies."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Payment:"})," Payment must be received and verified before items are dispatched. We accept all major credit cards, debit cards, and secure payment methods."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Price Accuracy:"})," We aim to keep prices accurate. In the rare event of a pricing error, we may cancel your order and refund your payment in full."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Right of Withdrawal:"})," Under UK Consumer Rights Act 2015, you have 14 calendar days to cancel your order from the date of delivery for a full refund. For returns on unwanted items (not defective), we accept returns within 31 days of delivery for a full refund."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Stock Availability:"})," Products are subject to availability. If an item becomes unavailable, we will notify you immediately and offer a full refund or alternative product."]})]})]}),n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Limitation of Liability"}),n.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsxs("p",{className:"p-4 rounded",style:{backgroundColor:"rgba(165, 99, 42, 0.1)",borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[n.jsx("strong",{children:"Important:"})," Nothing in these Terms of Service limits or excludes any liability that cannot legally be limited or excluded under UK law, including (but not limited to) liability for death, personal injury, fraud, or breach of statutory consumer rights under the Consumer Rights Act 2015."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"No Warranties:"})," The materials on Wolf Supplies LTD are provided on an 'as is' basis, except where statutory warranties apply. This does not affect your statutory consumer rights."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Maximum Liability:"})," Where permitted by law, Wolf Supplies LTD's total liability shall not exceed the amount paid for the specific product or service in question. This limitation does not apply to claims under the Consumer Rights Act 2015 or other statutory consumer protections."]})]})]}),n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Dispute Resolution"}),n.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Governing Law:"})," These Terms shall be governed by the laws of England and Wales and UK Consumer Rights Act 2015."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Jurisdiction:"})," You agree to submit to the exclusive jurisdiction of the courts of England and Wales for any disputes."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Alternative Dispute Resolution:"})," In the event of a dispute, we encourage you to contact our customer service team first. If you're not satisfied, you may use the UK Alternative Dispute Resolution procedure or refer the matter to your local Trading Standards office."]})]})]}),n.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Consumer Rights & Protections"}),n.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsxs("p",{children:["As a UK-based consumer, you are protected under the ",n.jsx("strong",{children:"Consumer Rights Act 2015"})," and related UK laws. These rights include:"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Right to Quality:"})," All products must be of satisfactory quality and fit for purpose"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Right to Information:"})," Clear pricing, accurate product descriptions, and transparent shipping information"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Right to a Cooling-Off Period:"})," 14 days to cancel purchases (with some exceptions)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Right to Remedies:"})," Repair, replacement, or refund for defective products"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Right to Safe Products:"})," All products meet UK safety standards"]})]}),n.jsx("p",{className:"mt-4",children:"These consumer rights are in addition to our Return & Refund Policy and cannot be waived by our Terms."})]})]}),n.jsxs("div",{className:"rounded-lg border-2 p-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text-primary, #000000)"},children:"Questions About Our Terms?"}),n.jsx("p",{className:"mb-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"For questions regarding these Terms of Service, please contact:"}),n.jsxs("div",{className:"space-y-2",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[n.jsxs("p",{children:[n.jsx(Cn,{className:"inline mr-2",style:{color:"var(--color-accent-primary, #a5632a)"}})," Email: ",n.jsx("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"sales@wolfsuppliesltd.co.uk"})]}),n.jsxs("p",{children:[n.jsx(vs,{className:"inline mr-2",style:{color:"var(--color-accent-primary, #a5632a)"}})," Phone: ",n.jsx("a",{href:"tel:+447398998101",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"+44 7398 998101"})]})]})]}),n.jsx("p",{className:"text-center text-sm mt-8",style:{color:"var(--color-text-primary, #000000)"},children:"Last updated: January 31, 2026 | Wolf Supplies LTD"})]})]})),iO=()=>{Sn({title:"FAQs | Frequently Asked Questions - Wolf Supplies LTD",description:"Frequently Asked Questions about shipping, returns, payments, privacy, and more. Get answers to common questions about Wolf Supplies.",keywords:"FAQ, help, customer support, shipping, returns, payments, privacy, Wolf Supplies, frequently asked questions",url:typeof window<"u"?window.location.href:"",ogType:"website"});const e=[{category:"Shipping & Delivery",items:[{question:"How long does shipping take?",answer:"Standard UK delivery takes 2-4 business days from order confirmation. Processing time is 1 business day. We deliver to all UK postcodes including remote areas (which may take 1-2 additional days)."},{question:"Is shipping free?",answer:"Yes! We offer completely free standard shipping on all UK orders with no minimum spend. Shipping costs are included in all product prices displayed."},{question:"How can I track my order?",answer:"You'll receive a tracking number via email once your order ships. You can track your package in real-time on our website and through our carrier's tracking page."},{question:"Where do you deliver?",answer:"We deliver exclusively to the United Kingdom to all UK postcodes, including remote areas."},{question:"What carriers do you use?",answer:"We partner with major UK carriers including Royal Mail, DPD, and other verified couriers. You'll receive tracking information for all shipments."}]},{category:"Returns & Refunds",items:[{question:"What is your return policy?",answer:"You have 31 days from delivery to return unused items in original packaging for a full refund. Under the UK Consumer Rights Act 2015, you also have 14 days to cancel for any reason. For defective items, you have statutory rights to repair, replacement, or refund under consumer protection law."},{question:"How long does a refund take?",answer:"Once received and inspected (3-5 business days), we process refunds within 1-2 business days. Refunds appear in your account within 5-10 business days depending on your bank."},{question:"Do I have to pay for return shipping?",answer:"For defective or incorrectly sent items, return shipping is free (we provide prepaid labels). For unwanted items, return shipping is at your cost unless legally required otherwise."},{question:"What if my item arrives damaged?",answer:"Report damage within 48 hours with photos. We'll immediately send a replacement or issue a full refund at no cost, including return shipping."}]},{category:"Orders & Payments",items:[{question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, Mastercard, American Express), PayPal, Apple Pay, and Google Pay. All payments are processed securely through Stripe, a leading payment provider."},{question:"Is my payment information safe?",answer:"Yes! All payments are encrypted using SSL/TLS technology and processed through Stripe. We never store full card details on our servers. Your payment information is protected to industry standards."},{question:"Can I change my order after placing it?",answer:"If your order hasn't shipped, we may be able to modify or cancel it. Contact us immediately at sales@wolfsuppliesltd.co.uk within 1 business day of placing your order."},{question:"What happens if an item is out of stock?",answer:"If an item becomes unavailable after purchase, we'll notify you immediately and offer a full refund or alternative product at no extra cost."}]},{category:"Privacy & Security",items:[{question:"How do you protect my data?",answer:"We comply with UK GDPR and Data Protection Act 2018. Your data is encrypted, securely stored, and never sold to third parties. See our Privacy Policy for full details."},{question:"Can I request a copy of my data?",answer:"Yes! Under UK GDPR, you have the right to access your data. Email sales@wolfsuppliesltd.co.uk with proof of identity, and we'll provide your data within 30 days."},{question:"How long do you keep my information?",answer:"We retain order data as long as legally required (6+ years for tax purposes). Personal data for marketing is kept until you opt-out. See our Privacy Policy for full details."}]},{category:"Products & Information",items:[{question:"Are product descriptions accurate?",answer:"Yes! All product descriptions are verified for accuracy. If a product doesn't match the description, you can return it within 31 days for a full refund."},{question:"Do you have a warranty on products?",answer:"All products come with UK Consumer Rights guarantees (quality, fitness for purpose). Manufacturer warranties vary by productcheck product details for specifics."},{question:"Are all products brand new?",answer:"Unless otherwise stated, all our products are brand new and in original packaging. Any refurbished items are clearly labeled as such with warranty information provided."}]},{category:"Customer Support",items:[{question:"How do I contact customer support?",answer:"Email: sales@wolfsuppliesltd.co.uk | Phone: +44 7398 998101 | Monday-Friday, 9 AM - 6 PM GMT"},{question:"What are your customer support hours?",answer:"We're available Monday to Friday, 9 AM to 6 PM GMT. We aim to respond to all emails within 24 hours."},{question:"Do you offer live chat support?",answer:"Live chat is available during business hours (9 AM - 6 PM GMT, Monday-Friday). Email and phone support available during these times as well."}]},{category:"Legal & Compliance",items:[{question:"What laws protect me as a UK customer?",answer:"You're protected under the Consumer Rights Act 2015, Consumer Contracts Regulations 2013, and UK GDPR. These give you rights to quality products, clear information, cooling-off period, and data protection."},{question:"What is your company registration number?",answer:"Wolf Supplies LTD is registered at Companies House with Company Number 16070029. Address: Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, UK."},{question:"What if I have a dispute?",answer:"We encourage you to contact us first. If unresolved, you may use Alternative Dispute Resolution, refer to Trading Standards, or contact your local consumer protection authority."}]}];return n.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-section)]",children:[n.jsx("div",{className:"bg-[var(--color-accent-primary)] text-white py-12 md:py-16",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-4 hover:text-gray-100 w-fit",children:[n.jsx(Ir,{})," Back to Home"]}),n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(VA,{className:"text-4xl"}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Frequently Asked Questions"})]}),n.jsx("p",{className:"text-gray-100 text-lg",children:"Your Complete Guide to Shopping with Wolf Supplies"})]})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.map((t,r)=>n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-6 pb-3 border-b-2 border-[var(--color-accent-primary)]",children:t.category}),n.jsx("div",{className:"space-y-4",children:t.items.map((s,a)=>n.jsxs("details",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition duration-300 group",children:[n.jsxs("summary",{className:"flex items-center justify-between font-bold text-[var(--color-text-primary)] text-lg select-none",children:[n.jsx("span",{children:s.question}),n.jsx("span",{className:"text-[var(--color-text-light)] transition duration-300 group-open:rotate-180",children:""})]}),n.jsx("p",{className:"text-[var(--color-text-light)] mt-4 leading-relaxed",children:s.answer})]},a))})]},r)),n.jsxs("div",{className:"bg-[var(--color-bg-section)] rounded-lg border-2 border-[var(--color-border-light)] p-8 mt-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-4",children:"Didn't Find Your Answer?"}),n.jsx("p",{className:"text-[var(--color-text-light)] mb-6",children:"Our support team at Wolf Supplies Ltd is here to help with any questions or concerns you may have."}),n.jsxs("div",{className:"space-y-2 text-[var(--color-text-light)] mb-6",children:[n.jsxs("p",{children:[n.jsx(Cn,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Email: ",n.jsx("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"text-[var(--color-accent-primary)] hover:underline",children:"sales@wolfsuppliesltd.co.uk"})]}),n.jsxs("p",{children:[n.jsx(vs,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Phone: ",n.jsx("a",{href:"tel:+447398998101",className:"text-[var(--color-accent-primary)] hover:underline",children:"+44 7398 998101"})]}),n.jsx("p",{children:" Hours: Monday - Friday, 9 AM - 6 PM GMT"})]}),n.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-4 rounded border border-[var(--color-border-light)]",children:[n.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:n.jsx("strong",{children:"Company Details:"})}),n.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:"Wolf Supplies LTD"}),n.jsxs("p",{className:"text-sm text-[var(--color-text-light)]",children:["Company Number: ",n.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-accent-primary)] hover:underline",children:"16070029"})]}),n.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:"Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"})]})]})]})]})},cO=({activeTab:e})=>{const t=Sr(),r=ln(),{logout:s}=aa();S.useEffect(()=>("scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),()=>{window.scrollTo(0,0)}),[]);const a=[{icon:LA,label:"Dashboard",id:"dashboard",path:"/admin/dashboard"},{icon:Nn,label:"Products",id:"products",path:"/admin/products"},{icon:wh,label:"Categories",id:"categories",path:"/admin/categories"},{icon:jA,label:"Orders",id:"orders",path:"/admin/orders"},{icon:Pc,label:"Reviews",id:"reviews",path:"/admin/reviews"},{icon:Bw,label:"Chat",id:"chat",path:"/admin/chat"},{icon:Mf,label:"Menu",id:"menu",path:"/admin/menu"},{icon:zw,label:"Analytics",id:"analytics",path:"/admin/analytics"},{icon:Ic,label:"Collections",id:"collections",path:"/admin/collections"},{icon:WA,label:"Coupons",id:"coupons",path:"/admin/coupons"}],l=()=>{s(),t("/login")},u=e||(()=>{const h=r.pathname;return h.includes("/admin/products")?"products":h.includes("/admin/categories")?"categories":h.includes("/admin/orders")?"orders":h.includes("/admin/reviews")?"reviews":h.includes("/admin/analytics")?"analytics":h.includes("/admin/menu")?"menu":h.includes("/admin/chat")?"chat":h.includes("/admin/collections")?"collections":h.includes("/admin/coupons")?"coupons":(h.includes("/admin/dashboard")||h==="/admin","dashboard")})();return n.jsxs("div",{className:"w-64 text-white h-screen flex flex-col fixed left-0 top-0 z-40",style:{backgroundColor:"var(--color-accent-primary)"},children:[n.jsx("div",{className:"p-6 border-b border-opacity-30",style:{borderColor:"white"},children:n.jsxs(ze,{to:"/admin",className:"flex px-4 justify-left items-center gap-3",children:[n.jsx(YA,{className:"text-xl"}),n.jsx("div",{children:n.jsx("h1",{className:"text-xl font-bold",children:"Admin Panel"})})]})}),n.jsx("nav",{className:"flex-1 gap-1 px-6 py-8 space-y-2 overflow-hidden",children:a.map(h=>n.jsxs(ze,{to:h.path,className:`flex items-center gap-4 mb-[3px] px-4 py-2 rounded-lg transition duration-300 ${u===h.id?"text-white":"text-white opacity-75 hover:opacity-100"}`,style:u===h.id?{backgroundColor:"var(--color-accent-light)"}:{backgroundColor:"transparent"},children:[n.jsx(h.icon,{className:"text-lg"}),n.jsx("span",{className:"font-semibold",children:h.label})]},h.id))}),n.jsx("div",{className:"p-6 border-t border-opacity-30",style:{borderColor:"white"},children:n.jsxs("button",{onClick:l,className:"w-full flex items-center gap-4 px-4 py-3 rounded-lg text-white font-semibold transition duration-300",style:{backgroundColor:"rgba(255, 0, 0, 0.8)",borderColor:"white"},onMouseEnter:h=>h.target.style.backgroundColor="rgba(255, 0, 0, 1)",onMouseLeave:h=>h.target.style.backgroundColor="rgba(255, 0, 0, 0.8)",children:[n.jsx(wx,{className:"text-lg"}),n.jsx("span",{children:"Logout"})]})})]})},ns=({children:e,activeTab:t})=>n.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsx(cO,{activeTab:t}),n.jsx("div",{className:"flex-1 ml-64 overflow-auto",children:e})]}),C4=()=>{const e=Sr(),t=sr(),[r,s]=S.useState({products:0,categories:0,totalValue:0,orders:0,revenue:0}),[a,l]=S.useState(""),[c,u]=S.useState(""),[h,f]=S.useState(!1),[m,g]=S.useState("today"),[y,b]=S.useState("fixed"),{products:j}=Dt(O=>O.product),{categories:N}=Dt(O=>O.category),{orders:C=[]}=Dt(O=>O.order),w=[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"Last 30 minutes",value:"last30m"},{label:"Last 12 hours",value:"last12h"},{label:"Last 7 days",value:"last7d"},{label:"Last 30 days",value:"last30d"},{label:"Last 90 days",value:"last90d"},{label:"Last 365 days",value:"last365d"},{label:"Last 12 months",value:"last12m"},{label:"Last week",value:"lastweek"},{label:"Last month",value:"lastmonth"}];S.useEffect(()=>{const R=new Date().toISOString().split("T")[0];l(R),u(R)},[]);const T=O=>{g(O);const R=new Date;let L,z;switch(O){case"today":L=new Date(R),L.setHours(0,0,0,0),z=new Date(R),z.setHours(23,59,59,999);break;case"yesterday":L=new Date(R),L.setDate(L.getDate()-1),L.setHours(0,0,0,0),z=new Date(L),z.setHours(23,59,59,999);break;case"last30m":L=new Date(R.getTime()-30*6e4),z=new Date(R);break;case"last12h":L=new Date(R.getTime()-720*6e4),z=new Date(R);break;case"last7d":L=new Date(R),L.setDate(L.getDate()-7),z=new Date(R);break;case"last30d":L=new Date(R),L.setDate(L.getDate()-30),z=new Date(R);break;case"last90d":L=new Date(R),L.setDate(L.getDate()-90),z=new Date(R);break;case"last365d":L=new Date(R),L.setDate(L.getDate()-365),z=new Date(R);break;case"lastweek":L=new Date(R),L.setDate(L.getDate()-L.getDay()-7),z=new Date(L),z.setDate(z.getDate()+6);break;case"lastmonth":L=new Date(R.getFullYear(),R.getMonth()-1,1),z=new Date(R.getFullYear(),R.getMonth(),0);break;case"last12m":L=new Date(R),L.setFullYear(L.getFullYear()-1),z=new Date(R);break;default:L=new Date(R),L.setHours(0,0,0,0),z=new Date(R)}l(L.toISOString().split("T")[0]),u(z.toISOString().split("T")[0])};S.useEffect(()=>{t(Fr()),t(Hn()),t(Vr())},[t]),S.useEffect(()=>{if(j){const O=j.reduce((H,W)=>{if(W.variantCombinations&&W.variantCombinations.length>0){const Y=W.variantCombinations.reduce((ne,F)=>{const M=F&&F.price?F.price:W.price||0;return ne+(M||0)},0);return H+Y}const ie=W.price||0;return H+(ie||0)},0),R=H=>{if(!H)return null;const W=new Date(H);if(isNaN(W))return null;const ie=W.getFullYear(),Y=String(W.getMonth()+1).padStart(2,"0"),ne=String(W.getDate()).padStart(2,"0");return`${ie}-${Y}-${ne}`},L=R(a),z=R(c),q=(C||[]).filter(H=>{if(!L&&!z)return!0;const W=R(H.createdAt);return W?L&&z?W>=L&&W<=z:L?W>=L:z?W<=z:!0:!1}),I=(q||[]).reduce((H,W)=>H+(W.totalPrice||0),0);s({products:j.length,categories:N?.length||0,totalValue:O.toFixed(2),orders:(q||[]).length,revenue:I.toFixed(2)})}},[j,N,C,a,c]);const E=({icon:O,label:R,value:L,trend:z,trendUp:q})=>n.jsxs("div",{className:"rounded-lg shadow p-5 hover:shadow-lg transition hover:scale-105 flex flex-col justify-between",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:"var(--color-accent-primary)"},children:n.jsx(O,{className:"text-2xl",style:{color:"white"}})})}),n.jsxs("div",{className:"text-center flex-1 flex flex-col justify-center",children:[n.jsx("p",{className:"text-xs font-semibold opacity-70 mb-1",style:{color:"var(--color-text-light)"},children:R}),n.jsx("p",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-accent-primary)"},children:L}),z&&n.jsxs("p",{className:"text-xs font-medium flex items-center justify-center gap-1",style:{color:q?"#22c55e":"#dc2626"},children:[q?n.jsx(mA,{size:10}):n.jsx(pA,{size:10}),n.jsx("span",{children:z})]})]})]});return n.jsxs(ns,{activeTab:"dashboard",children:[n.jsxs("div",{className:"p-6",style:{backgroundColor:"var(--color-bg-section)"},children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold mb-1",style:{color:"var(--color-text-primary)"},children:"Dashboard"}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:"Welcome back! Here's your store overview."})]}),n.jsxs("div",{className:"mb-6 rounded-lg p-4 shadow",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsxs("button",{onClick:()=>f(!h),className:"text-sm font-semibold px-3 py-1.5 rounded",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},children:[n.jsx(Rw,{className:"mr-1 inline"})," ",h?"Hide":"Show"," Date Filter"]}),h&&n.jsxs("div",{className:"flex gap-4 mt-4",children:[n.jsxs("div",{className:"w-48 border-r",style:{borderColor:"var(--color-border-light)"},children:[n.jsx("div",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"QUICK SELECT"}),n.jsx("div",{className:"space-y-1",children:w.map(O=>n.jsxs("button",{onClick:()=>T(O.value),className:"w-full text-left text-xs py-1.5 px-2 rounded transition",style:{backgroundColor:m===O.value?"var(--color-accent-primary)":"transparent",color:m===O.value?"white":"var(--color-text-primary)"},children:[m===O.value&&" ",O.label]},O.value))})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex gap-4 mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"From"}),n.jsx("input",{type:"date",value:a,onChange:O=>l(O.target.value),className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"To"}),n.jsx("input",{type:"date",value:c,onChange:O=>u(O.target.value),className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("input",{type:"checkbox",id:"includeCurrent",className:"w-3 h-3",defaultChecked:!0}),n.jsx("label",{htmlFor:"includeCurrent",className:"text-xs",style:{color:"var(--color-text-light)"},children:"Include current period"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>{f(!1),l(""),u(""),g("")},className:"px-3 py-1 text-xs rounded font-semibold",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},children:"Cancel"}),n.jsx("button",{onClick:()=>f(!1),className:"px-3 py-1 text-xs rounded font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:"Apply"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 ",children:[n.jsx(E,{icon:Nn,label:"Products",value:r.products,trend:"Active",trendUp:!0}),n.jsx(E,{icon:Ja,label:"Orders",value:r.orders,trend:"Total",trendUp:!1}),n.jsx(E,{icon:zw,label:"Total Sale",value:`${r.revenue}`,trend:"Gross",trendUp:!0}),n.jsx(E,{icon:Cx,label:"System",value:"Online",trend:"Active",trendUp:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8 p-6",style:{backgroundColor:"var(--color-bg-section)"},children:[n.jsxs("div",{className:"lg:col-span-2 rounded-lg shadow p-5",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsx("h2",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("button",{onClick:()=>e("/admin/products"),className:"text-white rounded h-20 text-xs font-semibold   flex flex-col items-center justify-center hover:shadow-md hover:scale-105 transition",style:{backgroundColor:"var(--color-accent-primary)"},children:[n.jsx(Nn,{className:"text-2xl mb-1"}),n.jsx("span",{className:"text-xs",children:"Products"})]}),n.jsxs("button",{onClick:()=>e("/admin/orders"),className:"text-white rounded h-20 text-xs font-semibold   flex flex-col items-center justify-center hover:shadow-md hover:scale-105 transition",style:{backgroundColor:"var(--color-accent-primary)"},children:[n.jsx(Ja,{className:"text-2xl mb-1"}),n.jsx("span",{className:"text-xs",children:"Orders"})]}),n.jsxs("button",{onClick:()=>e("/admin/categories"),className:"text-white rounded h-20 text-xs font-semibold   flex flex-col items-center justify-center hover:shadow-md hover:scale-105 transition",style:{backgroundColor:"var(--color-accent-primary)"},children:[n.jsx(wh,{className:"text-2xl mb-1"}),n.jsx("span",{className:"text-xs",children:"Categories"})]}),n.jsxs("button",{onClick:()=>e("/admin/analytics"),className:"text-white rounded text-xs font-semibold   flex flex-col items-center justify-center h-20 hover:shadow-md hover:scale-105 transition",style:{backgroundColor:"var(--color-accent-primary)"},children:[n.jsx(bA,{className:"text-2xl mb-1"}),n.jsx("span",{className:"text-xs",children:"Analytics"})]})]})]}),n.jsxs("div",{className:"rounded-lg shadow p-5",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsx("h2",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Status"}),n.jsx("div",{className:"space-y-2",children:[{label:"Database",status:"Online",icon:""},{label:"API",status:"Online",icon:""},{label:"Backend",status:"Running",icon:""}].map((O,R)=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded text-xs",style:{backgroundColor:"var(--color-bg-section)"},children:[n.jsxs("span",{children:[O.icon," ",O.label]}),n.jsx("span",{className:"font-semibold",style:{color:"#22c55e"},children:""})]},R))})]})]})]})},cc="http://localhost:5000",dO=()=>{const e=sr(),t=Sr(),{products:r=[],loading:s}=Dt(I=>I.product),[a,l]=S.useState([]),[c,u]=S.useState("active"),[h,f]=S.useState(""),[m,g]=S.useState(new Set);S.useEffect(()=>{e(Fr())},[e]),S.useEffect(()=>{l(r||[])},[r]);const y=(r||[]).filter(I=>!I.isDraft).length,b=(r||[]).filter(I=>I.isDraft).length,j=(r||[]).length,N=(a||[]).filter(I=>{const H=c==="all"?!0:c==="active"?!I.isDraft:!!I.isDraft,W=h.trim()===""||I.name&&I.name.toLowerCase().includes(h.toLowerCase());return H&&W}),C=I=>{if(!I.variantCombinations||I.variantCombinations.length===0)return`${I.price?.toFixed(2)||"0.00"}`;const H=I.variantCombinations.map(ie=>ie.price||I.price);return`From ${Math.min(...H).toFixed(2)}`},w=I=>!I.variantCombinations||I.variantCombinations.length===0?I.stock||0:I.variantCombinations.reduce((H,W)=>H+(W.stock||0),0),T=I=>I.variantCombinations&&I.variantCombinations.length>0,E=async(I,H=!1)=>{try{const W=localStorage.getItem("token");if(!(await fetch(`${cc}/api/products/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${W}`}})).ok)throw new Error("Failed to delete product");return H||(ee.success("Product deleted successfully"),e(Fr())),!0}catch(W){return H||ee.error(W.message),!1}},O=async I=>{if(window.confirm(`Delete ${I.length} product(s)? This cannot be undone.`))try{const H=localStorage.getItem("token"),W=I.map(F=>fetch(`${cc}/api/products/${F}`,{method:"DELETE",headers:{Authorization:`Bearer ${H}`}})),Y=(await Promise.all(W)).filter(F=>!F.ok).length,ne=I.length-Y;ne>0&&ee.success(`Deleted ${ne} product(s)`),Y>0&&ee.error(`Failed to delete ${Y} product(s)`),e(Fr())}catch(H){ee.error("Error deleting products: "+H.message)}},R=async I=>{try{const H=localStorage.getItem("token"),W=a.find(ne=>ne._id===I);if(!W)return;const ie=!W.isDraft;if(!(await fetch(`${cc}/api/products/${I}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},body:JSON.stringify({isDraft:ie})})).ok)throw new Error("Failed to update product");ee.success(ie?"Moved to drafts":"Published successfully"),e(Fr())}catch(H){ee.error(H.message)}},L=(I=null)=>{I&&I._id?t(`/admin/products/edit/${I._id}`):t("/admin/products/add")},z=async I=>{const H=I.target.files?.[0];if(H){if(!H.name.endsWith(".csv")){ee.error("Please upload a valid CSV file");return}try{const ie=(await H.text()).trim().split(`
`);if(ie.length<2){ee.error("CSV file must have headers and at least one product row");return}const Y=P=>{const K=[];let de="",ve=!1;for(let je=0;je<P.length;je++){const He=P[je],te=P[je+1];He==='"'?ve&&te==='"'?(de+='"',je++):ve=!ve:He===","&&!ve?(K.push(de.trim()),de=""):de+=He}return K.push(de.trim()),K},ne=P=>P.toLowerCase().replace(/\s+/g," ").trim(),F=ie[0],M=Y(F),_=M.map(ne),X=_.some(P=>P.includes("name")),$=_.some(P=>P.includes("price"));if(!X||!$){ee.error(`CSV must include at least: Name, Price
Found headers: ${M.join(", ")}`);return}const ce=[];for(let P=1;P<ie.length;P++){const K=ie[P].trim();if(!K)continue;const de=Y(K),ve={};_.forEach((Ne,Ke)=>{ve[Ne]=de[Ke]||""});const je=Ne=>{const Ke=ne(Ne);return Object.entries(ve).find(([at])=>ne(at)===Ke)?.[1]||""},He=je("category"),te=He&&He.trim()?He.split("|").map(Ne=>Ne.trim()).filter(Boolean):[],ue={name:je("name"),slug:je("slug")||je("name")?.toLowerCase().replace(/\s+/g,"-"),description:je("description"),price:parseFloat(je("base price")||je("price"))||0,originalPrice:parseFloat(je("original price"))||null,discount:parseFloat(je("discount"))||0,stock:parseInt(je("base stock")||je("stock"))||0,categories:te.length>0?te:[],isDraft:je("status")?.toLowerCase()==="draft",rating:parseFloat(je("rating"))||0,numReviews:parseInt(je("number of reviews"))||0,metaTitle:je("meta title"),metaDescription:je("meta description"),metaKeywords:je("meta keywords"),benefitsHeading:je("benefits heading")||"Why Buy This Product",benefits:je("benefits"),sku:je("sku"),images:je("images")?je("images").split("|").map(Ne=>Ne.trim()).filter(Boolean):[]},U=je("variants"),ae=je("variant combinations"),le=je("variants json"),Q=je("variant type"),ye=je("variant values");if(console.log("Variant fields found:",{variantsStr:!!U,variantCombinationsStr:!!ae}),U&&U.trim())try{console.log("Parsing variants from Variants column:",U.substring(0,100));const Ne=JSON.parse(U);console.log("Parsed variants:",Ne),Array.isArray(Ne)&&(ue.variants=Ne)}catch(Ne){console.warn("Failed to parse variants column:",Ne.message)}else if(le&&le.trim())try{console.log("Parsing variants from Variants JSON column:",le.substring(0,100));const Ne=JSON.parse(le);console.log("Parsed variants:",Ne),Ne.variants&&Array.isArray(Ne.variants)&&(ue.variants=Ne.variants,console.log("Set variants:",ue.variants)),Ne.variantCombinations&&Array.isArray(Ne.variantCombinations)&&(ue.variantCombinations=Ne.variantCombinations,console.log("Set variantCombinations:",ue.variantCombinations.length,"items"))}catch(Ne){console.warn("Failed to parse variants JSON:",Ne.message),console.warn("Raw string was:",le)}else if(Q&&ye)try{const Ne=Q.split("|").map(Nt=>Nt.trim()),Ke=ye.split("|").map(Nt=>Nt.trim()),at={};Ke.forEach(Nt=>{const[lt,Kt]=Nt.split(":").map(Gt=>Gt.trim());lt&&Kt&&(at[lt]=Kt)}),console.log("Parsed pipe-separated variants:",{variantTypes:Ne,variantValues:at}),ue.variants=Ne.map(Nt=>({name:Nt,values:[]})),ue.variantCombinations=[{variantValues:at,sku:je("sku")||"",price:parseFloat(je("variant price"))||parseFloat(je("price"))||0,stock:parseInt(je("variant stock"))||parseInt(je("stock"))||0,image:je("variant image")||je("images")?.split("|")[0]||""}],console.log("Created variants and combinations:",{variants:ue.variants,combinations:ue.variantCombinations})}catch(Ne){console.warn("Failed to parse pipe-separated variants:",Ne.message)}if(ae&&ae.trim())try{console.log("Parsing variant combination:",ae.substring(0,100));const Ne=JSON.parse(ae);Ne&&Ne.variantValues&&(ue.variantCombinations||(ue.variantCombinations=[]),ue.variantCombinations.push({variantValues:Ne.variantValues,sku:Ne.sku||"",price:parseFloat(Ne.price)||ue.price||0,stock:parseInt(Ne.stock)||0,image:Ne.image||""}),console.log("Added variant combination. Total:",ue.variantCombinations.length))}catch(Ne){console.warn("Failed to parse variant combination:",Ne.message)}ce.push(ue)}if(ce.length===0){ee.error("No valid products found in CSV");return}console.log("Products to import:",JSON.stringify(ce.slice(0,2),null,2));const A=localStorage.getItem("token"),B=await fetch(`${cc}/api/products/import`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({products:ce})});if(!B.ok){const P=await B.json();throw new Error(P.message||"Failed to import products")}ee.success(`Successfully imported ${ce.length} product(s)`),e(Fr()),I.target.value=""}catch(W){ee.error(W.message||"Failed to import products")}}},q=()=>{const I=N.filter(H=>H.selected);if(I.length===0){ee.error("No products selected to export");return}try{const H=["Product ID","Name","Slug","Description","Base Price","Original Price","Discount (%)","Base Stock","Category","Status","Rating","Number of Reviews","Images","Meta Title","Meta Description","Meta Keywords","Benefits Heading","Benefits","SKU","Variants","Variant Combinations","Created Date","Updated Date"],W=[];I.forEach(M=>{const _=M.images&&M.images.length>0?M.images.join(" | "):"";let X="";M.categories&&M.categories.length>0?X=M.categories.map(A=>typeof A=="string"?A:A.name?A.name:"").filter(Boolean).join(" | "):M.category&&(X=typeof M.category=="string"?M.category:M.category.name||"");let $=[];M.variants&&M.variants.length>0&&($=M.variants.map(A=>{const B=new Set;return M.variantCombinations&&M.variantCombinations.forEach(P=>{P.variantValues&&P.variantValues[A.name]&&B.add(P.variantValues[A.name])}),{name:A.name,values:Array.from(B)}}));const ce=JSON.stringify($).replace(/"/g,'""');if(M.variantCombinations&&M.variantCombinations.length>0)M.variantCombinations.forEach(A=>{const B=JSON.stringify(A).replace(/"/g,'""'),P=[M._id||"",`"${(M.name||"").replace(/"/g,'""')}"`,M.slug||"",`"${(M.description||"").replace(/"/g,'""')}"`,M.price||"0",M.originalPrice||"",M.discount||"0",M.stock||"0",`"${X}"`,M.isDraft?"Draft":"Active",M.rating||"0",M.numReviews||"0",`"${_}"`,`"${(M.metaTitle||"").replace(/"/g,'""')}"`,`"${(M.metaDescription||"").replace(/"/g,'""')}"`,`"${(M.metaKeywords||"").replace(/"/g,'""')}"`,`"${(M.benefitsHeading||"Why Buy This Product").replace(/"/g,'""')}"`,`"${(M.benefits||"").replace(/"/g,'""').replace(/\n/g," ")}"`,M.sku||"",`"${ce}"`,`"${B}"`,M.createdAt?new Date(M.createdAt).toLocaleString():"",M.updatedAt?new Date(M.updatedAt).toLocaleString():""];W.push(P)});else{const A=[M._id||"",`"${(M.name||"").replace(/"/g,'""')}"`,M.slug||"",`"${(M.description||"").replace(/"/g,'""')}"`,M.price||"0",M.originalPrice||"",M.discount||"0",M.stock||"0",`"${X}"`,M.isDraft?"Draft":"Active",M.rating||"0",M.numReviews||"0",`"${_}"`,`"${(M.metaTitle||"").replace(/"/g,'""')}"`,`"${(M.metaDescription||"").replace(/"/g,'""')}"`,`"${(M.metaKeywords||"").replace(/"/g,'""')}"`,`"${(M.benefitsHeading||"Why Buy This Product").replace(/"/g,'""')}"`,`"${(M.benefits||"").replace(/"/g,'""').replace(/\n/g," ")}"`,M.sku||"",`"${ce}"`,"",M.createdAt?new Date(M.createdAt).toLocaleString():"",M.updatedAt?new Date(M.updatedAt).toLocaleString():""];W.push(A)}});const ie=[H.join(","),...W.map(M=>M.join(","))].join(`
`),Y=new Blob([ie],{type:"text/csv;charset=utf-8;"}),ne=URL.createObjectURL(Y),F=document.createElement("a");F.href=ne,F.download=`products_export_${new Date().getTime()}.csv`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(ne),ee.success(`Exported ${I.length} product(s) to CSV successfully`)}catch{ee.error("Failed to export products")}};return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Product Management"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("label",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold transition duration-300 cursor-pointer",children:[" Import Products",n.jsx("input",{type:"file",accept:".csv",onChange:z,className:"hidden"})]}),n.jsxs("button",{onClick:()=>t("/admin/products/add"),className:"flex items-center gap-2 bg-gray-800 hover:bg-black text-white px-6 py-2 rounded-lg font-semibold transition duration-300",children:[n.jsx(js,{})," Add Product"]})]})]}),n.jsxs("div",{className:"mb-6 flex items-center gap-4 justify-between flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg font-semibold ${c==="all"?"bg-gray-800 text-white":"bg-gray-100 text-gray-700"}`,children:["All (",j,")"]}),n.jsxs("button",{onClick:()=>u("active"),className:`px-4 py-2 rounded-lg font-semibold ${c==="active"?"bg-gray-800 text-white":"bg-gray-100 text-gray-700"}`,children:["Active (",y,")"]}),n.jsxs("button",{onClick:()=>u("draft"),className:`px-4 py-2 rounded-lg font-semibold ${c==="draft"?"bg-gray-800 text-white":"bg-gray-100 text-gray-700"}`,children:["Drafts (",b,")"]})]}),n.jsxs("div",{className:"relative w-80",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:n.jsx(Zs,{className:"text-sm"})}),n.jsx("input",{type:"text",placeholder:"Search products by name...",value:h,onChange:I=>f(I.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent outline-none transition"}),h&&n.jsx("button",{onClick:()=>f(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition","aria-label":"Clear search",children:n.jsx(Vt,{className:"text-sm"})})]})]}),N.some(I=>I.selected)&&n.jsxs("div",{className:"mb-6 bg-gray-100 border border-gray-300 rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[N.filter(I=>I.selected).length," product(s) selected"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>q(),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-semibold transition",title:"Export selected products as JSON",children:" Export"}),n.jsx("button",{onClick:()=>{N.filter(H=>H.selected).map(H=>H._id).forEach(H=>R(H))},className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg text-sm font-semibold transition",children:c==="active"?"Move to Draft":"Publish"}),n.jsx("button",{onClick:()=>{const I=N.filter(H=>H.selected).map(H=>H._id);O(I)},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-semibold transition",children:"Delete Selected"}),n.jsx("button",{onClick:()=>l(a.map(I=>({...I,selected:!1}))),className:"px-4 py-2 bg-gray-300 hover:bg-black text-gray-900 rounded-lg text-sm font-semibold transition",children:"Clear Selection"})]})]}),s&&n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(ws,{className:"text-4xl text-gray-700 animate-spin"})}),!s&&n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-100 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-center w-10",children:n.jsx("input",{type:"checkbox",checked:a.length>0&&a.every(I=>I.selected),onChange:I=>l(a.map(H=>({...H,selected:I.target.checked}))),className:"w-4 h-4 cursor-pointer"})}),n.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",children:N&&N.length>0?N.map(I=>{const H=I.images&&I.images.length>0?I.images[0]:I.image||"",W=H?H.startsWith("http")?H:`${cc}${H}`:null;return n.jsxs("tr",{className:"hover:bg-gray-50 transition duration-300",children:[n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:I.selected||!1,onChange:ie=>l(a.map(Y=>Y._id===I._id?{...Y,selected:ie.target.checked}:Y)),className:"w-4 h-4 cursor-pointer"})}),n.jsx("td",{className:"px-6 py-4 w-96 text-sm text-gray-900 font-semibold",children:n.jsxs("div",{className:"flex items-center",children:[W&&!m.has(I._id)?n.jsx("img",{src:W,alt:I.name,loading:"lazy",className:"w-12 h-12 rounded-md object-cover mr-4",onError:ie=>{ie.target.style.display="none",g(Y=>new Set([...Y,I._id]))}}):n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-md mr-4 flex items-center justify-center text-center text-xs font-semibold text-gray-600",children:"No Image"}),n.jsxs("div",{className:" w-64 flex items-center gap-2",children:[n.jsx("span",{className:"",children:I.name}),I.isDraft&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Draft"}),!I.isDraft&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-gray-100 text-gray-800",children:"Active"})]})]})}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-700 font-bold",children:C(I)}),T(I)&&n.jsxs("div",{className:"text-xs text-gray-900 mt-1",children:[I.variantCombinations.length," variants"]})]})}),n.jsxs("td",{className:"px-6 text-sm py-4",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${w(I)>0?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:w(I)}),T(I)&&n.jsx("span",{className:"text-xs ml-3 text-gray-900 mt-1",children:"Total stock"})]}),n.jsxs("td",{className:"px-6 py-4 text-center space-x-3",children:[n.jsx("button",{onClick:()=>L(I),className:"text-gray-700 hover:text-gray-800 transition",children:n.jsx(ui,{})}),n.jsx("button",{onClick:()=>E(I._id),className:"text-red-600 hover:text-red-800 transition",children:n.jsx(bs,{})})]})]},I._id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-600",children:"No products found"})})})]})})]})},uO=()=>n.jsx(ns,{activeTab:"products",children:n.jsx(dO,{})});var kg={exports:{}},Eg={};var S4;function hO(){if(S4)return Eg;S4=1;var e=si();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,y){var b=y(),j=s({inst:{value:b,getSnapshot:y}}),N=j[0].inst,C=j[1];return l(function(){N.value=b,N.getSnapshot=y,h(N)&&C({inst:N})},[g,b,y]),a(function(){return h(N)&&C({inst:N}),g(function(){h(N)&&C({inst:N})})},[g]),c(b),b}function h(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!r(g,b)}catch{return!0}}function f(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Eg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Eg}var k4;function e6(){return k4||(k4=1,kg.exports=hO()),kg.exports}var t6=e6();function Or(e){this.content=e}Or.prototype={constructor:Or,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,r){var s=r&&r!=e?this.remove(r):this,a=s.find(e),l=s.content.slice();return a==-1?l.push(r||e,t):(l[a+1]=t,r&&(l[a]=r)),new Or(l)},remove:function(e){var t=this.find(e);if(t==-1)return this;var r=this.content.slice();return r.splice(t,2),new Or(r)},addToStart:function(e,t){return new Or([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new Or(r)},addBefore:function(e,t,r){var s=this.remove(t),a=s.content.slice(),l=s.find(e);return a.splice(l==-1?a.length:l,0,t,r),new Or(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Or.from(e),e.size?new Or(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Or.from(e),e.size?new Or(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Or.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},toObject:function(){var e={};return this.forEach(function(t,r){e[t]=r}),e},get size(){return this.content.length>>1}};Or.from=function(e){if(e instanceof Or)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new Or(t)};function r6(e,t,r){for(let s=0;;s++){if(s==e.childCount||s==t.childCount)return e.childCount==t.childCount?null:r;let a=e.child(s),l=t.child(s);if(a==l){r+=a.nodeSize;continue}if(!a.sameMarkup(l))return r;if(a.isText&&a.text!=l.text){for(let c=0;a.text[c]==l.text[c];c++)r++;return r}if(a.content.size||l.content.size){let c=r6(a.content,l.content,r+1);if(c!=null)return c}r+=a.nodeSize}}function n6(e,t,r,s){for(let a=e.childCount,l=t.childCount;;){if(a==0||l==0)return a==l?null:{a:r,b:s};let c=e.child(--a),u=t.child(--l),h=c.nodeSize;if(c==u){r-=h,s-=h;continue}if(!c.sameMarkup(u))return{a:r,b:s};if(c.isText&&c.text!=u.text){let f=0,m=Math.min(c.text.length,u.text.length);for(;f<m&&c.text[c.text.length-f-1]==u.text[u.text.length-f-1];)f++,r--,s--;return{a:r,b:s}}if(c.content.size||u.content.size){let f=n6(c.content,u.content,r-1,s-1);if(f)return f}r-=h,s-=h}}class Oe{constructor(t,r){if(this.content=t,this.size=r||0,r==null)for(let s=0;s<t.length;s++)this.size+=t[s].nodeSize}nodesBetween(t,r,s,a=0,l){for(let c=0,u=0;u<r;c++){let h=this.content[c],f=u+h.nodeSize;if(f>t&&s(h,a+u,l||null,c)!==!1&&h.content.size){let m=u+1;h.nodesBetween(Math.max(0,t-m),Math.min(h.content.size,r-m),s,a+m)}u=f}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,s,a){let l="",c=!0;return this.nodesBetween(t,r,(u,h)=>{let f=u.isText?u.text.slice(Math.max(t,h)-h,r-h):u.isLeaf?a?typeof a=="function"?a(u):a:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&f||u.isTextblock)&&s&&(c?c=!1:l+=s),l+=f},0),l}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,s=t.firstChild,a=this.content.slice(),l=0;for(r.isText&&r.sameMarkup(s)&&(a[a.length-1]=r.withText(r.text+s.text),l=1);l<t.content.length;l++)a.push(t.content[l]);return new Oe(a,this.size+t.size)}cut(t,r=this.size){if(t==0&&r==this.size)return this;let s=[],a=0;if(r>t)for(let l=0,c=0;c<r;l++){let u=this.content[l],h=c+u.nodeSize;h>t&&((c<t||h>r)&&(u.isText?u=u.cut(Math.max(0,t-c),Math.min(u.text.length,r-c)):u=u.cut(Math.max(0,t-c-1),Math.min(u.content.size,r-c-1))),s.push(u),a+=u.nodeSize),c=h}return new Oe(s,a)}cutByIndex(t,r){return t==r?Oe.empty:t==0&&r==this.content.length?this:new Oe(this.content.slice(t,r))}replaceChild(t,r){let s=this.content[t];if(s==r)return this;let a=this.content.slice(),l=this.size+r.nodeSize-s.nodeSize;return a[t]=r,new Oe(a,l)}addToStart(t){return new Oe([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Oe(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,s=0;r<this.content.length;r++){let a=this.content[r];t(a,s,r),s+=a.nodeSize}}findDiffStart(t,r=0){return r6(this,t,r)}findDiffEnd(t,r=this.size,s=t.size){return n6(this,t,r,s)}findIndex(t){if(t==0)return zu(0,t);if(t==this.size)return zu(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,s=0;;r++){let a=this.child(r),l=s+a.nodeSize;if(l>=t)return l==t?zu(r+1,l):zu(r,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return Oe.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Oe(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Oe.empty;let r,s=0;for(let a=0;a<t.length;a++){let l=t[a];s+=l.nodeSize,a&&l.isText&&t[a-1].sameMarkup(l)?(r||(r=t.slice(0,a)),r[r.length-1]=l.withText(r[r.length-1].text+l.text)):r&&r.push(l)}return new Oe(r||t,s)}static from(t){if(!t)return Oe.empty;if(t instanceof Oe)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Oe([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Oe.empty=new Oe([],0);const Tg={index:0,offset:0};function zu(e,t){return Tg.index=e,Tg.offset=t,Tg}function Ch(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let r=Array.isArray(e);if(Array.isArray(t)!=r)return!1;if(r){if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++)if(!Ch(e[s],t[s]))return!1}else{for(let s in e)if(!(s in t)||!Ch(e[s],t[s]))return!1;for(let s in t)if(!(s in e))return!1}return!0}let Ut=class Tx{constructor(t,r){this.type=t,this.attrs=r}addToSet(t){let r,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(this.eq(l))return t;if(this.type.excludes(l.type))r||(r=t.slice(0,a));else{if(l.type.excludes(this.type))return t;!s&&l.type.rank>this.type.rank&&(r||(r=t.slice(0,a)),r.push(this),s=!0),r&&r.push(l)}}return r||(r=t.slice()),s||r.push(this),r}removeFromSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t}isInSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Ch(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let s=t.marks[r.type];if(!s)throw new RangeError(`There is no mark type ${r.type} in this schema`);let a=s.create(r.attrs);return s.checkAttrs(a.attrs),a}static sameSet(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++)if(!t[s].eq(r[s]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Tx.none;if(t instanceof Tx)return[t];let r=t.slice();return r.sort((s,a)=>s.type.rank-a.type.rank),r}};Ut.none=[];class Sh extends Error{}class Ie{constructor(t,r,s){this.content=t,this.openStart=r,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let s=a6(this.content,t+this.openStart,r);return s&&new Ie(s,this.openStart,this.openEnd)}removeBetween(t,r){return new Ie(s6(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return Ie.empty;let s=r.openStart||0,a=r.openEnd||0;if(typeof s!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ie(Oe.fromJSON(t,r.content),s,a)}static maxOpen(t,r=!0){let s=0,a=0;for(let l=t.firstChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.firstChild)s++;for(let l=t.lastChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.lastChild)a++;return new Ie(t,s,a)}}Ie.empty=new Ie(Oe.empty,0,0);function s6(e,t,r){let{index:s,offset:a}=e.findIndex(t),l=e.maybeChild(s),{index:c,offset:u}=e.findIndex(r);if(a==t||l.isText){if(u!=r&&!e.child(c).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(r))}if(s!=c)throw new RangeError("Removing non-flat range");return e.replaceChild(s,l.copy(s6(l.content,t-a-1,r-a-1)))}function a6(e,t,r,s){let{index:a,offset:l}=e.findIndex(t),c=e.maybeChild(a);if(l==t||c.isText)return s&&!s.canReplace(a,a,r)?null:e.cut(0,t).append(r).append(e.cut(t));let u=a6(c.content,t-l-1,r,c);return u&&e.replaceChild(a,c.copy(u))}function fO(e,t,r){if(r.openStart>e.depth)throw new Sh("Inserted content deeper than insertion position");if(e.depth-r.openStart!=t.depth-r.openEnd)throw new Sh("Inconsistent open depths");return o6(e,t,r,0)}function o6(e,t,r,s){let a=e.index(s),l=e.node(s);if(a==t.index(s)&&s<e.depth-r.openStart){let c=o6(e,t,r,s+1);return l.copy(l.content.replaceChild(a,c))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&e.depth==s&&t.depth==s){let c=e.parent,u=c.content;return _o(c,u.cut(0,e.parentOffset).append(r.content).append(u.cut(t.parentOffset)))}else{let{start:c,end:u}=pO(r,e);return _o(l,i6(e,c,u,t,s))}else return _o(l,kh(e,t,s))}function l6(e,t){if(!t.type.compatibleContent(e.type))throw new Sh("Cannot join "+t.type.name+" onto "+e.type.name)}function Ax(e,t,r){let s=e.node(r);return l6(s,t.node(r)),s}function Bo(e,t){let r=t.length-1;r>=0&&e.isText&&e.sameMarkup(t[r])?t[r]=e.withText(t[r].text+e.text):t.push(e)}function jc(e,t,r,s){let a=(t||e).node(r),l=0,c=t?t.index(r):a.childCount;e&&(l=e.index(r),e.depth>r?l++:e.textOffset&&(Bo(e.nodeAfter,s),l++));for(let u=l;u<c;u++)Bo(a.child(u),s);t&&t.depth==r&&t.textOffset&&Bo(t.nodeBefore,s)}function _o(e,t){return e.type.checkContent(t),e.copy(t)}function i6(e,t,r,s,a){let l=e.depth>a&&Ax(e,t,a+1),c=s.depth>a&&Ax(r,s,a+1),u=[];return jc(null,e,a,u),l&&c&&t.index(a)==r.index(a)?(l6(l,c),Bo(_o(l,i6(e,t,r,s,a+1)),u)):(l&&Bo(_o(l,kh(e,t,a+1)),u),jc(t,r,a,u),c&&Bo(_o(c,kh(r,s,a+1)),u)),jc(s,null,a,u),new Oe(u)}function kh(e,t,r){let s=[];if(jc(null,e,r,s),e.depth>r){let a=Ax(e,t,r+1);Bo(_o(a,kh(e,t,r+1)),s)}return jc(t,null,r,s),new Oe(s)}function pO(e,t){let r=t.depth-e.openStart,a=t.node(r).copy(e.content);for(let l=r-1;l>=0;l--)a=t.node(l).copy(Oe.from(a));return{start:a.resolveNoCache(e.openStart+r),end:a.resolveNoCache(a.content.size-e.openEnd-r)}}class Uc{constructor(t,r,s){this.pos=t,this.path=r,this.parentOffset=s,this.depth=r.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let s=this.pos-this.path[this.path.length-1],a=t.child(r);return s?t.child(r).cut(s):a}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):t==0?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let s=this.path[r*3],a=r==0?0:this.path[r*3-1]+1;for(let l=0;l<t;l++)a+=s.child(l).nodeSize;return a}marks(){let t=this.parent,r=this.index();if(t.content.size==0)return Ut.none;if(this.textOffset)return t.child(r).marks;let s=t.maybeChild(r-1),a=t.maybeChild(r);if(!s){let u=s;s=a,a=u}let l=s.marks;for(var c=0;c<l.length;c++)l[c].type.spec.inclusive===!1&&(!a||!l[c].isInSet(a.marks))&&(l=l[c--].removeFromSet(l));return l}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let s=r.marks,a=t.parent.maybeChild(t.index());for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!a||!s[l].isInSet(a.marks))&&(s=s[l--].removeFromSet(s));return s}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);s>=0;s--)if(t.pos<=this.end(s)&&(!r||r(this.node(s))))return new Eh(this,t,s);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let s=[],a=0,l=r;for(let c=t;;){let{index:u,offset:h}=c.content.findIndex(l),f=l-h;if(s.push(c,u,a+h),!f||(c=c.child(u),c.isText))break;l=f-1,a+=h+1}return new Uc(r,s,l)}static resolveCached(t,r){let s=E4.get(t);if(s)for(let l=0;l<s.elts.length;l++){let c=s.elts[l];if(c.pos==r)return c}else E4.set(t,s=new mO);let a=s.elts[s.i]=Uc.resolve(t,r);return s.i=(s.i+1)%gO,a}}class mO{constructor(){this.elts=[],this.i=0}}const gO=12,E4=new WeakMap;class Eh{constructor(t,r,s){this.$from=t,this.$to=r,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const xO=Object.create(null);class ts{constructor(t,r,s,a=Ut.none){this.type=t,this.attrs=r,this.marks=a,this.content=s||Oe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,s,a=0){this.content.nodesBetween(t,r,s,a,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,s,a){return this.content.textBetween(t,r,s,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,s){return this.type==t&&Ch(this.attrs,r||t.defaultAttrs||xO)&&Ut.sameSet(this.marks,s||Ut.none)}copy(t=null){return t==this.content?this:new ts(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new ts(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return t==0&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,s=!1){if(t==r)return Ie.empty;let a=this.resolve(t),l=this.resolve(r),c=s?0:a.sharedDepth(r),u=a.start(c),f=a.node(c).content.cut(a.pos-u,l.pos-u);return new Ie(f,a.depth-c,l.depth-c)}replace(t,r,s){return fO(this.resolve(t),this.resolve(r),s)}nodeAt(t){for(let r=this;;){let{index:s,offset:a}=r.content.findIndex(t);if(r=r.maybeChild(s),!r)return null;if(a==t||r.isText)return r;t-=a+1}}childAfter(t){let{index:r,offset:s}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:s}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:r,offset:s}=this.content.findIndex(t);if(s<t)return{node:this.content.child(r),index:r,offset:s};let a=this.content.child(r-1);return{node:a,index:r-1,offset:s-a.nodeSize}}resolve(t){return Uc.resolveCached(this,t)}resolveNoCache(t){return Uc.resolve(this,t)}rangeHasMark(t,r,s){let a=!1;return r>t&&this.nodesBetween(t,r,l=>(s.isInSet(l.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),c6(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,s=Oe.empty,a=0,l=s.childCount){let c=this.contentMatchAt(t).matchFragment(s,a,l),u=c&&c.matchFragment(this.content,r);if(!u||!u.validEnd)return!1;for(let h=a;h<l;h++)if(!this.type.allowsMarks(s.child(h).marks))return!1;return!0}canReplaceWith(t,r,s,a){if(a&&!this.type.allowsMarks(a))return!1;let l=this.contentMatchAt(t).matchType(s),c=l&&l.matchFragment(this.content,r);return c?c.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ut.none;for(let r=0;r<this.marks.length;r++){let s=this.marks[r];s.type.checkAttrs(s.attrs),t=s.addToSet(t)}if(!Ut.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let s;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=r.marks.map(t.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(r.text,s)}let a=Oe.fromJSON(t,r.content),l=t.nodeType(r.type).create(r.attrs,a,s);return l.type.checkAttrs(l.attrs),l}}ts.prototype.text=void 0;class Th extends ts{constructor(t,r,s,a){if(super(t,r,null,a),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):c6(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Th(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Th(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return t==0&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function c6(e,t){for(let r=e.length-1;r>=0;r--)t=e[r].type.name+"("+t+")";return t}class Uo{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let s=new yO(t,r);if(s.next==null)return Uo.empty;let a=d6(s);s.next&&s.err("Unexpected trailing text");let l=SO(CO(a));return kO(l,s),l}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,s=t.childCount){let a=this;for(let l=r;a&&l<s;l++)a=a.matchType(t.child(l).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let s=0;s<t.next.length;s++)if(this.next[r].type==t.next[s].type)return!0;return!1}fillBefore(t,r=!1,s=0){let a=[this];function l(c,u){let h=c.matchFragment(t,s);if(h&&(!r||h.validEnd))return Oe.from(u.map(f=>f.createAndFill()));for(let f=0;f<c.next.length;f++){let{type:m,next:g}=c.next[f];if(!(m.isText||m.hasRequiredAttrs())&&a.indexOf(g)==-1){a.push(g);let y=l(g,u.concat(m));if(y)return y}}return null}return l(this,[])}findWrapping(t){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==t)return this.wrapCache[s+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let a=s.shift(),l=a.match;if(l.matchType(t)){let c=[];for(let u=a;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<l.next.length;c++){let{type:u,next:h}=l.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in r)&&(!a.type||h.validEnd)&&(s.push({match:u.contentMatch,type:u,via:a}),r[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function r(s){t.push(s);for(let a=0;a<s.next.length;a++)t.indexOf(s.next[a].next)==-1&&r(s.next[a].next)}return r(this),t.map((s,a)=>{let l=a+(s.validEnd?"*":" ")+" ";for(let c=0;c<s.next.length;c++)l+=(c?", ":"")+s.next[c].type.name+"->"+t.indexOf(s.next[c].next);return l}).join(`
`)}}Uo.empty=new Uo(!0);class yO{constructor(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function d6(e){let t=[];do t.push(bO(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function bO(e){let t=[];do t.push(vO(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function vO(e){let t=NO(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=jO(e,t);else break;return t}function T4(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function jO(e,t){let r=T4(e),s=r;return e.eat(",")&&(e.next!="}"?s=T4(e):s=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:r,max:s,expr:t}}function wO(e,t){let r=e.nodeTypes,s=r[t];if(s)return[s];let a=[];for(let l in r){let c=r[l];c.isInGroup(t)&&a.push(c)}return a.length==0&&e.err("No node type or group '"+t+"' found"),a}function NO(e){if(e.eat("(")){let t=d6(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=wO(e,e.next).map(r=>(e.inline==null?e.inline=r.isInline:e.inline!=r.isInline&&e.err("Mixing inline and block content"),{type:"name",value:r}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function CO(e){let t=[[]];return a(l(e,0),r()),t;function r(){return t.push([])-1}function s(c,u,h){let f={term:h,to:u};return t[c].push(f),f}function a(c,u){c.forEach(h=>h.to=u)}function l(c,u){if(c.type=="choice")return c.exprs.reduce((h,f)=>h.concat(l(f,u)),[]);if(c.type=="seq")for(let h=0;;h++){let f=l(c.exprs[h],u);if(h==c.exprs.length-1)return f;a(f,u=r())}else if(c.type=="star"){let h=r();return s(u,h),a(l(c.expr,h),h),[s(h)]}else if(c.type=="plus"){let h=r();return a(l(c.expr,u),h),a(l(c.expr,h),h),[s(h)]}else{if(c.type=="opt")return[s(u)].concat(l(c.expr,u));if(c.type=="range"){let h=u;for(let f=0;f<c.min;f++){let m=r();a(l(c.expr,h),m),h=m}if(c.max==-1)a(l(c.expr,h),h);else for(let f=c.min;f<c.max;f++){let m=r();s(h,m),a(l(c.expr,h),m),h=m}return[s(h)]}else{if(c.type=="name")return[s(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function u6(e,t){return t-e}function A4(e,t){let r=[];return s(t),r.sort(u6);function s(a){let l=e[a];if(l.length==1&&!l[0].term)return s(l[0].to);r.push(a);for(let c=0;c<l.length;c++){let{term:u,to:h}=l[c];!u&&r.indexOf(h)==-1&&s(h)}}}function SO(e){let t=Object.create(null);return r(A4(e,0));function r(s){let a=[];s.forEach(c=>{e[c].forEach(({term:u,to:h})=>{if(!u)return;let f;for(let m=0;m<a.length;m++)a[m][0]==u&&(f=a[m][1]);A4(e,h).forEach(m=>{f||a.push([u,f=[]]),f.indexOf(m)==-1&&f.push(m)})})});let l=t[s.join(",")]=new Uo(s.indexOf(e.length-1)>-1);for(let c=0;c<a.length;c++){let u=a[c][1].sort(u6);l.next.push({type:a[c][0],next:t[u.join(",")]||r(u)})}return l}}function kO(e,t){for(let r=0,s=[e];r<s.length;r++){let a=s[r],l=!a.validEnd,c=[];for(let u=0;u<a.next.length;u++){let{type:h,next:f}=a.next[u];c.push(h.name),l&&!(h.isText||h.hasRequiredAttrs())&&(l=!1),s.indexOf(f)==-1&&s.push(f)}l&&t.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function h6(e){let t=Object.create(null);for(let r in e){let s=e[r];if(!s.hasDefault)return null;t[r]=s.default}return t}function f6(e,t){let r=Object.create(null);for(let s in e){let a=t&&t[s];if(a===void 0){let l=e[s];if(l.hasDefault)a=l.default;else throw new RangeError("No value supplied for attribute "+s)}r[s]=a}return r}function p6(e,t,r,s){for(let a in t)if(!(a in e))throw new RangeError(`Unsupported attribute ${a} for ${r} of type ${a}`);for(let a in e){let l=e[a];l.validate&&l.validate(t[a])}}function m6(e,t){let r=Object.create(null);if(t)for(let s in t)r[s]=new TO(e,s,t[s]);return r}let M4=class g6{constructor(t,r,s){this.name=t,this.schema=r,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=m6(t,s.attrs),this.defaultAttrs=h6(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Uo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:f6(this.attrs,t)}create(t=null,r,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ts(this,this.computeAttrs(t),Oe.from(r),Ut.setFrom(s))}createChecked(t=null,r,s){return r=Oe.from(r),this.checkContent(r),new ts(this,this.computeAttrs(t),r,Ut.setFrom(s))}createAndFill(t=null,r,s){if(t=this.computeAttrs(t),r=Oe.from(r),r.size){let c=this.contentMatch.fillBefore(r);if(!c)return null;r=c.append(r)}let a=this.contentMatch.matchFragment(r),l=a&&a.fillBefore(Oe.empty,!0);return l?new ts(this,t,r.append(l),Ut.setFrom(s)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let s=0;s<t.childCount;s++)if(!this.allowsMarks(t.child(s).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){p6(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let r;for(let s=0;s<t.length;s++)this.allowsMarkType(t[s].type)?r&&r.push(t[s]):r||(r=t.slice(0,s));return r?r.length?r:Ut.none:t}static compile(t,r){let s=Object.create(null);t.forEach((l,c)=>s[l]=new g6(l,r,c));let a=r.spec.topNode||"doc";if(!s[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let l in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function EO(e,t,r){let s=r.split("|");return a=>{let l=a===null?"null":typeof a;if(s.indexOf(l)<0)throw new RangeError(`Expected value of type ${s} for attribute ${t} on type ${e}, got ${l}`)}}class TO{constructor(t,r,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?EO(t,r,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class Rf{constructor(t,r,s,a){this.name=t,this.rank=r,this.schema=s,this.spec=a,this.attrs=m6(t,a.attrs),this.excluded=null;let l=h6(this.attrs);this.instance=l?new Ut(this,l):null}create(t=null){return!t&&this.instance?this.instance:new Ut(this,f6(this.attrs,t))}static compile(t,r){let s=Object.create(null),a=0;return t.forEach((l,c)=>s[l]=new Rf(l,a++,r,c)),s}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}checkAttrs(t){p6(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class x6{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let a in t)r[a]=t[a];r.nodes=Or.from(t.nodes),r.marks=Or.from(t.marks||{}),this.nodes=M4.compile(this.spec.nodes,this),this.marks=Rf.compile(this.spec.marks,this);let s=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let l=this.nodes[a],c=l.spec.content||"",u=l.spec.marks;if(l.contentMatch=s[c]||(s[c]=Uo.parse(c,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=u=="_"?null:u?O4(this,u.split(" ")):u==""||!l.inlineContent?[]:null}for(let a in this.marks){let l=this.marks[a],c=l.spec.excludes;l.excluded=c==null?[l]:c==""?[]:O4(this,c.split(" "))}this.nodeFromJSON=a=>ts.fromJSON(this,a),this.markFromJSON=a=>Ut.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,r=null,s,a){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof M4){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(r,s,a)}text(t,r){let s=this.nodes.text;return new Th(s,s.defaultAttrs,t,Ut.setFrom(r))}mark(t,r){return typeof t=="string"&&(t=this.marks[t]),t.create(r)}nodeType(t){let r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r}}function O4(e,t){let r=[];for(let s=0;s<t.length;s++){let a=t[s],l=e.marks[a],c=l;if(l)r.push(l);else for(let u in e.marks){let h=e.marks[u];(a=="_"||h.spec.group&&h.spec.group.split(" ").indexOf(a)>-1)&&r.push(c=h)}if(!c)throw new SyntaxError("Unknown mark type: '"+t[s]+"'")}return r}function AO(e){return e.tag!=null}function MO(e){return e.style!=null}class Fa{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[];let s=this.matchedStyles=[];r.forEach(a=>{if(AO(a))this.tags.push(a);else if(MO(a)){let l=/[^=]*/.exec(a.style)[0];s.indexOf(l)<0&&s.push(l),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let l=t.nodes[a.node];return l.contentMatch.matchType(l)})}parse(t,r={}){let s=new R4(this,r,!1);return s.addAll(t,Ut.none,r.from,r.to),s.finish()}parseSlice(t,r={}){let s=new R4(this,r,!0);return s.addAll(t,Ut.none,r.from,r.to),Ie.maxOpen(s.finish())}matchTag(t,r,s){for(let a=s?this.tags.indexOf(s)+1:0;a<this.tags.length;a++){let l=this.tags[a];if(RO(t,l.tag)&&(l.namespace===void 0||t.namespaceURI==l.namespace)&&(!l.context||r.matchesContext(l.context))){if(l.getAttrs){let c=l.getAttrs(t);if(c===!1)continue;l.attrs=c||void 0}return l}}}matchStyle(t,r,s,a){for(let l=a?this.styles.indexOf(a)+1:0;l<this.styles.length;l++){let c=this.styles[l],u=c.style;if(!(u.indexOf(t)!=0||c.context&&!s.matchesContext(c.context)||u.length>t.length&&(u.charCodeAt(t.length)!=61||u.slice(t.length+1)!=r))){if(c.getAttrs){let h=c.getAttrs(r);if(h===!1)continue;c.attrs=h||void 0}return c}}}static schemaRules(t){let r=[];function s(a){let l=a.priority==null?50:a.priority,c=0;for(;c<r.length;c++){let u=r[c];if((u.priority==null?50:u.priority)<l)break}r.splice(c,0,a)}for(let a in t.marks){let l=t.marks[a].spec.parseDOM;l&&l.forEach(c=>{s(c=z4(c)),c.mark||c.ignore||c.clearMark||(c.mark=a)})}for(let a in t.nodes){let l=t.nodes[a].spec.parseDOM;l&&l.forEach(c=>{s(c=z4(c)),c.node||c.ignore||c.mark||(c.node=a)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Fa(t,Fa.schemaRules(t)))}}const y6={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},OO={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},b6={ol:!0,ul:!0},Vc=1,Mx=2,wc=4;function D4(e,t,r){return t!=null?(t?Vc:0)|(t==="full"?Mx:0):e&&e.whitespace=="pre"?Vc|Mx:r&~wc}class Lu{constructor(t,r,s,a,l,c){this.type=t,this.attrs=r,this.marks=s,this.solid=a,this.options=c,this.content=[],this.activeMarks=Ut.none,this.match=l||(c&wc?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Oe.from(t));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let s=this.type.contentMatch,a;return(a=s.findWrapping(t.type))?(this.match=s,a):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Vc)){let s=this.content[this.content.length-1],a;if(s&&s.isText&&(a=/[ \t\r\n\u000c]+$/.exec(s.text))){let l=s;s.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-a[0].length))}}let r=Oe.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(Oe.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!y6.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class R4{constructor(t,r,s){this.parser=t,this.options=r,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let a=r.topNode,l,c=D4(null,r.preserveWhitespace,0)|(s?wc:0);a?l=new Lu(a.type,a.attrs,Ut.none,!0,r.topMatch||a.type.contentMatch,c):s?l=new Lu(null,null,Ut.none,!0,null,c):l=new Lu(t.schema.topNodeType,null,Ut.none,!0,null,c),this.nodes=[l],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,r){t.nodeType==3?this.addTextNode(t,r):t.nodeType==1&&this.addElement(t,r)}addTextNode(t,r){let s=t.nodeValue,a=this.top,l=a.options&Mx?"full":this.localPreserveWS||(a.options&Vc)>0,{schema:c}=this.parser;if(l==="full"||a.inlineContext(t)||/[^ \t\r\n\u000c]/.test(s)){if(l)if(l==="full")s=s.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=s.split(/\r?\n|\r/);for(let h=0;h<u.length;h++)h&&this.insertNode(c.linebreakReplacement.create(),r,!0),u[h]&&this.insertNode(c.text(u[h]),r,!/\S/.test(u[h]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let u=a.content[a.content.length-1],h=t.previousSibling;(!u||h&&h.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(s=s.slice(1))}s&&this.insertNode(c.text(s),r,!/\S/.test(s)),this.findInText(t)}else this.findInside(t)}addElement(t,r,s){let a=this.localPreserveWS,l=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let c=t.nodeName.toLowerCase(),u;b6.hasOwnProperty(c)&&this.parser.normalizeLists&&DO(t);let h=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(u=this.parser.matchTag(t,this,s));e:if(h?h.ignore:OO.hasOwnProperty(c))this.findInside(t),this.ignoreFallback(t,r);else if(!h||h.skip||h.closeParent){h&&h.closeParent?this.open=Math.max(0,this.open-1):h&&h.skip.nodeType&&(t=h.skip);let f,m=this.needsBlock;if(y6.hasOwnProperty(c))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),f=!0,l.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,r);break e}let g=h&&h.skip?r:this.readStyles(t,r);g&&this.addAll(t,g),f&&this.sync(l),this.needsBlock=m}else{let f=this.readStyles(t,r);f&&this.addElementByRule(t,h,f,h.consuming===!1?u:void 0)}this.localPreserveWS=a}leafFallback(t,r){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),r)}ignoreFallback(t,r){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(t,r){let s=t.style;if(s&&s.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let l=this.parser.matchedStyles[a],c=s.getPropertyValue(l);if(c)for(let u=void 0;;){let h=this.parser.matchStyle(l,c,this,u);if(!h)break;if(h.ignore)return null;if(h.clearMark?r=r.filter(f=>!h.clearMark(f)):r=r.concat(this.parser.schema.marks[h.mark].create(h.attrs)),h.consuming===!1)u=h;else break}}return r}addElementByRule(t,r,s,a){let l,c;if(r.node)if(c=this.parser.schema.nodes[r.node],c.isLeaf)this.insertNode(c.create(r.attrs),s,t.nodeName=="BR")||this.leafFallback(t,s);else{let h=this.enter(c,r.attrs||null,s,r.preserveWhitespace);h&&(l=!0,s=h)}else{let h=this.parser.schema.marks[r.mark];s=s.concat(h.create(r.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(t);else if(a)this.addElement(t,s,a);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(h=>this.insertNode(h,s,!1));else{let h=t;typeof r.contentElement=="string"?h=t.querySelector(r.contentElement):typeof r.contentElement=="function"?h=r.contentElement(t):r.contentElement&&(h=r.contentElement),this.findAround(t,h,!0),this.addAll(h,s),this.findAround(t,h,!1)}l&&this.sync(u)&&this.open--}addAll(t,r,s,a){let l=s||0;for(let c=s?t.childNodes[s]:t.firstChild,u=a==null?null:t.childNodes[a];c!=u;c=c.nextSibling,++l)this.findAtPoint(t,l),this.addDOM(c,r);this.findAtPoint(t,l)}findPlace(t,r,s){let a,l;for(let c=this.open,u=0;c>=0;c--){let h=this.nodes[c],f=h.findWrapping(t);if(f&&(!a||a.length>f.length+u)&&(a=f,l=h,!f.length))break;if(h.solid){if(s)break;u+=2}}if(!a)return null;this.sync(l);for(let c=0;c<a.length;c++)r=this.enterInner(a[c],null,r,!1);return r}insertNode(t,r,s){if(t.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(r=this.enterInner(l,null,r))}let a=this.findPlace(t,r,s);if(a){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(t.type));let c=Ut.none;for(let u of a.concat(t.marks))(l.type?l.type.allowsMarkType(u.type):L4(u.type,t.type))&&(c=u.addToSet(c));return l.content.push(t.mark(c)),!0}return!1}enter(t,r,s,a){let l=this.findPlace(t.create(r),s,!1);return l&&(l=this.enterInner(t,r,s,!0,a)),l}enterInner(t,r,s,a=!1,l){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(t);let u=D4(t,l,c.options);c.options&wc&&c.content.length==0&&(u|=wc);let h=Ut.none;return s=s.filter(f=>(c.type?c.type.allowsMarkType(f.type):L4(f.type,t))?(h=f.addToSet(h),!1):!0),this.nodes.push(new Lu(t,r,h,a,null,u)),this.open++,s}closeExtra(t=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let r=this.open;r>=0;r--){if(this.nodes[r]==t)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Vc)}return!1}get currentPos(){this.closeExtra();let t=0;for(let r=this.open;r>=0;r--){let s=this.nodes[r].content;for(let a=s.length-1;a>=0;a--)t+=s[a].nodeSize;r&&t++}return t}findAtPoint(t,r){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==t&&this.find[s].offset==r&&(this.find[s].pos=this.currentPos)}findInside(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(t,r,s){if(t!=r&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&t.nodeType==1&&t.contains(this.find[a].node)&&r.compareDocumentPosition(this.find[a].node)&(s?2:4)&&(this.find[a].pos=this.currentPos)}findInText(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let r=t.split("/"),s=this.options.context,a=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),l=-(s?s.depth+1:0)+(a?0:1),c=(u,h)=>{for(;u>=0;u--){let f=r[u];if(f==""){if(u==r.length-1||u==0)continue;for(;h>=l;h--)if(c(u-1,h))return!0;return!1}else{let m=h>0||h==0&&a?this.nodes[h].type:s&&h>=l?s.node(h-l).type:null;if(!m||m.name!=f&&!m.isInGroup(f))return!1;h--}}return!0};return c(r.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let r=t.depth;r>=0;r--){let s=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let r in this.parser.schema.nodes){let s=this.parser.schema.nodes[r];if(s.isTextblock&&s.defaultAttrs)return s}}}function DO(e){for(let t=e.firstChild,r=null;t;t=t.nextSibling){let s=t.nodeType==1?t.nodeName.toLowerCase():null;s&&b6.hasOwnProperty(s)&&r?(r.appendChild(t),t=r):s=="li"?r=t:s&&(r=null)}}function RO(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function z4(e){let t={};for(let r in e)t[r]=e[r];return t}function L4(e,t){let r=t.schema.nodes;for(let s in r){let a=r[s];if(!a.allowsMarkType(e))continue;let l=[],c=u=>{l.push(u);for(let h=0;h<u.edgeCount;h++){let{type:f,next:m}=u.edge(h);if(f==t||l.indexOf(m)<0&&c(m))return!0}};if(c(a.contentMatch))return!0}}class Yo{constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},s){s||(s=Ag(r).createDocumentFragment());let a=s,l=[];return t.forEach(c=>{if(l.length||c.marks.length){let u=0,h=0;for(;u<l.length&&h<c.marks.length;){let f=c.marks[h];if(!this.marks[f.type.name]){h++;continue}if(!f.eq(l[u][0])||f.type.spec.spanning===!1)break;u++,h++}for(;u<l.length;)a=l.pop()[1];for(;h<c.marks.length;){let f=c.marks[h++],m=this.serializeMark(f,c.isInline,r);m&&(l.push([f,a]),a.appendChild(m.dom),a=m.contentDOM||m.dom)}}a.appendChild(this.serializeNodeInner(c,r))}),s}serializeNodeInner(t,r){let{dom:s,contentDOM:a}=rh(Ag(r),this.nodes[t.type.name](t),null,t.attrs);if(a){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,a)}return s}serializeNode(t,r={}){let s=this.serializeNodeInner(t,r);for(let a=t.marks.length-1;a>=0;a--){let l=this.serializeMark(t.marks[a],t.isInline,r);l&&((l.contentDOM||l.dom).appendChild(s),s=l.dom)}return s}serializeMark(t,r,s={}){let a=this.marks[t.type.name];return a&&rh(Ag(s),a(t,r),null,t.attrs)}static renderSpec(t,r,s=null,a){return rh(t,r,s,a)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Yo(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=B4(t.nodes);return r.text||(r.text=s=>s.text),r}static marksFromSchema(t){return B4(t.marks)}}function B4(e){let t={};for(let r in e){let s=e[r].spec.toDOM;s&&(t[r]=s)}return t}function Ag(e){return e.document||window.document}const _4=new WeakMap;function zO(e){let t=_4.get(e);return t===void 0&&_4.set(e,t=LO(e)),t}function LO(e){let t=null;function r(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")t||(t=[]),t.push(s);else for(let a=0;a<s.length;a++)r(s[a]);else for(let a in s)r(s[a])}return r(e),t}function rh(e,t,r,s){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let a=t[0],l;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(l=zO(s))&&l.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=a.indexOf(" ");c>0&&(r=a.slice(0,c),a=a.slice(c+1));let u,h=r?e.createElementNS(r,a):e.createElement(a),f=t[1],m=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){m=2;for(let g in f)if(f[g]!=null){let y=g.indexOf(" ");y>0?h.setAttributeNS(g.slice(0,y),g.slice(y+1),f[g]):g=="style"&&h.style?h.style.cssText=f[g]:h.setAttribute(g,f[g])}}for(let g=m;g<t.length;g++){let y=t[g];if(y===0){if(g<t.length-1||g>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:h,contentDOM:h}}else{let{dom:b,contentDOM:j}=rh(e,y,r,s);if(h.appendChild(b),j){if(u)throw new RangeError("Multiple content holes");u=j}}}return{dom:h,contentDOM:u}}const v6=65535,j6=Math.pow(2,16);function BO(e,t){return e+t*j6}function P4(e){return e&v6}function _O(e){return(e-(e&v6))/j6}const w6=1,N6=2,nh=4,C6=8;class Ox{constructor(t,r,s){this.pos=t,this.delInfo=r,this.recover=s}get deleted(){return(this.delInfo&C6)>0}get deletedBefore(){return(this.delInfo&(w6|nh))>0}get deletedAfter(){return(this.delInfo&(N6|nh))>0}get deletedAcross(){return(this.delInfo&nh)>0}}class yn{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&yn.empty)return yn.empty}recover(t){let r=0,s=P4(t);if(!this.inverted)for(let a=0;a<s;a++)r+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[s*3]+r+_O(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,s){let a=0,l=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let h=this.ranges[u]-(this.inverted?a:0);if(h>t)break;let f=this.ranges[u+l],m=this.ranges[u+c],g=h+f;if(t<=g){let y=f?t==h?-1:t==g?1:r:r,b=h+a+(y<0?0:m);if(s)return b;let j=t==(r<0?h:g)?null:BO(u/3,t-h),N=t==h?N6:t==g?w6:nh;return(r<0?t!=h:t!=g)&&(N|=C6),new Ox(b,N,j)}a+=m-f}return s?t+a:new Ox(t+a,0,null)}touches(t,r){let s=0,a=P4(r),l=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let h=this.ranges[u]-(this.inverted?s:0);if(h>t)break;let f=this.ranges[u+l],m=h+f;if(t<=m&&u==a*3)return!0;s+=this.ranges[u+c]-f}return!1}forEach(t){let r=this.inverted?2:1,s=this.inverted?1:2;for(let a=0,l=0;a<this.ranges.length;a+=3){let c=this.ranges[a],u=c-(this.inverted?l:0),h=c+(this.inverted?0:l),f=this.ranges[a+r],m=this.ranges[a+s];t(u,u+f,h,h+m),l+=m-f}}invert(){return new yn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?yn.empty:new yn(t<0?[0,-t,0]:[0,0,t])}}yn.empty=new yn([]);class Fc{constructor(t,r,s=0,a=t?t.length:0){this.mirror=r,this.from=s,this.to=a,this._maps=t||[],this.ownData=!(t||r)}get maps(){return this._maps}slice(t=0,r=this.maps.length){return new Fc(this._maps,this.mirror,t,r)}appendMap(t,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(t){for(let r=0,s=this._maps.length;r<t._maps.length;r++){let a=t.getMirror(r);this.appendMap(t._maps[r],a!=null&&a<r?s+a:void 0)}}getMirror(t){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,s=this._maps.length+t._maps.length;r>=0;r--){let a=t.getMirror(r);this.appendMap(t._maps[r].invert(),a!=null&&a>r?s-a-1:void 0)}}invert(){let t=new Fc;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let s=this.from;s<this.to;s++)t=this._maps[s].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,s){let a=0;for(let l=this.from;l<this.to;l++){let c=this._maps[l],u=c.mapResult(t,r);if(u.recover!=null){let h=this.getMirror(l);if(h!=null&&h>l&&h<this.to){l=h,t=this._maps[h].recover(u.recover);continue}}a|=u.delInfo,t=u.pos}return s?t:new Ox(t,a,null)}}const Mg=Object.create(null);class Hr{getMap(){return yn.empty}merge(t){return null}static fromJSON(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=Mg[r.stepType];if(!s)throw new RangeError(`No step type ${r.stepType} defined`);return s.fromJSON(t,r)}static jsonID(t,r){if(t in Mg)throw new RangeError("Duplicate use of step JSON ID "+t);return Mg[t]=r,r.prototype.jsonID=t,r}}class fr{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new fr(t,null)}static fail(t){return new fr(null,t)}static fromReplace(t,r,s,a){try{return fr.ok(t.replace(r,s,a))}catch(l){if(l instanceof Sh)return fr.fail(l.message);throw l}}}function R0(e,t,r){let s=[];for(let a=0;a<e.childCount;a++){let l=e.child(a);l.content.size&&(l=l.copy(R0(l.content,t,l))),l.isInline&&(l=t(l,r,a)),s.push(l)}return Oe.fromArray(s)}class $a extends Hr{constructor(t,r,s){super(),this.from=t,this.to=r,this.mark=s}apply(t){let r=t.slice(this.from,this.to),s=t.resolve(this.from),a=s.node(s.sharedDepth(this.to)),l=new Ie(R0(r.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),a),r.openStart,r.openEnd);return fr.fromReplace(t,this.from,this.to,l)}invert(){return new Zn(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),s=t.mapResult(this.to,-1);return r.deleted&&s.deleted||r.pos>=s.pos?null:new $a(r.pos,s.pos,this.mark)}merge(t){return t instanceof $a&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new $a(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new $a(r.from,r.to,t.markFromJSON(r.mark))}}Hr.jsonID("addMark",$a);class Zn extends Hr{constructor(t,r,s){super(),this.from=t,this.to=r,this.mark=s}apply(t){let r=t.slice(this.from,this.to),s=new Ie(R0(r.content,a=>a.mark(this.mark.removeFromSet(a.marks)),t),r.openStart,r.openEnd);return fr.fromReplace(t,this.from,this.to,s)}invert(){return new $a(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),s=t.mapResult(this.to,-1);return r.deleted&&s.deleted||r.pos>=s.pos?null:new Zn(r.pos,s.pos,this.mark)}merge(t){return t instanceof Zn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Zn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Zn(r.from,r.to,t.markFromJSON(r.mark))}}Hr.jsonID("removeMark",Zn);class Ha extends Hr{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return fr.fail("No node at mark step's position");let s=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return fr.fromReplace(t,this.pos,this.pos+1,new Ie(Oe.from(s),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let s=this.mark.addToSet(r.marks);if(s.length==r.marks.length){for(let a=0;a<r.marks.length;a++)if(!r.marks[a].isInSet(s))return new Ha(this.pos,r.marks[a]);return new Ha(this.pos,this.mark)}}return new Vo(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Ha(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ha(r.pos,t.markFromJSON(r.mark))}}Hr.jsonID("addNodeMark",Ha);class Vo extends Hr{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return fr.fail("No node at mark step's position");let s=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return fr.fromReplace(t,this.pos,this.pos+1,new Ie(Oe.from(s),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Ha(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Vo(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Vo(r.pos,t.markFromJSON(r.mark))}}Hr.jsonID("removeNodeMark",Vo);class jr extends Hr{constructor(t,r,s,a=!1){super(),this.from=t,this.to=r,this.slice=s,this.structure=a}apply(t){return this.structure&&Dx(t,this.from,this.to)?fr.fail("Structure replace would overwrite content"):fr.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new yn([this.from,this.to-this.from,this.slice.size])}invert(t){return new jr(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),s=t.mapResult(this.to,-1);return r.deletedAcross&&s.deletedAcross?null:new jr(r.pos,Math.max(r.pos,s.pos),this.slice,this.structure)}merge(t){if(!(t instanceof jr)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let r=this.slice.size+t.slice.size==0?Ie.empty:new Ie(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new jr(this.from,this.to+(t.to-t.from),r,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let r=this.slice.size+t.slice.size==0?Ie.empty:new Ie(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new jr(t.from,this.to,r,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new jr(r.from,r.to,Ie.fromJSON(t,r.slice),!!r.structure)}}Hr.jsonID("replace",jr);class Nr extends Hr{constructor(t,r,s,a,l,c,u=!1){super(),this.from=t,this.to=r,this.gapFrom=s,this.gapTo=a,this.slice=l,this.insert=c,this.structure=u}apply(t){if(this.structure&&(Dx(t,this.from,this.gapFrom)||Dx(t,this.gapTo,this.to)))return fr.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return fr.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,r.content);return s?fr.fromReplace(t,this.from,this.to,s):fr.fail("Content does not fit in gap")}getMap(){return new yn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new Nr(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),s=t.mapResult(this.to,-1),a=this.from==this.gapFrom?r.pos:t.map(this.gapFrom,-1),l=this.to==this.gapTo?s.pos:t.map(this.gapTo,1);return r.deletedAcross&&s.deletedAcross||a<r.pos||l>s.pos?null:new Nr(r.pos,s.pos,a,l,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Nr(r.from,r.to,r.gapFrom,r.gapTo,Ie.fromJSON(t,r.slice),r.insert,!!r.structure)}}Hr.jsonID("replaceAround",Nr);function Dx(e,t,r){let s=e.resolve(t),a=r-t,l=s.depth;for(;a>0&&l>0&&s.indexAfter(l)==s.node(l).childCount;)l--,a--;if(a>0){let c=s.node(l).maybeChild(s.indexAfter(l));for(;a>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,a--}}return!1}function PO(e,t,r,s){let a=[],l=[],c,u;e.doc.nodesBetween(t,r,(h,f,m)=>{if(!h.isInline)return;let g=h.marks;if(!s.isInSet(g)&&m.type.allowsMarkType(s.type)){let y=Math.max(f,t),b=Math.min(f+h.nodeSize,r),j=s.addToSet(g);for(let N=0;N<g.length;N++)g[N].isInSet(j)||(c&&c.to==y&&c.mark.eq(g[N])?c.to=b:a.push(c=new Zn(y,b,g[N])));u&&u.to==y?u.to=b:l.push(u=new $a(y,b,s))}}),a.forEach(h=>e.step(h)),l.forEach(h=>e.step(h))}function IO(e,t,r,s){let a=[],l=0;e.doc.nodesBetween(t,r,(c,u)=>{if(!c.isInline)return;l++;let h=null;if(s instanceof Rf){let f=c.marks,m;for(;m=s.isInSet(f);)(h||(h=[])).push(m),f=m.removeFromSet(f)}else s?s.isInSet(c.marks)&&(h=[s]):h=c.marks;if(h&&h.length){let f=Math.min(u+c.nodeSize,r);for(let m=0;m<h.length;m++){let g=h[m],y;for(let b=0;b<a.length;b++){let j=a[b];j.step==l-1&&g.eq(a[b].style)&&(y=j)}y?(y.to=f,y.step=l):a.push({style:g,from:Math.max(u,t),to:f,step:l})}}}),a.forEach(c=>e.step(new Zn(c.from,c.to,c.style)))}function z0(e,t,r,s=r.contentMatch,a=!0){let l=e.doc.nodeAt(t),c=[],u=t+1;for(let h=0;h<l.childCount;h++){let f=l.child(h),m=u+f.nodeSize,g=s.matchType(f.type);if(!g)c.push(new jr(u,m,Ie.empty));else{s=g;for(let y=0;y<f.marks.length;y++)r.allowsMarkType(f.marks[y].type)||e.step(new Zn(u,m,f.marks[y]));if(a&&f.isText&&r.whitespace!="pre"){let y,b=/\r?\n|\r/g,j;for(;y=b.exec(f.text);)j||(j=new Ie(Oe.from(r.schema.text(" ",r.allowedMarks(f.marks))),0,0)),c.push(new jr(u+y.index,u+y.index+y[0].length,j))}}u=m}if(!s.validEnd){let h=s.fillBefore(Oe.empty,!0);e.replace(u,u,new Ie(h,0,0))}for(let h=c.length-1;h>=0;h--)e.step(c[h])}function $O(e,t,r){return(t==0||e.canReplace(t,e.childCount))&&(r==e.childCount||e.canReplace(0,r))}function hi(e){let r=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let s=e.depth,a=0,l=0;;--s){let c=e.$from.node(s),u=e.$from.index(s)+a,h=e.$to.indexAfter(s)-l;if(s<e.depth&&c.canReplace(u,h,r))return s;if(s==0||c.type.spec.isolating||!$O(c,u,h))break;u&&(a=1),h<c.childCount&&(l=1)}return null}function HO(e,t,r){let{$from:s,$to:a,depth:l}=t,c=s.before(l+1),u=a.after(l+1),h=c,f=u,m=Oe.empty,g=0;for(let j=l,N=!1;j>r;j--)N||s.index(j)>0?(N=!0,m=Oe.from(s.node(j).copy(m)),g++):h--;let y=Oe.empty,b=0;for(let j=l,N=!1;j>r;j--)N||a.after(j+1)<a.end(j)?(N=!0,y=Oe.from(a.node(j).copy(y)),b++):f++;e.step(new Nr(h,f,c,u,new Ie(m.append(y),g,b),m.size-g,!0))}function L0(e,t,r=null,s=e){let a=UO(e,t),l=a&&VO(s,t);return l?a.map(I4).concat({type:t,attrs:r}).concat(l.map(I4)):null}function I4(e){return{type:e,attrs:null}}function UO(e,t){let{parent:r,startIndex:s,endIndex:a}=e,l=r.contentMatchAt(s).findWrapping(t);if(!l)return null;let c=l.length?l[0]:t;return r.canReplaceWith(s,a,c)?l:null}function VO(e,t){let{parent:r,startIndex:s,endIndex:a}=e,l=r.child(s),c=t.contentMatch.findWrapping(l.type);if(!c)return null;let h=(c.length?c[c.length-1]:t).contentMatch;for(let f=s;h&&f<a;f++)h=h.matchType(r.child(f).type);return!h||!h.validEnd?null:c}function FO(e,t,r){let s=Oe.empty;for(let c=r.length-1;c>=0;c--){if(s.size){let u=r[c].type.contentMatch.matchFragment(s);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=Oe.from(r[c].type.create(r[c].attrs,s))}let a=t.start,l=t.end;e.step(new Nr(a,l,a,l,new Ie(s,0,0),r.length,!0))}function qO(e,t,r,s,a){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=e.steps.length;e.doc.nodesBetween(t,r,(c,u)=>{let h=typeof a=="function"?a(c):a;if(c.isTextblock&&!c.hasMarkup(s,h)&&WO(e.doc,e.mapping.slice(l).map(u),s)){let f=null;if(s.schema.linebreakReplacement){let b=s.whitespace=="pre",j=!!s.contentMatch.matchType(s.schema.linebreakReplacement);b&&!j?f=!1:!b&&j&&(f=!0)}f===!1&&k6(e,c,u,l),z0(e,e.mapping.slice(l).map(u,1),s,void 0,f===null);let m=e.mapping.slice(l),g=m.map(u,1),y=m.map(u+c.nodeSize,1);return e.step(new Nr(g,y,g+1,y-1,new Ie(Oe.from(s.create(h,null,c.marks)),0,0),1,!0)),f===!0&&S6(e,c,u,l),!1}})}function S6(e,t,r,s){t.forEach((a,l)=>{if(a.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(a.text);){let h=e.mapping.slice(s).map(r+1+l+c.index);e.replaceWith(h,h+1,t.type.schema.linebreakReplacement.create())}}})}function k6(e,t,r,s){t.forEach((a,l)=>{if(a.type==a.type.schema.linebreakReplacement){let c=e.mapping.slice(s).map(r+1+l);e.replaceWith(c,c+1,t.type.schema.text(`
`))}})}function WO(e,t,r){let s=e.resolve(t),a=s.index();return s.parent.canReplaceWith(a,a+1,r)}function KO(e,t,r,s,a){let l=e.doc.nodeAt(t);if(!l)throw new RangeError("No node at given position");r||(r=l.type);let c=r.create(s,null,a||l.marks);if(l.isLeaf)return e.replaceWith(t,t+l.nodeSize,c);if(!r.validContent(l.content))throw new RangeError("Invalid content for node type "+r.name);e.step(new Nr(t,t+l.nodeSize,t+1,t+l.nodeSize-1,new Ie(Oe.from(c),0,0),1,!0))}function ea(e,t,r=1,s){let a=e.resolve(t),l=a.depth-r,c=s&&s[s.length-1]||a.parent;if(l<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!c.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let f=a.depth-1,m=r-2;f>l;f--,m--){let g=a.node(f),y=a.index(f);if(g.type.spec.isolating)return!1;let b=g.content.cutByIndex(y,g.childCount),j=s&&s[m+1];j&&(b=b.replaceChild(0,j.type.create(j.attrs)));let N=s&&s[m]||g;if(!g.canReplace(y+1,g.childCount)||!N.type.validContent(b))return!1}let u=a.indexAfter(l),h=s&&s[0];return a.node(l).canReplaceWith(u,u,h?h.type:a.node(l+1).type)}function GO(e,t,r=1,s){let a=e.doc.resolve(t),l=Oe.empty,c=Oe.empty;for(let u=a.depth,h=a.depth-r,f=r-1;u>h;u--,f--){l=Oe.from(a.node(u).copy(l));let m=s&&s[f];c=Oe.from(m?m.type.create(m.attrs,c):a.node(u).copy(c))}e.step(new jr(t,t,new Ie(l.append(c),r,r),!0))}function to(e,t){let r=e.resolve(t),s=r.index();return E6(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(s,s+1)}function YO(e,t){t.content.size||e.type.compatibleContent(t.type);let r=e.contentMatchAt(e.childCount),{linebreakReplacement:s}=e.type.schema;for(let a=0;a<t.childCount;a++){let l=t.child(a),c=l.type==s?e.type.schema.nodes.text:l.type;if(r=r.matchType(c),!r||!e.type.allowsMarks(l.marks))return!1}return r.validEnd}function E6(e,t){return!!(e&&t&&!e.isLeaf&&YO(e,t))}function zf(e,t,r=-1){let s=e.resolve(t);for(let a=s.depth;;a--){let l,c,u=s.index(a);if(a==s.depth?(l=s.nodeBefore,c=s.nodeAfter):r>0?(l=s.node(a+1),u++,c=s.node(a).maybeChild(u)):(l=s.node(a).maybeChild(u-1),c=s.node(a+1)),l&&!l.isTextblock&&E6(l,c)&&s.node(a).canReplace(u,u+1))return t;if(a==0)break;t=r<0?s.before(a):s.after(a)}}function JO(e,t,r){let s=null,{linebreakReplacement:a}=e.doc.type.schema,l=e.doc.resolve(t-r),c=l.node().type;if(a&&c.inlineContent){let m=c.whitespace=="pre",g=!!c.contentMatch.matchType(a);m&&!g?s=!1:!m&&g&&(s=!0)}let u=e.steps.length;if(s===!1){let m=e.doc.resolve(t+r);k6(e,m.node(),m.before(),u)}c.inlineContent&&z0(e,t+r-1,c,l.node().contentMatchAt(l.index()),s==null);let h=e.mapping.slice(u),f=h.map(t-r);if(e.step(new jr(f,h.map(t+r,-1),Ie.empty,!0)),s===!0){let m=e.doc.resolve(f);S6(e,m.node(),m.before(),e.steps.length)}return e}function QO(e,t,r){let s=e.resolve(t);if(s.parent.canReplaceWith(s.index(),s.index(),r))return t;if(s.parentOffset==0)for(let a=s.depth-1;a>=0;a--){let l=s.index(a);if(s.node(a).canReplaceWith(l,l,r))return s.before(a+1);if(l>0)return null}if(s.parentOffset==s.parent.content.size)for(let a=s.depth-1;a>=0;a--){let l=s.indexAfter(a);if(s.node(a).canReplaceWith(l,l,r))return s.after(a+1);if(l<s.node(a).childCount)return null}return null}function T6(e,t,r){let s=e.resolve(t);if(!r.content.size)return t;let a=r.content;for(let l=0;l<r.openStart;l++)a=a.firstChild.content;for(let l=1;l<=(r.openStart==0&&r.size?2:1);l++)for(let c=s.depth;c>=0;c--){let u=c==s.depth?0:s.pos<=(s.start(c+1)+s.end(c+1))/2?-1:1,h=s.index(c)+(u>0?1:0),f=s.node(c),m=!1;if(l==1)m=f.canReplace(h,h,a);else{let g=f.contentMatchAt(h).findWrapping(a.firstChild.type);m=g&&f.canReplaceWith(h,h,g[0])}if(m)return u==0?s.pos:u<0?s.before(c+1):s.after(c+1)}return null}function Lf(e,t,r=t,s=Ie.empty){if(t==r&&!s.size)return null;let a=e.resolve(t),l=e.resolve(r);return A6(a,l,s)?new jr(t,r,s):new XO(a,l,s).fit()}function A6(e,t,r){return!r.openStart&&!r.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),r.content)}class XO{constructor(t,r,s){this.$from=t,this.$to=r,this.unplaced=s,this.frontier=[],this.placed=Oe.empty;for(let a=0;a<=t.depth;a++){let l=t.node(a);this.frontier.push({type:l.type,match:l.contentMatchAt(t.indexAfter(a))})}for(let a=t.depth;a>0;a--)this.placed=Oe.from(t.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,s=this.$from,a=this.close(t<0?this.$to:s.doc.resolve(t));if(!a)return null;let l=this.placed,c=s.depth,u=a.depth;for(;c&&u&&l.childCount==1;)l=l.firstChild.content,c--,u--;let h=new Ie(l,c,u);return t>-1?new Nr(s.pos,t,this.$to.pos,this.$to.end(),h,r):h.size||s.pos!=this.$to.pos?new jr(s.pos,a.pos,h):null}findFittable(){let t=this.unplaced.openStart;for(let r=this.unplaced.content,s=0,a=this.unplaced.openEnd;s<t;s++){let l=r.firstChild;if(r.childCount>1&&(a=0),l.type.spec.isolating&&a<=s){t=s;break}r=l.content}for(let r=1;r<=2;r++)for(let s=r==1?t:this.unplaced.openStart;s>=0;s--){let a,l=null;s?(l=Og(this.unplaced.content,s-1).firstChild,a=l.content):a=this.unplaced.content;let c=a.firstChild;for(let u=this.depth;u>=0;u--){let{type:h,match:f}=this.frontier[u],m,g=null;if(r==1&&(c?f.matchType(c.type)||(g=f.fillBefore(Oe.from(c),!1)):l&&h.compatibleContent(l.type)))return{sliceDepth:s,frontierDepth:u,parent:l,inject:g};if(r==2&&c&&(m=f.findWrapping(c.type)))return{sliceDepth:s,frontierDepth:u,parent:l,wrap:m};if(l&&f.matchType(l.type))break}}}openMore(){let{content:t,openStart:r,openEnd:s}=this.unplaced,a=Og(t,r);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new Ie(t,r+1,Math.max(s,a.size+r>=t.size-s?r+1:0)),!0)}dropNode(){let{content:t,openStart:r,openEnd:s}=this.unplaced,a=Og(t,r);if(a.childCount<=1&&r>0){let l=t.size-r<=r+a.size;this.unplaced=new Ie(mc(t,r-1,1),r-1,l?r-1:s)}else this.unplaced=new Ie(mc(t,r,1),r,s)}placeNodes({sliceDepth:t,frontierDepth:r,parent:s,inject:a,wrap:l}){for(;this.depth>r;)this.closeFrontierNode();if(l)for(let N=0;N<l.length;N++)this.openFrontierNode(l[N]);let c=this.unplaced,u=s?s.content:c.content,h=c.openStart-t,f=0,m=[],{match:g,type:y}=this.frontier[r];if(a){for(let N=0;N<a.childCount;N++)m.push(a.child(N));g=g.matchFragment(a)}let b=u.size+t-(c.content.size-c.openEnd);for(;f<u.childCount;){let N=u.child(f),C=g.matchType(N.type);if(!C)break;f++,(f>1||h==0||N.content.size)&&(g=C,m.push(M6(N.mark(y.allowedMarks(N.marks)),f==1?h:0,f==u.childCount?b:-1)))}let j=f==u.childCount;j||(b=-1),this.placed=gc(this.placed,r,Oe.from(m)),this.frontier[r].match=g,j&&b<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let N=0,C=u;N<b;N++){let w=C.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),C=w.content}this.unplaced=j?t==0?Ie.empty:new Ie(mc(c.content,t-1,1),t-1,b<0?c.openEnd:t-1):new Ie(mc(c.content,t,f),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],r;if(!t.type.isTextblock||!Dg(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:s}=this.$to,a=this.$to.after(s);for(;s>1&&a==this.$to.end(--s);)++a;return a}findCloseLevel(t){e:for(let r=Math.min(this.depth,t.depth);r>=0;r--){let{match:s,type:a}=this.frontier[r],l=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),c=Dg(t,r,a,s,l);if(c){for(let u=r-1;u>=0;u--){let{match:h,type:f}=this.frontier[u],m=Dg(t,u,f,h,!0);if(!m||m.childCount)continue e}return{depth:r,fit:c,move:l?t.doc.resolve(t.after(r+1)):t}}}}close(t){let r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=gc(this.placed,r.depth,r.fit)),t=r.move;for(let s=r.depth+1;s<=t.depth;s++){let a=t.node(s),l=a.type.contentMatch.fillBefore(a.content,!0,t.index(s));this.openFrontierNode(a.type,a.attrs,l)}return t}openFrontierNode(t,r=null,s){let a=this.frontier[this.depth];a.match=a.match.matchType(t),this.placed=gc(this.placed,this.depth,Oe.from(t.create(r,s))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Oe.empty,!0);r.childCount&&(this.placed=gc(this.placed,this.frontier.length,r))}}function mc(e,t,r){return t==0?e.cutByIndex(r,e.childCount):e.replaceChild(0,e.firstChild.copy(mc(e.firstChild.content,t-1,r)))}function gc(e,t,r){return t==0?e.append(r):e.replaceChild(e.childCount-1,e.lastChild.copy(gc(e.lastChild.content,t-1,r)))}function Og(e,t){for(let r=0;r<t;r++)e=e.firstChild.content;return e}function M6(e,t,r){if(t<=0)return e;let s=e.content;return t>1&&(s=s.replaceChild(0,M6(s.firstChild,t-1,s.childCount==1?r-1:0))),t>0&&(s=e.type.contentMatch.fillBefore(s).append(s),r<=0&&(s=s.append(e.type.contentMatch.matchFragment(s).fillBefore(Oe.empty,!0)))),e.copy(s)}function Dg(e,t,r,s,a){let l=e.node(t),c=a?e.indexAfter(t):e.index(t);if(c==l.childCount&&!r.compatibleContent(l.type))return null;let u=s.fillBefore(l.content,!0,c);return u&&!ZO(r,l.content,c)?u:null}function ZO(e,t,r){for(let s=r;s<t.childCount;s++)if(!e.allowsMarks(t.child(s).marks))return!0;return!1}function eD(e){return e.spec.defining||e.spec.definingForContent}function tD(e,t,r,s){if(!s.size)return e.deleteRange(t,r);let a=e.doc.resolve(t),l=e.doc.resolve(r);if(A6(a,l,s))return e.step(new jr(t,r,s));let c=D6(a,l);c[c.length-1]==0&&c.pop();let u=-(a.depth+1);c.unshift(u);for(let y=a.depth,b=a.pos-1;y>0;y--,b--){let j=a.node(y).type.spec;if(j.defining||j.definingAsContext||j.isolating)break;c.indexOf(y)>-1?u=y:a.before(y)==b&&c.splice(1,0,-y)}let h=c.indexOf(u),f=[],m=s.openStart;for(let y=s.content,b=0;;b++){let j=y.firstChild;if(f.push(j),b==s.openStart)break;y=j.content}for(let y=m-1;y>=0;y--){let b=f[y],j=eD(b.type);if(j&&!b.sameMarkup(a.node(Math.abs(u)-1)))m=y;else if(j||!b.type.isTextblock)break}for(let y=s.openStart;y>=0;y--){let b=(y+m+1)%(s.openStart+1),j=f[b];if(j)for(let N=0;N<c.length;N++){let C=c[(N+h)%c.length],w=!0;C<0&&(w=!1,C=-C);let T=a.node(C-1),E=a.index(C-1);if(T.canReplaceWith(E,E,j.type,j.marks))return e.replace(a.before(C),w?l.after(C):r,new Ie(O6(s.content,0,s.openStart,b),b,s.openEnd))}}let g=e.steps.length;for(let y=c.length-1;y>=0&&(e.replace(t,r,s),!(e.steps.length>g));y--){let b=c[y];b<0||(t=a.before(b),r=l.after(b))}}function O6(e,t,r,s,a){if(t<r){let l=e.firstChild;e=e.replaceChild(0,l.copy(O6(l.content,t+1,r,s,l)))}if(t>s){let l=a.contentMatchAt(0),c=l.fillBefore(e).append(e);e=c.append(l.matchFragment(c).fillBefore(Oe.empty,!0))}return e}function rD(e,t,r,s){if(!s.isInline&&t==r&&e.doc.resolve(t).parent.content.size){let a=QO(e.doc,t,s.type);a!=null&&(t=r=a)}e.replaceRange(t,r,new Ie(Oe.from(s),0,0))}function nD(e,t,r){let s=e.doc.resolve(t),a=e.doc.resolve(r),l=D6(s,a);for(let c=0;c<l.length;c++){let u=l[c],h=c==l.length-1;if(h&&u==0||s.node(u).type.contentMatch.validEnd)return e.delete(s.start(u),a.end(u));if(u>0&&(h||s.node(u-1).canReplace(s.index(u-1),a.indexAfter(u-1))))return e.delete(s.before(u),a.after(u))}for(let c=1;c<=s.depth&&c<=a.depth;c++)if(t-s.start(c)==s.depth-c&&r>s.end(c)&&a.end(c)-r!=a.depth-c&&s.start(c-1)==a.start(c-1)&&s.node(c-1).canReplace(s.index(c-1),a.index(c-1)))return e.delete(s.before(c),r);e.delete(t,r)}function D6(e,t){let r=[],s=Math.min(e.depth,t.depth);for(let a=s;a>=0;a--){let l=e.start(a);if(l<e.pos-(e.depth-a)||t.end(a)>t.pos+(t.depth-a)||e.node(a).type.spec.isolating||t.node(a).type.spec.isolating)break;(l==t.start(a)||a==e.depth&&a==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&a&&t.start(a-1)==l-1)&&r.push(a)}return r}class ql extends Hr{constructor(t,r,s){super(),this.pos=t,this.attr=r,this.value=s}apply(t){let r=t.nodeAt(this.pos);if(!r)return fr.fail("No node at attribute step's position");let s=Object.create(null);for(let l in r.attrs)s[l]=r.attrs[l];s[this.attr]=this.value;let a=r.type.create(s,null,r.marks);return fr.fromReplace(t,this.pos,this.pos+1,new Ie(Oe.from(a),0,r.isLeaf?0:1))}getMap(){return yn.empty}invert(t){return new ql(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new ql(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ql(r.pos,r.attr,r.value)}}Hr.jsonID("attr",ql);class qc extends Hr{constructor(t,r){super(),this.attr=t,this.value=r}apply(t){let r=Object.create(null);for(let a in t.attrs)r[a]=t.attrs[a];r[this.attr]=this.value;let s=t.type.create(r,t.content,t.marks);return fr.ok(s)}getMap(){return yn.empty}invert(t){return new qc(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new qc(r.attr,r.value)}}Hr.jsonID("docAttr",qc);let Ql=class extends Error{};Ql=function e(t){let r=Error.call(this,t);return r.__proto__=e.prototype,r};Ql.prototype=Object.create(Error.prototype);Ql.prototype.constructor=Ql;Ql.prototype.name="TransformError";class R6{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Fc}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let r=this.maybeStep(t);if(r.failed)throw new Ql(r.failed);return this}maybeStep(t){let r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r}get docChanged(){return this.steps.length>0}addStep(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r}replace(t,r=t,s=Ie.empty){let a=Lf(this.doc,t,r,s);return a&&this.step(a),this}replaceWith(t,r,s){return this.replace(t,r,new Ie(Oe.from(s),0,0))}delete(t,r){return this.replace(t,r,Ie.empty)}insert(t,r){return this.replaceWith(t,t,r)}replaceRange(t,r,s){return tD(this,t,r,s),this}replaceRangeWith(t,r,s){return rD(this,t,r,s),this}deleteRange(t,r){return nD(this,t,r),this}lift(t,r){return HO(this,t,r),this}join(t,r=1){return JO(this,t,r),this}wrap(t,r){return FO(this,t,r),this}setBlockType(t,r=t,s,a=null){return qO(this,t,r,s,a),this}setNodeMarkup(t,r,s=null,a){return KO(this,t,r,s,a),this}setNodeAttribute(t,r,s){return this.step(new ql(t,r,s)),this}setDocAttribute(t,r){return this.step(new qc(t,r)),this}addNodeMark(t,r){return this.step(new Ha(t,r)),this}removeNodeMark(t,r){let s=this.doc.nodeAt(t);if(!s)throw new RangeError("No node at position "+t);if(r instanceof Ut)r.isInSet(s.marks)&&this.step(new Vo(t,r));else{let a=s.marks,l,c=[];for(;l=r.isInSet(a);)c.push(new Vo(t,l)),a=l.removeFromSet(a);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(t,r=1,s){return GO(this,t,r,s),this}addMark(t,r,s){return PO(this,t,r,s),this}removeMark(t,r,s){return IO(this,t,r,s),this}clearIncompatible(t,r,s){return z0(this,t,r,s),this}}const Rg=Object.create(null);class gt{constructor(t,r,s){this.$anchor=t,this.$head=r,this.ranges=s||[new sD(t.min(r),t.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let r=0;r<t.length;r++)if(t[r].$from.pos!=t[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,r=Ie.empty){let s=r.content.lastChild,a=null;for(let u=0;u<r.openEnd;u++)a=s,s=s.lastChild;let l=t.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:h,$to:f}=c[u],m=t.mapping.slice(l);t.replaceRange(m.map(h.pos),m.map(f.pos),u?Ie.empty:r),u==0&&U4(t,l,(s?s.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(t,r){let s=t.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:u}=a[l],h=t.mapping.slice(s),f=h.map(c.pos),m=h.map(u.pos);l?t.deleteRange(f,m):(t.replaceRangeWith(f,m,r),U4(t,s,r.isInline?-1:1))}}static findFrom(t,r,s=!1){let a=t.parent.inlineContent?new ot(t):Pl(t.node(0),t.parent,t.pos,t.index(),r,s);if(a)return a;for(let l=t.depth-1;l>=0;l--){let c=r<0?Pl(t.node(0),t.node(l),t.before(l+1),t.index(l),r,s):Pl(t.node(0),t.node(l),t.after(l+1),t.index(l)+1,r,s);if(c)return c}return null}static near(t,r=1){return this.findFrom(t,r)||this.findFrom(t,-r)||new jn(t.node(0))}static atStart(t){return Pl(t,t,0,0,1)||new jn(t)}static atEnd(t){return Pl(t,t,t.content.size,t.childCount,-1)||new jn(t)}static fromJSON(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=Rg[r.type];if(!s)throw new RangeError(`No selection type ${r.type} defined`);return s.fromJSON(t,r)}static jsonID(t,r){if(t in Rg)throw new RangeError("Duplicate use of selection JSON ID "+t);return Rg[t]=r,r.prototype.jsonID=t,r}getBookmark(){return ot.between(this.$anchor,this.$head).getBookmark()}}gt.prototype.visible=!0;class sD{constructor(t,r){this.$from=t,this.$to=r}}let $4=!1;function H4(e){!$4&&!e.parent.inlineContent&&($4=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ot extends gt{constructor(t,r=t){H4(t),H4(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let s=t.resolve(r.map(this.head));if(!s.parent.inlineContent)return gt.near(s);let a=t.resolve(r.map(this.anchor));return new ot(a.parent.inlineContent?a:s,s)}replace(t,r=Ie.empty){if(super.replace(t,r),r==Ie.empty){let s=this.$from.marksAcross(this.$to);s&&t.ensureMarks(s)}}eq(t){return t instanceof ot&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Bf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ot(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,s=r){let a=t.resolve(r);return new this(a,s==r?a:t.resolve(s))}static between(t,r,s){let a=t.pos-r.pos;if((!s||a)&&(s=a>=0?1:-1),!r.parent.inlineContent){let l=gt.findFrom(r,s,!0)||gt.findFrom(r,-s,!0);if(l)r=l.$head;else return gt.near(r,s)}return t.parent.inlineContent||(a==0?t=r:(t=(gt.findFrom(t,-s,!0)||gt.findFrom(t,s,!0)).$anchor,t.pos<r.pos!=a<0&&(t=r))),new ot(t,r)}}gt.jsonID("text",ot);class Bf{constructor(t,r){this.anchor=t,this.head=r}map(t){return new Bf(t.map(this.anchor),t.map(this.head))}resolve(t){return ot.between(t.resolve(this.anchor),t.resolve(this.head))}}class Xe extends gt{constructor(t){let r=t.nodeAfter,s=t.node(0).resolve(t.pos+r.nodeSize);super(t,s),this.node=r}map(t,r){let{deleted:s,pos:a}=r.mapResult(this.anchor),l=t.resolve(a);return s?gt.near(l):new Xe(l)}content(){return new Ie(Oe.from(this.node),0,0)}eq(t){return t instanceof Xe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new B0(this.anchor)}static fromJSON(t,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Xe(t.resolve(r.anchor))}static create(t,r){return new Xe(t.resolve(r))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Xe.prototype.visible=!1;gt.jsonID("node",Xe);class B0{constructor(t){this.anchor=t}map(t){let{deleted:r,pos:s}=t.mapResult(this.anchor);return r?new Bf(s,s):new B0(s)}resolve(t){let r=t.resolve(this.anchor),s=r.nodeAfter;return s&&Xe.isSelectable(s)?new Xe(r):gt.near(r)}}class jn extends gt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=Ie.empty){if(r==Ie.empty){t.delete(0,t.doc.content.size);let s=gt.atStart(t.doc);s.eq(t.selection)||t.setSelection(s)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new jn(t)}map(t){return new jn(t)}eq(t){return t instanceof jn}getBookmark(){return aD}}gt.jsonID("all",jn);const aD={map(){return this},resolve(e){return new jn(e)}};function Pl(e,t,r,s,a,l=!1){if(t.inlineContent)return ot.create(e,r);for(let c=s-(a>0?0:1);a>0?c<t.childCount:c>=0;c+=a){let u=t.child(c);if(u.isAtom){if(!l&&Xe.isSelectable(u))return Xe.create(e,r-(a<0?u.nodeSize:0))}else{let h=Pl(e,u,r+a,a<0?u.childCount:0,a,l);if(h)return h}r+=u.nodeSize*a}return null}function U4(e,t,r){let s=e.steps.length-1;if(s<t)return;let a=e.steps[s];if(!(a instanceof jr||a instanceof Nr))return;let l=e.mapping.maps[s],c;l.forEach((u,h,f,m)=>{c==null&&(c=m)}),e.setSelection(gt.near(e.doc.resolve(c),r))}const V4=1,Bu=2,F4=4;class oD extends R6{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|V4)&~Bu,this.storedMarks=null,this}get selectionSet(){return(this.updated&V4)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Bu,this}ensureMarks(t){return Ut.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Bu)>0}addStep(t,r){super.addStep(t,r),this.updated=this.updated&~Bu,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,r=!0){let s=this.selection;return r&&(t=t.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Ut.none))),s.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,r,s){let a=this.doc.type.schema;if(r==null)return t?this.replaceSelectionWith(a.text(t),!0):this.deleteSelection();{if(s==null&&(s=r),!t)return this.deleteRange(r,s);let l=this.storedMarks;if(!l){let c=this.doc.resolve(r);l=s==r?c.marks():c.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(r,s,a.text(t,l)),!this.selection.empty&&this.selection.to==r+t.length&&this.setSelection(gt.near(this.selection.$to)),this}}setMeta(t,r){return this.meta[typeof t=="string"?t:t.key]=r,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=F4,this}get scrolledIntoView(){return(this.updated&F4)>0}}function q4(e,t){return!t||!e?e:e.bind(t)}class xc{constructor(t,r,s){this.name=t,this.init=q4(r.init,s),this.apply=q4(r.apply,s)}}const lD=[new xc("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new xc("selection",{init(e,t){return e.selection||gt.atStart(t.doc)},apply(e){return e.selection}}),new xc("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,r,s){return s.selection.$cursor?e.storedMarks:null}}),new xc("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class zg{constructor(t,r){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=lD.slice(),r&&r.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new xc(s.key,s.spec.state,s))})}}class Ul{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=r){let a=this.config.plugins[s];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],s=this.applyInner(t),a=null;for(;;){let l=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let h=a?a[c].n:0,f=a?a[c].state:this,m=h<r.length&&u.spec.appendTransaction.call(u,h?r.slice(h):r,f,s);if(m&&s.filterTransaction(m,c)){if(m.setMeta("appendedTransaction",t),!a){a=[];for(let g=0;g<this.config.plugins.length;g++)a.push(g<c?{state:s,n:r.length}:{state:this,n:0})}r.push(m),s=s.applyInner(m),l=!0}a&&(a[c]={state:s,n:r.length})}}if(!l)return{state:s,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Ul(this.config),s=this.config.fields;for(let a=0;a<s.length;a++){let l=s[a];r[l.name]=l.apply(t,this[l.name],this,r)}return r}get tr(){return new oD(this)}static create(t){let r=new zg(t.doc?t.doc.type.schema:t.schema,t.plugins),s=new Ul(r);for(let a=0;a<r.fields.length;a++)s[r.fields[a].name]=r.fields[a].init(t,s);return s}reconfigure(t){let r=new zg(this.schema,t.plugins),s=r.fields,a=new Ul(r);for(let l=0;l<s.length;l++){let c=s[l].name;a[c]=this.hasOwnProperty(c)?this[c]:s[l].init(t,a)}return a}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(s=>s.toJSON())),t&&typeof t=="object")for(let s in t){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=t[s],l=a.spec.state;l&&l.toJSON&&(r[s]=l.toJSON.call(a,this[a.key]))}return r}static fromJSON(t,r,s){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let a=new zg(t.schema,t.plugins),l=new Ul(a);return a.fields.forEach(c=>{if(c.name=="doc")l.doc=ts.fromJSON(t.schema,r.doc);else if(c.name=="selection")l.selection=gt.fromJSON(l.doc,r.selection);else if(c.name=="storedMarks")r.storedMarks&&(l.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(s)for(let u in s){let h=s[u],f=h.spec.state;if(h.key==c.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(r,u)){l[c.name]=f.fromJSON.call(h,t,r[u],l);return}}l[c.name]=c.init(t,l)}}),l}}function z6(e,t,r){for(let s in e){let a=e[s];a instanceof Function?a=a.bind(t):s=="handleDOMEvents"&&(a=z6(a,t,{})),r[s]=a}return r}class Zt{constructor(t){this.spec=t,this.props={},t.props&&z6(t.props,this,this.props),this.key=t.key?t.key.key:L6("plugin")}getState(t){return t[this.key]}}const Lg=Object.create(null);function L6(e){return e in Lg?e+"$"+ ++Lg[e]:(Lg[e]=0,e+"$")}class yr{constructor(t="key"){this.key=L6(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const _0=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function B6(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("backward",e):r.parentOffset>0)?null:r}const _6=(e,t,r)=>{let s=B6(e,r);if(!s)return!1;let a=P0(s);if(!a){let c=s.blockRange(),u=c&&hi(c);return u==null?!1:(t&&t(e.tr.lift(c,u).scrollIntoView()),!0)}let l=a.nodeBefore;if(W6(e,a,t,-1))return!0;if(s.parent.content.size==0&&(Xl(l,"end")||Xe.isSelectable(l)))for(let c=s.depth;;c--){let u=Lf(e.doc,s.before(c),s.after(c),Ie.empty);if(u&&u.slice.size<u.to-u.from){if(t){let h=e.tr.step(u);h.setSelection(Xl(l,"end")?gt.findFrom(h.doc.resolve(h.mapping.map(a.pos,-1)),-1):Xe.create(h.doc,a.pos-l.nodeSize)),t(h.scrollIntoView())}return!0}if(c==1||s.node(c-1).childCount>1)break}return l.isAtom&&a.depth==s.depth-1?(t&&t(e.tr.delete(a.pos-l.nodeSize,a.pos).scrollIntoView()),!0):!1},iD=(e,t,r)=>{let s=B6(e,r);if(!s)return!1;let a=P0(s);return a?P6(e,a,t):!1},cD=(e,t,r)=>{let s=$6(e,r);if(!s)return!1;let a=I0(s);return a?P6(e,a,t):!1};function P6(e,t,r){let s=t.nodeBefore,a=s,l=t.pos-1;for(;!a.isTextblock;l--){if(a.type.spec.isolating)return!1;let m=a.lastChild;if(!m)return!1;a=m}let c=t.nodeAfter,u=c,h=t.pos+1;for(;!u.isTextblock;h++){if(u.type.spec.isolating)return!1;let m=u.firstChild;if(!m)return!1;u=m}let f=Lf(e.doc,l,h,Ie.empty);if(!f||f.from!=l||f instanceof jr&&f.slice.size>=h-l)return!1;if(r){let m=e.tr.step(f);m.setSelection(ot.create(m.doc,l)),r(m.scrollIntoView())}return!0}function Xl(e,t,r=!1){for(let s=e;s;s=t=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(r&&s.childCount!=1)return!1}return!1}const I6=(e,t,r)=>{let{$head:s,empty:a}=e.selection,l=s;if(!a)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("backward",e):s.parentOffset>0)return!1;l=P0(s)}let c=l&&l.nodeBefore;return!c||!Xe.isSelectable(c)?!1:(t&&t(e.tr.setSelection(Xe.create(e.doc,l.pos-c.nodeSize)).scrollIntoView()),!0)};function P0(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function $6(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)?null:r}const H6=(e,t,r)=>{let s=$6(e,r);if(!s)return!1;let a=I0(s);if(!a)return!1;let l=a.nodeAfter;if(W6(e,a,t,1))return!0;if(s.parent.content.size==0&&(Xl(l,"start")||Xe.isSelectable(l))){let c=Lf(e.doc,s.before(),s.after(),Ie.empty);if(c&&c.slice.size<c.to-c.from){if(t){let u=e.tr.step(c);u.setSelection(Xl(l,"start")?gt.findFrom(u.doc.resolve(u.mapping.map(a.pos)),1):Xe.create(u.doc,u.mapping.map(a.pos))),t(u.scrollIntoView())}return!0}}return l.isAtom&&a.depth==s.depth-1?(t&&t(e.tr.delete(a.pos,a.pos+l.nodeSize).scrollIntoView()),!0):!1},U6=(e,t,r)=>{let{$head:s,empty:a}=e.selection,l=s;if(!a)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("forward",e):s.parentOffset<s.parent.content.size)return!1;l=I0(s)}let c=l&&l.nodeAfter;return!c||!Xe.isSelectable(c)?!1:(t&&t(e.tr.setSelection(Xe.create(e.doc,l.pos)).scrollIntoView()),!0)};function I0(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let r=e.node(t);if(e.index(t)+1<r.childCount)return e.doc.resolve(e.after(t+1));if(r.type.spec.isolating)break}return null}const dD=(e,t)=>{let r=e.selection,s=r instanceof Xe,a;if(s){if(r.node.isTextblock||!to(e.doc,r.from))return!1;a=r.from}else if(a=zf(e.doc,r.from,-1),a==null)return!1;if(t){let l=e.tr.join(a);s&&l.setSelection(Xe.create(l.doc,a-e.doc.resolve(a).nodeBefore.nodeSize)),t(l.scrollIntoView())}return!0},uD=(e,t)=>{let r=e.selection,s;if(r instanceof Xe){if(r.node.isTextblock||!to(e.doc,r.to))return!1;s=r.to}else if(s=zf(e.doc,r.to,1),s==null)return!1;return t&&t(e.tr.join(s).scrollIntoView()),!0},hD=(e,t)=>{let{$from:r,$to:s}=e.selection,a=r.blockRange(s),l=a&&hi(a);return l==null?!1:(t&&t(e.tr.lift(a,l).scrollIntoView()),!0)},V6=(e,t)=>{let{$head:r,$anchor:s}=e.selection;return!r.parent.type.spec.code||!r.sameParent(s)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function $0(e){for(let t=0;t<e.edgeCount;t++){let{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const fD=(e,t)=>{let{$head:r,$anchor:s}=e.selection;if(!r.parent.type.spec.code||!r.sameParent(s))return!1;let a=r.node(-1),l=r.indexAfter(-1),c=$0(a.contentMatchAt(l));if(!c||!a.canReplaceWith(l,l,c))return!1;if(t){let u=r.after(),h=e.tr.replaceWith(u,u,c.createAndFill());h.setSelection(gt.near(h.doc.resolve(u),1)),t(h.scrollIntoView())}return!0},F6=(e,t)=>{let r=e.selection,{$from:s,$to:a}=r;if(r instanceof jn||s.parent.inlineContent||a.parent.inlineContent)return!1;let l=$0(a.parent.contentMatchAt(a.indexAfter()));if(!l||!l.isTextblock)return!1;if(t){let c=(!s.parentOffset&&a.index()<a.parent.childCount?s:a).pos,u=e.tr.insert(c,l.createAndFill());u.setSelection(ot.create(u.doc,c+1)),t(u.scrollIntoView())}return!0},q6=(e,t)=>{let{$cursor:r}=e.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let l=r.before();if(ea(e.doc,l))return t&&t(e.tr.split(l).scrollIntoView()),!0}let s=r.blockRange(),a=s&&hi(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)};function pD(e){return(t,r)=>{let{$from:s,$to:a}=t.selection;if(t.selection instanceof Xe&&t.selection.node.isBlock)return!s.parentOffset||!ea(t.doc,s.pos)?!1:(r&&r(t.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let l=[],c,u,h=!1,f=!1;for(let b=s.depth;;b--)if(s.node(b).isBlock){h=s.end(b)==s.pos+(s.depth-b),f=s.start(b)==s.pos-(s.depth-b),u=$0(s.node(b-1).contentMatchAt(s.indexAfter(b-1))),l.unshift(h&&u?{type:u}:null),c=b;break}else{if(b==1)return!1;l.unshift(null)}let m=t.tr;(t.selection instanceof ot||t.selection instanceof jn)&&m.deleteSelection();let g=m.mapping.map(s.pos),y=ea(m.doc,g,l.length,l);if(y||(l[0]=u?{type:u}:null,y=ea(m.doc,g,l.length,l)),!y)return!1;if(m.split(g,l.length,l),!h&&f&&s.node(c).type!=u){let b=m.mapping.map(s.before(c)),j=m.doc.resolve(b);u&&s.node(c-1).canReplaceWith(j.index(),j.index()+1,u)&&m.setNodeMarkup(m.mapping.map(s.before(c)),u)}return r&&r(m.scrollIntoView()),!0}}const mD=pD(),gD=(e,t)=>{let{$from:r,to:s}=e.selection,a,l=r.sharedDepth(s);return l==0?!1:(a=r.before(l),t&&t(e.tr.setSelection(Xe.create(e.doc,a))),!0)};function xD(e,t,r){let s=t.nodeBefore,a=t.nodeAfter,l=t.index();return!s||!a||!s.type.compatibleContent(a.type)?!1:!s.content.size&&t.parent.canReplace(l-1,l)?(r&&r(e.tr.delete(t.pos-s.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(l,l+1)||!(a.isTextblock||to(e.doc,t.pos))?!1:(r&&r(e.tr.join(t.pos).scrollIntoView()),!0)}function W6(e,t,r,s){let a=t.nodeBefore,l=t.nodeAfter,c,u,h=a.type.spec.isolating||l.type.spec.isolating;if(!h&&xD(e,t,r))return!0;let f=!h&&t.parent.canReplace(t.index(),t.index()+1);if(f&&(c=(u=a.contentMatchAt(a.childCount)).findWrapping(l.type))&&u.matchType(c[0]||l.type).validEnd){if(r){let b=t.pos+l.nodeSize,j=Oe.empty;for(let w=c.length-1;w>=0;w--)j=Oe.from(c[w].create(null,j));j=Oe.from(a.copy(j));let N=e.tr.step(new Nr(t.pos-1,b,t.pos,b,new Ie(j,1,0),c.length,!0)),C=N.doc.resolve(b+2*c.length);C.nodeAfter&&C.nodeAfter.type==a.type&&to(N.doc,C.pos)&&N.join(C.pos),r(N.scrollIntoView())}return!0}let m=l.type.spec.isolating||s>0&&h?null:gt.findFrom(t,1),g=m&&m.$from.blockRange(m.$to),y=g&&hi(g);if(y!=null&&y>=t.depth)return r&&r(e.tr.lift(g,y).scrollIntoView()),!0;if(f&&Xl(l,"start",!0)&&Xl(a,"end")){let b=a,j=[];for(;j.push(b),!b.isTextblock;)b=b.lastChild;let N=l,C=1;for(;!N.isTextblock;N=N.firstChild)C++;if(b.canReplace(b.childCount,b.childCount,N.content)){if(r){let w=Oe.empty;for(let E=j.length-1;E>=0;E--)w=Oe.from(j[E].copy(w));let T=e.tr.step(new Nr(t.pos-j.length,t.pos+l.nodeSize,t.pos+C,t.pos+l.nodeSize-C,new Ie(w,j.length,0),0,!0));r(T.scrollIntoView())}return!0}}return!1}function K6(e){return function(t,r){let s=t.selection,a=e<0?s.$from:s.$to,l=a.depth;for(;a.node(l).isInline;){if(!l)return!1;l--}return a.node(l).isTextblock?(r&&r(t.tr.setSelection(ot.create(t.doc,e<0?a.start(l):a.end(l)))),!0):!1}}const yD=K6(-1),bD=K6(1);function vD(e,t=null){return function(r,s){let{$from:a,$to:l}=r.selection,c=a.blockRange(l),u=c&&L0(c,e,t);return u?(s&&s(r.tr.wrap(c,u).scrollIntoView()),!0):!1}}function W4(e,t=null){return function(r,s){let a=!1;for(let l=0;l<r.selection.ranges.length&&!a;l++){let{$from:{pos:c},$to:{pos:u}}=r.selection.ranges[l];r.doc.nodesBetween(c,u,(h,f)=>{if(a)return!1;if(!(!h.isTextblock||h.hasMarkup(e,t)))if(h.type==e)a=!0;else{let m=r.doc.resolve(f),g=m.index();a=m.parent.canReplaceWith(g,g+1,e)}})}if(!a)return!1;if(s){let l=r.tr;for(let c=0;c<r.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:h}}=r.selection.ranges[c];l.setBlockType(u,h,e,t)}s(l.scrollIntoView())}return!0}}function H0(...e){return function(t,r,s){for(let a=0;a<e.length;a++)if(e[a](t,r,s))return!0;return!1}}H0(_0,_6,I6);H0(_0,H6,U6);H0(V6,F6,q6,mD);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function jD(e,t=null){return function(r,s){let{$from:a,$to:l}=r.selection,c=a.blockRange(l);if(!c)return!1;let u=s?r.tr:null;return wD(u,c,e,t)?(s&&s(u.scrollIntoView()),!0):!1}}function wD(e,t,r,s=null){let a=!1,l=t,c=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(r)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let h=c.resolve(t.start-2);l=new Eh(h,h,t.depth),t.endIndex<t.parent.childCount&&(t=new Eh(t.$from,c.resolve(t.$to.end(t.depth)),t.depth)),a=!0}let u=L0(l,r,s,t);return u?(e&&ND(e,t,u,a,r),!0):!1}function ND(e,t,r,s,a){let l=Oe.empty;for(let m=r.length-1;m>=0;m--)l=Oe.from(r[m].type.create(r[m].attrs,l));e.step(new Nr(t.start-(s?2:0),t.end,t.start,t.end,new Ie(l,0,0),r.length,!0));let c=0;for(let m=0;m<r.length;m++)r[m].type==a&&(c=m+1);let u=r.length-c,h=t.start+r.length-(s?2:0),f=t.parent;for(let m=t.startIndex,g=t.endIndex,y=!0;m<g;m++,y=!1)!y&&ea(e.doc,h,u)&&(e.split(h,u),h+=2*u),h+=f.child(m).nodeSize;return e}function CD(e){return function(t,r){let{$from:s,$to:a}=t.selection,l=s.blockRange(a,c=>c.childCount>0&&c.firstChild.type==e);return l?r?s.node(l.depth-1).type==e?SD(t,r,e,l):kD(t,r,l):!0:!1}}function SD(e,t,r,s){let a=e.tr,l=s.end,c=s.$to.end(s.depth);l<c&&(a.step(new Nr(l-1,c,l,c,new Ie(Oe.from(r.create(null,s.parent.copy())),1,0),1,!0)),s=new Eh(a.doc.resolve(s.$from.pos),a.doc.resolve(c),s.depth));const u=hi(s);if(u==null)return!1;a.lift(s,u);let h=a.doc.resolve(a.mapping.map(l,-1)-1);return to(a.doc,h.pos)&&h.nodeBefore.type==h.nodeAfter.type&&a.join(h.pos),t(a.scrollIntoView()),!0}function kD(e,t,r){let s=e.tr,a=r.parent;for(let b=r.end,j=r.endIndex-1,N=r.startIndex;j>N;j--)b-=a.child(j).nodeSize,s.delete(b-1,b+1);let l=s.doc.resolve(r.start),c=l.nodeAfter;if(s.mapping.map(r.end)!=r.start+l.nodeAfter.nodeSize)return!1;let u=r.startIndex==0,h=r.endIndex==a.childCount,f=l.node(-1),m=l.index(-1);if(!f.canReplace(m+(u?0:1),m+1,c.content.append(h?Oe.empty:Oe.from(a))))return!1;let g=l.pos,y=g+c.nodeSize;return s.step(new Nr(g-(u?1:0),y+(h?1:0),g+1,y-1,new Ie((u?Oe.empty:Oe.from(a.copy(Oe.empty))).append(h?Oe.empty:Oe.from(a.copy(Oe.empty))),u?0:1,h?0:1),u?0:1)),t(s.scrollIntoView()),!0}function ED(e){return function(t,r){let{$from:s,$to:a}=t.selection,l=s.blockRange(a,f=>f.childCount>0&&f.firstChild.type==e);if(!l)return!1;let c=l.startIndex;if(c==0)return!1;let u=l.parent,h=u.child(c-1);if(h.type!=e)return!1;if(r){let f=h.lastChild&&h.lastChild.type==u.type,m=Oe.from(f?e.create():null),g=new Ie(Oe.from(e.create(null,Oe.from(u.type.create(null,m)))),f?3:1,0),y=l.start,b=l.end;r(t.tr.step(new Nr(y-(f?3:1),b,y,b,g,1,!0)).scrollIntoView())}return!0}}const Dr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Zl=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Rx=null;const Gs=function(e,t,r){let s=Rx||(Rx=document.createRange());return s.setEnd(e,r??e.nodeValue.length),s.setStart(e,t||0),s},TD=function(){Rx=null},Fo=function(e,t,r,s){return r&&(K4(e,t,r,s,-1)||K4(e,t,r,s,1))},AD=/^(img|br|input|textarea|hr)$/i;function K4(e,t,r,s,a){for(var l;;){if(e==r&&t==s)return!0;if(t==(a<0?0:Un(e))){let c=e.parentNode;if(!c||c.nodeType!=1||id(e)||AD.test(e.nodeName)||e.contentEditable=="false")return!1;t=Dr(e)+(a<0?0:1),e=c}else if(e.nodeType==1){let c=e.childNodes[t+(a<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((l=c.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)t+=a;else return!1;else e=c,t=a<0?Un(e):0}else return!1}}function Un(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function MD(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Un(e)}else if(e.parentNode&&!id(e))t=Dr(e),e=e.parentNode;else return null}}function OD(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!id(e))t=Dr(e)+1,e=e.parentNode;else return null}}function DD(e,t,r){for(let s=t==0,a=t==Un(e);s||a;){if(e==r)return!0;let l=Dr(e);if(e=e.parentNode,!e)return!1;s=s&&l==0,a=a&&l==Un(e)}}function id(e){let t;for(let r=e;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const _f=function(e){return e.focusNode&&Fo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function ko(e,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=e,r.key=r.code=t,r}function RD(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function zD(e,t,r){if(e.caretPositionFromPoint)try{let s=e.caretPositionFromPoint(t,r);if(s)return{node:s.offsetNode,offset:Math.min(Un(s.offsetNode),s.offset)}}catch{}if(e.caretRangeFromPoint){let s=e.caretRangeFromPoint(t,r);if(s)return{node:s.startContainer,offset:Math.min(Un(s.startContainer),s.startOffset)}}}const Ns=typeof navigator<"u"?navigator:null,G4=typeof document<"u"?document:null,ro=Ns&&Ns.userAgent||"",zx=/Edge\/(\d+)/.exec(ro),G6=/MSIE \d/.exec(ro),Lx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ro),on=!!(G6||Lx||zx),qa=G6?document.documentMode:Lx?+Lx[1]:zx?+zx[1]:0,Vn=!on&&/gecko\/(\d+)/i.test(ro);Vn&&+(/Firefox\/(\d+)/.exec(ro)||[0,0])[1];const Bx=!on&&/Chrome\/(\d+)/.exec(ro),wr=!!Bx,Y6=Bx?+Bx[1]:0,$r=!on&&!!Ns&&/Apple Computer/.test(Ns.vendor),ei=$r&&(/Mobile\/\w+/.test(ro)||!!Ns&&Ns.maxTouchPoints>2),$n=ei||(Ns?/Mac/.test(Ns.platform):!1),J6=Ns?/Win/.test(Ns.platform):!1,Js=/Android \d/.test(ro),cd=!!G4&&"webkitFontSmoothing"in G4.documentElement.style,LD=cd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function BD(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Fs(e,t){return typeof e=="number"?e:e[t]}function _D(e){let t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,s=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*r,top:t.top,bottom:t.top+e.clientHeight*s}}function Y4(e,t,r){let s=e.someProp("scrollThreshold")||0,a=e.someProp("scrollMargin")||5,l=e.dom.ownerDocument;for(let c=r||e.dom;c;){if(c.nodeType!=1){c=Zl(c);continue}let u=c,h=u==l.body,f=h?BD(l):_D(u),m=0,g=0;if(t.top<f.top+Fs(s,"top")?g=-(f.top-t.top+Fs(a,"top")):t.bottom>f.bottom-Fs(s,"bottom")&&(g=t.bottom-t.top>f.bottom-f.top?t.top+Fs(a,"top")-f.top:t.bottom-f.bottom+Fs(a,"bottom")),t.left<f.left+Fs(s,"left")?m=-(f.left-t.left+Fs(a,"left")):t.right>f.right-Fs(s,"right")&&(m=t.right-f.right+Fs(a,"right")),m||g)if(h)l.defaultView.scrollBy(m,g);else{let b=u.scrollLeft,j=u.scrollTop;g&&(u.scrollTop+=g),m&&(u.scrollLeft+=m);let N=u.scrollLeft-b,C=u.scrollTop-j;t={left:t.left-N,top:t.top-C,right:t.right-N,bottom:t.bottom-C}}let y=h?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(y))break;c=y=="absolute"?c.offsetParent:Zl(c)}}function PD(e){let t=e.dom.getBoundingClientRect(),r=Math.max(0,t.top),s,a;for(let l=(t.left+t.right)/2,c=r+1;c<Math.min(innerHeight,t.bottom);c+=5){let u=e.root.elementFromPoint(l,c);if(!u||u==e.dom||!e.dom.contains(u))continue;let h=u.getBoundingClientRect();if(h.top>=r-20){s=u,a=h.top;break}}return{refDOM:s,refTop:a,stack:Q6(e.dom)}}function Q6(e){let t=[],r=e.ownerDocument;for(let s=e;s&&(t.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),e!=r);s=Zl(s));return t}function ID({refDOM:e,refTop:t,stack:r}){let s=e?e.getBoundingClientRect().top:0;X6(r,s==0?0:s-t)}function X6(e,t){for(let r=0;r<e.length;r++){let{dom:s,top:a,left:l}=e[r];s.scrollTop!=a+t&&(s.scrollTop=a+t),s.scrollLeft!=l&&(s.scrollLeft=l)}}let Ll=null;function $D(e){if(e.setActive)return e.setActive();if(Ll)return e.focus(Ll);let t=Q6(e);e.focus(Ll==null?{get preventScroll(){return Ll={preventScroll:!0},!0}}:void 0),Ll||(Ll=!1,X6(t,0))}function Z6(e,t){let r,s=2e8,a,l=0,c=t.top,u=t.top,h,f;for(let m=e.firstChild,g=0;m;m=m.nextSibling,g++){let y;if(m.nodeType==1)y=m.getClientRects();else if(m.nodeType==3)y=Gs(m).getClientRects();else continue;for(let b=0;b<y.length;b++){let j=y[b];if(j.top<=c&&j.bottom>=u){c=Math.max(j.bottom,c),u=Math.min(j.top,u);let N=j.left>t.left?j.left-t.left:j.right<t.left?t.left-j.right:0;if(N<s){r=m,s=N,a=N&&r.nodeType==3?{left:j.right<t.left?j.right:j.left,top:t.top}:t,m.nodeType==1&&N&&(l=g+(t.left>=(j.left+j.right)/2?1:0));continue}}else j.top>t.top&&!h&&j.left<=t.left&&j.right>=t.left&&(h=m,f={left:Math.max(j.left,Math.min(j.right,t.left)),top:j.top});!r&&(t.left>=j.right&&t.top>=j.top||t.left>=j.left&&t.top>=j.bottom)&&(l=g+1)}}return!r&&h&&(r=h,a=f,s=0),r&&r.nodeType==3?HD(r,a):!r||s&&r.nodeType==1?{node:e,offset:l}:Z6(r,a)}function HD(e,t){let r=e.nodeValue.length,s=document.createRange(),a;for(let l=0;l<r;l++){s.setEnd(e,l+1),s.setStart(e,l);let c=Da(s,1);if(c.top!=c.bottom&&U0(t,c)){a={node:e,offset:l+(t.left>=(c.left+c.right)/2?1:0)};break}}return s.detach(),a||{node:e,offset:0}}function U0(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function UD(e,t){let r=e.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<e.getBoundingClientRect().left?r:e}function VD(e,t,r){let{node:s,offset:a}=Z6(t,r),l=-1;if(s.nodeType==1&&!s.firstChild){let c=s.getBoundingClientRect();l=c.left!=c.right&&r.left>(c.left+c.right)/2?1:-1}return e.docView.posFromDOM(s,a,l)}function FD(e,t,r,s){let a=-1;for(let l=t,c=!1;l!=e.dom;){let u=e.docView.nearestDesc(l,!0),h;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((h=u.dom.getBoundingClientRect()).width||h.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&h.left>s.left||h.top>s.top?a=u.posBefore:(!c&&h.right<s.left||h.bottom<s.top)&&(a=u.posAfter),c=!0),!u.contentDOM&&a<0&&!u.node.isText))return(u.node.isBlock?s.top<(h.top+h.bottom)/2:s.left<(h.left+h.right)/2)?u.posBefore:u.posAfter;l=u.dom.parentNode}return a>-1?a:e.docView.posFromDOM(t,r,-1)}function eN(e,t,r){let s=e.childNodes.length;if(s&&r.top<r.bottom)for(let a=Math.max(0,Math.min(s-1,Math.floor(s*(t.top-r.top)/(r.bottom-r.top))-2)),l=a;;){let c=e.childNodes[l];if(c.nodeType==1){let u=c.getClientRects();for(let h=0;h<u.length;h++){let f=u[h];if(U0(t,f))return eN(c,t,f)}}if((l=(l+1)%s)==a)break}return e}function qD(e,t){let r=e.dom.ownerDocument,s,a=0,l=zD(r,t.left,t.top);l&&({node:s,offset:a}=l);let c=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top),u;if(!c||!e.dom.contains(c.nodeType!=1?c.parentNode:c)){let f=e.dom.getBoundingClientRect();if(!U0(t,f)||(c=eN(e.dom,t,f),!c))return null}if($r)for(let f=c;s&&f;f=Zl(f))f.draggable&&(s=void 0);if(c=UD(c,t),s){if(Vn&&s.nodeType==1&&(a=Math.min(a,s.childNodes.length),a<s.childNodes.length)){let m=s.childNodes[a],g;m.nodeName=="IMG"&&(g=m.getBoundingClientRect()).right<=t.left&&g.bottom>t.top&&a++}let f;cd&&a&&s.nodeType==1&&(f=s.childNodes[a-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=t.top&&a--,s==e.dom&&a==s.childNodes.length-1&&s.lastChild.nodeType==1&&t.top>s.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:(a==0||s.nodeType!=1||s.childNodes[a-1].nodeName!="BR")&&(u=FD(e,s,a,t))}u==null&&(u=VD(e,c,t));let h=e.docView.nearestDesc(c,!0);return{pos:u,inside:h?h.posAtStart-h.border:-1}}function J4(e){return e.top<e.bottom||e.left<e.right}function Da(e,t){let r=e.getClientRects();if(r.length){let s=r[t<0?0:r.length-1];if(J4(s))return s}return Array.prototype.find.call(r,J4)||e.getBoundingClientRect()}const WD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tN(e,t,r){let{node:s,offset:a,atom:l}=e.docView.domFromPos(t,r<0?-1:1),c=cd||Vn;if(s.nodeType==3)if(c&&(WD.test(s.nodeValue)||(r<0?!a:a==s.nodeValue.length))){let h=Da(Gs(s,a,a),r);if(Vn&&a&&/\s/.test(s.nodeValue[a-1])&&a<s.nodeValue.length){let f=Da(Gs(s,a-1,a-1),-1);if(f.top==h.top){let m=Da(Gs(s,a,a+1),-1);if(m.top!=h.top)return dc(m,m.left<f.left)}}return h}else{let h=a,f=a,m=r<0?1:-1;return r<0&&!a?(f++,m=-1):r>=0&&a==s.nodeValue.length?(h--,m=1):r<0?h--:f++,dc(Da(Gs(s,h,f),m),m<0)}if(!e.state.doc.resolve(t-(l||0)).parent.inlineContent){if(l==null&&a&&(r<0||a==Un(s))){let h=s.childNodes[a-1];if(h.nodeType==1)return Bg(h.getBoundingClientRect(),!1)}if(l==null&&a<Un(s)){let h=s.childNodes[a];if(h.nodeType==1)return Bg(h.getBoundingClientRect(),!0)}return Bg(s.getBoundingClientRect(),r>=0)}if(l==null&&a&&(r<0||a==Un(s))){let h=s.childNodes[a-1],f=h.nodeType==3?Gs(h,Un(h)-(c?0:1)):h.nodeType==1&&(h.nodeName!="BR"||!h.nextSibling)?h:null;if(f)return dc(Da(f,1),!1)}if(l==null&&a<Un(s)){let h=s.childNodes[a];for(;h.pmViewDesc&&h.pmViewDesc.ignoreForCoords;)h=h.nextSibling;let f=h?h.nodeType==3?Gs(h,0,c?0:1):h.nodeType==1?h:null:null;if(f)return dc(Da(f,-1),!0)}return dc(Da(s.nodeType==3?Gs(s):s,-r),r>=0)}function dc(e,t){if(e.width==0)return e;let r=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:r,right:r}}function Bg(e,t){if(e.height==0)return e;let r=t?e.top:e.bottom;return{top:r,bottom:r,left:e.left,right:e.right}}function rN(e,t,r){let s=e.state,a=e.root.activeElement;s!=t&&e.updateState(t),a!=e.dom&&e.focus();try{return r()}finally{s!=t&&e.updateState(s),a!=e.dom&&a&&a.focus()}}function KD(e,t,r){let s=t.selection,a=r=="up"?s.$from:s.$to;return rN(e,t,()=>{let{node:l}=e.docView.domFromPos(a.pos,r=="up"?-1:1);for(;;){let u=e.docView.nearestDesc(l,!0);if(!u)break;if(u.node.isBlock){l=u.contentDOM||u.dom;break}l=u.dom.parentNode}let c=tN(e,a.pos,1);for(let u=l.firstChild;u;u=u.nextSibling){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=Gs(u,0,u.nodeValue.length).getClientRects();else continue;for(let f=0;f<h.length;f++){let m=h[f];if(m.bottom>m.top+1&&(r=="up"?c.top-m.top>(m.bottom-c.top)*2:m.bottom-c.bottom>(c.bottom-m.top)*2))return!1}}return!0})}const GD=/[\u0590-\u08ac]/;function YD(e,t,r){let{$head:s}=t.selection;if(!s.parent.isTextblock)return!1;let a=s.parentOffset,l=!a,c=a==s.parent.content.size,u=e.domSelection();return u?!GD.test(s.parent.textContent)||!u.modify?r=="left"||r=="backward"?l:c:rN(e,t,()=>{let{focusNode:h,focusOffset:f,anchorNode:m,anchorOffset:g}=e.domSelectionRange(),y=u.caretBidiLevel;u.modify("move",r,"character");let b=s.depth?e.docView.domAfterPos(s.before()):e.dom,{focusNode:j,focusOffset:N}=e.domSelectionRange(),C=j&&!b.contains(j.nodeType==1?j:j.parentNode)||h==j&&f==N;try{u.collapse(m,g),h&&(h!=m||f!=g)&&u.extend&&u.extend(h,f)}catch{}return y!=null&&(u.caretBidiLevel=y),C}):s.pos==s.start()||s.pos==s.end()}let Q4=null,X4=null,Z4=!1;function JD(e,t,r){return Q4==t&&X4==r?Z4:(Q4=t,X4=r,Z4=r=="up"||r=="down"?KD(e,t,r):YD(e,t,r))}const Fn=0,ej=1,Ao=2,Cs=3;class dd{constructor(t,r,s,a){this.parent=t,this.children=r,this.dom=s,this.contentDOM=a,this.dirty=Fn,s.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,r,s){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let r=0;r<this.children.length;r++)t+=this.children[r].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let r=0,s=this.posAtStart;;r++){let a=this.children[r];if(a==t)return s;s+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,r,s){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(s<0){let l,c;if(t==this.contentDOM)l=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;l=t.previousSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(c)+c.size:this.posAtStart}else{let l,c;if(t==this.contentDOM)l=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;l=t.nextSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(c):this.posAtEnd}let a;if(t==this.dom&&this.contentDOM)a=r>Dr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let l=t;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.previousSibling)break}if(a==null&&r==t.childNodes.length)for(let l=t;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.nextSibling)break}}return a??s>0?this.posAtEnd:this.posAtStart}nearestDesc(t,r=!1){for(let s=!0,a=t;a;a=a.parentNode){let l=this.getDesc(a),c;if(l&&(!r||l.node))if(s&&(c=l.nodeDOM)&&!(c.nodeType==1?c.contains(t.nodeType==1?t:t.parentNode):c==t))s=!1;else return l}}getDesc(t){let r=t.pmViewDesc;for(let s=r;s;s=s.parent)if(s==this)return r}posFromDOM(t,r,s){for(let a=t;a;a=a.parentNode){let l=this.getDesc(a);if(l)return l.localPosFromDOM(t,r,s)}return-1}descAt(t){for(let r=0,s=0;r<this.children.length;r++){let a=this.children[r],l=s+a.size;if(s==t&&l!=s){for(;!a.border&&a.children.length;)for(let c=0;c<a.children.length;c++){let u=a.children[c];if(u.size){a=u;break}}return a}if(t<l)return a.descAt(t-s-a.border);s=l}}domFromPos(t,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let s=0,a=0;for(let l=0;s<this.children.length;s++){let c=this.children[s],u=l+c.size;if(u>t||c instanceof sN){a=t-l;break}l=u}if(a)return this.children[s].domFromPos(a-this.children[s].border,r);for(let l;s&&!(l=this.children[s-1]).size&&l instanceof nN&&l.side>=0;s--);if(r<=0){let l,c=!0;for(;l=s?this.children[s-1]:null,!(!l||l.dom.parentNode==this.contentDOM);s--,c=!1);return l&&r&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,r):{node:this.contentDOM,offset:l?Dr(l.dom)+1:0}}else{let l,c=!0;for(;l=s<this.children.length?this.children[s]:null,!(!l||l.dom.parentNode==this.contentDOM);s++,c=!1);return l&&c&&!l.border&&!l.domAtom?l.domFromPos(0,r):{node:this.contentDOM,offset:l?Dr(l.dom):this.contentDOM.childNodes.length}}}parseRange(t,r,s=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,l=-1;for(let c=s,u=0;;u++){let h=this.children[u],f=c+h.size;if(a==-1&&t<=f){let m=c+h.border;if(t>=m&&r<=f-h.border&&h.node&&h.contentDOM&&this.contentDOM.contains(h.contentDOM))return h.parseRange(t,r,m);t=c;for(let g=u;g>0;g--){let y=this.children[g-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){a=Dr(y.dom)+1;break}t-=y.size}a==-1&&(a=0)}if(a>-1&&(f>r||u==this.children.length-1)){r=f;for(let m=u+1;m<this.children.length;m++){let g=this.children[m];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){l=Dr(g.dom);break}r+=g.size}l==-1&&(l=this.contentDOM.childNodes.length);break}c=f}return{node:this.contentDOM,from:t,to:r,fromOffset:a,toOffset:l}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[t<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(t)}domAfterPos(t){let{node:r,offset:s}=this.domFromPos(t,0);if(r.nodeType!=1||s==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[s]}setSelection(t,r,s,a=!1){let l=Math.min(t,r),c=Math.max(t,r);for(let b=0,j=0;b<this.children.length;b++){let N=this.children[b],C=j+N.size;if(l>j&&c<C)return N.setSelection(t-j-N.border,r-j-N.border,s,a);j=C}let u=this.domFromPos(t,t?-1:1),h=r==t?u:this.domFromPos(r,r?-1:1),f=s.root.getSelection(),m=s.domSelectionRange(),g=!1;if((Vn||$r)&&t==r){let{node:b,offset:j}=u;if(b.nodeType==3){if(g=!!(j&&b.nodeValue[j-1]==`
`),g&&j==b.nodeValue.length)for(let N=b,C;N;N=N.parentNode){if(C=N.nextSibling){C.nodeName=="BR"&&(u=h={node:C.parentNode,offset:Dr(C)+1});break}let w=N.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let N=b.childNodes[j-1];g=N&&(N.nodeName=="BR"||N.contentEditable=="false")}}if(Vn&&m.focusNode&&m.focusNode!=h.node&&m.focusNode.nodeType==1){let b=m.focusNode.childNodes[m.focusOffset];b&&b.contentEditable=="false"&&(a=!0)}if(!(a||g&&$r)&&Fo(u.node,u.offset,m.anchorNode,m.anchorOffset)&&Fo(h.node,h.offset,m.focusNode,m.focusOffset))return;let y=!1;if((f.extend||t==r)&&!(g&&Vn)){f.collapse(u.node,u.offset);try{t!=r&&f.extend(h.node,h.offset),y=!0}catch{}}if(!y){if(t>r){let j=u;u=h,h=j}let b=document.createRange();b.setEnd(h.node,h.offset),b.setStart(u.node,u.offset),f.removeAllRanges(),f.addRange(b)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,r){for(let s=0,a=0;a<this.children.length;a++){let l=this.children[a],c=s+l.size;if(s==c?t<=c&&r>=s:t<c&&r>s){let u=s+l.border,h=c-l.border;if(t>=u&&r<=h){this.dirty=t==s||r==c?Ao:ej,t==u&&r==h&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=Cs:l.markDirty(t-u,r-u);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?Ao:Cs}s=c}this.dirty=Ao}markParentsDirty(){let t=1;for(let r=this.parent;r;r=r.parent,t++){let s=t==1?Ao:ej;r.dirty<s&&(r.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class nN extends dd{constructor(t,r,s,a){let l,c=r.type.toDOM;if(typeof c=="function"&&(c=c(s,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!r.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(t,[],c,null),this.widget=r,this.widget=r,l=this}matchesWidget(t){return this.dirty==Fn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let r=this.widget.spec.stopEvent;return r?r(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class QD extends dd{constructor(t,r,s,a){super(t,[],r,null),this.textDOM=s,this.text=a}get size(){return this.text.length}localPosFromDOM(t,r){return t!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class qo extends dd{constructor(t,r,s,a,l){super(t,[],s,a),this.mark=r,this.spec=l}static create(t,r,s,a){let l=a.nodeViews[r.type.name],c=l&&l(r,a,s);return(!c||!c.dom)&&(c=Yo.renderSpec(document,r.type.spec.toDOM(r,s),null,r.attrs)),new qo(t,r,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&Cs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Cs&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),this.dirty!=Fn){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=Fn}}slice(t,r,s){let a=qo.create(this.parent,this.mark,!0,s),l=this.children,c=this.size;r<c&&(l=Px(l,r,c,s)),t>0&&(l=Px(l,0,t,s));for(let u=0;u<l.length;u++)l[u].parent=a;return a.children=l,a}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Wa extends dd{constructor(t,r,s,a,l,c,u,h,f){super(t,[],l,c),this.node=r,this.outerDeco=s,this.innerDeco=a,this.nodeDOM=u}static create(t,r,s,a,l,c){let u=l.nodeViews[r.type.name],h,f=u&&u(r,l,()=>{if(!h)return c;if(h.parent)return h.parent.posBeforeChild(h)},s,a),m=f&&f.dom,g=f&&f.contentDOM;if(r.isText){if(!m)m=document.createTextNode(r.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:g}=Yo.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!g&&!r.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),r.type.spec.draggable&&(m.draggable=!0));let y=m;return m=lN(m,s,r),f?h=new XD(t,r,s,a,m,g||null,y,f,l,c+1):r.isText?new Pf(t,r,s,a,m,y,l):new Wa(t,r,s,a,m,g||null,y,l,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let s=this.children[r];if(this.dom.contains(s.dom.parentNode)){t.contentElement=s.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Oe.empty)}return t}matchesNode(t,r,s){return this.dirty==Fn&&t.eq(this.node)&&Ah(r,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let s=this.node.inlineContent,a=r,l=t.composing?this.localCompositionInfo(t,r):null,c=l&&l.pos>-1?l:null,u=l&&l.pos<0,h=new eR(this,c&&c.node,t);nR(this.node,this.innerDeco,(f,m,g)=>{f.spec.marks?h.syncToMarks(f.spec.marks,s,t):f.type.side>=0&&!g&&h.syncToMarks(m==this.node.childCount?Ut.none:this.node.child(m).marks,s,t),h.placeWidget(f,t,a)},(f,m,g,y)=>{h.syncToMarks(f.marks,s,t);let b;h.findNodeMatch(f,m,g,y)||u&&t.state.selection.from>a&&t.state.selection.to<a+f.nodeSize&&(b=h.findIndexWithChild(l.node))>-1&&h.updateNodeAt(f,m,g,b,t)||h.updateNextNode(f,m,g,t,y,a)||h.addNode(f,m,g,t,a),a+=f.nodeSize}),h.syncToMarks([],s,t),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||this.dirty==Ao)&&(c&&this.protectLocalComposition(t,c),aN(this.contentDOM,this.children,t),ei&&sR(this.dom))}localCompositionInfo(t,r){let{from:s,to:a}=t.state.selection;if(!(t.state.selection instanceof ot)||s<r||a>r+this.node.content.size)return null;let l=t.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let c=l.nodeValue,u=aR(this.node.content,c,s-r,a-r);return u<0?null:{node:l,pos:u,text:c}}else return{node:l,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:s,text:a}){if(this.getDesc(r))return;let l=r;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let c=new QD(this,l,r,a);t.input.compositionNodes.push(c),this.children=Px(this.children,s,s+a.length,t,c)}update(t,r,s,a){return this.dirty==Cs||!t.sameMarkup(this.node)?!1:(this.updateInner(t,r,s,a),!0)}updateInner(t,r,s,a){this.updateOuterDeco(r),this.node=t,this.innerDeco=s,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=Fn}updateOuterDeco(t){if(Ah(t,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=oN(this.dom,this.nodeDOM,_x(this.outerDeco,this.node,r),_x(t,this.node,r)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function tj(e,t,r,s,a){lN(s,t,e);let l=new Wa(void 0,e,t,r,s,s,s,a,0);return l.contentDOM&&l.updateChildren(a,0),l}class Pf extends Wa{constructor(t,r,s,a,l,c,u){super(t,r,s,a,l,null,c,u,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,s,a){return this.dirty==Cs||this.dirty!=Fn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Fn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=t,this.dirty=Fn,!0)}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,s){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,s)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,r,s){let a=this.node.cut(t,r),l=document.createTextNode(a.text);return new Pf(this.parent,a,this.outerDeco,this.innerDeco,l,l,s)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(t==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Cs)}get domAtom(){return!1}isText(t){return this.node.text==t}}class sN extends dd{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Fn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class XD extends Wa{constructor(t,r,s,a,l,c,u,h,f,m){super(t,r,s,a,l,c,u,f,m),this.spec=h}update(t,r,s,a){if(this.dirty==Cs)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let l=this.spec.update(t,r,s);return l&&this.updateInner(t,r,s,a),l}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,r,s,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,r,s,a){this.spec.setSelection?this.spec.setSelection(t,r,s.root):super.setSelection(t,r,s,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function aN(e,t,r){let s=e.firstChild,a=!1;for(let l=0;l<t.length;l++){let c=t[l],u=c.dom;if(u.parentNode==e){for(;u!=s;)s=rj(s),a=!0;s=s.nextSibling}else a=!0,e.insertBefore(u,s);if(c instanceof qo){let h=s?s.previousSibling:e.lastChild;aN(c.contentDOM,c.children,r),s=h?h.nextSibling:e.firstChild}}for(;s;)s=rj(s),a=!0;a&&r.trackWrites==e&&(r.trackWrites=null)}const Nc=function(e){e&&(this.nodeName=e)};Nc.prototype=Object.create(null);const Mo=[new Nc];function _x(e,t,r){if(e.length==0)return Mo;let s=r?Mo[0]:new Nc,a=[s];for(let l=0;l<e.length;l++){let c=e[l].type.attrs;if(c){c.nodeName&&a.push(s=new Nc(c.nodeName));for(let u in c){let h=c[u];h!=null&&(r&&a.length==1&&a.push(s=new Nc(t.isInline?"span":"div")),u=="class"?s.class=(s.class?s.class+" ":"")+h:u=="style"?s.style=(s.style?s.style+";":"")+h:u!="nodeName"&&(s[u]=h))}}}return a}function oN(e,t,r,s){if(r==Mo&&s==Mo)return t;let a=t;for(let l=0;l<s.length;l++){let c=s[l],u=r[l];if(l){let h;u&&u.nodeName==c.nodeName&&a!=e&&(h=a.parentNode)&&h.nodeName.toLowerCase()==c.nodeName||(h=document.createElement(c.nodeName),h.pmIsDeco=!0,h.appendChild(a),u=Mo[0]),a=h}ZD(a,u||Mo[0],c)}return a}function ZD(e,t,r){for(let s in t)s!="class"&&s!="style"&&s!="nodeName"&&!(s in r)&&e.removeAttribute(s);for(let s in r)s!="class"&&s!="style"&&s!="nodeName"&&r[s]!=t[s]&&e.setAttribute(s,r[s]);if(t.class!=r.class){let s=t.class?t.class.split(" ").filter(Boolean):[],a=r.class?r.class.split(" ").filter(Boolean):[];for(let l=0;l<s.length;l++)a.indexOf(s[l])==-1&&e.classList.remove(s[l]);for(let l=0;l<a.length;l++)s.indexOf(a[l])==-1&&e.classList.add(a[l]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=r.style){if(t.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=s.exec(t.style);)e.style.removeProperty(a[1])}r.style&&(e.style.cssText+=r.style)}}function lN(e,t,r){return oN(e,e,Mo,_x(t,r,e.nodeType!=1))}function Ah(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].type.eq(t[r].type))return!1;return!0}function rj(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class eR{constructor(t,r,s){this.lock=r,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=tR(t.node.content,t)}destroyBetween(t,r){if(t!=r){for(let s=t;s<r;s++)this.top.children[s].destroy();this.top.children.splice(t,r-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,r,s){let a=0,l=this.stack.length>>1,c=Math.min(l,t.length);for(;a<c&&(a==l-1?this.top:this.stack[a+1<<1]).matchesMark(t[a])&&t[a].type.spec.spanning!==!1;)a++;for(;a<l;)this.destroyRest(),this.top.dirty=Fn,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<t.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let h=this.index;h<Math.min(this.index+3,this.top.children.length);h++){let f=this.top.children[h];if(f.matchesMark(t[l])&&!this.isLocked(f.dom)){u=h;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let h=qo.create(this.top,t[l],r,s);this.top.children.splice(this.index,0,h),this.top=h,this.changed=!0}this.index=0,l++}}findNodeMatch(t,r,s,a){let l=-1,c;if(a>=this.preMatch.index&&(c=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&c.matchesNode(t,r,s))l=this.top.children.indexOf(c,this.index);else for(let u=this.index,h=Math.min(this.top.children.length,u+5);u<h;u++){let f=this.top.children[u];if(f.matchesNode(t,r,s)&&!this.preMatch.matched.has(f)){l=u;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(t,r,s,a,l){let c=this.top.children[a];return c.dirty==Cs&&c.dom==c.contentDOM&&(c.dirty=Ao),c.update(t,r,s,l)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(t){for(;;){let r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let s=t.pmViewDesc;if(s){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==s)return a}return-1}t=r}}updateNextNode(t,r,s,a,l,c){for(let u=this.index;u<this.top.children.length;u++){let h=this.top.children[u];if(h instanceof Wa){let f=this.preMatch.matched.get(h);if(f!=null&&f!=l)return!1;let m=h.dom,g,y=this.isLocked(m)&&!(t.isText&&h.node&&h.node.isText&&h.nodeDOM.nodeValue==t.text&&h.dirty!=Cs&&Ah(r,h.outerDeco));if(!y&&h.update(t,r,s,a))return this.destroyBetween(this.index,u),h.dom!=m&&(this.changed=!0),this.index++,!0;if(!y&&(g=this.recreateWrapper(h,t,r,s,a,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=Ao,g.updateChildren(a,c+1),g.dirty=Fn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,r,s,a,l,c){if(t.dirty||r.isAtom||!t.children.length||!t.node.content.eq(r.content)||!Ah(s,t.outerDeco)||!a.eq(t.innerDeco))return null;let u=Wa.create(this.top,r,s,a,l,c);if(u.contentDOM){u.children=t.children,t.children=[];for(let h of u.children)h.parent=u}return t.destroy(),u}addNode(t,r,s,a,l){let c=Wa.create(this.top,t,r,s,a,l);c.contentDOM&&c.updateChildren(a,l+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(t,r,s){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(t)&&(t==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let l=new nN(this.top,t,r,s);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],r=this.top;for(;t instanceof qo;)r=t,t=r.children[r.children.length-1];(!t||!(t instanceof Pf)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&(($r||wr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(t,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(t))this.index++;else{let s=document.createElement(t);t=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),t=="BR"&&(s.className="ProseMirror-trailingBreak");let a=new sN(this.top,[],s,null);r!=this.top?r.children.push(a):r.children.splice(this.index++,0,a),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function tR(e,t){let r=t,s=r.children.length,a=e.childCount,l=new Map,c=[];e:for(;a>0;){let u;for(;;)if(s){let f=r.children[s-1];if(f instanceof qo)r=f,s=f.children.length;else{u=f,s--;break}}else{if(r==t)break e;s=r.parent.children.indexOf(r),r=r.parent}let h=u.node;if(h){if(h!=e.child(a-1))break;--a,l.set(u,a),c.push(u)}}return{index:a,matched:l,matches:c.reverse()}}function rR(e,t){return e.type.side-t.type.side}function nR(e,t,r,s){let a=t.locals(e),l=0;if(a.length==0){for(let f=0;f<e.childCount;f++){let m=e.child(f);s(m,a,t.forChild(l,m),f),l+=m.nodeSize}return}let c=0,u=[],h=null;for(let f=0;;){let m,g;for(;c<a.length&&a[c].to==l;){let C=a[c++];C.widget&&(m?(g||(g=[m])).push(C):m=C)}if(m)if(g){g.sort(rR);for(let C=0;C<g.length;C++)r(g[C],f,!!h)}else r(m,f,!!h);let y,b;if(h)b=-1,y=h,h=null;else if(f<e.childCount)b=f,y=e.child(f++);else break;for(let C=0;C<u.length;C++)u[C].to<=l&&u.splice(C--,1);for(;c<a.length&&a[c].from<=l&&a[c].to>l;)u.push(a[c++]);let j=l+y.nodeSize;if(y.isText){let C=j;c<a.length&&a[c].from<C&&(C=a[c].from);for(let w=0;w<u.length;w++)u[w].to<C&&(C=u[w].to);C<j&&(h=y.cut(C-l),y=y.cut(0,C-l),j=C,b=-1)}else for(;c<a.length&&a[c].to<j;)c++;let N=y.isInline&&!y.isLeaf?u.filter(C=>!C.inline):u.slice();s(y,N,t.forChild(l,y),b),l=j}}function sR(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function aR(e,t,r,s){for(let a=0,l=0;a<e.childCount&&l<=s;){let c=e.child(a++),u=l;if(l+=c.nodeSize,!c.isText)continue;let h=c.text;for(;a<e.childCount;){let f=e.child(a++);if(l+=f.nodeSize,!f.isText)break;h+=f.text}if(l>=r){if(l>=s&&h.slice(s-t.length-u,s-u)==t)return s-t.length;let f=u<s?h.lastIndexOf(t,s-u-1):-1;if(f>=0&&f+t.length+u>=r)return u+f;if(r==s&&h.length>=s+t.length-u&&h.slice(s-u,s-u+t.length)==t)return s}}return-1}function Px(e,t,r,s,a){let l=[];for(let c=0,u=0;c<e.length;c++){let h=e[c],f=u,m=u+=h.size;f>=r||m<=t?l.push(h):(f<t&&l.push(h.slice(0,t-f,s)),a&&(l.push(a),a=void 0),m>r&&l.push(h.slice(r-f,h.size,s)))}return l}function V0(e,t=null){let r=e.domSelectionRange(),s=e.state.doc;if(!r.focusNode)return null;let a=e.docView.nearestDesc(r.focusNode),l=a&&a.size==0,c=e.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(c<0)return null;let u=s.resolve(c),h,f;if(_f(r)){for(h=c;a&&!a.node;)a=a.parent;let g=a.node;if(a&&g.isAtom&&Xe.isSelectable(g)&&a.parent&&!(g.isInline&&DD(r.focusNode,r.focusOffset,a.dom))){let y=a.posBefore;f=new Xe(c==y?u:s.resolve(y))}}else{if(r instanceof e.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let g=c,y=c;for(let b=0;b<r.rangeCount;b++){let j=r.getRangeAt(b);g=Math.min(g,e.docView.posFromDOM(j.startContainer,j.startOffset,1)),y=Math.max(y,e.docView.posFromDOM(j.endContainer,j.endOffset,-1))}if(g<0)return null;[h,c]=y==e.state.selection.anchor?[y,g]:[g,y],u=s.resolve(c)}else h=e.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(h<0)return null}let m=s.resolve(h);if(!f){let g=t=="pointer"||e.state.selection.head<u.pos&&!l?1:-1;f=F0(e,m,u,g)}return f}function iN(e){return e.editable?e.hasFocus():dN(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ta(e,t=!1){let r=e.state.selection;if(cN(e,r),!!iN(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&wr){let s=e.domSelectionRange(),a=e.domObserver.currentSelection;if(s.anchorNode&&a.anchorNode&&Fo(s.anchorNode,s.anchorOffset,a.anchorNode,a.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)lR(e);else{let{anchor:s,head:a}=r,l,c;nj&&!(r instanceof ot)&&(r.$from.parent.inlineContent||(l=sj(e,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(c=sj(e,r.to))),e.docView.setSelection(s,a,e,t),nj&&(l&&aj(l),c&&aj(c)),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&oR(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const nj=$r||wr&&Y6<63;function sj(e,t){let{node:r,offset:s}=e.docView.domFromPos(t,0),a=s<r.childNodes.length?r.childNodes[s]:null,l=s?r.childNodes[s-1]:null;if($r&&a&&a.contentEditable=="false")return _g(a);if((!a||a.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(a)return _g(a);if(l)return _g(l)}}function _g(e){return e.contentEditable="true",$r&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function aj(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function oR(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let r=e.domSelectionRange(),s=r.anchorNode,a=r.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(r.anchorNode!=s||r.anchorOffset!=a)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!iN(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function lR(e){let t=e.domSelection();if(!t)return;let r=e.cursorWrapper.dom,s=r.nodeName=="IMG";s?t.collapse(r.parentNode,Dr(r)+1):t.collapse(r,0),!s&&!e.state.selection.visible&&on&&qa<=11&&(r.disabled=!0,r.disabled=!1)}function cN(e,t){if(t instanceof Xe){let r=e.docView.descAt(t.from);r!=e.lastSelectedViewDesc&&(oj(e),r&&r.selectNode(),e.lastSelectedViewDesc=r)}else oj(e)}function oj(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function F0(e,t,r,s){return e.someProp("createSelectionBetween",a=>a(e,t,r))||ot.between(t,r,s)}function lj(e){return e.editable&&!e.hasFocus()?!1:dN(e)}function dN(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function iR(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),r=e.domSelectionRange();return Fo(t.node,t.offset,r.anchorNode,r.anchorOffset)}function Ix(e,t){let{$anchor:r,$head:s}=e.selection,a=t>0?r.max(s):r.min(s),l=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return l&&gt.findFrom(l,t)}function Ra(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function ij(e,t,r){let s=e.state.selection;if(s instanceof ot)if(r.indexOf("s")>-1){let{$head:a}=s,l=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let c=e.state.doc.resolve(a.pos+l.nodeSize*(t<0?-1:1));return Ra(e,new ot(s.$anchor,c))}else if(s.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let a=Ix(e.state,t);return a&&a instanceof Xe?Ra(e,a):!1}else if(!($n&&r.indexOf("m")>-1)){let a=s.$head,l=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter,c;if(!l||l.isText)return!1;let u=t<0?a.pos-l.nodeSize:a.pos;return l.isAtom||(c=e.docView.descAt(u))&&!c.contentDOM?Xe.isSelectable(l)?Ra(e,new Xe(t<0?e.state.doc.resolve(a.pos-l.nodeSize):a)):cd?Ra(e,new ot(e.state.doc.resolve(t<0?u:u+l.nodeSize))):!1:!1}}else return!1;else{if(s instanceof Xe&&s.node.isInline)return Ra(e,new ot(t>0?s.$to:s.$from));{let a=Ix(e.state,t);return a?Ra(e,a):!1}}}function Mh(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Cc(e,t){let r=e.pmViewDesc;return r&&r.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Bl(e,t){return t<0?cR(e):dR(e)}function cR(e){let t=e.domSelectionRange(),r=t.focusNode,s=t.focusOffset;if(!r)return;let a,l,c=!1;for(Vn&&r.nodeType==1&&s<Mh(r)&&Cc(r.childNodes[s],-1)&&(c=!0);;)if(s>0){if(r.nodeType!=1)break;{let u=r.childNodes[s-1];if(Cc(u,-1))a=r,l=--s;else if(u.nodeType==3)r=u,s=r.nodeValue.length;else break}}else{if(uN(r))break;{let u=r.previousSibling;for(;u&&Cc(u,-1);)a=r.parentNode,l=Dr(u),u=u.previousSibling;if(u)r=u,s=Mh(r);else{if(r=r.parentNode,r==e.dom)break;s=0}}}c?$x(e,r,s):a&&$x(e,a,l)}function dR(e){let t=e.domSelectionRange(),r=t.focusNode,s=t.focusOffset;if(!r)return;let a=Mh(r),l,c;for(;;)if(s<a){if(r.nodeType!=1)break;let u=r.childNodes[s];if(Cc(u,1))l=r,c=++s;else break}else{if(uN(r))break;{let u=r.nextSibling;for(;u&&Cc(u,1);)l=u.parentNode,c=Dr(u)+1,u=u.nextSibling;if(u)r=u,s=0,a=Mh(r);else{if(r=r.parentNode,r==e.dom)break;s=a=0}}}l&&$x(e,l,c)}function uN(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function uR(e,t){for(;e&&t==e.childNodes.length&&!id(e);)t=Dr(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let r=e.childNodes[t];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=0}}function hR(e,t){for(;e&&!t&&!id(e);)t=Dr(e),e=e.parentNode;for(;e&&t;){let r=e.childNodes[t-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=e.childNodes.length}}function $x(e,t,r){if(t.nodeType!=3){let l,c;(c=uR(t,r))?(t=c,r=0):(l=hR(t,r))&&(t=l,r=l.nodeValue.length)}let s=e.domSelection();if(!s)return;if(_f(s)){let l=document.createRange();l.setEnd(t,r),l.setStart(t,r),s.removeAllRanges(),s.addRange(l)}else s.extend&&s.extend(t,r);e.domObserver.setCurSelection();let{state:a}=e;setTimeout(()=>{e.state==a&&ta(e)},50)}function cj(e,t){let r=e.state.doc.resolve(t);if(!(wr||J6)&&r.parent.inlineContent){let a=e.coordsAtPos(t);if(t>r.start()){let l=e.coordsAtPos(t-1),c=(l.top+l.bottom)/2;if(c>a.top&&c<a.bottom&&Math.abs(l.left-a.left)>1)return l.left<a.left?"ltr":"rtl"}if(t<r.end()){let l=e.coordsAtPos(t+1),c=(l.top+l.bottom)/2;if(c>a.top&&c<a.bottom&&Math.abs(l.left-a.left)>1)return l.left>a.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function dj(e,t,r){let s=e.state.selection;if(s instanceof ot&&!s.empty||r.indexOf("s")>-1||$n&&r.indexOf("m")>-1)return!1;let{$from:a,$to:l}=s;if(!a.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let c=Ix(e.state,t);if(c&&c instanceof Xe)return Ra(e,c)}if(!a.parent.inlineContent){let c=t<0?a:l,u=s instanceof jn?gt.near(c,t):gt.findFrom(c,t);return u?Ra(e,u):!1}return!1}function uj(e,t){if(!(e.state.selection instanceof ot))return!0;let{$head:r,$anchor:s,empty:a}=e.state.selection;if(!r.sameParent(s))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let l=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(l&&!l.isText){let c=e.state.tr;return t<0?c.delete(r.pos-l.nodeSize,r.pos):c.delete(r.pos,r.pos+l.nodeSize),e.dispatch(c),!0}return!1}function hj(e,t,r){e.domObserver.stop(),t.contentEditable=r,e.domObserver.start()}function fR(e){if(!$r||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(t&&t.nodeType==1&&r==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let s=t.firstChild;hj(e,s,"true"),setTimeout(()=>hj(e,s,"false"),20)}return!1}function pR(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function mR(e,t){let r=t.keyCode,s=pR(t);if(r==8||$n&&r==72&&s=="c")return uj(e,-1)||Bl(e,-1);if(r==46&&!t.shiftKey||$n&&r==68&&s=="c")return uj(e,1)||Bl(e,1);if(r==13||r==27)return!0;if(r==37||$n&&r==66&&s=="c"){let a=r==37?cj(e,e.state.selection.from)=="ltr"?-1:1:-1;return ij(e,a,s)||Bl(e,a)}else if(r==39||$n&&r==70&&s=="c"){let a=r==39?cj(e,e.state.selection.from)=="ltr"?1:-1:1;return ij(e,a,s)||Bl(e,a)}else{if(r==38||$n&&r==80&&s=="c")return dj(e,-1,s)||Bl(e,-1);if(r==40||$n&&r==78&&s=="c")return fR(e)||dj(e,1,s)||Bl(e,1);if(s==($n?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function q0(e,t){e.someProp("transformCopied",b=>{t=b(t,e)});let r=[],{content:s,openStart:a,openEnd:l}=t;for(;a>1&&l>1&&s.childCount==1&&s.firstChild.childCount==1;){a--,l--;let b=s.firstChild;r.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),s=b.content}let c=e.someProp("clipboardSerializer")||Yo.fromSchema(e.state.schema),u=xN(),h=u.createElement("div");h.appendChild(c.serializeFragment(s,{document:u}));let f=h.firstChild,m,g=0;for(;f&&f.nodeType==1&&(m=gN[f.nodeName.toLowerCase()]);){for(let b=m.length-1;b>=0;b--){let j=u.createElement(m[b]);for(;h.firstChild;)j.appendChild(h.firstChild);h.appendChild(j),g++}f=h.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${a} ${l}${g?` -${g}`:""} ${JSON.stringify(r)}`);let y=e.someProp("clipboardTextSerializer",b=>b(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:h,text:y,slice:t}}function hN(e,t,r,s,a){let l=a.parent.type.spec.code,c,u;if(!r&&!t)return null;let h=!!t&&(s||l||!r);if(h){if(e.someProp("transformPastedText",y=>{t=y(t,l||s,e)}),l)return u=new Ie(Oe.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",y=>{u=y(u,e,!0)}),u;let g=e.someProp("clipboardTextParser",y=>y(t,a,s,e));if(g)u=g;else{let y=a.marks(),{schema:b}=e.state,j=Yo.fromSchema(b);c=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(N=>{let C=c.appendChild(document.createElement("p"));N&&C.appendChild(j.serializeNode(b.text(N,y)))})}}else e.someProp("transformPastedHTML",g=>{r=g(r,e)}),c=bR(r),cd&&vR(c);let f=c&&c.querySelector("[data-pm-slice]"),m=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let g=+m[3];g>0;g--){let y=c.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;c=y}if(u||(u=(e.someProp("clipboardParser")||e.someProp("domParser")||Fa.fromSchema(e.state.schema)).parseSlice(c,{preserveWhitespace:!!(h||m),context:a,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!gR.test(y.parentNode.nodeName)?{ignore:!0}:null}})),m)u=jR(fj(u,+m[1],+m[2]),m[4]);else if(u=Ie.maxOpen(xR(u.content,a),!0),u.openStart||u.openEnd){let g=0,y=0;for(let b=u.content.firstChild;g<u.openStart&&!b.type.spec.isolating;g++,b=b.firstChild);for(let b=u.content.lastChild;y<u.openEnd&&!b.type.spec.isolating;y++,b=b.lastChild);u=fj(u,g,y)}return e.someProp("transformPasted",g=>{u=g(u,e,h)}),u}const gR=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function xR(e,t){if(e.childCount<2)return e;for(let r=t.depth;r>=0;r--){let a=t.node(r).contentMatchAt(t.index(r)),l,c=[];if(e.forEach(u=>{if(!c)return;let h=a.findWrapping(u.type),f;if(!h)return c=null;if(f=c.length&&l.length&&pN(h,l,u,c[c.length-1],0))c[c.length-1]=f;else{c.length&&(c[c.length-1]=mN(c[c.length-1],l.length));let m=fN(u,h);c.push(m),a=a.matchType(m.type),l=h}}),c)return Oe.from(c)}return e}function fN(e,t,r=0){for(let s=t.length-1;s>=r;s--)e=t[s].create(null,Oe.from(e));return e}function pN(e,t,r,s,a){if(a<e.length&&a<t.length&&e[a]==t[a]){let l=pN(e,t,r,s.lastChild,a+1);if(l)return s.copy(s.content.replaceChild(s.childCount-1,l));if(s.contentMatchAt(s.childCount).matchType(a==e.length-1?r.type:e[a+1]))return s.copy(s.content.append(Oe.from(fN(r,e,a+1))))}}function mN(e,t){if(t==0)return e;let r=e.content.replaceChild(e.childCount-1,mN(e.lastChild,t-1)),s=e.contentMatchAt(e.childCount).fillBefore(Oe.empty,!0);return e.copy(r.append(s))}function Hx(e,t,r,s,a,l){let c=t<0?e.firstChild:e.lastChild,u=c.content;return e.childCount>1&&(l=0),a<s-1&&(u=Hx(u,t,r,s,a+1,l)),a>=r&&(u=t<0?c.contentMatchAt(0).fillBefore(u,l<=a).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(Oe.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,c.copy(u))}function fj(e,t,r){return t<e.openStart&&(e=new Ie(Hx(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),r<e.openEnd&&(e=new Ie(Hx(e.content,1,r,e.openEnd,0,0),e.openStart,r)),e}const gN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let pj=null;function xN(){return pj||(pj=document.implementation.createHTMLDocument("title"))}let Pg=null;function yR(e){let t=window.trustedTypes;return t?(Pg||(Pg=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),Pg.createHTML(e)):e}function bR(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let r=xN().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(e),a;if((a=s&&gN[s[1].toLowerCase()])&&(e=a.map(l=>"<"+l+">").join("")+e+a.map(l=>"</"+l+">").reverse().join("")),r.innerHTML=yR(e),a)for(let l=0;l<a.length;l++)r=r.querySelector(a[l])||r;return r}function vR(e){let t=e.querySelectorAll(wr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let s=t[r];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),s)}}function jR(e,t){if(!e.size)return e;let r=e.content.firstChild.type.schema,s;try{s=JSON.parse(t)}catch{return e}let{content:a,openStart:l,openEnd:c}=e;for(let u=s.length-2;u>=0;u-=2){let h=r.nodes[s[u]];if(!h||h.hasRequiredAttrs())break;a=Oe.from(h.create(s[u+1],a)),l++,c++}return new Ie(a,l,c)}const Kr={},Gr={},wR={touchstart:!0,touchmove:!0};class NR{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function CR(e){for(let t in Kr){let r=Kr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=s=>{kR(e,s)&&!W0(e,s)&&(e.editable||!(s.type in Gr))&&r(e,s)},wR[t]?{passive:!0}:void 0)}$r&&e.dom.addEventListener("input",()=>null),Ux(e)}function Ua(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function SR(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Ux(e){e.someProp("handleDOMEvents",t=>{for(let r in t)e.input.eventHandlers[r]||e.dom.addEventListener(r,e.input.eventHandlers[r]=s=>W0(e,s))})}function W0(e,t){return e.someProp("handleDOMEvents",r=>{let s=r[t.type];return s?s(e,t)||t.defaultPrevented:!1})}function kR(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=e.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function ER(e,t){!W0(e,t)&&Kr[t.type]&&(e.editable||!(t.type in Gr))&&Kr[t.type](e,t)}Gr.keydown=(e,t)=>{let r=t;if(e.input.shiftKey=r.keyCode==16||r.shiftKey,!bN(e,r)&&(e.input.lastKeyCode=r.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Js&&wr&&r.keyCode==13)))if(r.keyCode!=229&&e.domObserver.forceFlush(),ei&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let s=Date.now();e.input.lastIOSEnter=s,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==s&&(e.someProp("handleKeyDown",a=>a(e,ko(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",s=>s(e,r))||mR(e,r)?r.preventDefault():Ua(e,"key")};Gr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Gr.keypress=(e,t)=>{let r=t;if(bN(e,r)||!r.charCode||r.ctrlKey&&!r.altKey||$n&&r.metaKey)return;if(e.someProp("handleKeyPress",a=>a(e,r))){r.preventDefault();return}let s=e.state.selection;if(!(s instanceof ot)||!s.$from.sameParent(s.$to)){let a=String.fromCharCode(r.charCode),l=()=>e.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!e.someProp("handleTextInput",c=>c(e,s.$from.pos,s.$to.pos,a,l))&&e.dispatch(l()),r.preventDefault()}};function If(e){return{left:e.clientX,top:e.clientY}}function TR(e,t){let r=t.x-e.clientX,s=t.y-e.clientY;return r*r+s*s<100}function K0(e,t,r,s,a){if(s==-1)return!1;let l=e.state.doc.resolve(s);for(let c=l.depth+1;c>0;c--)if(e.someProp(t,u=>c>l.depth?u(e,r,l.nodeAfter,l.before(c),a,!0):u(e,r,l.node(c),l.before(c),a,!1)))return!0;return!1}function Wl(e,t,r){if(e.focused||e.focus(),e.state.selection.eq(t))return;let s=e.state.tr.setSelection(t);s.setMeta("pointer",!0),e.dispatch(s)}function AR(e,t){if(t==-1)return!1;let r=e.state.doc.resolve(t),s=r.nodeAfter;return s&&s.isAtom&&Xe.isSelectable(s)?(Wl(e,new Xe(r)),!0):!1}function MR(e,t){if(t==-1)return!1;let r=e.state.selection,s,a;r instanceof Xe&&(s=r.node);let l=e.state.doc.resolve(t);for(let c=l.depth+1;c>0;c--){let u=c>l.depth?l.nodeAfter:l.node(c);if(Xe.isSelectable(u)){s&&r.$from.depth>0&&c>=r.$from.depth&&l.before(r.$from.depth+1)==r.$from.pos?a=l.before(r.$from.depth):a=l.before(c);break}}return a!=null?(Wl(e,Xe.create(e.state.doc,a)),!0):!1}function OR(e,t,r,s,a){return K0(e,"handleClickOn",t,r,s)||e.someProp("handleClick",l=>l(e,t,s))||(a?MR(e,r):AR(e,r))}function DR(e,t,r,s){return K0(e,"handleDoubleClickOn",t,r,s)||e.someProp("handleDoubleClick",a=>a(e,t,s))}function RR(e,t,r,s){return K0(e,"handleTripleClickOn",t,r,s)||e.someProp("handleTripleClick",a=>a(e,t,s))||zR(e,r,s)}function zR(e,t,r){if(r.button!=0)return!1;let s=e.state.doc;if(t==-1)return s.inlineContent?(Wl(e,ot.create(s,0,s.content.size)),!0):!1;let a=s.resolve(t);for(let l=a.depth+1;l>0;l--){let c=l>a.depth?a.nodeAfter:a.node(l),u=a.before(l);if(c.inlineContent)Wl(e,ot.create(s,u+1,u+1+c.content.size));else if(Xe.isSelectable(c))Wl(e,Xe.create(s,u));else continue;return!0}}function G0(e){return Oh(e)}const yN=$n?"metaKey":"ctrlKey";Kr.mousedown=(e,t)=>{let r=t;e.input.shiftKey=r.shiftKey;let s=G0(e),a=Date.now(),l="singleClick";a-e.input.lastClick.time<500&&TR(r,e.input.lastClick)&&!r[yN]&&e.input.lastClick.button==r.button&&(e.input.lastClick.type=="singleClick"?l="doubleClick":e.input.lastClick.type=="doubleClick"&&(l="tripleClick")),e.input.lastClick={time:a,x:r.clientX,y:r.clientY,type:l,button:r.button};let c=e.posAtCoords(If(r));c&&(l=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new LR(e,c,r,!!s)):(l=="doubleClick"?DR:RR)(e,c.pos,c.inside,r)?r.preventDefault():Ua(e,"pointer"))};class LR{constructor(t,r,s,a){this.view=t,this.pos=r,this.event=s,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!s[yN],this.allowDefault=s.shiftKey;let l,c;if(r.inside>-1)l=t.state.doc.nodeAt(r.inside),c=r.inside;else{let m=t.state.doc.resolve(r.pos);l=m.parent,c=m.depth?m.before():0}const u=a?null:s.target,h=u?t.docView.nearestDesc(u,!0):null;this.target=h&&h.nodeDOM.nodeType==1?h.nodeDOM:null;let{selection:f}=t.state;(s.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||f instanceof Xe&&f.from<=c&&f.to>c)&&(this.mightDrag={node:l,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Vn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ua(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ta(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(If(t))),this.updateAllowDefault(t),this.allowDefault||!r?Ua(this.view,"pointer"):OR(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||$r&&this.mightDrag&&!this.mightDrag.node.isAtom||wr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Wl(this.view,gt.near(this.view.state.doc.resolve(r.pos))),t.preventDefault()):Ua(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ua(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Kr.touchstart=e=>{e.input.lastTouch=Date.now(),G0(e),Ua(e,"pointer")};Kr.touchmove=e=>{e.input.lastTouch=Date.now(),Ua(e,"pointer")};Kr.contextmenu=e=>G0(e);function bN(e,t){return e.composing?!0:$r&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const BR=Js?5e3:-1;Gr.compositionstart=Gr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,r=t.selection.$to;if(t.selection instanceof ot&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)||wr&&J6&&_R(e)))e.markCursor=e.state.storedMarks||r.marks(),Oh(e,!0),e.markCursor=null;else if(Oh(e,!t.selection.empty),Vn&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let s=e.domSelectionRange();for(let a=s.focusNode,l=s.focusOffset;a&&a.nodeType==1&&l!=0;){let c=l<0?a.lastChild:a.childNodes[l-1];if(!c)break;if(c.nodeType==3){let u=e.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else a=c,l=-1}}e.input.composing=!0}vN(e,BR)};function _R(e){let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(!t||t.nodeType!=1||r>=t.childNodes.length)return!1;let s=t.childNodes[r];return s.nodeType==1&&s.contentEditable=="false"}Gr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,vN(e,20))};function vN(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Oh(e),t))}function jN(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=IR());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function PR(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let r=MD(t.focusNode,t.focusOffset),s=OD(t.focusNode,t.focusOffset);if(r&&s&&r!=s){let a=s.pmViewDesc,l=e.domObserver.lastChangedTextNode;if(r==l||s==l)return l;if(!a||!a.isText(s.nodeValue))return s;if(e.input.compositionNode==s){let c=r.pmViewDesc;if(!(!c||!c.isText(r.nodeValue)))return s}}return r||s}function IR(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Oh(e,t=!1){if(!(Js&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),jN(e),t||e.docView&&e.docView.dirty){let r=V0(e),s=e.state.selection;return r&&!r.eq(s)?e.dispatch(e.state.tr.setSelection(r)):(e.markCursor||t)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function $R(e,t){if(!e.dom.parentNode)return;let r=e.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),a=document.createRange();a.selectNodeContents(t),e.dom.blur(),s.removeAllRanges(),s.addRange(a),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),e.focus()},50)}const Wc=on&&qa<15||ei&&LD<604;Kr.copy=Gr.cut=(e,t)=>{let r=t,s=e.state.selection,a=r.type=="cut";if(s.empty)return;let l=Wc?null:r.clipboardData,c=s.content(),{dom:u,text:h}=q0(e,c);l?(r.preventDefault(),l.clearData(),l.setData("text/html",u.innerHTML),l.setData("text/plain",h)):$R(e,u),a&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function HR(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function UR(e,t){if(!e.dom.parentNode)return;let r=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,s=e.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let a=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),s.parentNode&&s.parentNode.removeChild(s),r?Kc(e,s.value,null,a,t):Kc(e,s.textContent,s.innerHTML,a,t)},50)}function Kc(e,t,r,s,a){let l=hN(e,t,r,s,e.state.selection.$from);if(e.someProp("handlePaste",h=>h(e,a,l||Ie.empty)))return!0;if(!l)return!1;let c=HR(l),u=c?e.state.tr.replaceSelectionWith(c,s):e.state.tr.replaceSelection(l);return e.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function wN(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let r=e.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Gr.paste=(e,t)=>{let r=t;if(e.composing&&!Js)return;let s=Wc?null:r.clipboardData,a=e.input.shiftKey&&e.input.lastKeyCode!=45;s&&Kc(e,wN(s),s.getData("text/html"),a,r)?r.preventDefault():UR(e,r)};class NN{constructor(t,r,s){this.slice=t,this.move=r,this.node=s}}const VR=$n?"altKey":"ctrlKey";function CN(e,t){let r=e.someProp("dragCopies",s=>!s(t));return r??!t[VR]}Kr.dragstart=(e,t)=>{let r=t,s=e.input.mouseDown;if(s&&s.done(),!r.dataTransfer)return;let a=e.state.selection,l=a.empty?null:e.posAtCoords(If(r)),c;if(!(l&&l.pos>=a.from&&l.pos<=(a instanceof Xe?a.to-1:a.to))){if(s&&s.mightDrag)c=Xe.create(e.state.doc,s.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let g=e.docView.nearestDesc(r.target,!0);g&&g.node.type.spec.draggable&&g!=e.docView&&(c=Xe.create(e.state.doc,g.posBefore))}}let u=(c||e.state.selection).content(),{dom:h,text:f,slice:m}=q0(e,u);(!r.dataTransfer.files.length||!wr||Y6>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Wc?"Text":"text/html",h.innerHTML),r.dataTransfer.effectAllowed="copyMove",Wc||r.dataTransfer.setData("text/plain",f),e.dragging=new NN(m,CN(e,r),c)};Kr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Gr.dragover=Gr.dragenter=(e,t)=>t.preventDefault();Gr.drop=(e,t)=>{try{FR(e,t,e.dragging)}finally{e.dragging=null}};function FR(e,t,r){if(!t.dataTransfer)return;let s=e.posAtCoords(If(t));if(!s)return;let a=e.state.doc.resolve(s.pos),l=r&&r.slice;l?e.someProp("transformPasted",b=>{l=b(l,e,!1)}):l=hN(e,wN(t.dataTransfer),Wc?null:t.dataTransfer.getData("text/html"),!1,a);let c=!!(r&&CN(e,t));if(e.someProp("handleDrop",b=>b(e,t,l||Ie.empty,c))){t.preventDefault();return}if(!l)return;t.preventDefault();let u=l?T6(e.state.doc,a.pos,l):a.pos;u==null&&(u=a.pos);let h=e.state.tr;if(c){let{node:b}=r;b?b.replace(h):h.deleteSelection()}let f=h.mapping.map(u),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,g=h.doc;if(m?h.replaceRangeWith(f,f,l.content.firstChild):h.replaceRange(f,f,l),h.doc.eq(g))return;let y=h.doc.resolve(f);if(m&&Xe.isSelectable(l.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(l.content.firstChild))h.setSelection(new Xe(y));else{let b=h.mapping.map(u);h.mapping.maps[h.mapping.maps.length-1].forEach((j,N,C,w)=>b=w),h.setSelection(F0(e,y,h.doc.resolve(b)))}e.focus(),e.dispatch(h.setMeta("uiEvent","drop"))}Kr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&ta(e)},20))};Kr.blur=(e,t)=>{let r=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),r.relatedTarget&&e.dom.contains(r.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Kr.beforeinput=(e,t)=>{if(wr&&Js&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:s}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=s||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",l=>l(e,ko(8,"Backspace")))))return;let{$cursor:a}=e.state.selection;a&&a.pos>0&&e.dispatch(e.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let e in Gr)Kr[e]=Gr[e];function Gc(e,t){if(e==t)return!0;for(let r in e)if(e[r]!==t[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}class Dh{constructor(t,r){this.toDOM=t,this.spec=r||Po,this.side=this.spec.side||0}map(t,r,s,a){let{pos:l,deleted:c}=t.mapResult(r.from+a,this.side<0?-1:1);return c?null:new qr(l-s,l-s,this)}valid(){return!0}eq(t){return this==t||t instanceof Dh&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Gc(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Ka{constructor(t,r){this.attrs=t,this.spec=r||Po}map(t,r,s,a){let l=t.map(r.from+a,this.spec.inclusiveStart?-1:1)-s,c=t.map(r.to+a,this.spec.inclusiveEnd?1:-1)-s;return l>=c?null:new qr(l,c,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof Ka&&Gc(this.attrs,t.attrs)&&Gc(this.spec,t.spec)}static is(t){return t.type instanceof Ka}destroy(){}}class Y0{constructor(t,r){this.attrs=t,this.spec=r||Po}map(t,r,s,a){let l=t.mapResult(r.from+a,1);if(l.deleted)return null;let c=t.mapResult(r.to+a,-1);return c.deleted||c.pos<=l.pos?null:new qr(l.pos-s,c.pos-s,this)}valid(t,r){let{index:s,offset:a}=t.content.findIndex(r.from),l;return a==r.from&&!(l=t.child(s)).isText&&a+l.nodeSize==r.to}eq(t){return this==t||t instanceof Y0&&Gc(this.attrs,t.attrs)&&Gc(this.spec,t.spec)}destroy(){}}class qr{constructor(t,r,s){this.from=t,this.to=r,this.type=s}copy(t,r){return new qr(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,s){return this.type.map(t,this,r,s)}static widget(t,r,s){return new qr(t,t,new Dh(r,s))}static inline(t,r,s,a){return new qr(t,r,new Ka(s,a))}static node(t,r,s,a){return new qr(t,r,new Y0(s,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ka}get widget(){return this.type instanceof Dh}}const Il=[],Po={};class Xt{constructor(t,r){this.local=t.length?t:Il,this.children=r.length?r:Il}static create(t,r){return r.length?Rh(r,t,0,Po):_r}find(t,r,s){let a=[];return this.findInner(t??0,r??1e9,a,0,s),a}findInner(t,r,s,a,l){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=r&&u.to>=t&&(!l||l(u.spec))&&s.push(u.copy(u.from+a,u.to+a))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<r&&this.children[c+1]>t){let u=this.children[c]+1;this.children[c+2].findInner(t-u,r-u,s,a+u,l)}}map(t,r,s){return this==_r||t.maps.length==0?this:this.mapInner(t,r,0,0,s||Po)}mapInner(t,r,s,a,l){let c;for(let u=0;u<this.local.length;u++){let h=this.local[u].map(t,s,a);h&&h.type.valid(r,h)?(c||(c=[])).push(h):l.onRemove&&l.onRemove(this.local[u].spec)}return this.children.length?qR(this.children,c||[],t,r,s,a,l):c?new Xt(c.sort(Io),Il):_r}add(t,r){return r.length?this==_r?Xt.create(t,r):this.addInner(t,r,0):this}addInner(t,r,s){let a,l=0;t.forEach((u,h)=>{let f=h+s,m;if(m=kN(r,u,f)){for(a||(a=this.children.slice());l<a.length&&a[l]<h;)l+=3;a[l]==h?a[l+2]=a[l+2].addInner(u,m,f+1):a.splice(l,0,h,h+u.nodeSize,Rh(m,u,f+1,Po)),l+=3}});let c=SN(l?EN(r):r,-s);for(let u=0;u<c.length;u++)c[u].type.valid(t,c[u])||c.splice(u--,1);return new Xt(c.length?this.local.concat(c).sort(Io):this.local,a||this.children)}remove(t){return t.length==0||this==_r?this:this.removeInner(t,0)}removeInner(t,r){let s=this.children,a=this.local;for(let l=0;l<s.length;l+=3){let c,u=s[l]+r,h=s[l+1]+r;for(let m=0,g;m<t.length;m++)(g=t[m])&&g.from>u&&g.to<h&&(t[m]=null,(c||(c=[])).push(g));if(!c)continue;s==this.children&&(s=this.children.slice());let f=s[l+2].removeInner(c,u+1);f!=_r?s[l+2]=f:(s.splice(l,3),l-=3)}if(a.length){for(let l=0,c;l<t.length;l++)if(c=t[l])for(let u=0;u<a.length;u++)a[u].eq(c,r)&&(a==this.local&&(a=this.local.slice()),a.splice(u--,1))}return s==this.children&&a==this.local?this:a.length||s.length?new Xt(a,s):_r}forChild(t,r){if(this==_r)return this;if(r.isLeaf)return Xt.empty;let s,a;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=t){this.children[u]==t&&(s=this.children[u+2]);break}let l=t+1,c=l+r.content.size;for(let u=0;u<this.local.length;u++){let h=this.local[u];if(h.from<c&&h.to>l&&h.type instanceof Ka){let f=Math.max(l,h.from)-l,m=Math.min(c,h.to)-l;f<m&&(a||(a=[])).push(h.copy(f,m))}}if(a){let u=new Xt(a.sort(Io),Il);return s?new Pa([u,s]):u}return s||_r}eq(t){if(this==t)return!0;if(!(t instanceof Xt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return J0(this.localsInner(t))}localsInner(t){if(this==_r)return Il;if(t.inlineContent||!this.local.some(Ka.is))return this.local;let r=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof Ka||r.push(this.local[s]);return r}forEachSet(t){t(this)}}Xt.empty=new Xt([],[]);Xt.removeOverlap=J0;const _r=Xt.empty;class Pa{constructor(t){this.members=t}map(t,r){const s=this.members.map(a=>a.map(t,r,Po));return Pa.from(s)}forChild(t,r){if(r.isLeaf)return Xt.empty;let s=[];for(let a=0;a<this.members.length;a++){let l=this.members[a].forChild(t,r);l!=_r&&(l instanceof Pa?s=s.concat(l.members):s.push(l))}return Pa.from(s)}eq(t){if(!(t instanceof Pa)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,s=!0;for(let a=0;a<this.members.length;a++){let l=this.members[a].localsInner(t);if(l.length)if(!r)r=l;else{s&&(r=r.slice(),s=!1);for(let c=0;c<l.length;c++)r.push(l[c])}}return r?J0(s?r:r.sort(Io)):Il}static from(t){switch(t.length){case 0:return _r;case 1:return t[0];default:return new Pa(t.every(r=>r instanceof Xt)?t:t.reduce((r,s)=>r.concat(s instanceof Xt?s:s.members),[]))}}forEachSet(t){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(t)}}function qR(e,t,r,s,a,l,c){let u=e.slice();for(let f=0,m=l;f<r.maps.length;f++){let g=0;r.maps[f].forEach((y,b,j,N)=>{let C=N-j-(b-y);for(let w=0;w<u.length;w+=3){let T=u[w+1];if(T<0||y>T+m-g)continue;let E=u[w]+m-g;b>=E?u[w+1]=y<=E?-2:-1:y>=m&&C&&(u[w]+=C,u[w+1]+=C)}g+=C}),m=r.maps[f].map(m,-1)}let h=!1;for(let f=0;f<u.length;f+=3)if(u[f+1]<0){if(u[f+1]==-2){h=!0,u[f+1]=-1;continue}let m=r.map(e[f]+l),g=m-a;if(g<0||g>=s.content.size){h=!0;continue}let y=r.map(e[f+1]+l,-1),b=y-a,{index:j,offset:N}=s.content.findIndex(g),C=s.maybeChild(j);if(C&&N==g&&N+C.nodeSize==b){let w=u[f+2].mapInner(r,C,m+1,e[f]+l+1,c);w!=_r?(u[f]=g,u[f+1]=b,u[f+2]=w):(u[f+1]=-2,h=!0)}else h=!0}if(h){let f=WR(u,e,t,r,a,l,c),m=Rh(f,s,0,c);t=m.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,y=0;g<m.children.length;g+=3){let b=m.children[g];for(;y<u.length&&u[y]<b;)y+=3;u.splice(y,0,m.children[g],m.children[g+1],m.children[g+2])}}return new Xt(t.sort(Io),u)}function SN(e,t){if(!t||!e.length)return e;let r=[];for(let s=0;s<e.length;s++){let a=e[s];r.push(new qr(a.from+t,a.to+t,a.type))}return r}function WR(e,t,r,s,a,l,c){function u(h,f){for(let m=0;m<h.local.length;m++){let g=h.local[m].map(s,a,f);g?r.push(g):c.onRemove&&c.onRemove(h.local[m].spec)}for(let m=0;m<h.children.length;m+=3)u(h.children[m+2],h.children[m]+f+1)}for(let h=0;h<e.length;h+=3)e[h+1]==-1&&u(e[h+2],t[h]+l+1);return r}function kN(e,t,r){if(t.isLeaf)return null;let s=r+t.nodeSize,a=null;for(let l=0,c;l<e.length;l++)(c=e[l])&&c.from>r&&c.to<s&&((a||(a=[])).push(c),e[l]=null);return a}function EN(e){let t=[];for(let r=0;r<e.length;r++)e[r]!=null&&t.push(e[r]);return t}function Rh(e,t,r,s){let a=[],l=!1;t.forEach((u,h)=>{let f=kN(e,u,h+r);if(f){l=!0;let m=Rh(f,u,r+h+1,s);m!=_r&&a.push(h,h+u.nodeSize,m)}});let c=SN(l?EN(e):e,-r).sort(Io);for(let u=0;u<c.length;u++)c[u].type.valid(t,c[u])||(s.onRemove&&s.onRemove(c[u].spec),c.splice(u--,1));return c.length||a.length?new Xt(c,a):_r}function Io(e,t){return e.from-t.from||e.to-t.to}function J0(e){let t=e;for(let r=0;r<t.length-1;r++){let s=t[r];if(s.from!=s.to)for(let a=r+1;a<t.length;a++){let l=t[a];if(l.from==s.from){l.to!=s.to&&(t==e&&(t=e.slice()),t[a]=l.copy(l.from,s.to),mj(t,a+1,l.copy(s.to,l.to)));continue}else{l.from<s.to&&(t==e&&(t=e.slice()),t[r]=s.copy(s.from,l.from),mj(t,a,s.copy(l.from,s.to)));break}}}return t}function mj(e,t,r){for(;t<e.length&&Io(r,e[t])>0;)t++;e.splice(t,0,r)}function Ig(e){let t=[];return e.someProp("decorations",r=>{let s=r(e.state);s&&s!=_r&&t.push(s)}),e.cursorWrapper&&t.push(Xt.create(e.state.doc,[e.cursorWrapper.deco])),Pa.from(t)}const KR={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},GR=on&&qa<=11;class YR{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class JR{constructor(t,r){this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new YR,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let a=0;a<s.length;a++)this.queue.push(s[a]);on&&qa<=11&&s.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),GR&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,KR)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(lj(this.view)){if(this.suppressingSelectionUpdates)return ta(this.view);if(on&&qa<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Fo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let r=new Set,s;for(let l=t.focusNode;l;l=Zl(l))r.add(l);for(let l=t.anchorNode;l;l=Zl(l))if(r.has(l)){s=l;break}let a=s&&this.view.docView.nearestDesc(s);if(a&&a.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let s=t.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&lj(t)&&!this.ignoreSelectionChange(s),l=-1,c=-1,u=!1,h=[];if(t.editable)for(let m=0;m<r.length;m++){let g=this.registerMutation(r[m],h);g&&(l=l<0?g.from:Math.min(g.from,l),c=c<0?g.to:Math.max(g.to,c),g.typeOver&&(u=!0))}if(Vn&&h.length){let m=h.filter(g=>g.nodeName=="BR");if(m.length==2){let[g,y]=m;g.parentNode&&g.parentNode.parentNode==y.parentNode?y.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let y of m){let b=y.parentNode;b&&b.nodeName=="LI"&&(!g||ZR(t,g)!=b)&&y.remove()}}}else if((wr||$r)&&h.some(m=>m.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let m of h)if(m.nodeName=="BR"&&m.parentNode){let g=m.nextSibling;g&&g.nodeType==1&&g.contentEditable=="false"&&m.parentNode.removeChild(m)}}let f=null;l<0&&a&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&_f(s)&&(f=V0(t))&&f.eq(gt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,ta(t),this.currentSelection.set(s),t.scrollToSelection()):(l>-1||a)&&(l>-1&&(t.docView.markDirty(l,c),QR(t)),this.handleDOMChange(l,c,u,h),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(s)||ta(t),this.currentSelection.set(s))}registerMutation(t,r){if(r.indexOf(t.target)>-1)return null;let s=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(s==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!s||s.ignoreMutation(t))return null;if(t.type=="childList"){for(let m=0;m<t.addedNodes.length;m++){let g=t.addedNodes[m];r.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(t.target))return{from:s.posBefore,to:s.posAfter};let a=t.previousSibling,l=t.nextSibling;if(on&&qa<=11&&t.addedNodes.length)for(let m=0;m<t.addedNodes.length;m++){let{previousSibling:g,nextSibling:y}=t.addedNodes[m];(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(a=g),(!y||Array.prototype.indexOf.call(t.addedNodes,y)<0)&&(l=y)}let c=a&&a.parentNode==t.target?Dr(a)+1:0,u=s.localPosFromDOM(t.target,c,-1),h=l&&l.parentNode==t.target?Dr(l):t.target.childNodes.length,f=s.localPosFromDOM(t.target,h,1);return{from:u,to:f}}else return t.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=t.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let gj=new WeakMap,xj=!1;function QR(e){if(!gj.has(e)&&(gj.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Vn,xj)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),xj=!0}}function yj(e,t){let r=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset,c=e.domAtPos(e.state.selection.anchor);return Fo(c.node,c.offset,a,l)&&([r,s,a,l]=[a,l,r,s]),{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:l}}function XR(e,t){if(t.getComposedRanges){let a=t.getComposedRanges(e.root)[0];if(a)return yj(e,a)}let r;function s(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",s,!0),r?yj(e,r):null}function ZR(e,t){for(let r=t.parentNode;r&&r!=e.dom;r=r.parentNode){let s=e.docView.nearestDesc(r,!0);if(s&&s.node.isBlock)return r}return null}function ez(e,t,r){let{node:s,fromOffset:a,toOffset:l,from:c,to:u}=e.docView.parseRange(t,r),h=e.domSelectionRange(),f,m=h.anchorNode;if(m&&e.dom.contains(m.nodeType==1?m:m.parentNode)&&(f=[{node:m,offset:h.anchorOffset}],_f(h)||f.push({node:h.focusNode,offset:h.focusOffset})),wr&&e.input.lastKeyCode===8)for(let C=l;C>a;C--){let w=s.childNodes[C-1],T=w.pmViewDesc;if(w.nodeName=="BR"&&!T){l=C;break}if(!T||T.size)break}let g=e.state.doc,y=e.someProp("domParser")||Fa.fromSchema(e.state.schema),b=g.resolve(c),j=null,N=y.parse(s,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:a,to:l,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:tz,context:b});if(f&&f[0].pos!=null){let C=f[0].pos,w=f[1]&&f[1].pos;w==null&&(w=C),j={anchor:C+c,head:w+c}}return{doc:N,sel:j,from:c,to:u}}function tz(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if($r&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(e.parentNode.lastChild==e||$r&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const rz=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function nz(e,t,r,s,a){let l=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let z=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,q=V0(e,z);if(q&&!e.state.selection.eq(q)){if(wr&&Js&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",H=>H(e,ko(13,"Enter"))))return;let I=e.state.tr.setSelection(q);z=="pointer"?I.setMeta("pointer",!0):z=="key"&&I.scrollIntoView(),l&&I.setMeta("composition",l),e.dispatch(I)}return}let c=e.state.doc.resolve(t),u=c.sharedDepth(r);t=c.before(u+1),r=e.state.doc.resolve(r).after(u+1);let h=e.state.selection,f=ez(e,t,r),m=e.state.doc,g=m.slice(f.from,f.to),y,b;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(y=e.state.selection.to,b="end"):(y=e.state.selection.from,b="start"),e.input.lastKeyCode=null;let j=oz(g.content,f.doc.content,f.from,y,b);if(j&&e.input.domChangeCount++,(ei&&e.input.lastIOSEnter>Date.now()-225||Js)&&a.some(z=>z.nodeType==1&&!rz.test(z.nodeName))&&(!j||j.endA>=j.endB)&&e.someProp("handleKeyDown",z=>z(e,ko(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!j)if(s&&h instanceof ot&&!h.empty&&h.$head.sameParent(h.$anchor)&&!e.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))j={start:h.from,endA:h.to,endB:h.to};else{if(f.sel){let z=bj(e,e.state.doc,f.sel);if(z&&!z.eq(e.state.selection)){let q=e.state.tr.setSelection(z);l&&q.setMeta("composition",l),e.dispatch(q)}}return}e.state.selection.from<e.state.selection.to&&j.start==j.endB&&e.state.selection instanceof ot&&(j.start>e.state.selection.from&&j.start<=e.state.selection.from+2&&e.state.selection.from>=f.from?j.start=e.state.selection.from:j.endA<e.state.selection.to&&j.endA>=e.state.selection.to-2&&e.state.selection.to<=f.to&&(j.endB+=e.state.selection.to-j.endA,j.endA=e.state.selection.to)),on&&qa<=11&&j.endB==j.start+1&&j.endA==j.start&&j.start>f.from&&f.doc.textBetween(j.start-f.from-1,j.start-f.from+1)==" "&&(j.start--,j.endA--,j.endB--);let N=f.doc.resolveNoCache(j.start-f.from),C=f.doc.resolveNoCache(j.endB-f.from),w=m.resolve(j.start),T=N.sameParent(C)&&N.parent.inlineContent&&w.end()>=j.endA;if((ei&&e.input.lastIOSEnter>Date.now()-225&&(!T||a.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!T&&N.pos<f.doc.content.size&&(!N.sameParent(C)||!N.parent.inlineContent)&&N.pos<C.pos&&!/\S/.test(f.doc.textBetween(N.pos,C.pos,"","")))&&e.someProp("handleKeyDown",z=>z(e,ko(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>j.start&&az(m,j.start,j.endA,N,C)&&e.someProp("handleKeyDown",z=>z(e,ko(8,"Backspace")))){Js&&wr&&e.domObserver.suppressSelectionUpdates();return}wr&&j.endB==j.start&&(e.input.lastChromeDelete=Date.now()),Js&&!T&&N.start()!=C.start()&&C.parentOffset==0&&N.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==j.endA&&(j.endB-=2,C=f.doc.resolveNoCache(j.endB-f.from),setTimeout(()=>{e.someProp("handleKeyDown",function(z){return z(e,ko(13,"Enter"))})},20));let E=j.start,O=j.endA,R=z=>{let q=z||e.state.tr.replace(E,O,f.doc.slice(j.start-f.from,j.endB-f.from));if(f.sel){let I=bj(e,q.doc,f.sel);I&&!(wr&&e.composing&&I.empty&&(j.start!=j.endB||e.input.lastChromeDelete<Date.now()-100)&&(I.head==E||I.head==q.mapping.map(O)-1)||on&&I.empty&&I.head==E)&&q.setSelection(I)}return l&&q.setMeta("composition",l),q.scrollIntoView()},L;if(T)if(N.pos==C.pos){on&&qa<=11&&N.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>ta(e),20));let z=R(e.state.tr.delete(E,O)),q=m.resolve(j.start).marksAcross(m.resolve(j.endA));q&&z.ensureMarks(q),e.dispatch(z)}else if(j.endA==j.endB&&(L=sz(N.parent.content.cut(N.parentOffset,C.parentOffset),w.parent.content.cut(w.parentOffset,j.endA-w.start())))){let z=R(e.state.tr);L.type=="add"?z.addMark(E,O,L.mark):z.removeMark(E,O,L.mark),e.dispatch(z)}else if(N.parent.child(N.index()).isText&&N.index()==C.index()-(C.textOffset?0:1)){let z=N.parent.textBetween(N.parentOffset,C.parentOffset),q=()=>R(e.state.tr.insertText(z,E,O));e.someProp("handleTextInput",I=>I(e,E,O,z,q))||e.dispatch(q())}else e.dispatch(R());else e.dispatch(R())}function bj(e,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:F0(e,t.resolve(r.anchor),t.resolve(r.head))}function sz(e,t){let r=e.firstChild.marks,s=t.firstChild.marks,a=r,l=s,c,u,h;for(let m=0;m<s.length;m++)a=s[m].removeFromSet(a);for(let m=0;m<r.length;m++)l=r[m].removeFromSet(l);if(a.length==1&&l.length==0)u=a[0],c="add",h=m=>m.mark(u.addToSet(m.marks));else if(a.length==0&&l.length==1)u=l[0],c="remove",h=m=>m.mark(u.removeFromSet(m.marks));else return null;let f=[];for(let m=0;m<t.childCount;m++)f.push(h(t.child(m)));if(Oe.from(f).eq(e))return{mark:u,type:c}}function az(e,t,r,s,a){if(r-t<=a.pos-s.pos||$g(s,!0,!1)<a.pos)return!1;let l=e.resolve(t);if(!s.parent.isTextblock){let u=l.nodeAfter;return u!=null&&r==t+u.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let c=e.resolve($g(l,!0,!0));return!c.parent.isTextblock||c.pos>r||$g(c,!0,!1)<r?!1:s.parent.content.cut(s.parentOffset).eq(c.parent.content)}function $g(e,t,r){let s=e.depth,a=t?e.end():e.pos;for(;s>0&&(t||e.indexAfter(s)==e.node(s).childCount);)s--,a++,t=!1;if(r){let l=e.node(s).maybeChild(e.indexAfter(s));for(;l&&!l.isLeaf;)l=l.firstChild,a++}return a}function oz(e,t,r,s,a){let l=e.findDiffStart(t,r);if(l==null)return null;let{a:c,b:u}=e.findDiffEnd(t,r+e.size,r+t.size);if(a=="end"){let h=Math.max(0,l-Math.min(c,u));s-=c+h-l}if(c<l&&e.size<t.size){let h=s<=l&&s>=c?l-s:0;l-=h,l&&l<t.size&&vj(t.textBetween(l-1,l+1))&&(l+=h?1:-1),u=l+(u-c),c=l}else if(u<l){let h=s<=l&&s>=u?l-s:0;l-=h,l&&l<e.size&&vj(e.textBetween(l-1,l+1))&&(l+=h?1:-1),c=l+(c-u),u=l}return{start:l,endA:c,endB:u}}function vj(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),r=e.charCodeAt(1);return t>=56320&&t<=57343&&r>=55296&&r<=56319}class TN{constructor(t,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new NR,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(Sj),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Nj(this),wj(this),this.nodeViews=Cj(this),this.docView=tj(this.state.doc,jj(this),Ig(this),this.dom,this),this.domObserver=new JR(this,(s,a,l,c)=>nz(this,s,a,l,c)),this.domObserver.start(),CR(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let r in t)this._props[r]=t[r];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Ux(this);let r=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Sj),this.directPlugins=t.plugins),this.updateStateInner(t.state,r)}setProps(t){let r={};for(let s in this._props)r[s]=this._props[s];r.state=this.state;for(let s in t)r[s]=t[s];this.update(r)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,r){var s;let a=this.state,l=!1,c=!1;t.storedMarks&&this.composing&&(jN(this),c=!0),this.state=t;let u=a.plugins!=t.plugins||this._props.plugins!=r.plugins;if(u||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let b=Cj(this);iz(b,this.nodeViews)&&(this.nodeViews=b,l=!0)}(u||r.handleDOMEvents!=this._props.handleDOMEvents)&&Ux(this),this.editable=Nj(this),wj(this);let h=Ig(this),f=jj(this),m=a.plugins!=t.plugins&&!a.doc.eq(t.doc)?"reset":t.scrollToSelection>a.scrollToSelection?"to selection":"preserve",g=l||!this.docView.matchesNode(t.doc,f,h);(g||!t.selection.eq(a.selection))&&(c=!0);let y=m=="preserve"&&c&&this.dom.style.overflowAnchor==null&&PD(this);if(c){this.domObserver.stop();let b=g&&(on||wr)&&!this.composing&&!a.selection.empty&&!t.selection.empty&&lz(a.selection,t.selection);if(g){let j=wr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=PR(this)),(l||!this.docView.update(t.doc,f,h,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=tj(t.doc,f,h,this.dom,this)),j&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&iR(this))?ta(this,b):(cN(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((s=this.dragging)===null||s===void 0)&&s.node&&!a.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,a),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():y&&ID(y)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Xe){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&Y4(this,r.getBoundingClientRect(),t)}else Y4(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let s=this.directPlugins[r];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let s=this.state.plugins[r];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let s=this.pluginViews[r];s.update&&s.update(this,t)}}updateDraggedNode(t,r){let s=t.node,a=-1;if(this.state.doc.nodeAt(s.from)==s.node)a=s.from;else{let l=s.from+(this.state.doc.content.size-r.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==s.node&&(a=l)}this.dragging=new NN(t.slice,t.move,a<0?void 0:Xe.create(this.state.doc,a))}someProp(t,r){let s=this._props&&this._props[t],a;if(s!=null&&(a=r?r(s):s))return a;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[t];if(u!=null&&(a=r?r(u):u))return a}let l=this.state.plugins;if(l)for(let c=0;c<l.length;c++){let u=l[c].props[t];if(u!=null&&(a=r?r(u):u))return a}}hasFocus(){if(on){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&$D(this.dom),ta(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return t||document}updateRoot(){this._root=null}posAtCoords(t){return qD(this,t)}coordsAtPos(t,r=1){return tN(this,t,r)}domAtPos(t,r=0){return this.docView.domFromPos(t,r)}nodeDOM(t){let r=this.docView.descAt(t);return r?r.nodeDOM:null}posAtDOM(t,r,s=-1){let a=this.docView.posFromDOM(t,r,s);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(t,r){return JD(this,r||this.state,t)}pasteHTML(t,r){return Kc(this,"",t,!1,r||new ClipboardEvent("paste"))}pasteText(t,r){return Kc(this,t,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(t){return q0(this,t)}destroy(){this.docView&&(SR(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ig(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,TD())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return ER(this,t)}domSelectionRange(){let t=this.domSelection();return t?$r&&this.root.nodeType===11&&RD(this.dom.ownerDocument)==this.dom&&XR(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}TN.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function jj(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(e.state)),r)for(let s in r)s=="class"?t.class+=" "+r[s]:s=="style"?t.style=(t.style?t.style+";":"")+r[s]:!t[s]&&s!="contenteditable"&&s!="nodeName"&&(t[s]=String(r[s]))}),t.translate||(t.translate="no"),[qr.node(0,e.state.doc.content.size,t)]}function wj(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:qr.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Nj(e){return!e.someProp("editable",t=>t(e.state)===!1)}function lz(e,t){let r=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(r)!=t.$anchor.start(r)}function Cj(e){let t=Object.create(null);function r(s){for(let a in s)Object.prototype.hasOwnProperty.call(t,a)||(t[a]=s[a])}return e.someProp("nodeViews",r),e.someProp("markViews",r),t}function iz(e,t){let r=0,s=0;for(let a in e){if(e[a]!=t[a])return!0;r++}for(let a in t)s++;return r!=s}function Sj(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Xa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},zh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},cz=typeof navigator<"u"&&/Mac/.test(navigator.platform),dz=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Rr=0;Rr<10;Rr++)Xa[48+Rr]=Xa[96+Rr]=String(Rr);for(var Rr=1;Rr<=24;Rr++)Xa[Rr+111]="F"+Rr;for(var Rr=65;Rr<=90;Rr++)Xa[Rr]=String.fromCharCode(Rr+32),zh[Rr]=String.fromCharCode(Rr);for(var Hg in Xa)zh.hasOwnProperty(Hg)||(zh[Hg]=Xa[Hg]);function uz(e){var t=cz&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||dz&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",r=!t&&e.key||(e.shiftKey?zh:Xa)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const hz=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),fz=typeof navigator<"u"&&/Win/.test(navigator.platform);function pz(e){let t=e.split(/-(?!$)/),r=t[t.length-1];r=="Space"&&(r=" ");let s,a,l,c;for(let u=0;u<t.length-1;u++){let h=t[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))a=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))hz?c=!0:a=!0;else throw new Error("Unrecognized modifier name: "+h)}return s&&(r="Alt-"+r),a&&(r="Ctrl-"+r),c&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function mz(e){let t=Object.create(null);for(let r in e)t[pz(r)]=e[r];return t}function Ug(e,t,r=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),r&&t.shiftKey&&(e="Shift-"+e),e}function gz(e){return new Zt({props:{handleKeyDown:AN(e)}})}function AN(e){let t=mz(e);return function(r,s){let a=uz(s),l,c=t[Ug(a,s)];if(c&&c(r.state,r.dispatch,r))return!0;if(a.length==1&&a!=" "){if(s.shiftKey){let u=t[Ug(a,s,!1)];if(u&&u(r.state,r.dispatch,r))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!(fz&&s.ctrlKey&&s.altKey)&&(l=Xa[s.keyCode])&&l!=a){let u=t[Ug(l,s)];if(u&&u(r.state,r.dispatch,r))return!0}}return!1}}var xz=Object.defineProperty,Q0=(e,t)=>{for(var r in t)xz(e,r,{get:t[r],enumerable:!0})};function $f(e){const{state:t,transaction:r}=e;let{selection:s}=r,{doc:a}=r,{storedMarks:l}=r;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return l},get selection(){return s},get doc(){return a},get tr(){return s=r.selection,a=r.doc,l=r.storedMarks,r}}}var Hf=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:s}=t,{tr:a}=r,l=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([c,u])=>[c,(...f)=>{const m=u(...f)(l);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(a),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:s,state:a}=this,{view:l}=s,c=[],u=!!e,h=e||a.tr,f=()=>(!u&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(h),c.every(g=>g===!0)),m={...Object.fromEntries(Object.entries(r).map(([g,y])=>[g,(...j)=>{const N=this.buildProps(h,t),C=y(...j)(N);return c.push(C),m}])),run:f};return m}createCan(e){const{rawCommands:t,state:r}=this,s=!1,a=e||r.tr,l=this.buildProps(a,s);return{...Object.fromEntries(Object.entries(t).map(([u,h])=>[u,(...f)=>h(...f)({...l,dispatch:void 0})])),chain:()=>this.createChain(a,s)}}buildProps(e,t=!0){const{rawCommands:r,editor:s,state:a}=this,{view:l}=s,c={tr:e,editor:s,view:l,state:$f({state:a,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,h])=>[u,(...f)=>h(...f)(c)]))}};return c}},MN={};Q0(MN,{blur:()=>yz,clearContent:()=>bz,clearNodes:()=>vz,command:()=>jz,createParagraphNear:()=>wz,cut:()=>Nz,deleteCurrentNode:()=>Cz,deleteNode:()=>Sz,deleteRange:()=>kz,deleteSelection:()=>Ez,enter:()=>Tz,exitCode:()=>Az,extendMarkRange:()=>Mz,first:()=>Oz,focus:()=>Rz,forEach:()=>zz,insertContent:()=>Lz,insertContentAt:()=>Pz,joinBackward:()=>Hz,joinDown:()=>$z,joinForward:()=>Uz,joinItemBackward:()=>Vz,joinItemForward:()=>Fz,joinTextblockBackward:()=>qz,joinTextblockForward:()=>Wz,joinUp:()=>Iz,keyboardShortcut:()=>Gz,lift:()=>Yz,liftEmptyBlock:()=>Jz,liftListItem:()=>Qz,newlineInCode:()=>Xz,resetAttributes:()=>Zz,scrollIntoView:()=>eL,selectAll:()=>tL,selectNodeBackward:()=>rL,selectNodeForward:()=>nL,selectParentNode:()=>sL,selectTextblockEnd:()=>aL,selectTextblockStart:()=>oL,setContent:()=>lL,setMark:()=>EL,setMeta:()=>TL,setNode:()=>AL,setNodeSelection:()=>ML,setTextDirection:()=>OL,setTextSelection:()=>DL,sinkListItem:()=>RL,splitBlock:()=>zL,splitListItem:()=>LL,toggleList:()=>BL,toggleMark:()=>_L,toggleNode:()=>PL,toggleWrap:()=>IL,undoInputRule:()=>$L,unsetAllMarks:()=>HL,unsetMark:()=>UL,unsetTextDirection:()=>VL,updateAttributes:()=>FL,wrapIn:()=>qL,wrapInList:()=>WL});var yz=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var r;e.isDestroyed||(t.dom.blur(),(r=window?.getSelection())==null||r.removeAllRanges())}),!0),bz=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),vz=()=>({state:e,tr:t,dispatch:r})=>{const{selection:s}=t,{ranges:a}=s;return r&&a.forEach(({$from:l,$to:c})=>{e.doc.nodesBetween(l.pos,c.pos,(u,h)=>{if(u.type.isText)return;const{doc:f,mapping:m}=t,g=f.resolve(m.map(h)),y=f.resolve(m.map(h+u.nodeSize)),b=g.blockRange(y);if(!b)return;const j=hi(b);if(u.type.isTextblock){const{defaultType:N}=g.parent.contentMatchAt(g.index());t.setNodeMarkup(b.start,N)}(j||j===0)&&t.lift(b,j)})}),!0},jz=e=>t=>e(t),wz=()=>({state:e,dispatch:t})=>F6(e,t),Nz=(e,t)=>({editor:r,tr:s})=>{const{state:a}=r,l=a.doc.slice(e.from,e.to);s.deleteRange(e.from,e.to);const c=s.mapping.map(t);return s.insert(c,l.content),s.setSelection(new ot(s.doc.resolve(Math.max(c-1,0)))),!0},Cz=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,s=r.$anchor.node();if(s.content.size>0)return!1;const a=e.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===s.type){if(t){const u=a.before(l),h=a.after(l);e.delete(u,h).scrollIntoView()}return!0}return!1};function pr(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var Sz=e=>({tr:t,state:r,dispatch:s})=>{const a=pr(e,r.schema),l=t.selection.$anchor;for(let c=l.depth;c>0;c-=1)if(l.node(c).type===a){if(s){const h=l.before(c),f=l.after(c);t.delete(h,f).scrollIntoView()}return!0}return!1},kz=e=>({tr:t,dispatch:r})=>{const{from:s,to:a}=e;return r&&t.delete(s,a),!0},Ez=()=>({state:e,dispatch:t})=>_0(e,t),Tz=()=>({commands:e})=>e.keyboardShortcut("Enter"),Az=()=>({state:e,dispatch:t})=>fD(e,t);function X0(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Lh(e,t,r={strict:!0}){const s=Object.keys(t);return s.length?s.every(a=>r.strict?t[a]===e[a]:X0(t[a])?t[a].test(e[a]):t[a]===e[a]):!0}function ON(e,t,r={}){return e.find(s=>s.type===t&&Lh(Object.fromEntries(Object.keys(r).map(a=>[a,s.attrs[a]])),r))}function kj(e,t,r={}){return!!ON(e,t,r)}function Z0(e,t,r){var s;if(!e||!t)return;let a=e.parent.childAfter(e.parentOffset);if((!a.node||!a.node.marks.some(m=>m.type===t))&&(a=e.parent.childBefore(e.parentOffset)),!a.node||!a.node.marks.some(m=>m.type===t)||(r=r||((s=a.node.marks[0])==null?void 0:s.attrs),!ON([...a.node.marks],t,r)))return;let c=a.index,u=e.start()+a.offset,h=c+1,f=u+a.node.nodeSize;for(;c>0&&kj([...e.parent.child(c-1).marks],t,r);)c-=1,u-=e.parent.child(c).nodeSize;for(;h<e.parent.childCount&&kj([...e.parent.child(h).marks],t,r);)f+=e.parent.child(h).nodeSize,h+=1;return{from:u,to:f}}function oa(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var Mz=(e,t={})=>({tr:r,state:s,dispatch:a})=>{const l=oa(e,s.schema),{doc:c,selection:u}=r,{$from:h,from:f,to:m}=u;if(a){const g=Z0(h,l,t);if(g&&g.from<=f&&g.to>=m){const y=ot.create(c,g.from,g.to);r.setSelection(y)}}return!0},Oz=e=>t=>{const r=typeof e=="function"?e(t):e;for(let s=0;s<r.length;s+=1)if(r[s](t))return!0;return!1};function DN(e){return e instanceof ot}function Oo(e=0,t=0,r=0){return Math.min(Math.max(e,t),r)}function RN(e,t=null){if(!t)return null;const r=gt.atStart(e),s=gt.atEnd(e);if(t==="start"||t===!0)return r;if(t==="end")return s;const a=r.from,l=s.to;return t==="all"?ot.create(e,Oo(0,a,l),Oo(e.content.size,a,l)):ot.create(e,Oo(t,a,l),Oo(t,a,l))}function Dz(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ey(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Rz=(e=null,t={})=>({editor:r,view:s,tr:a,dispatch:l})=>{t={scrollIntoView:!0,...t};const c=()=>{(ey()||Dz())&&s.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(s.focus(),t?.scrollIntoView&&r.commands.scrollIntoView())})};if(s.hasFocus()&&e===null||e===!1)return!0;if(l&&e===null&&!DN(r.state.selection))return c(),!0;const u=RN(a.doc,e)||r.state.selection,h=r.state.selection.eq(u);return l&&(h||a.setSelection(u),h&&a.storedMarks&&a.setStoredMarks(a.storedMarks),c()),!0},zz=(e,t)=>r=>e.every((s,a)=>t(s,{...r,index:a})),Lz=(e,t)=>({tr:r,commands:s})=>s.insertContentAt({from:r.selection.from,to:r.selection.to},e,t),zN=e=>{const t=e.childNodes;for(let r=t.length-1;r>=0;r-=1){const s=t[r];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?e.removeChild(s):s.nodeType===1&&zN(s)}return e};function _u(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,r=new window.DOMParser().parseFromString(t,"text/html").body;return zN(r)}function Yc(e,t,r){if(e instanceof ts||e instanceof Oe)return e;r={slice:!0,parseOptions:{},...r};const s=typeof e=="object"&&e!==null,a=typeof e=="string";if(s)try{if(Array.isArray(e)&&e.length>0)return Oe.fromArray(e.map(u=>t.nodeFromJSON(u)));const c=t.nodeFromJSON(e);return r.errorOnInvalidContent&&c.check(),c}catch(l){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",l),Yc("",t,r)}if(a){if(r.errorOnInvalidContent){let c=!1,u="";const h=new x6({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(c=!0,u=typeof f=="string"?f:f.outerHTML,null)}]}})});if(r.slice?Fa.fromSchema(h).parseSlice(_u(e),r.parseOptions):Fa.fromSchema(h).parse(_u(e),r.parseOptions),r.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const l=Fa.fromSchema(t);return r.slice?l.parseSlice(_u(e),r.parseOptions).content:l.parse(_u(e),r.parseOptions)}return Yc("",t,r)}function Bz(e,t,r){const s=e.steps.length-1;if(s<t)return;const a=e.steps[s];if(!(a instanceof jr||a instanceof Nr))return;const l=e.mapping.maps[s];let c=0;l.forEach((u,h,f,m)=>{c===0&&(c=m)}),e.setSelection(gt.near(e.doc.resolve(c),r))}var _z=e=>!("type"in e),Pz=(e,t,r)=>({tr:s,dispatch:a,editor:l})=>{var c;if(a){r={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let u;const h=C=>{l.emit("contentError",{editor:l,error:C,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{Yc(t,l.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(C){h(C)}try{u=Yc(t,l.schema,{parseOptions:f,errorOnInvalidContent:(c=r.errorOnInvalidContent)!=null?c:l.options.enableContentCheck})}catch(C){return h(C),!1}let{from:m,to:g}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},y=!0,b=!0;if((_z(u)?u:[u]).forEach(C=>{C.check(),y=y?C.isText&&C.marks.length===0:!1,b=b?C.isBlock:!1}),m===g&&b){const{parent:C}=s.doc.resolve(m);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(m-=1,g+=1)}let N;if(y){if(Array.isArray(t))N=t.map(C=>C.text||"").join("");else if(t instanceof Oe){let C="";t.forEach(w=>{w.text&&(C+=w.text)}),N=C}else typeof t=="object"&&t&&t.text?N=t.text:N=t;s.insertText(N,m,g)}else{N=u;const C=s.doc.resolve(m),w=C.node(),T=C.parentOffset===0,E=w.isText||w.isTextblock,O=w.content.size>0;T&&E&&O&&(m=Math.max(0,m-1)),s.replaceWith(m,g,N)}r.updateSelection&&Bz(s,s.steps.length-1,-1),r.applyInputRules&&s.setMeta("applyInputRules",{from:m,text:N}),r.applyPasteRules&&s.setMeta("applyPasteRules",{from:m,text:N})}return!0},Iz=()=>({state:e,dispatch:t})=>dD(e,t),$z=()=>({state:e,dispatch:t})=>uD(e,t),Hz=()=>({state:e,dispatch:t})=>_6(e,t),Uz=()=>({state:e,dispatch:t})=>H6(e,t),Vz=()=>({state:e,dispatch:t,tr:r})=>{try{const s=zf(e.doc,e.selection.$from.pos,-1);return s==null?!1:(r.join(s,2),t&&t(r),!0)}catch{return!1}},Fz=()=>({state:e,dispatch:t,tr:r})=>{try{const s=zf(e.doc,e.selection.$from.pos,1);return s==null?!1:(r.join(s,2),t&&t(r),!0)}catch{return!1}},qz=()=>({state:e,dispatch:t})=>iD(e,t),Wz=()=>({state:e,dispatch:t})=>cD(e,t);function LN(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Kz(e){const t=e.split(/-(?!$)/);let r=t[t.length-1];r==="Space"&&(r=" ");let s,a,l,c;for(let u=0;u<t.length-1;u+=1){const h=t[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))a=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))ey()||LN()?c=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${h}`)}return s&&(r=`Alt-${r}`),a&&(r=`Ctrl-${r}`),c&&(r=`Meta-${r}`),l&&(r=`Shift-${r}`),r}var Gz=e=>({editor:t,view:r,tr:s,dispatch:a})=>{const l=Kz(e).split(/-(?!$)/),c=l.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),h=t.captureTransaction(()=>{r.someProp("handleKeyDown",f=>f(r,u))});return h?.steps.forEach(f=>{const m=f.map(s.mapping);m&&a&&s.maybeStep(m)}),!0};function Za(e,t,r={}){const{from:s,to:a,empty:l}=e.selection,c=t?pr(t,e.schema):null,u=[];e.doc.nodesBetween(s,a,(g,y)=>{if(g.isText)return;const b=Math.max(s,y),j=Math.min(a,y+g.nodeSize);u.push({node:g,from:b,to:j})});const h=a-s,f=u.filter(g=>c?c.name===g.node.type.name:!0).filter(g=>Lh(g.node.attrs,r,{strict:!1}));return l?!!f.length:f.reduce((g,y)=>g+y.to-y.from,0)>=h}var Yz=(e,t={})=>({state:r,dispatch:s})=>{const a=pr(e,r.schema);return Za(r,a,t)?hD(r,s):!1},Jz=()=>({state:e,dispatch:t})=>q6(e,t),Qz=e=>({state:t,dispatch:r})=>{const s=pr(e,t.schema);return CD(s)(t,r)},Xz=()=>({state:e,dispatch:t})=>V6(e,t);function Uf(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Ej(e,t){const r=typeof t=="string"?[t]:t;return Object.keys(e).reduce((s,a)=>(r.includes(a)||(s[a]=e[a]),s),{})}var Zz=(e,t)=>({tr:r,state:s,dispatch:a})=>{let l=null,c=null;const u=Uf(typeof e=="string"?e:e.name,s.schema);if(!u)return!1;u==="node"&&(l=pr(e,s.schema)),u==="mark"&&(c=oa(e,s.schema));let h=!1;return r.selection.ranges.forEach(f=>{s.doc.nodesBetween(f.$from.pos,f.$to.pos,(m,g)=>{l&&l===m.type&&(h=!0,a&&r.setNodeMarkup(g,void 0,Ej(m.attrs,t))),c&&m.marks.length&&m.marks.forEach(y=>{c===y.type&&(h=!0,a&&r.addMark(g,g+m.nodeSize,c.create(Ej(y.attrs,t))))})})}),h},eL=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),tL=()=>({tr:e,dispatch:t})=>{if(t){const r=new jn(e.doc);e.setSelection(r)}return!0},rL=()=>({state:e,dispatch:t})=>I6(e,t),nL=()=>({state:e,dispatch:t})=>U6(e,t),sL=()=>({state:e,dispatch:t})=>gD(e,t),aL=()=>({state:e,dispatch:t})=>bD(e,t),oL=()=>({state:e,dispatch:t})=>yD(e,t);function Vx(e,t,r={},s={}){return Yc(e,t,{slice:!1,parseOptions:r,errorOnInvalidContent:s.errorOnInvalidContent})}var lL=(e,{errorOnInvalidContent:t,emitUpdate:r=!0,parseOptions:s={}}={})=>({editor:a,tr:l,dispatch:c,commands:u})=>{const{doc:h}=l;if(s.preserveWhitespace!=="full"){const f=Vx(e,a.schema,s,{errorOnInvalidContent:t??a.options.enableContentCheck});return c&&l.replaceWith(0,h.content.size,f).setMeta("preventUpdate",!r),!0}return c&&l.setMeta("preventUpdate",!r),u.insertContentAt({from:0,to:h.content.size},e,{parseOptions:s,errorOnInvalidContent:t??a.options.enableContentCheck})};function BN(e,t){const r=oa(t,e.schema),{from:s,to:a,empty:l}=e.selection,c=[];l?(e.storedMarks&&c.push(...e.storedMarks),c.push(...e.selection.$head.marks())):e.doc.nodesBetween(s,a,h=>{c.push(...h.marks)});const u=c.find(h=>h.type.name===r.name);return u?{...u.attrs}:{}}function _N(e,t){const r=new R6(e);return t.forEach(s=>{s.steps.forEach(a=>{r.step(a)})}),r}function iL(e){for(let t=0;t<e.edgeCount;t+=1){const{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function cL(e,t,r){const s=[];return e.nodesBetween(t.from,t.to,(a,l)=>{r(a)&&s.push({node:a,pos:l})}),s}function dL(e,t){for(let r=e.depth;r>0;r-=1){const s=e.node(r);if(t(s))return{pos:r>0?e.before(r):0,start:e.start(r),depth:r,node:s}}}function Vf(e){return t=>dL(t.$from,e)}function Qe(e,t,r){return e.config[t]===void 0&&e.parent?Qe(e.parent,t,r):typeof e.config[t]=="function"?e.config[t].bind({...r,parent:e.parent?Qe(e.parent,t,r):null}):e.config[t]}function ty(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},s=Qe(t,"addExtensions",r);return s?[t,...ty(s())]:t}).flat(10)}function ry(e,t){const r=Yo.fromSchema(t).serializeFragment(e),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(r),a.innerHTML}function PN(e){return typeof e=="function"}function Lt(e,t=void 0,...r){return PN(e)?t?e.bind(t)(...r):e(...r):e}function uL(e={}){return Object.keys(e).length===0&&e.constructor===Object}function ti(e){const t=e.filter(a=>a.type==="extension"),r=e.filter(a=>a.type==="node"),s=e.filter(a=>a.type==="mark");return{baseExtensions:t,nodeExtensions:r,markExtensions:s}}function IN(e){const t=[],{nodeExtensions:r,markExtensions:s}=ti(e),a=[...r,...s],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:a},h=Qe(c,"addGlobalAttributes",u);if(!h)return;h().forEach(m=>{m.types.forEach(g=>{Object.entries(m.attributes).forEach(([y,b])=>{t.push({type:g,name:y,attribute:{...l,...b}})})})})}),a.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},h=Qe(c,"addAttributes",u);if(!h)return;const f=h();Object.entries(f).forEach(([m,g])=>{const y={...l,...g};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,t.push({type:c.name,name:m,attribute:y})})}),t}function mr(...e){return e.filter(t=>!!t).reduce((t,r)=>{const s={...t};return Object.entries(r).forEach(([a,l])=>{if(!s[a]){s[a]=l;return}if(a==="class"){const u=l?String(l).split(" "):[],h=s[a]?s[a].split(" "):[],f=u.filter(m=>!h.includes(m));s[a]=[...h,...f].join(" ")}else if(a==="style"){const u=l?l.split(";").map(m=>m.trim()).filter(Boolean):[],h=s[a]?s[a].split(";").map(m=>m.trim()).filter(Boolean):[],f=new Map;h.forEach(m=>{const[g,y]=m.split(":").map(b=>b.trim());f.set(g,y)}),u.forEach(m=>{const[g,y]=m.split(":").map(b=>b.trim());f.set(g,y)}),s[a]=Array.from(f.entries()).map(([m,g])=>`${m}: ${g}`).join("; ")}else s[a]=l}),s},{})}function Bh(e,t){return t.filter(r=>r.type===e.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(e.attrs)||{}:{[r.name]:e.attrs[r.name]}).reduce((r,s)=>mr(r,s),{})}function hL(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Tj(e,t){return"style"in e?e:{...e,getAttrs:r=>{const s=e.getAttrs?e.getAttrs(r):e.attrs;if(s===!1)return!1;const a=t.reduce((l,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(r):hL(r.getAttribute(c.name));return u==null?l:{...l,[c.name]:u}},{});return{...s,...a}}}}function Aj(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>t==="attrs"&&uL(r)?!1:r!=null))}function Mj(e){var t,r;const s={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(s.default=e.attribute.default),((r=e?.attribute)==null?void 0:r.validate)!==void 0&&(s.validate=e.attribute.validate),[e.name,s]}function fL(e,t){var r;const s=IN(e),{nodeExtensions:a,markExtensions:l}=ti(e),c=(r=a.find(f=>Qe(f,"topNode")))==null?void 0:r.name,u=Object.fromEntries(a.map(f=>{const m=s.filter(w=>w.type===f.name),g={name:f.name,options:f.options,storage:f.storage,editor:t},y=e.reduce((w,T)=>{const E=Qe(T,"extendNodeSchema",g);return{...w,...E?E(f):{}}},{}),b=Aj({...y,content:Lt(Qe(f,"content",g)),marks:Lt(Qe(f,"marks",g)),group:Lt(Qe(f,"group",g)),inline:Lt(Qe(f,"inline",g)),atom:Lt(Qe(f,"atom",g)),selectable:Lt(Qe(f,"selectable",g)),draggable:Lt(Qe(f,"draggable",g)),code:Lt(Qe(f,"code",g)),whitespace:Lt(Qe(f,"whitespace",g)),linebreakReplacement:Lt(Qe(f,"linebreakReplacement",g)),defining:Lt(Qe(f,"defining",g)),isolating:Lt(Qe(f,"isolating",g)),attrs:Object.fromEntries(m.map(Mj))}),j=Lt(Qe(f,"parseHTML",g));j&&(b.parseDOM=j.map(w=>Tj(w,m)));const N=Qe(f,"renderHTML",g);N&&(b.toDOM=w=>N({node:w,HTMLAttributes:Bh(w,m)}));const C=Qe(f,"renderText",g);return C&&(b.toText=C),[f.name,b]})),h=Object.fromEntries(l.map(f=>{const m=s.filter(C=>C.type===f.name),g={name:f.name,options:f.options,storage:f.storage,editor:t},y=e.reduce((C,w)=>{const T=Qe(w,"extendMarkSchema",g);return{...C,...T?T(f):{}}},{}),b=Aj({...y,inclusive:Lt(Qe(f,"inclusive",g)),excludes:Lt(Qe(f,"excludes",g)),group:Lt(Qe(f,"group",g)),spanning:Lt(Qe(f,"spanning",g)),code:Lt(Qe(f,"code",g)),attrs:Object.fromEntries(m.map(Mj))}),j=Lt(Qe(f,"parseHTML",g));j&&(b.parseDOM=j.map(C=>Tj(C,m)));const N=Qe(f,"renderHTML",g);return N&&(b.toDOM=C=>N({mark:C,HTMLAttributes:Bh(C,m)})),[f.name,b]}));return new x6({topNode:c,nodes:u,marks:h})}function pL(e){const t=e.filter((r,s)=>e.indexOf(r)!==s);return Array.from(new Set(t))}function ny(e){return e.sort((r,s)=>{const a=Qe(r,"priority")||100,l=Qe(s,"priority")||100;return a>l?-1:a<l?1:0})}function $N(e){const t=ny(ty(e)),r=pL(t.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}function HN(e,t,r){const{from:s,to:a}=t,{blockSeparator:l=`

`,textSerializers:c={}}=r||{};let u="";return e.nodesBetween(s,a,(h,f,m,g)=>{var y;h.isBlock&&f>s&&(u+=l);const b=c?.[h.type.name];if(b)return m&&(u+=b({node:h,pos:f,parent:m,index:g,range:t})),!1;h.isText&&(u+=(y=h?.text)==null?void 0:y.slice(Math.max(s,f)-f,a-f))}),u}function mL(e,t){const r={from:0,to:e.content.size};return HN(e,r,t)}function UN(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,r])=>[t,r.spec.toText]))}function gL(e,t){const r=pr(t,e.schema),{from:s,to:a}=e.selection,l=[];e.doc.nodesBetween(s,a,u=>{l.push(u)});const c=l.reverse().find(u=>u.type.name===r.name);return c?{...c.attrs}:{}}function VN(e,t){const r=Uf(typeof t=="string"?t:t.name,e.schema);return r==="node"?gL(e,t):r==="mark"?BN(e,t):{}}function xL(e,t=JSON.stringify){const r={};return e.filter(s=>{const a=t(s);return Object.prototype.hasOwnProperty.call(r,a)?!1:r[a]=!0})}function yL(e){const t=xL(e);return t.length===1?t:t.filter((r,s)=>!t.filter((l,c)=>c!==s).some(l=>r.oldRange.from>=l.oldRange.from&&r.oldRange.to<=l.oldRange.to&&r.newRange.from>=l.newRange.from&&r.newRange.to<=l.newRange.to))}function FN(e){const{mapping:t,steps:r}=e,s=[];return t.maps.forEach((a,l)=>{const c=[];if(a.ranges.length)a.forEach((u,h)=>{c.push({from:u,to:h})});else{const{from:u,to:h}=r[l];if(u===void 0||h===void 0)return;c.push({from:u,to:h})}c.forEach(({from:u,to:h})=>{const f=t.slice(l).map(u,-1),m=t.slice(l).map(h),g=t.invert().map(f,-1),y=t.invert().map(m);s.push({oldRange:{from:g,to:y},newRange:{from:f,to:m}})})}),yL(s)}function sy(e,t,r){const s=[];return e===t?r.resolve(e).marks().forEach(a=>{const l=r.resolve(e),c=Z0(l,a.type);c&&s.push({mark:a,...c})}):r.nodesBetween(e,t,(a,l)=>{!a||a?.nodeSize===void 0||s.push(...a.marks.map(c=>({from:l,to:l+a.nodeSize,mark:c})))}),s}var bL=(e,t,r,s=20)=>{const a=e.doc.resolve(r);let l=s,c=null;for(;l>0&&c===null;){const u=a.node(l);u?.type.name===t?c=u:l-=1}return[c,l]};function Vg(e,t){return t.nodes[e]||t.marks[e]||null}function sh(e,t,r){return Object.fromEntries(Object.entries(r).filter(([s])=>{const a=e.find(l=>l.type===t&&l.name===s);return a?a.attribute.keepOnSplit:!1}))}var vL=(e,t=500)=>{let r="";const s=e.parentOffset;return e.parent.nodesBetween(Math.max(0,s-t),s,(a,l,c,u)=>{var h,f;const m=((f=(h=a.type.spec).toText)==null?void 0:f.call(h,{node:a,pos:l,parent:c,index:u}))||a.textContent||"%leaf%";r+=a.isAtom&&!a.isText?m:m.slice(0,Math.max(0,s-l))}),r};function Fx(e,t,r={}){const{empty:s,ranges:a}=e.selection,l=t?oa(t,e.schema):null;if(s)return!!(e.storedMarks||e.selection.$from.marks()).filter(g=>l?l.name===g.type.name:!0).find(g=>Lh(g.attrs,r,{strict:!1}));let c=0;const u=[];if(a.forEach(({$from:g,$to:y})=>{const b=g.pos,j=y.pos;e.doc.nodesBetween(b,j,(N,C)=>{if(!N.isText&&!N.marks.length)return;const w=Math.max(b,C),T=Math.min(j,C+N.nodeSize),E=T-w;c+=E,u.push(...N.marks.map(O=>({mark:O,from:w,to:T})))})}),c===0)return!1;const h=u.filter(g=>l?l.name===g.mark.type.name:!0).filter(g=>Lh(g.mark.attrs,r,{strict:!1})).reduce((g,y)=>g+y.to-y.from,0),f=u.filter(g=>l?g.mark.type!==l&&g.mark.type.excludes(l):!0).reduce((g,y)=>g+y.to-y.from,0);return(h>0?h+f:h)>=c}function jL(e,t,r={}){if(!t)return Za(e,null,r)||Fx(e,null,r);const s=Uf(t,e.schema);return s==="node"?Za(e,t,r):s==="mark"?Fx(e,t,r):!1}var wL=(e,t)=>{const{$from:r,$to:s,$anchor:a}=e.selection;if(t){const l=Vf(u=>u.type.name===t)(e.selection);if(!l)return!1;const c=e.doc.resolve(l.pos+1);return a.pos+1===c.end()}return!(s.parentOffset<s.parent.nodeSize-2||r.pos!==s.pos)},NL=e=>{const{$from:t,$to:r}=e.selection;return!(t.parentOffset>0||t.pos!==r.pos)};function Oj(e,t){return Array.isArray(t)?t.some(r=>(typeof r=="string"?r:r.name)===e.name):t}function Dj(e,t){const{nodeExtensions:r}=ti(t),s=r.find(c=>c.name===e);if(!s)return!1;const a={name:s.name,options:s.options,storage:s.storage},l=Lt(Qe(s,"group",a));return typeof l!="string"?!1:l.split(" ").includes("list")}function Ff(e,{checkChildren:t=!0,ignoreWhitespace:r=!1}={}){var s;if(r){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((s=e.text)!=null?s:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let a=!0;return e.content.forEach(l=>{a!==!1&&(Ff(l,{ignoreWhitespace:r,checkChildren:t})||(a=!1))}),a}return!1}function qN(e){return e instanceof Xe}var WN=class KN{constructor(t){this.position=t}static fromJSON(t){return new KN(t.position)}toJSON(){return{position:this.position}}};function CL(e,t){const r=t.mapping.mapResult(e.position);return{position:new WN(r.pos),mapResult:r}}function SL(e){return new WN(e)}function kL(e,t,r){var s;const{selection:a}=t;let l=null;if(DN(a)&&(l=a.$cursor),l){const u=(s=e.storedMarks)!=null?s:l.marks();return l.parent.type.allowsMarkType(r)&&(!!r.isInSet(u)||!u.some(f=>f.type.excludes(r)))}const{ranges:c}=a;return c.some(({$from:u,$to:h})=>{let f=u.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(r):!1;return e.doc.nodesBetween(u.pos,h.pos,(m,g,y)=>{if(f)return!1;if(m.isInline){const b=!y||y.type.allowsMarkType(r),j=!!r.isInSet(m.marks)||!m.marks.some(N=>N.type.excludes(r));f=b&&j}return!f}),f})}var EL=(e,t={})=>({tr:r,state:s,dispatch:a})=>{const{selection:l}=r,{empty:c,ranges:u}=l,h=oa(e,s.schema);if(a)if(c){const f=BN(s,h);r.addStoredMark(h.create({...f,...t}))}else u.forEach(f=>{const m=f.$from.pos,g=f.$to.pos;s.doc.nodesBetween(m,g,(y,b)=>{const j=Math.max(b,m),N=Math.min(b+y.nodeSize,g);y.marks.find(w=>w.type===h)?y.marks.forEach(w=>{h===w.type&&r.addMark(j,N,h.create({...w.attrs,...t}))}):r.addMark(j,N,h.create(t))})});return kL(s,r,h)},TL=(e,t)=>({tr:r})=>(r.setMeta(e,t),!0),AL=(e,t={})=>({state:r,dispatch:s,chain:a})=>{const l=pr(e,r.schema);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l.isTextblock?a().command(({commands:u})=>W4(l,{...c,...t})(r)?!0:u.clearNodes()).command(({state:u})=>W4(l,{...c,...t})(u,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ML=e=>({tr:t,dispatch:r})=>{if(r){const{doc:s}=t,a=Oo(e,0,s.content.size),l=Xe.create(s,a);t.setSelection(l)}return!0},OL=(e,t)=>({tr:r,state:s,dispatch:a})=>{const{selection:l}=s;let c,u;return typeof t=="number"?(c=t,u=t):t&&"from"in t&&"to"in t?(c=t.from,u=t.to):(c=l.from,u=l.to),a&&r.doc.nodesBetween(c,u,(h,f)=>{h.isText||r.setNodeMarkup(f,void 0,{...h.attrs,dir:e})}),!0},DL=e=>({tr:t,dispatch:r})=>{if(r){const{doc:s}=t,{from:a,to:l}=typeof e=="number"?{from:e,to:e}:e,c=ot.atStart(s).from,u=ot.atEnd(s).to,h=Oo(a,c,u),f=Oo(l,c,u),m=ot.create(s,h,f);t.setSelection(m)}return!0},RL=e=>({state:t,dispatch:r})=>{const s=pr(e,t.schema);return ED(s)(t,r)};function Rj(e,t){const r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(r){const s=r.filter(a=>t?.includes(a.type.name));e.tr.ensureMarks(s)}}var zL=({keepMarks:e=!0}={})=>({tr:t,state:r,dispatch:s,editor:a})=>{const{selection:l,doc:c}=t,{$from:u,$to:h}=l,f=a.extensionManager.attributes,m=sh(f,u.node().type.name,u.node().attrs);if(l instanceof Xe&&l.node.isBlock)return!u.parentOffset||!ea(c,u.pos)?!1:(s&&(e&&Rj(r,a.extensionManager.splittableMarks),t.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=h.parentOffset===h.parent.content.size,y=u.depth===0?void 0:iL(u.node(-1).contentMatchAt(u.indexAfter(-1)));let b=g&&y?[{type:y,attrs:m}]:void 0,j=ea(t.doc,t.mapping.map(u.pos),1,b);if(!b&&!j&&ea(t.doc,t.mapping.map(u.pos),1,y?[{type:y}]:void 0)&&(j=!0,b=y?[{type:y,attrs:m}]:void 0),s){if(j&&(l instanceof ot&&t.deleteSelection(),t.split(t.mapping.map(u.pos),1,b),y&&!g&&!u.parentOffset&&u.parent.type!==y)){const N=t.mapping.map(u.before()),C=t.doc.resolve(N);u.node(-1).canReplaceWith(C.index(),C.index()+1,y)&&t.setNodeMarkup(t.mapping.map(u.before()),y)}e&&Rj(r,a.extensionManager.splittableMarks),t.scrollIntoView()}return j},LL=(e,t={})=>({tr:r,state:s,dispatch:a,editor:l})=>{var c;const u=pr(e,s.schema),{$from:h,$to:f}=s.selection,m=s.selection.node;if(m&&m.isBlock||h.depth<2||!h.sameParent(f))return!1;const g=h.node(-1);if(g.type!==u)return!1;const y=l.extensionManager.attributes;if(h.parent.content.size===0&&h.node(-1).childCount===h.indexAfter(-1)){if(h.depth===2||h.node(-3).type!==u||h.index(-2)!==h.node(-2).childCount-1)return!1;if(a){let w=Oe.empty;const T=h.index(-1)?1:h.index(-2)?2:3;for(let q=h.depth-T;q>=h.depth-3;q-=1)w=Oe.from(h.node(q).copy(w));const E=h.indexAfter(-1)<h.node(-2).childCount?1:h.indexAfter(-2)<h.node(-3).childCount?2:3,O={...sh(y,h.node().type.name,h.node().attrs),...t},R=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(O))||void 0;w=w.append(Oe.from(u.createAndFill(null,R)||void 0));const L=h.before(h.depth-(T-1));r.replace(L,h.after(-E),new Ie(w,4-T,0));let z=-1;r.doc.nodesBetween(L,r.doc.content.size,(q,I)=>{if(z>-1)return!1;q.isTextblock&&q.content.size===0&&(z=I+1)}),z>-1&&r.setSelection(ot.near(r.doc.resolve(z))),r.scrollIntoView()}return!0}const b=f.pos===h.end()?g.contentMatchAt(0).defaultType:null,j={...sh(y,g.type.name,g.attrs),...t},N={...sh(y,h.node().type.name,h.node().attrs),...t};r.delete(h.pos,f.pos);const C=b?[{type:u,attrs:j},{type:b,attrs:N}]:[{type:u,attrs:j}];if(!ea(r.doc,h.pos,2))return!1;if(a){const{selection:w,storedMarks:T}=s,{splittableMarks:E}=l.extensionManager,O=T||w.$to.parentOffset&&w.$from.marks();if(r.split(h.pos,2,C).scrollIntoView(),!O||!a)return!0;const R=O.filter(L=>E.includes(L.type.name));r.ensureMarks(R)}return!0},Fg=(e,t)=>{const r=Vf(c=>c.type===t)(e.selection);if(!r)return!0;const s=e.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(s===void 0)return!0;const a=e.doc.nodeAt(s);return r.node.type===a?.type&&to(e.doc,r.pos)&&e.join(r.pos),!0},qg=(e,t)=>{const r=Vf(c=>c.type===t)(e.selection);if(!r)return!0;const s=e.doc.resolve(r.start).after(r.depth);if(s===void 0)return!0;const a=e.doc.nodeAt(s);return r.node.type===a?.type&&to(e.doc,s)&&e.join(s),!0},BL=(e,t,r,s={})=>({editor:a,tr:l,state:c,dispatch:u,chain:h,commands:f,can:m})=>{const{extensions:g,splittableMarks:y}=a.extensionManager,b=pr(e,c.schema),j=pr(t,c.schema),{selection:N,storedMarks:C}=c,{$from:w,$to:T}=N,E=w.blockRange(T),O=C||N.$to.parentOffset&&N.$from.marks();if(!E)return!1;const R=Vf(L=>Dj(L.type.name,g))(N);if(E.depth>=1&&R&&E.depth-R.depth<=1){if(R.node.type===b)return f.liftListItem(j);if(Dj(R.node.type.name,g)&&b.validContent(R.node.content)&&u)return h().command(()=>(l.setNodeMarkup(R.pos,b),!0)).command(()=>Fg(l,b)).command(()=>qg(l,b)).run()}return!r||!O||!u?h().command(()=>m().wrapInList(b,s)?!0:f.clearNodes()).wrapInList(b,s).command(()=>Fg(l,b)).command(()=>qg(l,b)).run():h().command(()=>{const L=m().wrapInList(b,s),z=O.filter(q=>y.includes(q.type.name));return l.ensureMarks(z),L?!0:f.clearNodes()}).wrapInList(b,s).command(()=>Fg(l,b)).command(()=>qg(l,b)).run()},_L=(e,t={},r={})=>({state:s,commands:a})=>{const{extendEmptyMarkRange:l=!1}=r,c=oa(e,s.schema);return Fx(s,c,t)?a.unsetMark(c,{extendEmptyMarkRange:l}):a.setMark(c,t)},PL=(e,t,r={})=>({state:s,commands:a})=>{const l=pr(e,s.schema),c=pr(t,s.schema),u=Za(s,l,r);let h;return s.selection.$anchor.sameParent(s.selection.$head)&&(h=s.selection.$anchor.parent.attrs),u?a.setNode(c,h):a.setNode(l,{...h,...r})},IL=(e,t={})=>({state:r,commands:s})=>{const a=pr(e,r.schema);return Za(r,a,t)?s.lift(a):s.wrapIn(a,t)},$L=()=>({state:e,dispatch:t})=>{const r=e.plugins;for(let s=0;s<r.length;s+=1){const a=r[s];let l;if(a.spec.isInputRules&&(l=a.getState(e))){if(t){const c=e.tr,u=l.transform;for(let h=u.steps.length-1;h>=0;h-=1)c.step(u.steps[h].invert(u.docs[h]));if(l.text){const h=c.doc.resolve(l.from).marks();c.replaceWith(l.from,l.to,e.schema.text(l.text,h))}else c.delete(l.from,l.to)}return!0}}return!1},HL=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,{empty:s,ranges:a}=r;return s||t&&a.forEach(l=>{e.removeMark(l.$from.pos,l.$to.pos)}),!0},UL=(e,t={})=>({tr:r,state:s,dispatch:a})=>{var l;const{extendEmptyMarkRange:c=!1}=t,{selection:u}=r,h=oa(e,s.schema),{$from:f,empty:m,ranges:g}=u;if(!a)return!0;if(m&&c){let{from:y,to:b}=u;const j=(l=f.marks().find(C=>C.type===h))==null?void 0:l.attrs,N=Z0(f,h,j);N&&(y=N.from,b=N.to),r.removeMark(y,b,h)}else g.forEach(y=>{r.removeMark(y.$from.pos,y.$to.pos,h)});return r.removeStoredMark(h),!0},VL=e=>({tr:t,state:r,dispatch:s})=>{const{selection:a}=r;let l,c;return typeof e=="number"?(l=e,c=e):e&&"from"in e&&"to"in e?(l=e.from,c=e.to):(l=a.from,c=a.to),s&&t.doc.nodesBetween(l,c,(u,h)=>{if(u.isText)return;const f={...u.attrs};delete f.dir,t.setNodeMarkup(h,void 0,f)}),!0},FL=(e,t={})=>({tr:r,state:s,dispatch:a})=>{let l=null,c=null;const u=Uf(typeof e=="string"?e:e.name,s.schema);if(!u)return!1;u==="node"&&(l=pr(e,s.schema)),u==="mark"&&(c=oa(e,s.schema));let h=!1;return r.selection.ranges.forEach(f=>{const m=f.$from.pos,g=f.$to.pos;let y,b,j,N;r.selection.empty?s.doc.nodesBetween(m,g,(C,w)=>{l&&l===C.type&&(h=!0,j=Math.max(w,m),N=Math.min(w+C.nodeSize,g),y=w,b=C)}):s.doc.nodesBetween(m,g,(C,w)=>{w<m&&l&&l===C.type&&(h=!0,j=Math.max(w,m),N=Math.min(w+C.nodeSize,g),y=w,b=C),w>=m&&w<=g&&(l&&l===C.type&&(h=!0,a&&r.setNodeMarkup(w,void 0,{...C.attrs,...t})),c&&C.marks.length&&C.marks.forEach(T=>{if(c===T.type&&(h=!0,a)){const E=Math.max(w,m),O=Math.min(w+C.nodeSize,g);r.addMark(E,O,c.create({...T.attrs,...t}))}}))}),b&&(y!==void 0&&a&&r.setNodeMarkup(y,void 0,{...b.attrs,...t}),c&&b.marks.length&&b.marks.forEach(C=>{c===C.type&&a&&r.addMark(j,N,c.create({...C.attrs,...t}))}))}),h},qL=(e,t={})=>({state:r,dispatch:s})=>{const a=pr(e,r.schema);return vD(a,t)(r,s)},WL=(e,t={})=>({state:r,dispatch:s})=>{const a=pr(e,r.schema);return jD(a,t)(r,s)},KL=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(s=>s!==t):delete this.callbacks[e]),this}once(e,t){const r=(...s)=>{this.off(e,r),t.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}},qf=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},GL=(e,t)=>{if(X0(t))return t.exec(e);const r=t(e);if(!r)return null;const s=[r.text];return s.index=r.index,s.input=e,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(r.replaceWith)),s};function Pu(e){var t;const{editor:r,from:s,to:a,text:l,rules:c,plugin:u}=e,{view:h}=r;if(h.composing)return!1;const f=h.state.doc.resolve(s);if(f.parent.type.spec.code||(t=f.nodeBefore||f.nodeAfter)!=null&&t.marks.find(y=>y.type.spec.code))return!1;let m=!1;const g=vL(f)+l;return c.forEach(y=>{if(m)return;const b=GL(g,y.find);if(!b)return;const j=h.state.tr,N=$f({state:h.state,transaction:j}),C={from:s-(b[0].length-l.length),to:a},{commands:w,chain:T,can:E}=new Hf({editor:r,state:N});y.handler({state:N,range:C,match:b,commands:w,chain:T,can:E})===null||!j.steps.length||(y.undoable&&j.setMeta(u,{transform:j,from:s,to:a,text:l}),h.dispatch(j),m=!0)}),m}function YL(e){const{editor:t,rules:r}=e,s=new Zt({state:{init(){return null},apply(a,l,c){const u=a.getMeta(s);if(u)return u;const h=a.getMeta("applyInputRules");return!!h&&setTimeout(()=>{let{text:m}=h;typeof m=="string"?m=m:m=ry(Oe.from(m),c.schema);const{from:g}=h,y=g+m.length;Pu({editor:t,from:g,to:y,text:m,rules:r,plugin:s})}),a.selectionSet||a.docChanged?null:l}},props:{handleTextInput(a,l,c,u){return Pu({editor:t,from:l,to:c,text:u,rules:r,plugin:s})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:l}=a.state.selection;l&&Pu({editor:t,from:l.pos,to:l.pos,text:"",rules:r,plugin:s})}),!1)},handleKeyDown(a,l){if(l.key!=="Enter")return!1;const{$cursor:c}=a.state.selection;return c?Pu({editor:t,from:c.pos,to:c.pos,text:`
`,rules:r,plugin:s}):!1}},isInputRules:!0});return s}function JL(e){return Object.prototype.toString.call(e).slice(8,-1)}function Iu(e){return JL(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function GN(e,t){const r={...e};return Iu(e)&&Iu(t)&&Object.keys(t).forEach(s=>{Iu(t[s])&&Iu(e[s])?r[s]=GN(e[s],t[s]):r[s]=t[s]}),r}var ay=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Lt(Qe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Lt(Qe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>GN(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Jo=class YN extends ay{constructor(){super(...arguments),this.type="mark"}static create(t={}){const r=typeof t=="function"?t():t;return new YN(r)}static handleExit({editor:t,mark:r}){const{tr:s}=t.state,a=t.state.selection.$from;if(a.pos===a.end()){const c=a.marks();if(!!!c.find(f=>f?.type.name===r.name))return!1;const h=c.find(f=>f?.type.name===r.name);return h&&s.removeStoredMark(h),s.insertText(" ",a.pos),t.view.dispatch(s),!0}return!1}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function QL(e){return typeof e=="number"}var XL=class{constructor(e){this.find=e.find,this.handler=e.handler}},ZL=(e,t,r)=>{if(X0(t))return[...e.matchAll(t)];const s=t(e,r);return s?s.map(a=>{const l=[a.text];return l.index=a.index,l.input=e,l.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(a.replaceWith)),l}):[]};function eB(e){const{editor:t,state:r,from:s,to:a,rule:l,pasteEvent:c,dropEvent:u}=e,{commands:h,chain:f,can:m}=new Hf({editor:t,state:r}),g=[];return r.doc.nodesBetween(s,a,(b,j)=>{var N,C,w,T,E;if((C=(N=b.type)==null?void 0:N.spec)!=null&&C.code||!(b.isText||b.isTextblock||b.isInline))return;const O=(E=(T=(w=b.content)==null?void 0:w.size)!=null?T:b.nodeSize)!=null?E:0,R=Math.max(s,j),L=Math.min(a,j+O);if(R>=L)return;const z=b.isText?b.text||"":b.textBetween(R-j,L-j,void 0,"");ZL(z,l.find,c).forEach(I=>{if(I.index===void 0)return;const H=R+I.index+1,W=H+I[0].length,ie={from:r.tr.mapping.map(H),to:r.tr.mapping.map(W)},Y=l.handler({state:r,range:ie,match:I,commands:h,chain:f,can:m,pasteEvent:c,dropEvent:u});g.push(Y)})}),g.every(b=>b!==null)}var $u=null,tB=e=>{var t;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=r.clipboardData)==null||t.setData("text/html",e),r};function rB(e){const{editor:t,rules:r}=e;let s=null,a=!1,l=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const h=({state:m,from:g,to:y,rule:b,pasteEvt:j})=>{const N=m.tr,C=$f({state:m,transaction:N});if(!(!eB({editor:t,state:C,from:Math.max(g-1,0),to:y.b-1,rule:b,pasteEvent:j,dropEvent:u})||!N.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,N}};return r.map(m=>new Zt({view(g){const y=j=>{var N;s=(N=g.dom.parentElement)!=null&&N.contains(j.target)?g.dom.parentElement:null,s&&($u=t)},b=()=>{$u&&($u=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(g,y)=>{if(l=s===g.dom.parentElement,u=y,!l){const b=$u;b?.isEditable&&setTimeout(()=>{const j=b.state.selection;j&&b.commands.deleteRange({from:j.from,to:j.to})},10)}return!1},paste:(g,y)=>{var b;const j=(b=y.clipboardData)==null?void 0:b.getData("text/html");return c=y,a=!!j?.includes("data-pm-slice"),!1}}},appendTransaction:(g,y,b)=>{const j=g[0],N=j.getMeta("uiEvent")==="paste"&&!a,C=j.getMeta("uiEvent")==="drop"&&!l,w=j.getMeta("applyPasteRules"),T=!!w;if(!N&&!C&&!T)return;if(T){let{text:R}=w;typeof R=="string"?R=R:R=ry(Oe.from(R),b.schema);const{from:L}=w,z=L+R.length,q=tB(R);return h({rule:m,state:b,from:L,to:{b:z},pasteEvt:q})}const E=y.doc.content.findDiffStart(b.doc.content),O=y.doc.content.findDiffEnd(b.doc.content);if(!(!QL(E)||!O||E===O.b))return h({rule:m,state:b,from:E,to:O,pasteEvt:c})}}))}var Wf=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=$N(e),this.schema=fL(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Vg(t.name,this.schema)},s=Qe(t,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this;return ny([...this.extensions].reverse()).flatMap(s=>{const a={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:Vg(s.name,this.schema)},l=[],c=Qe(s,"addKeyboardShortcuts",a);let u={};if(s.type==="mark"&&Qe(s,"exitable",a)&&(u.ArrowRight=()=>Jo.handleExit({editor:e,mark:s})),c){const y=Object.fromEntries(Object.entries(c()).map(([b,j])=>[b,()=>j({editor:e})]));u={...u,...y}}const h=gz(u);l.push(h);const f=Qe(s,"addInputRules",a);if(Oj(s,e.options.enableInputRules)&&f){const y=f();if(y&&y.length){const b=YL({editor:e,rules:y}),j=Array.isArray(b)?b:[b];l.push(...j)}}const m=Qe(s,"addPasteRules",a);if(Oj(s,e.options.enablePasteRules)&&m){const y=m();if(y&&y.length){const b=rB({editor:e,rules:y});l.push(...b)}}const g=Qe(s,"addProseMirrorPlugins",a);if(g){const y=g();l.push(...y)}return l})}get attributes(){return IN(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=ti(this.extensions);return Object.fromEntries(t.filter(r=>!!Qe(r,"addNodeView")).map(r=>{const s=this.attributes.filter(h=>h.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:pr(r.name,this.schema)},l=Qe(r,"addNodeView",a);if(!l)return[];const c=l();if(!c)return[];const u=(h,f,m,g,y)=>{const b=Bh(h,s);return c({node:h,view:f,getPos:m,decorations:g,innerDecorations:y,editor:e,extension:r,HTMLAttributes:b})};return[r.name,u]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=ti(this.extensions);return Object.fromEntries(t.filter(r=>!!Qe(r,"addMarkView")).map(r=>{const s=this.attributes.filter(u=>u.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:oa(r.name,this.schema)},l=Qe(r,"addMarkView",a);if(!l)return[];const c=(u,h,f)=>{const m=Bh(u,s);return l()({mark:u,view:h,inline:f,editor:e,extension:r,HTMLAttributes:m,updateAttributes:g=>{gB(u,e,g)}})};return[r.name,c]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var r;const s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Vg(t.name,this.schema)};t.type==="mark"&&((r=Lt(Qe(t,"keepOnSplit",s)))==null||r)&&this.splittableMarks.push(t.name);const a=Qe(t,"onBeforeCreate",s),l=Qe(t,"onCreate",s),c=Qe(t,"onUpdate",s),u=Qe(t,"onSelectionUpdate",s),h=Qe(t,"onTransaction",s),f=Qe(t,"onFocus",s),m=Qe(t,"onBlur",s),g=Qe(t,"onDestroy",s);a&&this.editor.on("beforeCreate",a),l&&this.editor.on("create",l),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),h&&this.editor.on("transaction",h),f&&this.editor.on("focus",f),m&&this.editor.on("blur",m),g&&this.editor.on("destroy",g)})}};Wf.resolve=$N;Wf.sort=ny;Wf.flatten=ty;var nB={};Q0(nB,{ClipboardTextSerializer:()=>QN,Commands:()=>XN,Delete:()=>ZN,Drop:()=>eC,Editable:()=>tC,FocusEvents:()=>nC,Keymap:()=>sC,Paste:()=>aC,Tabindex:()=>oC,TextDirection:()=>lC,focusEventsPluginKey:()=>rC});var ar=class JN extends ay{constructor(){super(...arguments),this.type="extension"}static create(t={}){const r=typeof t=="function"?t():t;return new JN(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}},QN=ar.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Zt({key:new yr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:r}=e,{doc:s,selection:a}=t,{ranges:l}=a,c=Math.min(...l.map(m=>m.$from.pos)),u=Math.max(...l.map(m=>m.$to.pos)),h=UN(r);return HN(s,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:h})}}})]}}),XN=ar.create({name:"commands",addCommands(){return{...MN}}}),ZN=ar.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var r,s,a;const l=()=>{var c,u,h,f;if((f=(h=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:h.call(u,e))!=null?f:e.getMeta("y-sync$"))return;const m=_N(e.before,[e,...t]);FN(m).forEach(b=>{m.mapping.mapResult(b.oldRange.from).deletedAfter&&m.mapping.mapResult(b.oldRange.to).deletedBefore&&m.before.nodesBetween(b.oldRange.from,b.oldRange.to,(j,N)=>{const C=N+j.nodeSize-2,w=b.oldRange.from<=N&&C<=b.oldRange.to;this.editor.emit("delete",{type:"node",node:j,from:N,to:C,newFrom:m.mapping.map(N),newTo:m.mapping.map(C),deletedRange:b.oldRange,newRange:b.newRange,partial:!w,editor:this.editor,transaction:e,combinedTransform:m})})});const y=m.mapping;m.steps.forEach((b,j)=>{var N,C;if(b instanceof Zn){const w=y.slice(j).map(b.from,-1),T=y.slice(j).map(b.to),E=y.invert().map(w,-1),O=y.invert().map(T),R=(N=m.doc.nodeAt(w-1))==null?void 0:N.marks.some(z=>z.eq(b.mark)),L=(C=m.doc.nodeAt(T))==null?void 0:C.marks.some(z=>z.eq(b.mark));this.editor.emit("delete",{type:"mark",mark:b.mark,from:b.from,to:b.to,deletedRange:{from:E,to:O},newRange:{from:w,to:T},partial:!!(L||R),editor:this.editor,transaction:e,combinedTransform:m})}})};(a=(s=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:s.async)==null||a?setTimeout(l,0):l()}}),eC=ar.create({name:"drop",addProseMirrorPlugins(){return[new Zt({key:new yr("tiptapDrop"),props:{handleDrop:(e,t,r,s)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:r,moved:s})}}})]}}),tC=ar.create({name:"editable",addProseMirrorPlugins(){return[new Zt({key:new yr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),rC=new yr("focusEvents"),nC=ar.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Zt({key:rC,props:{handleDOMEvents:{focus:(t,r)=>{e.isFocused=!0;const s=e.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return t.dispatch(s),!1},blur:(t,r)=>{e.isFocused=!1;const s=e.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return t.dispatch(s),!1}}}})]}}),sC=ar.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:h,doc:f}=u,{empty:m,$anchor:g}=h,{pos:y,parent:b}=g,j=g.parent.isTextblock&&y>0?u.doc.resolve(y-1):g,N=j.parent.type.spec.isolating,C=g.pos-g.parentOffset,w=N&&j.parent.childCount===1?C===g.pos:gt.atStart(f).from===y;return!m||!b.type.isTextblock||b.textContent.length||!w||w&&g.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},a={...s},l={...s,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ey()||LN()?l:a},addProseMirrorPlugins(){return[new Zt({key:new yr("clearDocument"),appendTransaction:(e,t,r)=>{if(e.some(N=>N.getMeta("composition")))return;const s=e.some(N=>N.docChanged)&&!t.doc.eq(r.doc),a=e.some(N=>N.getMeta("preventClearDocument"));if(!s||a)return;const{empty:l,from:c,to:u}=t.selection,h=gt.atStart(t.doc).from,f=gt.atEnd(t.doc).to;if(l||!(c===h&&u===f)||!Ff(r.doc))return;const y=r.tr,b=$f({state:r,transaction:y}),{commands:j}=new Hf({editor:this.editor,state:b});if(j.clearNodes(),!!y.steps.length)return y}})]}}),aC=ar.create({name:"paste",addProseMirrorPlugins(){return[new Zt({key:new yr("tiptapPaste"),props:{handlePaste:(e,t,r)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:r})}}})]}}),oC=ar.create({name:"tabindex",addProseMirrorPlugins(){return[new Zt({key:new yr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),lC=ar.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=ti(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const r=t.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Zt({key:new yr("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),sB=class $l{constructor(t,r,s=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=t,this.editor=r,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let r=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:r,to:s},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(t);return new $l(r,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new $l(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new $l(t,this.editor)}get children(){const t=[];return this.node.content.forEach((r,s)=>{const a=r.isBlock&&!r.isTextblock,l=r.isAtom&&!r.isText,c=this.pos+s+(l?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(c);if(!a&&u.depth<=this.depth)return;const h=new $l(u,this.editor,a,a?r:null);a&&(h.actualDepth=this.depth+1),t.push(new $l(u,this.editor,a,a?r:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,r={}){let s=null,a=this.parent;for(;a&&!s;){if(a.node.type.name===t)if(Object.keys(r).length>0){const l=a.node.attrs,c=Object.keys(r);for(let u=0;u<c.length;u+=1){const h=c[u];if(l[h]!==r[h])break}}else s=a;a=a.parent}return s}querySelector(t,r={}){return this.querySelectorAll(t,r,!0)[0]||null}querySelectorAll(t,r={},s=!1){let a=[];if(!this.children||this.children.length===0)return a;const l=Object.keys(r);return this.children.forEach(c=>{s&&a.length>0||(c.node.type.name===t&&l.every(h=>r[h]===c.node.attrs[h])&&a.push(c),!(s&&a.length>0)&&(a=a.concat(c.querySelectorAll(t,r,s))))}),a}setAttribute(t){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(r)}},aB=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function oB(e,t,r){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const a=document.createElement("style");return t&&a.setAttribute("nonce",t),a.setAttribute("data-tiptap-style",""),a.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(a),a}var lB=class extends KL{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:CL,createMappablePosition:SL},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:a,moved:l})=>this.options.onDrop(s,a,l)),this.on("paste",({event:s,slice:a})=>this.options.onPaste(s,a)),this.on("delete",this.options.onDelete);const t=this.createDoc(),r=RN(t,this.options.autofocus);this.editorState=Ul.create({doc:t,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=oB(aB,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const r=PN(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(a=>{const l=typeof a=="string"?`${a}$`:a.key;r=r.filter(c=>!c.key.startsWith(l))}),t.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,t;const s=[...this.options.enableCoreExtensions?[tC,QN.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),XN,nC,sC,oC,eC,aC,ZN,lC.configure({direction:this.options.textDirection})].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a?.type));this.extensionManager=new Wf(s,this)}createCommandManager(){this.commandManager=new Hf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Vx(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=Vx(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new TN(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(f=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(f)});return}const{state:t,transactions:r}=this.state.applyTransaction(e),s=!this.state.selection.eq(t.selection),a=r.includes(e),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!a)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),s&&this.emit("selectionUpdate",{editor:this,transaction:e});const c=r.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),u=c?.getMeta("focus"),h=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),h&&this.emit("blur",{editor:this,event:h.event,transaction:c}),!(e.getMeta("preventUpdate")||!r.some(f=>f.docChanged)||l.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return VN(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return jL(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ry(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return mL(this.state.doc,{blockSeparator:t,textSerializers:{...UN(this.schema),...r}})}get isEmpty(){return Ff(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new sB(t,this)}get $doc(){return this.$pos(0)}};function ri(e){return new qf({find:e.find,handler:({state:t,range:r,match:s})=>{const a=Lt(e.getAttributes,void 0,s);if(a===!1||a===null)return null;const{tr:l}=t,c=s[s.length-1],u=s[0];if(c){const h=u.search(/\S/),f=r.from+u.indexOf(c),m=f+c.length;if(sy(r.from,r.to,t.doc).filter(b=>b.mark.type.excluded.find(N=>N===e.type&&N!==b.mark.type)).filter(b=>b.to>f).length)return null;m<r.to&&l.delete(m,r.to),f>r.from&&l.delete(r.from+h,f);const y=r.from+h+c.length;l.addMark(r.from+h,y,e.type.create(a||{})),l.removeStoredMark(e.type)}},undoable:e.undoable})}function iB(e){return new qf({find:e.find,handler:({state:t,range:r,match:s})=>{const a=Lt(e.getAttributes,void 0,s)||{},{tr:l}=t,c=r.from;let u=r.to;const h=e.type.create(a);if(s[1]){const f=s[0].lastIndexOf(s[1]);let m=c+f;m>u?m=u:u=m+s[1].length;const g=s[0][s[0].length-1];l.insertText(g,c+s[0].length-1),l.replaceWith(m,u,h)}else if(s[0]){const f=e.type.isInline?c:c-1;l.insert(f,e.type.create(a)).delete(l.mapping.map(c),l.mapping.map(u))}l.scrollIntoView()},undoable:e.undoable})}function qx(e){return new qf({find:e.find,handler:({state:t,range:r,match:s})=>{const a=t.doc.resolve(r.from),l=Lt(e.getAttributes,void 0,s)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e.type))return null;t.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,l)},undoable:e.undoable})}function ni(e){return new qf({find:e.find,handler:({state:t,range:r,match:s,chain:a})=>{const l=Lt(e.getAttributes,void 0,s)||{},c=t.tr.delete(r.from,r.to),h=c.doc.resolve(r.from).blockRange(),f=h&&L0(h,e.type,l);if(!f)return null;if(c.wrap(h,f),e.keepMarks&&e.editor){const{selection:g,storedMarks:y}=t,{splittableMarks:b}=e.editor.extensionManager,j=y||g.$to.parentOffset&&g.$from.marks();if(j){const N=j.filter(C=>b.includes(C.type.name));c.ensureMarks(N)}}if(e.keepAttributes){const g=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(g,l).run()}const m=c.doc.resolve(r.from-1).nodeBefore;m&&m.type===e.type&&to(c.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(s,m))&&c.join(r.from-1)},undoable:e.undoable})}function cB(e,t){const{selection:r}=e,{$from:s}=r;if(r instanceof Xe){const l=s.index();return s.parent.canReplaceWith(l,l+1,t)}let a=s.depth;for(;a>=0;){const l=s.index(a);if(s.node(a).contentMatchAt(l).matchType(t))return!0;a-=1}return!1}var dB={};Q0(dB,{createAtomBlockMarkdownSpec:()=>uB,createBlockMarkdownSpec:()=>hB,createInlineMarkdownSpec:()=>mB,parseAttributes:()=>oy,parseIndentedBlocks:()=>Wx,renderNestedMarkdownContent:()=>iy,serializeAttributes:()=>ly});function oy(e){if(!e?.trim())return{};const t={},r=[],s=e.replace(/["']([^"']*)["']/g,f=>(r.push(f),`__QUOTED_${r.length-1}__`)),a=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const f=a.map(m=>m.trim().slice(1));t.class=f.join(" ")}const l=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(t.id=l[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(c)).forEach(([,f,m])=>{var g;const y=parseInt(((g=m.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),b=r[y];b&&(t[f]=b.slice(1,-1))});const h=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return h&&h.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(t[m]=!0)}),t}function ly(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(s=>t.push(`.${s}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([r,s])=>{r==="class"||r==="id"||(s===!0?t.push(r):s!==!1&&s!=null&&t.push(`${r}="${String(s)}"`))}),t.join(" ")}function uB(e){const{nodeName:t,name:r,parseAttributes:s=oy,serializeAttributes:a=ly,defaultAttributes:l={},requiredAttributes:c=[],allowedAttributes:u}=e,h=r||t,f=m=>{if(!u)return m;const g={};return u.forEach(y=>{y in m&&(g[y]=m[y])}),g};return{parseMarkdown:(m,g)=>{const y={...l,...m.attributes};return g.createNode(t,y,[])},markdownTokenizer:{name:t,level:"block",start(m){var g;const y=new RegExp(`^:::${h}(?:\\s|$)`,"m"),b=(g=m.match(y))==null?void 0:g.index;return b!==void 0?b:-1},tokenize(m,g,y){const b=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),j=m.match(b);if(!j)return;const N=j[1]||"",C=s(N);if(!c.find(T=>!(T in C)))return{type:t,raw:j[0],attributes:C}}},renderMarkdown:m=>{const g=f(m.attrs||{}),y=a(g),b=y?` {${y}}`:"";return`:::${h}${b} :::`}}}function hB(e){const{nodeName:t,name:r,getContent:s,parseAttributes:a=oy,serializeAttributes:l=ly,defaultAttributes:c={},content:u="block",allowedAttributes:h}=e,f=r||t,m=g=>{if(!h)return g;const y={};return h.forEach(b=>{b in g&&(y[b]=g[b])}),y};return{parseMarkdown:(g,y)=>{let b;if(s){const N=s(g);b=typeof N=="string"?[{type:"text",text:N}]:N}else u==="block"?b=y.parseChildren(g.tokens||[]):b=y.parseInline(g.tokens||[]);const j={...c,...g.attributes};return y.createNode(t,j,b)},markdownTokenizer:{name:t,level:"block",start(g){var y;const b=new RegExp(`^:::${f}`,"m"),j=(y=g.match(b))==null?void 0:y.index;return j!==void 0?j:-1},tokenize(g,y,b){var j;const N=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),C=g.match(N);if(!C)return;const[w,T=""]=C,E=a(T);let O=1;const R=w.length;let L="";const z=/^:::([\w-]*)(\s.*)?/gm,q=g.slice(R);for(z.lastIndex=0;;){const I=z.exec(q);if(I===null)break;const H=I.index,W=I[1];if(!((j=I[2])!=null&&j.endsWith(":::"))){if(W)O+=1;else if(O-=1,O===0){const ie=q.slice(0,H);L=ie.trim();const Y=g.slice(0,R+H+I[0].length);let ne=[];if(L)if(u==="block")for(ne=b.blockTokens(ie),ne.forEach(F=>{F.text&&(!F.tokens||F.tokens.length===0)&&(F.tokens=b.inlineTokens(F.text))});ne.length>0;){const F=ne[ne.length-1];if(F.type==="paragraph"&&(!F.text||F.text.trim()===""))ne.pop();else break}else ne=b.inlineTokens(L);return{type:t,raw:Y,attributes:E,content:L,tokens:ne}}}}}},renderMarkdown:(g,y)=>{const b=m(g.attrs||{}),j=l(b),N=j?` {${j}}`:"",C=y.renderChildren(g.content||[],`

`);return`:::${f}${N}

${C}

:::`}}}function fB(e){if(!e.trim())return{};const t={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=r.exec(e);for(;s!==null;){const[,a,l,c]=s;t[a]=l||c,s=r.exec(e)}return t}function pB(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,r])=>`${t}="${r}"`).join(" ")}function mB(e){const{nodeName:t,name:r,getContent:s,parseAttributes:a=fB,serializeAttributes:l=pB,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:h}=e,f=r||t,m=y=>{if(!h)return y;const b={};return h.forEach(j=>{j in y&&(b[j]=y[j])}),b},g=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,b)=>{const j={...c,...y.attributes};if(u)return b.createNode(t,j);const N=s?s(y):y.content||"";return N?b.createNode(t,j,[b.createTextNode(N)]):b.createNode(t,j,[])},markdownTokenizer:{name:t,level:"inline",start(y){const b=u?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),j=y.match(b),N=j?.index;return N!==void 0?N:-1},tokenize(y,b,j){const N=u?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),C=y.match(N);if(!C)return;let w="",T="";if(u){const[,O]=C;T=O}else{const[,O,R]=C;T=O,w=R||""}const E=a(T.trim());return{type:t,raw:C[0],content:w.trim(),attributes:E}}},renderMarkdown:y=>{let b="";s?b=s(y):y.content&&y.content.length>0&&(b=y.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const j=m(y.attrs||{}),N=l(j),C=N?` ${N}`:"";return u?`[${f}${C}]`:`[${f}${C}]${b}[/${f}]`}}}function Wx(e,t,r){var s,a,l,c;const u=e.split(`
`),h=[];let f="",m=0;const g=t.baseIndentSize||2;for(;m<u.length;){const y=u[m],b=y.match(t.itemPattern);if(!b){if(h.length>0)break;if(y.trim()===""){m+=1,f=`${f}${y}
`;continue}else return}const j=t.extractItemData(b),{indentLevel:N,mainContent:C}=j;f=`${f}${y}
`;const w=[C];for(m+=1;m<u.length;){const R=u[m];if(R.trim()===""){const z=u.slice(m+1).findIndex(H=>H.trim()!=="");if(z===-1)break;if((((a=(s=u[m+1+z].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>N){w.push(R),f=`${f}${R}
`,m+=1;continue}else break}if((((c=(l=R.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:c.length)||0)>N)w.push(R),f=`${f}${R}
`,m+=1;else break}let T;const E=w.slice(1);if(E.length>0){const R=E.map(L=>L.slice(N+g)).join(`
`);R.trim()&&(t.customNestedParser?T=t.customNestedParser(R):T=r.blockTokens(R))}const O=t.createToken(j,T);h.push(O)}if(h.length!==0)return{items:h,raw:f}}function iy(e,t,r,s){if(!e||!Array.isArray(e.content))return"";const a=typeof r=="function"?r(s):r,[l,...c]=e.content,u=t.renderChildren([l]),h=[`${a}${u}`];return c&&c.length>0&&c.forEach(f=>{const m=t.renderChildren([f]);if(m){const g=m.split(`
`).map(y=>y?t.indent(y):"").join(`
`);h.push(g)}}),h.join(`
`)}function gB(e,t,r={}){const{state:s}=t,{doc:a,tr:l}=s,c=e;a.descendants((u,h)=>{const f=l.mapping.map(h),m=l.mapping.map(h)+u.nodeSize;let g=null;if(u.marks.forEach(b=>{if(b!==c)return!1;g=b}),!g)return;let y=!1;if(Object.keys(r).forEach(b=>{r[b]!==g.attrs[b]&&(y=!0)}),y){const b=e.type.create({...e.attrs,...r});l.removeMark(f,m,e.type),l.addMark(f,m,b)}}),l.docChanged&&t.view.dispatch(l)}var kn=class iC extends ay{constructor(){super(...arguments),this.type="node"}static create(t={}){const r=typeof t=="function"?t():t;return new iC(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function Wo(e){return new XL({find:e.find,handler:({state:t,range:r,match:s,pasteEvent:a})=>{const l=Lt(e.getAttributes,void 0,s,a);if(l===!1||l===null)return null;const{tr:c}=t,u=s[s.length-1],h=s[0];let f=r.to;if(u){const m=h.search(/\S/),g=r.from+h.indexOf(u),y=g+u.length;if(sy(r.from,r.to,t.doc).filter(j=>j.mark.type.excluded.find(C=>C===e.type&&C!==j.mark.type)).filter(j=>j.to>g).length)return null;y<r.to&&c.delete(y,r.to),g>r.from&&c.delete(r.from+m,g),f=r.from+m+u.length,c.addMark(r.from+m,f,e.type.create(l||{})),c.removeStoredMark(e.type)}}})}var xB=Object.getOwnPropertyNames,yB=Object.getOwnPropertySymbols,bB=Object.prototype.hasOwnProperty;function zj(e,t){return function(s,a,l){return e(s,a,l)&&t(s,a,l)}}function Hu(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var l=a.cache,c=l.get(r),u=l.get(s);if(c&&u)return c===s&&u===r;l.set(r,s),l.set(s,r);var h=e(r,s,a);return l.delete(r),l.delete(s),h}}function vB(e){return e?.[Symbol.toStringTag]}function Lj(e){return xB(e).concat(yB(e))}var jB=Object.hasOwn||(function(e,t){return bB.call(e,t)});function Qo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var wB="__v",NB="__o",CB="_owner",Bj=Object.getOwnPropertyDescriptor,_j=Object.keys;function SB(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function kB(e,t){return Qo(e.getTime(),t.getTime())}function EB(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function TB(e,t){return e===t}function Pj(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),l=e.entries(),c,u,h=0;(c=l.next())&&!c.done;){for(var f=t.entries(),m=!1,g=0;(u=f.next())&&!u.done;){if(a[g]){g++;continue}var y=c.value,b=u.value;if(r.equals(y[0],b[0],h,g,e,t,r)&&r.equals(y[1],b[1],y[0],b[0],e,t,r)){m=a[g]=!0;break}g++}if(!m)return!1;h++}return!0}var AB=Qo;function MB(e,t,r){var s=_j(e),a=s.length;if(_j(t).length!==a)return!1;for(;a-- >0;)if(!cC(e,t,r,s[a]))return!1;return!0}function uc(e,t,r){var s=Lj(e),a=s.length;if(Lj(t).length!==a)return!1;for(var l,c,u;a-- >0;)if(l=s[a],!cC(e,t,r,l)||(c=Bj(e,l),u=Bj(t,l),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function OB(e,t){return Qo(e.valueOf(),t.valueOf())}function DB(e,t){return e.source===t.source&&e.flags===t.flags}function Ij(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),l=e.values(),c,u;(c=l.next())&&!c.done;){for(var h=t.values(),f=!1,m=0;(u=h.next())&&!u.done;){if(!a[m]&&r.equals(c.value,u.value,c.value,u.value,e,t,r)){f=a[m]=!0;break}m++}if(!f)return!1}return!0}function RB(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function zB(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cC(e,t,r,s){return(s===CB||s===NB||s===wB)&&(e.$$typeof||t.$$typeof)?!0:jB(t,s)&&r.equals(e[s],t[s],s,s,e,t,r)}var LB="[object Arguments]",BB="[object Boolean]",_B="[object Date]",PB="[object Error]",IB="[object Map]",$B="[object Number]",HB="[object Object]",UB="[object RegExp]",VB="[object Set]",FB="[object String]",qB="[object URL]",WB=Array.isArray,$j=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,Hj=Object.assign,KB=Object.prototype.toString.call.bind(Object.prototype.toString);function GB(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,l=e.areMapsEqual,c=e.areNumbersEqual,u=e.areObjectsEqual,h=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,m=e.areSetsEqual,g=e.areTypedArraysEqual,y=e.areUrlsEqual,b=e.unknownTagComparators;return function(N,C,w){if(N===C)return!0;if(N==null||C==null)return!1;var T=typeof N;if(T!==typeof C)return!1;if(T!=="object")return T==="number"?c(N,C,w):T==="function"?a(N,C,w):!1;var E=N.constructor;if(E!==C.constructor)return!1;if(E===Object)return u(N,C,w);if(WB(N))return t(N,C,w);if($j!=null&&$j(N))return g(N,C,w);if(E===Date)return r(N,C,w);if(E===RegExp)return f(N,C,w);if(E===Map)return l(N,C,w);if(E===Set)return m(N,C,w);var O=KB(N);if(O===_B)return r(N,C,w);if(O===UB)return f(N,C,w);if(O===IB)return l(N,C,w);if(O===VB)return m(N,C,w);if(O===HB)return typeof N.then!="function"&&typeof C.then!="function"&&u(N,C,w);if(O===qB)return y(N,C,w);if(O===PB)return s(N,C,w);if(O===LB)return u(N,C,w);if(O===BB||O===$B||O===FB)return h(N,C,w);if(b){var R=b[O];if(!R){var L=vB(N);L&&(R=b[L])}if(R)return R(N,C,w)}return!1}}function YB(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?uc:SB,areDatesEqual:kB,areErrorsEqual:EB,areFunctionsEqual:TB,areMapsEqual:s?zj(Pj,uc):Pj,areNumbersEqual:AB,areObjectsEqual:s?uc:MB,arePrimitiveWrappersEqual:OB,areRegExpsEqual:DB,areSetsEqual:s?zj(Ij,uc):Ij,areTypedArraysEqual:s?uc:RB,areUrlsEqual:zB,unknownTagComparators:void 0};if(r&&(a=Hj({},a,r(a))),t){var l=Hu(a.areArraysEqual),c=Hu(a.areMapsEqual),u=Hu(a.areObjectsEqual),h=Hu(a.areSetsEqual);a=Hj({},a,{areArraysEqual:l,areMapsEqual:c,areObjectsEqual:u,areSetsEqual:h})}return a}function JB(e){return function(t,r,s,a,l,c,u){return e(t,r,u)}}function QB(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,l=e.strict;if(s)return function(h,f){var m=s(),g=m.cache,y=g===void 0?t?new WeakMap:void 0:g,b=m.meta;return r(h,f,{cache:y,equals:a,meta:b,strict:l})};if(t)return function(h,f){return r(h,f,{cache:new WeakMap,equals:a,meta:void 0,strict:l})};var c={cache:void 0,equals:a,meta:void 0,strict:l};return function(h,f){return r(h,f,c)}}var XB=no();no({strict:!0});no({circular:!0});no({circular:!0,strict:!0});no({createInternalComparator:function(){return Qo}});no({strict:!0,createInternalComparator:function(){return Qo}});no({circular:!0,createInternalComparator:function(){return Qo}});no({circular:!0,createInternalComparator:function(){return Qo},strict:!0});function no(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,l=e.strict,c=l===void 0?!1:l,u=YB(e),h=GB(u),f=s?s(h):JB(h);return QB({circular:r,comparator:h,createState:a,equals:f,strict:c})}var Wg={exports:{}},Kg={};var Uj;function ZB(){if(Uj)return Kg;Uj=1;var e=si(),t=e6();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var s=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,h=e.useDebugValue;return Kg.useSyncExternalStoreWithSelector=function(f,m,g,y,b){var j=l(null);if(j.current===null){var N={hasValue:!1,value:null};j.current=N}else N=j.current;j=u(function(){function w(L){if(!T){if(T=!0,E=L,L=y(L),b!==void 0&&N.hasValue){var z=N.value;if(b(z,L))return O=z}return O=L}if(z=O,s(E,L))return z;var q=y(L);return b!==void 0&&b(z,q)?(E=L,z):(E=L,O=q)}var T=!1,E,O,R=g===void 0?null:g;return[function(){return w(m())},R===null?void 0:function(){return w(R())}]},[m,g,y,b]);var C=a(f,j[0],j[1]);return c(function(){N.hasValue=!0,N.value=C},[C]),h(C),C},Kg}var Vj;function e_(){return Vj||(Vj=1,Wg.exports=ZB()),Wg.exports}var t_=e_(),r_=(...e)=>t=>{e.forEach(r=>{typeof r=="function"?r(t):r&&(r.current=t)})},n_=({contentComponent:e})=>{const t=t6.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return n.jsx(n.Fragment,{children:Object.values(t)})};function s_(){const e=new Set;let t={};return{subscribe(r){return e.add(r),()=>{e.delete(r)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(r,s){t={...t,[r]:a7.createPortal(s.reactElement,s.element,r)},e.forEach(a=>a())},removeRenderer(r){const s={...t};delete s[r],t=s,e.forEach(a=>a())}}}var a_=class extends vt.Component{constructor(e){var t;super(e),this.editorContentRef=vt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=s_(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const r=document.createElement("div");r.append(t.view.dom),t.setOptions({element:r})}catch{}}}render(){const{editor:e,innerRef:t,...r}=this.props;return n.jsxs(n.Fragment,{children:[n.jsx("div",{ref:r_(t,this.editorContentRef),...r}),e?.contentComponent&&n.jsx(n_,{contentComponent:e.contentComponent})]})}},o_=S.forwardRef((e,t)=>{const r=vt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return vt.createElement(a_,{key:r,innerRef:t,...e})}),l_=vt.memo(o_),i_=typeof window<"u"?S.useLayoutEffect:S.useEffect,c_=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}};function d_(e){var t;const[r]=S.useState(()=>new c_(e.editor)),s=t_.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:XB);return i_(()=>r.watch(e.editor),[e.editor,r]),S.useDebugValue(s),s}var u_=!1,Kx=typeof window>"u",h_=Kx||!!(typeof window<"u"&&window.next),f_=class dC{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Kx||h_?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...s)=>{var a,l;return(l=(a=this.options.current).onBeforeCreate)==null?void 0:l.call(a,...s)},onBlur:(...s)=>{var a,l;return(l=(a=this.options.current).onBlur)==null?void 0:l.call(a,...s)},onCreate:(...s)=>{var a,l;return(l=(a=this.options.current).onCreate)==null?void 0:l.call(a,...s)},onDestroy:(...s)=>{var a,l;return(l=(a=this.options.current).onDestroy)==null?void 0:l.call(a,...s)},onFocus:(...s)=>{var a,l;return(l=(a=this.options.current).onFocus)==null?void 0:l.call(a,...s)},onSelectionUpdate:(...s)=>{var a,l;return(l=(a=this.options.current).onSelectionUpdate)==null?void 0:l.call(a,...s)},onTransaction:(...s)=>{var a,l;return(l=(a=this.options.current).onTransaction)==null?void 0:l.call(a,...s)},onUpdate:(...s)=>{var a,l;return(l=(a=this.options.current).onUpdate)==null?void 0:l.call(a,...s)},onContentError:(...s)=>{var a,l;return(l=(a=this.options.current).onContentError)==null?void 0:l.call(a,...s)},onDrop:(...s)=>{var a,l;return(l=(a=this.options.current).onDrop)==null?void 0:l.call(a,...s)},onPaste:(...s)=>{var a,l;return(l=(a=this.options.current).onPaste)==null?void 0:l.call(a,...s)},onDelete:(...s)=>{var a,l;return(l=(a=this.options.current).onDelete)==null?void 0:l.call(a,...s)}};return new lB(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,r){return Object.keys(t).every(s=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)?!0:s==="extensions"&&t.extensions&&r.extensions?t.extensions.length!==r.extensions.length?!1:t.extensions.every((a,l)=>{var c;return a===((c=r.extensions)==null?void 0:c[l])}):t[s]===r[s])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?dC.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((s,a)=>s===t[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function p_(e={},t=[]){const r=S.useRef(e);r.current=e;const[s]=S.useState(()=>new f_(r)),a=t6.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return S.useDebugValue(a),S.useEffect(s.onRender(t)),d_({editor:a,selector:({transactionNumber:l})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&l===0?0:l+1}),a}var m_=S.createContext({editor:null});m_.Consumer;var g_=S.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),x_=()=>S.useContext(g_);vt.forwardRef((e,t)=>{const{onDragStart:r}=x_(),s=e.as||"div";return n.jsx(s,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...e.style}})});vt.createContext({markViewContentRef:()=>{}});var _h=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:r,...s}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,s,r]},y_=/^\s*>\s$/,b_=kn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return _h("blockquote",{...mr(this.options.HTMLAttributes,e),children:_h("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const r=">",s=[];return e.content.forEach(a=>{const u=t.renderChildren([a]).split(`
`).map(h=>h.trim()===""?r:`${r} ${h}`);s.push(u.join(`
`))}),s.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ni({find:y_,type:this.type})]}}),v_=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,j_=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,w_=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,N_=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,C_=Jo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return _h("strong",{...mr(this.options.HTMLAttributes,e),children:_h("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ri({find:v_,type:this.type}),ri({find:w_,type:this.type})]},addPasteRules(){return[Wo({find:j_,type:this.type}),Wo({find:N_,type:this.type})]}}),S_=/(^|[^`])`([^`]+)`(?!`)$/,k_=/(^|[^`])`([^`]+)`(?!`)/g,E_=Jo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",mr(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ri({find:S_,type:this.type})]},addPasteRules(){return[Wo({find:k_,type:this.type})]}}),Gg=4,T_=/^```([a-z]+)?[\s\n]$/,A_=/^~~~([a-z]+)?[\s\n]$/,M_=kn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Gg,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:r}=this.options;if(!r)return null;const l=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(c=>c.startsWith(r)).map(c=>c.replace(r,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",mr(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var r;return((r=e.raw)==null?void 0:r.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var r;let s="";const a=((r=e.attrs)==null?void 0:r.language)||"";return e.content?s=[`\`\`\`${a}`,t.renderChildren(e.content),"```"].join(`
`):s=`\`\`\`${a}

\`\`\``,s},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,r=t.pos===1;return!e||t.parent.type.name!==this.name?!1:r||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:Gg,{state:s}=e,{selection:a}=s,{$from:l,empty:c}=a;if(l.parent.type!==this.type)return!1;const u=" ".repeat(r);return c?e.commands.insertContent(u):e.commands.command(({tr:h})=>{const{from:f,to:m}=a,b=s.doc.textBetween(f,m,`
`,`
`).split(`
`).map(j=>u+j).join(`
`);return h.replaceWith(f,m,s.schema.text(b)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:Gg,{state:s}=e,{selection:a}=s,{$from:l,empty:c}=a;return l.parent.type!==this.type?!1:c?e.commands.command(({tr:u})=>{var h;const{pos:f}=l,m=l.start(),g=l.end(),b=s.doc.textBetween(m,g,`
`,`
`).split(`
`);let j=0,N=0;const C=f-m;for(let L=0;L<b.length;L+=1){if(N+b[L].length>=C){j=L;break}N+=b[L].length+1}const T=((h=b[j].match(/^ */))==null?void 0:h[0])||"",E=Math.min(T.length,r);if(E===0)return!0;let O=m;for(let L=0;L<j;L+=1)O+=b[L].length+1;return u.delete(O,O+E),f-O<=E&&u.setSelection(ot.create(u.doc,O)),!0}):e.commands.command(({tr:u})=>{const{from:h,to:f}=a,y=s.doc.textBetween(h,f,`
`,`
`).split(`
`).map(b=>{var j;const N=((j=b.match(/^ */))==null?void 0:j[0])||"",C=Math.min(N.length,r);return b.slice(C)}).join(`
`);return u.replaceWith(h,f,s.schema.text(y)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:r}=t,{$from:s,empty:a}=r;if(!a||s.parent.type!==this.type)return!1;const l=s.parentOffset===s.parent.nodeSize-2,c=s.parent.textContent.endsWith(`

`);return!l||!c?!1:e.chain().command(({tr:u})=>(u.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:r,doc:s}=t,{$from:a,empty:l}=r;if(!l||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const u=a.after();return u===void 0?!1:s.nodeAt(u)?e.commands.command(({tr:f})=>(f.setSelection(gt.near(s.resolve(u))),!0)):e.commands.exitCode()}}},addInputRules(){return[qx({find:T_,type:this.type,getAttributes:e=>({language:e[1]})}),qx({find:A_,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Zt({key:new yr("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const r=t.clipboardData.getData("text/plain"),s=t.clipboardData.getData("vscode-editor-data"),a=s?JSON.parse(s):void 0,l=a?.mode;if(!r||!l)return!1;const{tr:c,schema:u}=e.state,h=u.text(r.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:l},h)),c.selection.$from.parent.type!==this.type&&c.setSelection(ot.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),e.dispatch(c),!0}}})]}}),O_=kn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),D_=kn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",mr(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:r,editor:s})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:a,storedMarks:l}=r;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=s.extensionManager,h=l||a.$to.parentOffset&&a.$from.marks();return t().insertContent({type:this.name}).command(({tr:f,dispatch:m})=>{if(m&&h&&c){const g=h.filter(y=>u.includes(y.type.name));f.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),R_=kn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,mr(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var r;const s=(r=e.attrs)!=null&&r.level?parseInt(e.attrs.level,10):1,a="#".repeat(s);return e.content?`${a} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>qx({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),z_=kn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",mr(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!cB(t,t.schema.nodes[this.name]))return!1;const{selection:r}=t,{$to:s}=r,a=e();return qN(r)?a.insertContentAt(s.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:l,tr:c,dispatch:u})=>{if(u){const{$to:h}=c.selection,f=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?c.setSelection(ot.create(c.doc,h.pos+1)):h.nodeAfter.isBlock?c.setSelection(Xe.create(c.doc,h.pos)):c.setSelection(ot.create(c.doc,h.pos));else{const m=l.schema.nodes[this.options.nextNodeType]||h.parent.type.contentMatch.defaultType,g=m?.create();g&&(c.insert(f,g),c.setSelection(ot.create(c.doc,f+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[iB({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),L_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,B_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,__=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,P_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,I_=Jo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",mr(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ri({find:L_,type:this.type}),ri({find:__,type:this.type})]},addPasteRules(){return[Wo({find:B_,type:this.type}),Wo({find:P_,type:this.type})]}});const $_="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",H_="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Gx="numeric",Yx="ascii",Jx="alpha",Sc="asciinumeric",yc="alphanumeric",Qx="domain",uC="emoji",U_="scheme",V_="slashscheme",Yg="whitespace";function F_(e,t){return e in t||(t[e]=[]),t[e]}function Do(e,t,r){t[Gx]&&(t[Sc]=!0,t[yc]=!0),t[Yx]&&(t[Sc]=!0,t[Jx]=!0),t[Sc]&&(t[yc]=!0),t[Jx]&&(t[yc]=!0),t[yc]&&(t[Qx]=!0),t[uC]&&(t[Qx]=!0);for(const s in t){const a=F_(s,r);a.indexOf(e)<0&&a.push(e)}}function q_(e,t){const r={};for(const s in t)t[s].indexOf(e)>=0&&(r[s]=!0);return r}function nn(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}nn.groups={};nn.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let s=0;s<t.jr.length;s++){const a=t.jr[s][0],l=t.jr[s][1];if(l&&a.test(e))return l}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,r,s){for(let a=0;a<e.length;a++)this.tt(e[a],t,r,s)},tr(e,t,r,s){s=s||nn.groups;let a;return t&&t.j?a=t:(a=new nn(t),r&&s&&Do(t,r,s)),this.jr.push([e,a]),a},ts(e,t,r,s){let a=this;const l=e.length;if(!l)return a;for(let c=0;c<l-1;c++)a=a.tt(e[c]);return a.tt(e[l-1],t,r,s)},tt(e,t,r,s){s=s||nn.groups;const a=this;if(t&&t.j)return a.j[e]=t,t;const l=t;let c,u=a.go(e);if(u?(c=new nn,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new nn,l){if(s)if(c.t&&typeof c.t=="string"){const h=Object.assign(q_(c.t,s),r);Do(l,h,s)}else r&&Do(l,r,s);c.t=l}return a.j[e]=c,c}};const mt=(e,t,r,s,a)=>e.ta(t,r,s,a),rr=(e,t,r,s,a)=>e.tr(t,r,s,a),Fj=(e,t,r,s,a)=>e.ts(t,r,s,a),Re=(e,t,r,s,a)=>e.tt(t,r,s,a),Ks="WORD",Xx="UWORD",hC="ASCIINUMERICAL",fC="ALPHANUMERICAL",Jc="LOCALHOST",Zx="TLD",e0="UTLD",ah="SCHEME",Hl="SLASH_SCHEME",cy="NUM",t0="WS",dy="NL",kc="OPENBRACE",Ec="CLOSEBRACE",Ph="OPENBRACKET",Ih="CLOSEBRACKET",$h="OPENPAREN",Hh="CLOSEPAREN",Uh="OPENANGLEBRACKET",Vh="CLOSEANGLEBRACKET",Fh="FULLWIDTHLEFTPAREN",qh="FULLWIDTHRIGHTPAREN",Wh="LEFTCORNERBRACKET",Kh="RIGHTCORNERBRACKET",Gh="LEFTWHITECORNERBRACKET",Yh="RIGHTWHITECORNERBRACKET",Jh="FULLWIDTHLESSTHAN",Qh="FULLWIDTHGREATERTHAN",Xh="AMPERSAND",Zh="APOSTROPHE",ef="ASTERISK",za="AT",tf="BACKSLASH",rf="BACKTICK",nf="CARET",Ia="COLON",uy="COMMA",sf="DOLLAR",ps="DOT",af="EQUALS",hy="EXCLAMATION",In="HYPHEN",Tc="PERCENT",of="PIPE",lf="PLUS",cf="POUND",Ac="QUERY",fy="QUOTE",pC="FULLWIDTHMIDDLEDOT",py="SEMI",ms="SLASH",Mc="TILDE",df="UNDERSCORE",mC="EMOJI",uf="SYM";var gC=Object.freeze({__proto__:null,ALPHANUMERICAL:fC,AMPERSAND:Xh,APOSTROPHE:Zh,ASCIINUMERICAL:hC,ASTERISK:ef,AT:za,BACKSLASH:tf,BACKTICK:rf,CARET:nf,CLOSEANGLEBRACKET:Vh,CLOSEBRACE:Ec,CLOSEBRACKET:Ih,CLOSEPAREN:Hh,COLON:Ia,COMMA:uy,DOLLAR:sf,DOT:ps,EMOJI:mC,EQUALS:af,EXCLAMATION:hy,FULLWIDTHGREATERTHAN:Qh,FULLWIDTHLEFTPAREN:Fh,FULLWIDTHLESSTHAN:Jh,FULLWIDTHMIDDLEDOT:pC,FULLWIDTHRIGHTPAREN:qh,HYPHEN:In,LEFTCORNERBRACKET:Wh,LEFTWHITECORNERBRACKET:Gh,LOCALHOST:Jc,NL:dy,NUM:cy,OPENANGLEBRACKET:Uh,OPENBRACE:kc,OPENBRACKET:Ph,OPENPAREN:$h,PERCENT:Tc,PIPE:of,PLUS:lf,POUND:cf,QUERY:Ac,QUOTE:fy,RIGHTCORNERBRACKET:Kh,RIGHTWHITECORNERBRACKET:Yh,SCHEME:ah,SEMI:py,SLASH:ms,SLASH_SCHEME:Hl,SYM:uf,TILDE:Mc,TLD:Zx,UNDERSCORE:df,UTLD:e0,UWORD:Xx,WORD:Ks,WS:t0});const qs=/[a-z]/,hc=new RegExp("\\p{L}","u"),Jg=new RegExp("\\p{Emoji}","u"),Ws=/\d/,Qg=/\s/,qj="\r",Xg=`
`,W_="",K_="",Zg="";let Uu=null,Vu=null;function G_(e=[]){const t={};nn.groups=t;const r=new nn;Uu==null&&(Uu=Wj($_)),Vu==null&&(Vu=Wj(H_)),Re(r,"'",Zh),Re(r,"{",kc),Re(r,"}",Ec),Re(r,"[",Ph),Re(r,"]",Ih),Re(r,"(",$h),Re(r,")",Hh),Re(r,"<",Uh),Re(r,">",Vh),Re(r,"",Fh),Re(r,"",qh),Re(r,"",Wh),Re(r,"",Kh),Re(r,"",Gh),Re(r,"",Yh),Re(r,"",Jh),Re(r,"",Qh),Re(r,"&",Xh),Re(r,"*",ef),Re(r,"@",za),Re(r,"`",rf),Re(r,"^",nf),Re(r,":",Ia),Re(r,",",uy),Re(r,"$",sf),Re(r,".",ps),Re(r,"=",af),Re(r,"!",hy),Re(r,"-",In),Re(r,"%",Tc),Re(r,"|",of),Re(r,"+",lf),Re(r,"#",cf),Re(r,"?",Ac),Re(r,'"',fy),Re(r,"/",ms),Re(r,";",py),Re(r,"~",Mc),Re(r,"_",df),Re(r,"\\",tf),Re(r,"",pC);const s=rr(r,Ws,cy,{[Gx]:!0});rr(s,Ws,s);const a=rr(s,qs,hC,{[Sc]:!0}),l=rr(s,hc,fC,{[yc]:!0}),c=rr(r,qs,Ks,{[Yx]:!0});rr(c,Ws,a),rr(c,qs,c),rr(a,Ws,a),rr(a,qs,a);const u=rr(r,hc,Xx,{[Jx]:!0});rr(u,qs),rr(u,Ws,l),rr(u,hc,u),rr(l,Ws,l),rr(l,qs),rr(l,hc,l);const h=Re(r,Xg,dy,{[Yg]:!0}),f=Re(r,qj,t0,{[Yg]:!0}),m=rr(r,Qg,t0,{[Yg]:!0});Re(r,Zg,m),Re(f,Xg,h),Re(f,Zg,m),rr(f,Qg,m),Re(m,qj),Re(m,Xg),rr(m,Qg,m),Re(m,Zg,m);const g=rr(r,Jg,mC,{[uC]:!0});Re(g,"#"),rr(g,Jg,g),Re(g,W_,g);const y=Re(g,K_);Re(y,"#"),rr(y,Jg,g);const b=[[qs,c],[Ws,a]],j=[[qs,null],[hc,u],[Ws,l]];for(let N=0;N<Uu.length;N++)Oa(r,Uu[N],Zx,Ks,b);for(let N=0;N<Vu.length;N++)Oa(r,Vu[N],e0,Xx,j);Do(Zx,{tld:!0,ascii:!0},t),Do(e0,{utld:!0,alpha:!0},t),Oa(r,"file",ah,Ks,b),Oa(r,"mailto",ah,Ks,b),Oa(r,"http",Hl,Ks,b),Oa(r,"https",Hl,Ks,b),Oa(r,"ftp",Hl,Ks,b),Oa(r,"ftps",Hl,Ks,b),Do(ah,{scheme:!0,ascii:!0},t),Do(Hl,{slashscheme:!0,ascii:!0},t),e=e.sort((N,C)=>N[0]>C[0]?1:-1);for(let N=0;N<e.length;N++){const C=e[N][0],T=e[N][1]?{[U_]:!0}:{[V_]:!0};C.indexOf("-")>=0?T[Qx]=!0:qs.test(C)?Ws.test(C)?T[Sc]=!0:T[Yx]=!0:T[Gx]=!0,Fj(r,C,C,T)}return Fj(r,"localhost",Jc,{ascii:!0}),r.jd=new nn(uf),{start:r,tokens:Object.assign({groups:t},gC)}}function xC(e,t){const r=Y_(t.replace(/[A-Z]/g,u=>u.toLowerCase())),s=r.length,a=[];let l=0,c=0;for(;c<s;){let u=e,h=null,f=0,m=null,g=-1,y=-1;for(;c<s&&(h=u.go(r[c]));)u=h,u.accepts()?(g=0,y=0,m=u):g>=0&&(g+=r[c].length,y++),f+=r[c].length,l+=r[c].length,c++;l-=g,c-=y,f-=g,a.push({t:m.t,v:t.slice(l-f,l),s:l-f,e:l})}return a}function Y_(e){const t=[],r=e.length;let s=0;for(;s<r;){let a=e.charCodeAt(s),l,c=a<55296||a>56319||s+1===r||(l=e.charCodeAt(s+1))<56320||l>57343?e[s]:e.slice(s,s+2);t.push(c),s+=c.length}return t}function Oa(e,t,r,s,a){let l;const c=t.length;for(let u=0;u<c-1;u++){const h=t[u];e.j[h]?l=e.j[h]:(l=new nn(s),l.jr=a.slice(),e.j[h]=l),e=l}return l=new nn(r),l.jr=a.slice(),e.j[t[c-1]]=l,l}function Wj(e){const t=[],r=[];let s=0,a="0123456789";for(;s<e.length;){let l=0;for(;a.indexOf(e[s+l])>=0;)l++;if(l>0){t.push(r.join(""));for(let c=parseInt(e.substring(s,s+l),10);c>0;c--)r.pop();s+=l}else r.push(e[s]),s++}return t}const Qc={defaultProtocol:"http",events:null,format:Kj,formatHref:Kj,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function my(e,t=null){let r=Object.assign({},Qc);e&&(r=Object.assign(r,e instanceof my?e.o:e));const s=r.ignoreTags,a=[];for(let l=0;l<s.length;l++)a.push(s[l].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=a}my.prototype={o:Qc,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const s=t!=null;let a=this.o[e];return a&&(typeof a=="object"?(a=r.t in a?a[r.t]:Qc[e],typeof a=="function"&&s&&(a=a(t,r))):typeof a=="function"&&s&&(a=a(t,r.t,r)),a)},getObj(e,t,r){let s=this.o[e];return typeof s=="function"&&t!=null&&(s=s(t,r.t,r)),s},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Kj(e){return e}function yC(e,t){this.t="token",this.v=e,this.tk=t}yC.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),s=e.get("format",t,this);return r&&s.length>r?s.substring(0,r)+"":s},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Qc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toHref(e.get("defaultProtocol")),s=e.get("formatHref",r,this),a=e.get("tagName",r,t),l=this.toFormattedString(e),c={},u=e.get("className",r,t),h=e.get("target",r,t),f=e.get("rel",r,t),m=e.getObj("attributes",r,t),g=e.getObj("events",r,t);return c.href=s,u&&(c.class=u),h&&(c.target=h),f&&(c.rel=f),m&&Object.assign(c,m),{tagName:a,attributes:c,content:l,eventListeners:g}}};function Kf(e,t){class r extends yC{constructor(a,l){super(a,l),this.t=e}}for(const s in t)r.prototype[s]=t[s];return r.t=e,r}const Gj=Kf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Yj=Kf("text"),J_=Kf("nl"),Fu=Kf("url",{isLink:!0,toHref(e=Qc.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Jc&&e[1].t===Ia}}),Pn=e=>new nn(e);function Q_({groups:e}){const t=e.domain.concat([Xh,ef,za,tf,rf,nf,sf,af,In,cy,Tc,of,lf,cf,ms,uf,Mc,df]),r=[Zh,Ia,uy,ps,hy,Tc,Ac,fy,py,Uh,Vh,kc,Ec,Ih,Ph,$h,Hh,Fh,qh,Wh,Kh,Gh,Yh,Jh,Qh],s=[Xh,Zh,ef,tf,rf,nf,sf,af,In,kc,Ec,Tc,of,lf,cf,Ac,ms,uf,Mc,df],a=Pn(),l=Re(a,Mc);mt(l,s,l),mt(l,e.domain,l);const c=Pn(),u=Pn(),h=Pn();mt(a,e.domain,c),mt(a,e.scheme,u),mt(a,e.slashscheme,h),mt(c,s,l),mt(c,e.domain,c);const f=Re(c,za);Re(l,za,f),Re(u,za,f),Re(h,za,f);const m=Re(l,ps);mt(m,s,l),mt(m,e.domain,l);const g=Pn();mt(f,e.domain,g),mt(g,e.domain,g);const y=Re(g,ps);mt(y,e.domain,g);const b=Pn(Gj);mt(y,e.tld,b),mt(y,e.utld,b),Re(f,Jc,b);const j=Re(g,In);Re(j,In,j),mt(j,e.domain,g),mt(b,e.domain,g),Re(b,ps,y),Re(b,In,j);const N=Re(b,Ia);mt(N,e.numeric,Gj);const C=Re(c,In),w=Re(c,ps);Re(C,In,C),mt(C,e.domain,c),mt(w,s,l),mt(w,e.domain,c);const T=Pn(Fu);mt(w,e.tld,T),mt(w,e.utld,T),mt(T,e.domain,c),mt(T,s,l),Re(T,ps,w),Re(T,In,C),Re(T,za,f);const E=Re(T,Ia),O=Pn(Fu);mt(E,e.numeric,O);const R=Pn(Fu),L=Pn();mt(R,t,R),mt(R,r,L),mt(L,t,R),mt(L,r,L),Re(T,ms,R),Re(O,ms,R);const z=Re(u,Ia),q=Re(h,Ia),I=Re(q,ms),H=Re(I,ms);mt(u,e.domain,c),Re(u,ps,w),Re(u,In,C),mt(h,e.domain,c),Re(h,ps,w),Re(h,In,C),mt(z,e.domain,R),Re(z,ms,R),Re(z,Ac,R),mt(H,e.domain,R),mt(H,t,R),Re(H,ms,R);const W=[[kc,Ec],[Ph,Ih],[$h,Hh],[Uh,Vh],[Fh,qh],[Wh,Kh],[Gh,Yh],[Jh,Qh]];for(let ie=0;ie<W.length;ie++){const[Y,ne]=W[ie],F=Re(R,Y);Re(L,Y,F),Re(F,ne,R);const M=Pn(Fu);mt(F,t,M);const _=Pn();mt(F,r),mt(M,t,M),mt(M,r,_),mt(_,t,M),mt(_,r,_),Re(M,ne,R),Re(_,ne,R)}return Re(a,Jc,T),Re(a,dy,J_),{start:a,tokens:gC}}function X_(e,t,r){let s=r.length,a=0,l=[],c=[];for(;a<s;){let u=e,h=null,f=null,m=0,g=null,y=-1;for(;a<s&&!(h=u.go(r[a].t));)c.push(r[a++]);for(;a<s&&(f=h||u.go(r[a].t));)h=null,u=f,u.accepts()?(y=0,g=u):y>=0&&y++,a++,m++;if(y<0)a-=m,a<s&&(c.push(r[a]),a++);else{c.length>0&&(l.push(ex(Yj,t,c)),c=[]),a-=y,m-=y;const b=g.t,j=r.slice(a-m,a);l.push(ex(b,t,j))}}return c.length>0&&l.push(ex(Yj,t,c)),l}function ex(e,t,r){const s=r[0].s,a=r[r.length-1].e,l=t.slice(s,a);return new e(l,r)}const Z_=typeof console<"u"&&console&&console.warn||(()=>{}),eP="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Wt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function tP(){return nn.groups={},Wt.scanner=null,Wt.parser=null,Wt.tokenQueue=[],Wt.pluginQueue=[],Wt.customSchemes=[],Wt.initialized=!1,Wt}function Jj(e,t=!1){if(Wt.initialized&&Z_(`linkifyjs: already initialized - will not register custom scheme "${e}" ${eP}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Wt.customSchemes.push([e,t])}function rP(){Wt.scanner=G_(Wt.customSchemes);for(let e=0;e<Wt.tokenQueue.length;e++)Wt.tokenQueue[e][1]({scanner:Wt.scanner});Wt.parser=Q_(Wt.scanner.tokens);for(let e=0;e<Wt.pluginQueue.length;e++)Wt.pluginQueue[e][1]({scanner:Wt.scanner,parser:Wt.parser});return Wt.initialized=!0,Wt}function gy(e){return Wt.initialized||rP(),X_(Wt.parser.start,e,xC(Wt.scanner.start,e))}gy.scan=xC;function bC(e,t=null,r=null){if(t&&typeof t=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);r=t,t=null}const s=new my(r),a=gy(e),l=[];for(let c=0;c<a.length;c++){const u=a[c];u.isLink&&(!t||u.t===t)&&s.check(u)&&l.push(u.toFormattedObject(s))}return l}var xy="[\0- -\u2029]",nP=new RegExp(xy),sP=new RegExp(`${xy}$`),aP=new RegExp(xy,"g");function oP(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function lP(e){return new Zt({key:new yr("autolink"),appendTransaction:(t,r,s)=>{const a=t.some(f=>f.docChanged)&&!r.doc.eq(s.doc),l=t.some(f=>f.getMeta("preventAutolink"));if(!a||l)return;const{tr:c}=s,u=_N(r.doc,[...t]);if(FN(u).forEach(({newRange:f})=>{const m=cL(s.doc,f,b=>b.isTextblock);let g,y;if(m.length>1)g=m[0],y=s.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(m.length){const b=s.doc.textBetween(f.from,f.to," "," ");if(!sP.test(b))return;g=m[0],y=s.doc.textBetween(g.pos,f.to,void 0," ")}if(g&&y){const b=y.split(nP).filter(Boolean);if(b.length<=0)return!1;const j=b[b.length-1],N=g.pos+y.lastIndexOf(j);if(!j)return!1;const C=gy(j).map(w=>w.toObject(e.defaultProtocol));if(!oP(C))return!1;C.filter(w=>w.isLink).map(w=>({...w,from:N+w.start+1,to:N+w.end+1})).filter(w=>s.schema.marks.code?!s.doc.rangeHasMark(w.from,w.to,s.schema.marks.code):!0).filter(w=>e.validate(w.value)).filter(w=>e.shouldAutoLink(w.value)).forEach(w=>{sy(w.from,w.to,s.doc).some(T=>T.mark.type===e.type)||c.addMark(w.from,w.to,e.type.create({href:w.href}))})}}),!!c.steps.length)return c}})}function iP(e){return new Zt({key:new yr("handleClickLink"),props:{handleClick:(t,r,s)=>{var a,l;if(s.button!==0||!t.editable)return!1;let c=null;if(s.target instanceof HTMLAnchorElement)c=s.target;else{let m=s.target;const g=[];for(;m.nodeName!=="DIV";)g.push(m),m=m.parentNode;c=g.find(y=>y.nodeName==="A")}if(!c)return!1;const u=VN(t.state,e.type.name),h=(a=c?.href)!=null?a:u.href,f=(l=c?.target)!=null?l:u.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),c&&h?(window.open(h,f),!0):!1}}})}function cP(e){return new Zt({key:new yr("handlePasteLink"),props:{handlePaste:(t,r,s)=>{const{shouldAutoLink:a}=e,{state:l}=t,{selection:c}=l,{empty:u}=c;if(u)return!1;let h="";s.content.forEach(m=>{h+=m.textContent});const f=bC(h,{defaultProtocol:e.defaultProtocol}).find(m=>m.isLink&&m.value===h);return!h||!f||a!==void 0&&!a(f.href)?!1:e.editor.commands.setMark(e.type,{href:f.href})}}})}function Co(e,t){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(s=>{const a=typeof s=="string"?s:s.scheme;a&&r.push(a)}),!e||e.replace(aP,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var vC=Jo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){Jj(e);return}Jj(e.scheme,e.optionalSlashes)})},onDestroy(){tP()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Co(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:r=>!!Co(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Co(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mr(this.options.HTMLAttributes,e),0]:["a",mr(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var r;const s=((r=e.attrs)==null?void 0:r.href)||"";return`[${t.renderChildren(e)}](${s})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:r}=e;return this.options.isAllowedUri(r,{defaultValidate:s=>!!Co(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:r}=e||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:s=>!!Co(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Wo({find:e=>{const t=[];if(e){const{protocols:r,defaultProtocol:s}=this.options,a=bC(e).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:c=>!!Co(c,r),protocols:r,defaultProtocol:s}));a.length&&a.forEach(l=>{this.options.shouldAutoLink(l.value)&&t.push({text:l.value,data:{href:l.href},index:l.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:r}=this.options;return this.options.autolink&&e.push(lP({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:a=>!!Co(a,t),protocols:t,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(iP({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(cP({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),dP=vC,uP=Object.defineProperty,hP=(e,t)=>{for(var r in t)uP(e,r,{get:t[r],enumerable:!0})},fP="listItem",Qj="textStyle",Xj=/^\s*([-+*])\s$/,jC=kn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",mr(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(fP,this.editor.getAttributes(Qj)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=ni({find:Xj,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ni({find:Xj,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Qj),editor:this.editor})),[e]}}),wC=kn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",mr(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let r=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(a=>a.type==="paragraph"))r=t.parseChildren(e.tokens);else{const a=e.tokens[0];if(a&&a.type==="text"&&a.tokens&&a.tokens.length>0){if(r=[{type:"paragraph",content:t.parseInline(a.tokens)}],e.tokens.length>1){const c=e.tokens.slice(1),u=t.parseChildren(c);r.push(...u)}}else r=t.parseChildren(e.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(e,t,r)=>iy(e,t,s=>s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${s.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),pP={};hP(pP,{findListItemPos:()=>ud,getNextListDepth:()=>yy,handleBackspace:()=>r0,handleDelete:()=>n0,hasListBefore:()=>NC,hasListItemAfter:()=>mP,hasListItemBefore:()=>CC,listItemHasSubList:()=>SC,nextListIsDeeper:()=>kC,nextListIsHigher:()=>EC});var ud=(e,t)=>{const{$from:r}=t.selection,s=pr(e,t.schema);let a=null,l=r.depth,c=r.pos,u=null;for(;l>0&&u===null;)a=r.node(l),a.type===s?u=l:(l-=1,c-=1);return u===null?null:{$pos:t.doc.resolve(c),depth:u}},yy=(e,t)=>{const r=ud(e,t);if(!r)return!1;const[,s]=bL(t,e,r.$pos.pos+4);return s},NC=(e,t,r)=>{const{$anchor:s}=e.selection,a=Math.max(0,s.pos-2),l=e.doc.resolve(a).node();return!(!l||!r.includes(l.type.name))},CC=(e,t)=>{var r;const{$anchor:s}=t.selection,a=t.doc.resolve(s.pos-2);return!(a.index()===0||((r=a.nodeBefore)==null?void 0:r.type.name)!==e)},SC=(e,t,r)=>{if(!r)return!1;const s=pr(e,t.schema);let a=!1;return r.descendants(l=>{l.type===s&&(a=!0)}),a},r0=(e,t,r)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Za(e.state,t)&&NC(e.state,t,r)){const{$anchor:u}=e.state.selection,h=e.state.doc.resolve(u.before()-1),f=[];h.node().descendants((y,b)=>{y.type.name===t&&f.push({node:y,pos:b})});const m=f.at(-1);if(!m)return!1;const g=e.state.doc.resolve(h.start()+m.pos+1);return e.chain().cut({from:u.start()-1,to:u.end()+1},g.end()).joinForward().run()}if(!Za(e.state,t)||!NL(e.state))return!1;const s=ud(t,e.state);if(!s)return!1;const l=e.state.doc.resolve(s.$pos.pos-2).node(s.depth),c=SC(t,e.state,l);return CC(t,e.state)&&!c?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},kC=(e,t)=>{const r=yy(e,t),s=ud(e,t);return!s||!r?!1:r>s.depth},EC=(e,t)=>{const r=yy(e,t),s=ud(e,t);return!s||!r?!1:r<s.depth},n0=(e,t)=>{if(!Za(e.state,t)||!wL(e.state,t))return!1;const{selection:r}=e.state,{$from:s,$to:a}=r;return!r.empty&&s.sameParent(a)?!1:kC(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():EC(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},mP=(e,t)=>{var r;const{$anchor:s}=t.selection,a=t.doc.resolve(s.pos-s.parentOffset-2);return!(a.index()===a.parent.childCount-1||((r=a.nodeAfter)==null?void 0:r.type.name)!==e)},TC=ar.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&n0(e,r)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&n0(e,r)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:s})=>{e.state.schema.nodes[r]!==void 0&&r0(e,r,s)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:s})=>{e.state.schema.nodes[r]!==void 0&&r0(e,r,s)&&(t=!0)}),t}}}}),Zj=/^(\s*)(\d+)\.\s+(.*)$/,gP=/^\s/;function xP(e){const t=[];let r=0,s=0;for(;r<e.length;){const a=e[r],l=a.match(Zj);if(!l)break;const[,c,u,h]=l,f=c.length;let m=h,g=r+1;const y=[a];for(;g<e.length;){const b=e[g];if(b.match(Zj))break;if(b.trim()==="")y.push(b),m+=`
`,g+=1;else if(b.match(gP))y.push(b),m+=`
${b.slice(f+2)}`,g+=1;else break}t.push({indent:f,number:parseInt(u,10),content:m.trim(),raw:y.join(`
`)}),s=g,r=g}return[t,s]}function AC(e,t,r){var s;const a=[];let l=0;for(;l<e.length;){const c=e[l];if(c.indent===t){const u=c.content.split(`
`),h=((s=u[0])==null?void 0:s.trim())||"",f=[];h&&f.push({type:"paragraph",raw:h,tokens:r.inlineTokens(h)});const m=u.slice(1).join(`
`).trim();if(m){const b=r.blockTokens(m);f.push(...b)}let g=l+1;const y=[];for(;g<e.length&&e[g].indent>t;)y.push(e[g]),g+=1;if(y.length>0){const b=Math.min(...y.map(N=>N.indent)),j=AC(y,b,r);f.push({type:"list",ordered:!0,start:y[0].number,items:j,raw:y.map(N=>N.raw).join(`
`)})}a.push({type:"list_item",raw:c.raw,tokens:f}),l=g}else l+=1}return a}function yP(e,t){return e.map(r=>{if(r.type!=="list_item")return t.parseChildren([r])[0];const s=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(a=>{if(a.type==="paragraph"||a.type==="list"||a.type==="blockquote"||a.type==="code")s.push(...t.parseChildren([a]));else if(a.type==="text"&&a.tokens){const l=t.parseChildren([a]);s.push({type:"paragraph",content:l})}else{const l=t.parseChildren([a]);l.length>0&&s.push(...l)}}),{type:"listItem",content:s}})}var bP="listItem",e3="textStyle",t3=/^(\d+)\.\s$/,MC=kn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...r}=e;return t===1?["ol",mr(this.options.HTMLAttributes,r),0]:["ol",mr(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const r=e.start||1,s=e.items?yP(e.items,t):[];return r!==1?{type:"orderedList",attrs:{start:r},content:s}:{type:"orderedList",content:s}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),r=t?.index;return r!==void 0?r:-1},tokenize:(e,t,r)=>{var s;const a=e.split(`
`),[l,c]=xP(a);if(l.length===0)return;const u=AC(l,0,r);return u.length===0?void 0:{type:"list",ordered:!0,start:((s=l[0])==null?void 0:s.number)||1,items:u,raw:a.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(bP,this.editor.getAttributes(e3)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=ni({find:t3,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ni({find:t3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(e3)}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1],editor:this.editor})),[e]}}),vP=/^\s*(\[([( |x])?\])\s$/,jP=kn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",mr(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const r=[];if(e.tokens&&e.tokens.length>0?r.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?r.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):r.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const s=t.parseChildren(e.nestedTokens);r.push(...s)}return t.createNode("taskItem",{checked:e.checked||!1},r)},renderMarkdown:(e,t)=>{var r;const a=`- [${(r=e.attrs)!=null&&r.checked?"x":" "}] `;return iy(e,t,a)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:r,editor:s})=>{const a=document.createElement("li"),l=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),h=document.createElement("div"),f=m=>{var g,y;u.ariaLabel=((y=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:y.call(g,m,u.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};return f(e),l.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",m=>m.preventDefault()),u.addEventListener("change",m=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:g}=m.target;s.isEditable&&typeof r=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const b=r();if(typeof b!="number")return!1;const j=y.doc.nodeAt(b);return y.setNodeMarkup(b,void 0,{...j?.attrs,checked:g}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,g)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,g])=>{a.setAttribute(m,g)}),a.dataset.checked=e.attrs.checked,u.checked=e.attrs.checked,l.append(u,c),a.append(l,h),Object.entries(t).forEach(([m,g])=>{a.setAttribute(m,g)}),{dom:a,contentDOM:h,update:m=>m.type!==this.type?!1:(a.dataset.checked=m.attrs.checked,u.checked=m.attrs.checked,f(m),!0)}}},addInputRules(){return[ni({find:vP,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),wP=kn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",mr(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const r=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return r!==void 0?r:-1},tokenize(e,t,r){const s=l=>{const c=Wx(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,h)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:r.inlineTokens(u.mainContent),nestedTokens:h}),customNestedParser:s},r);return c?[{type:"taskList",raw:c.raw,items:c.items}]:r.blockTokens(l)},a=Wx(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:r.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:s},r);if(a)return{type:"taskList",raw:a.raw,items:a.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ar.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(jC.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(wC.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(TC.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(MC.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(jP.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(wP.configure(this.options.taskList)),e}});var NP=kn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",mr(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const r=e.tokens||[];return r.length===1&&r[0].type==="image"?t.parseChildren([r[0]]):t.createNode("paragraph",void 0,t.parseInline(r))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),CP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,SP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,kP=Jo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",mr(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ri({find:CP,type:this.type})]},addPasteRules(){return[Wo({find:SP,type:this.type})]}}),EP=kn.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),TP=Jo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",mr(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,r){const a=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!a)return;const l=a[2].trim();return{type:"underline",raw:a[0],text:l,tokens:r.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function AP(e={}){return new Zt({view(t){return new MP(t,e)}})}class MP{constructor(t,r){var s;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=r.width)!==null&&s!==void 0?s:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let l=c=>{this[a](c)};return t.dom.addEventListener(a,l),{name:a,handler:l}})}destroy(){this.handlers.forEach(({name:t,handler:r})=>this.editorView.dom.removeEventListener(t,r))}update(t,r){this.cursorPos!=null&&r.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),r=!t.parent.inlineContent,s,a=this.editorView.dom,l=a.getBoundingClientRect(),c=l.width/a.offsetWidth,u=l.height/a.offsetHeight;if(r){let g=t.nodeBefore,y=t.nodeAfter;if(g||y){let b=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(b){let j=b.getBoundingClientRect(),N=g?j.bottom:j.top;g&&y&&(N=(N+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*u;s={left:j.left,right:j.right,top:N-C,bottom:N+C}}}}if(!s){let g=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*c;s={left:g.left-y,right:g.left+y,top:g.top,bottom:g.bottom}}let h=this.editorView.dom.offsetParent;this.element||(this.element=h.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let f,m;if(!h||h==document.body&&getComputedStyle(h).position=="static")f=-pageXOffset,m=-pageYOffset;else{let g=h.getBoundingClientRect(),y=g.width/h.offsetWidth,b=g.height/h.offsetHeight;f=g.left-h.scrollLeft*y,m=g.top-h.scrollTop*b}this.element.style.left=(s.left-f)/c+"px",this.element.style.top=(s.top-m)/u+"px",this.element.style.width=(s.right-s.left)/c+"px",this.element.style.height=(s.bottom-s.top)/u+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),s=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),a=s&&s.type.spec.disableDropCursor,l=typeof a=="function"?a(this.editorView,r,t):a;if(r&&!l){let c=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=T6(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class nr extends gt{constructor(t){super(t,t)}map(t,r){let s=t.resolve(r.map(this.head));return nr.valid(s)?new nr(s):gt.near(s)}content(){return Ie.empty}eq(t){return t instanceof nr&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new nr(t.resolve(r.pos))}getBookmark(){return new by(this.anchor)}static valid(t){let r=t.parent;if(r.isTextblock||!OP(t)||!DP(t))return!1;let s=r.type.spec.allowGapCursor;if(s!=null)return s;let a=r.contentMatchAt(t.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(t,r,s=!1){e:for(;;){if(!s&&nr.valid(t))return t;let a=t.pos,l=null;for(let c=t.depth;;c--){let u=t.node(c);if(r>0?t.indexAfter(c)<u.childCount:t.index(c)>0){l=u.child(r>0?t.indexAfter(c):t.index(c)-1);break}else if(c==0)return null;a+=r;let h=t.doc.resolve(a);if(nr.valid(h))return h}for(;;){let c=r>0?l.firstChild:l.lastChild;if(!c){if(l.isAtom&&!l.isText&&!Xe.isSelectable(l)){t=t.doc.resolve(a+l.nodeSize*r),s=!1;continue e}break}l=c,a+=r;let u=t.doc.resolve(a);if(nr.valid(u))return u}return null}}}nr.prototype.visible=!1;nr.findFrom=nr.findGapCursorFrom;gt.jsonID("gapcursor",nr);class by{constructor(t){this.pos=t}map(t){return new by(t.map(this.pos))}resolve(t){let r=t.resolve(this.pos);return nr.valid(r)?new nr(r):gt.near(r)}}function OC(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function OP(e){for(let t=e.depth;t>=0;t--){let r=e.index(t),s=e.node(t);if(r==0){if(s.type.spec.isolating)return!0;continue}for(let a=s.child(r-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||OC(a.type))return!0;if(a.inlineContent)return!1}}return!0}function DP(e){for(let t=e.depth;t>=0;t--){let r=e.indexAfter(t),s=e.node(t);if(r==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let a=s.child(r);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||OC(a.type))return!0;if(a.inlineContent)return!1}}return!0}function RP(){return new Zt({props:{decorations:_P,createSelectionBetween(e,t,r){return t.pos==r.pos&&nr.valid(r)?new nr(r):null},handleClick:LP,handleKeyDown:zP,handleDOMEvents:{beforeinput:BP}}})}const zP=AN({ArrowLeft:qu("horiz",-1),ArrowRight:qu("horiz",1),ArrowUp:qu("vert",-1),ArrowDown:qu("vert",1)});function qu(e,t){const r=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(s,a,l){let c=s.selection,u=t>0?c.$to:c.$from,h=c.empty;if(c instanceof ot){if(!l.endOfTextblock(r)||u.depth==0)return!1;h=!1,u=s.doc.resolve(t>0?u.after():u.before())}let f=nr.findGapCursorFrom(u,t,h);return f?(a&&a(s.tr.setSelection(new nr(f))),!0):!1}}function LP(e,t,r){if(!e||!e.editable)return!1;let s=e.state.doc.resolve(t);if(!nr.valid(s))return!1;let a=e.posAtCoords({left:r.clientX,top:r.clientY});return a&&a.inside>-1&&Xe.isSelectable(e.state.doc.nodeAt(a.inside))?!1:(e.dispatch(e.state.tr.setSelection(new nr(s))),!0)}function BP(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof nr))return!1;let{$from:r}=e.state.selection,s=r.parent.contentMatchAt(r.index()).findWrapping(e.state.schema.nodes.text);if(!s)return!1;let a=Oe.empty;for(let c=s.length-1;c>=0;c--)a=Oe.from(s[c].createAndFill(null,a));let l=e.state.tr.replace(r.pos,r.pos,new Ie(a,0,0));return l.setSelection(ot.near(l.doc.resolve(r.pos+1))),e.dispatch(l),!1}function _P(e){if(!(e.selection instanceof nr))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Xt.create(e.doc,[qr.widget(e.selection.head,t,{key:"gapcursor"})])}var hf=200,Cr=function(){};Cr.prototype.append=function(t){return t.length?(t=Cr.from(t),!this.length&&t||t.length<hf&&this.leafAppend(t)||this.length<hf&&t.leafPrepend(this)||this.appendInner(t)):this};Cr.prototype.prepend=function(t){return t.length?Cr.from(t).append(this):this};Cr.prototype.appendInner=function(t){return new PP(this,t)};Cr.prototype.slice=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=this.length),t>=r?Cr.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))};Cr.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Cr.prototype.forEach=function(t,r,s){r===void 0&&(r=0),s===void 0&&(s=this.length),r<=s?this.forEachInner(t,r,s,0):this.forEachInvertedInner(t,r,s,0)};Cr.prototype.map=function(t,r,s){r===void 0&&(r=0),s===void 0&&(s=this.length);var a=[];return this.forEach(function(l,c){return a.push(t(l,c))},r,s),a};Cr.from=function(t){return t instanceof Cr?t:t&&t.length?new DC(t):Cr.empty};var DC=(function(e){function t(s){e.call(this),this.values=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(a,l){return a==0&&l==this.length?this:new t(this.values.slice(a,l))},t.prototype.getInner=function(a){return this.values[a]},t.prototype.forEachInner=function(a,l,c,u){for(var h=l;h<c;h++)if(a(this.values[h],u+h)===!1)return!1},t.prototype.forEachInvertedInner=function(a,l,c,u){for(var h=l-1;h>=c;h--)if(a(this.values[h],u+h)===!1)return!1},t.prototype.leafAppend=function(a){if(this.length+a.length<=hf)return new t(this.values.concat(a.flatten()))},t.prototype.leafPrepend=function(a){if(this.length+a.length<=hf)return new t(a.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t})(Cr);Cr.empty=new DC([]);var PP=(function(e){function t(r,s){e.call(this),this.left=r,this.right=s,this.length=r.length+s.length,this.depth=Math.max(r.depth,s.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},t.prototype.forEachInner=function(s,a,l,c){var u=this.left.length;if(a<u&&this.left.forEachInner(s,a,Math.min(l,u),c)===!1||l>u&&this.right.forEachInner(s,Math.max(a-u,0),Math.min(this.length,l)-u,c+u)===!1)return!1},t.prototype.forEachInvertedInner=function(s,a,l,c){var u=this.left.length;if(a>u&&this.right.forEachInvertedInner(s,a-u,Math.max(l,u)-u,c+u)===!1||l<u&&this.left.forEachInvertedInner(s,Math.min(a,u),l,c)===!1)return!1},t.prototype.sliceInner=function(s,a){if(s==0&&a==this.length)return this;var l=this.left.length;return a<=l?this.left.slice(s,a):s>=l?this.right.slice(s-l,a-l):this.left.slice(s,l).append(this.right.slice(0,a-l))},t.prototype.leafAppend=function(s){var a=this.right.leafAppend(s);if(a)return new t(this.left,a)},t.prototype.leafPrepend=function(s){var a=this.left.leafPrepend(s);if(a)return new t(a,this.right)},t.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new t(this.left,new t(this.right,s)):new t(this,s)},t})(Cr);const IP=500;class Xn{constructor(t,r){this.items=t,this.eventCount=r}popEvent(t,r){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let a,l;r&&(a=this.remapping(s,this.items.length),l=a.maps.length);let c=t.tr,u,h,f=[],m=[];return this.items.forEach((g,y)=>{if(!g.step){a||(a=this.remapping(s,y+1),l=a.maps.length),l--,m.push(g);return}if(a){m.push(new gs(g.map));let b=g.step.map(a.slice(l)),j;b&&c.maybeStep(b).doc&&(j=c.mapping.maps[c.mapping.maps.length-1],f.push(new gs(j,void 0,void 0,f.length+m.length))),l--,j&&a.appendMap(j,l)}else c.maybeStep(g.step);if(g.selection)return u=a?g.selection.map(a.slice(l)):g.selection,h=new Xn(this.items.slice(0,s).append(m.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:h,transform:c,selection:u}}addTransform(t,r,s,a){let l=[],c=this.eventCount,u=this.items,h=!a&&u.length?u.get(u.length-1):null;for(let m=0;m<t.steps.length;m++){let g=t.steps[m].invert(t.docs[m]),y=new gs(t.mapping.maps[m],g,r),b;(b=h&&h.merge(y))&&(y=b,m?l.pop():u=u.slice(0,u.length-1)),l.push(y),r&&(c++,r=void 0),a||(h=y)}let f=c-s.depth;return f>HP&&(u=$P(u,f),c-=f),new Xn(u.append(l),c)}remapping(t,r){let s=new Fc;return this.items.forEach((a,l)=>{let c=a.mirrorOffset!=null&&l-a.mirrorOffset>=t?s.maps.length-a.mirrorOffset:void 0;s.appendMap(a.map,c)},t,r),s}addMaps(t){return this.eventCount==0?this:new Xn(this.items.append(t.map(r=>new gs(r))),this.eventCount)}rebased(t,r){if(!this.eventCount)return this;let s=[],a=Math.max(0,this.items.length-r),l=t.mapping,c=t.steps.length,u=this.eventCount;this.items.forEach(y=>{y.selection&&u--},a);let h=r;this.items.forEach(y=>{let b=l.getMirror(--h);if(b==null)return;c=Math.min(c,b);let j=l.maps[b];if(y.step){let N=t.steps[b].invert(t.docs[b]),C=y.selection&&y.selection.map(l.slice(h+1,b));C&&u++,s.push(new gs(j,N,C))}else s.push(new gs(j))},a);let f=[];for(let y=r;y<c;y++)f.push(new gs(l.maps[y]));let m=this.items.slice(0,a).append(f).append(s),g=new Xn(m,u);return g.emptyItemCount()>IP&&(g=g.compress(this.items.length-s.length)),g}emptyItemCount(){let t=0;return this.items.forEach(r=>{r.step||t++}),t}compress(t=this.items.length){let r=this.remapping(0,t),s=r.maps.length,a=[],l=0;return this.items.forEach((c,u)=>{if(u>=t)a.push(c),c.selection&&l++;else if(c.step){let h=c.step.map(r.slice(s)),f=h&&h.getMap();if(s--,f&&r.appendMap(f,s),h){let m=c.selection&&c.selection.map(r.slice(s));m&&l++;let g=new gs(f.invert(),h,m),y,b=a.length-1;(y=a.length&&a[b].merge(g))?a[b]=y:a.push(g)}}else c.map&&s--},this.items.length,0),new Xn(Cr.from(a.reverse()),l)}}Xn.empty=new Xn(Cr.empty,0);function $P(e,t){let r;return e.forEach((s,a)=>{if(s.selection&&t--==0)return r=a,!1}),e.slice(r)}class gs{constructor(t,r,s,a){this.map=t,this.step=r,this.selection=s,this.mirrorOffset=a}merge(t){if(this.step&&t.step&&!t.selection){let r=t.step.merge(this.step);if(r)return new gs(r.getMap().invert(),r,this.selection)}}}class La{constructor(t,r,s,a,l){this.done=t,this.undone=r,this.prevRanges=s,this.prevTime=a,this.prevComposition=l}}const HP=20;function UP(e,t,r,s){let a=r.getMeta($o),l;if(a)return a.historyState;r.getMeta(qP)&&(e=new La(e.done,e.undone,null,0,-1));let c=r.getMeta("appendedTransaction");if(r.steps.length==0)return e;if(c&&c.getMeta($o))return c.getMeta($o).redo?new La(e.done.addTransform(r,void 0,s,oh(t)),e.undone,r3(r.mapping.maps),e.prevTime,e.prevComposition):new La(e.done,e.undone.addTransform(r,void 0,s,oh(t)),null,e.prevTime,e.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=r.getMeta("composition"),h=e.prevTime==0||!c&&e.prevComposition!=u&&(e.prevTime<(r.time||0)-s.newGroupDelay||!VP(r,e.prevRanges)),f=c?tx(e.prevRanges,r.mapping):r3(r.mapping.maps);return new La(e.done.addTransform(r,h?t.selection.getBookmark():void 0,s,oh(t)),Xn.empty,f,r.time,u??e.prevComposition)}else return(l=r.getMeta("rebased"))?new La(e.done.rebased(r,l),e.undone.rebased(r,l),tx(e.prevRanges,r.mapping),e.prevTime,e.prevComposition):new La(e.done.addMaps(r.mapping.maps),e.undone.addMaps(r.mapping.maps),tx(e.prevRanges,r.mapping),e.prevTime,e.prevComposition)}function VP(e,t){if(!t)return!1;if(!e.docChanged)return!0;let r=!1;return e.mapping.maps[0].forEach((s,a)=>{for(let l=0;l<t.length;l+=2)s<=t[l+1]&&a>=t[l]&&(r=!0)}),r}function r3(e){let t=[];for(let r=e.length-1;r>=0&&t.length==0;r--)e[r].forEach((s,a,l,c)=>t.push(l,c));return t}function tx(e,t){if(!e)return null;let r=[];for(let s=0;s<e.length;s+=2){let a=t.map(e[s],1),l=t.map(e[s+1],-1);a<=l&&r.push(a,l)}return r}function FP(e,t,r){let s=oh(t),a=$o.get(t).spec.config,l=(r?e.undone:e.done).popEvent(t,s);if(!l)return null;let c=l.selection.resolve(l.transform.doc),u=(r?e.done:e.undone).addTransform(l.transform,t.selection.getBookmark(),a,s),h=new La(r?u:l.remaining,r?l.remaining:u,null,0,-1);return l.transform.setSelection(c).setMeta($o,{redo:r,historyState:h})}let rx=!1,n3=null;function oh(e){let t=e.plugins;if(n3!=t){rx=!1,n3=t;for(let r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){rx=!0;break}}return rx}const $o=new yr("history"),qP=new yr("closeHistory");function WP(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Zt({key:$o,state:{init(){return new La(Xn.empty,Xn.empty,null,0,-1)},apply(t,r,s){return UP(r,s,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,r){let s=r.inputType,a=s=="historyUndo"?zC:s=="historyRedo"?LC:null;return!a||!t.editable?!1:(r.preventDefault(),a(t.state,t.dispatch))}}}})}function RC(e,t){return(r,s)=>{let a=$o.getState(r);if(!a||(e?a.undone:a.done).eventCount==0)return!1;if(s){let l=FP(a,r,e);l&&s(t?l.scrollIntoView():l)}return!0}}const zC=RC(!1,!0),LC=RC(!0,!0);ar.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const s=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(s)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,r=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let e=!1;return[new Zt({key:new yr("characterCount"),appendTransaction:(t,r,s)=>{if(e)return;const a=this.options.limit;if(a==null||a===0){e=!0;return}const l=this.storage.characters({node:s.doc});if(l>a){const c=l-a,u=0,h=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const f=s.tr.deleteRange(u,h);return e=!0,f}e=!0},filterTransaction:(t,r)=>{const s=this.options.limit;if(!t.docChanged||s===0||s===null||s===void 0)return!0;const a=this.storage.characters({node:r.doc}),l=this.storage.characters({node:t.doc});if(l<=s||a>s&&l>s&&l<=a)return!0;if(a>s&&l>s&&l>a||!t.getMeta("paste"))return!1;const u=t.selection.$head.pos,h=l-s,f=u-h,m=u;return t.deleteRange(f,m),!(this.storage.characters({node:t.doc})>s)}})]}});var KP=ar.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[AP(this.options)]}});ar.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Zt({key:new yr("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:r,isFocused:s}=this.editor,{anchor:a}=t,l=[];if(!r||!s)return Xt.create(e,[]);let c=0;this.options.mode==="deepest"&&e.descendants((h,f)=>{if(h.isText)return;if(!(a>=f&&a<=f+h.nodeSize-1))return!1;c+=1});let u=0;return e.descendants((h,f)=>{if(h.isText||!(a>=f&&a<=f+h.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";l.push(qr.node(f,f+h.nodeSize,{class:this.options.className}))}),Xt.create(e,l)}}})]}});var GP=ar.create({name:"gapCursor",addProseMirrorPlugins(){return[RP()]},extendNodeSchema(e){var t;const r={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Lt(Qe(e,"allowGapCursor",r)))!=null?t:null}}});ar.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Zt({key:new yr("placeholder"),props:{decorations:({doc:e,selection:t})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=t,a=[];if(!r)return null;const l=this.editor.isEmpty;return e.descendants((c,u)=>{const h=s>=u&&s<=u+c.nodeSize,f=!c.isLeaf&&Ff(c);if((h||!this.options.showOnlyCurrent)&&f){const m=[this.options.emptyNodeClass];l&&m.push(this.options.emptyEditorClass);const g=qr.node(u,u+c.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:u,hasAnchor:h}):this.options.placeholder});a.push(g)}return this.options.includeChildren}),Xt.create(e,a)}}})]}});ar.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Zt({key:new yr("selection"),props:{decorations(r){return r.selection.empty||e.isFocused||!e.isEditable||qN(r.selection)||e.view.dragging?null:Xt.create(r.doc,[qr.inline(r.selection.from,r.selection.to,{class:t.className})])}}})]}});function s3({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}var YP=ar.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new yr(this.name),r=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,a])=>a).filter(a=>(this.options.notAfter||[]).concat(r).includes(a.name));return[new Zt({key:t,appendTransaction:(a,l,c)=>{const{doc:u,tr:h,schema:f}=c,m=t.getState(c),g=u.content.size,y=f.nodes[r];if(m)return h.insert(g,y.create())},state:{init:(a,l)=>{const c=l.tr.doc.lastChild;return!s3({node:c,types:s})},apply:(a,l)=>{if(!a.docChanged||a.getMeta("__uniqueIDTransaction"))return l;const c=a.doc.lastChild;return!s3({node:c,types:s})}}})]}}),JP=ar.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>zC(e,t),redo:()=>({state:e,dispatch:t})=>LC(e,t)}},addProseMirrorPlugins(){return[WP(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),QP=ar.create({name:"starterKit",addExtensions(){var e,t,r,s;const a=[];return this.options.bold!==!1&&a.push(C_.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(b_.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(jC.configure(this.options.bulletList)),this.options.code!==!1&&a.push(E_.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(M_.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(O_.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(KP.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(GP.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(D_.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(R_.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(JP.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(z_.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(I_.configure(this.options.italic)),this.options.listItem!==!1&&a.push(wC.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(TC.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&a.push(vC.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&a.push(MC.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(NP.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(kP.configure(this.options.strike)),this.options.text!==!1&&a.push(EP.configure(this.options.text)),this.options.underline!==!1&&a.push(TP.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&a.push(YP.configure((s=this.options)==null?void 0:s.trailingNode)),a}}),XP=QP,ZP=ar.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(r=>t.updateAttributes(r,{textAlign:e})).some(r=>r):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(t=>t),toggleTextAlign:e=>({editor:t,commands:r})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?r.unsetTextAlign():r.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),eI=ZP;const s0=({value:e="",onChange:t=()=>{}})=>{const[r,s]=vt.useState(""),[a,l]=vt.useState(!1),[c,u]=vt.useState(!1),h=p_({extensions:[XP,eI.configure({types:["heading","paragraph"]}),dP.configure({openOnClick:!1,HTMLAttributes:{class:"text-gray-700 hover:text-gray-800 underline cursor-pointer","data-new-tab":!1}})],content:e,onUpdate:({editor:m})=>{t(m.getHTML())}});if(vt.useEffect(()=>{h&&e&&h.getHTML()!==e&&h.commands.setContent(e)},[e,h]),!h)return n.jsx("div",{className:"text-gray-900",children:"Loading editor..."});const f=m=>`flex items-center justify-center p-2 rounded transition ${m?"bg-gray-800 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`;return n.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap gap-1 bg-gray-50 p-3 border-b border-gray-300",children:[n.jsx("button",{type:"button",onClick:()=>h.chain().focus().toggleBold().run(),disabled:!h.can().chain().focus().toggleBold().run(),className:f(h.isActive("bold")),title:"Bold (Ctrl+B)",children:n.jsx(yA,{className:"text-sm"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().toggleItalic().run(),disabled:!h.can().chain().focus().toggleItalic().run(),className:f(h.isActive("italic")),title:"Italic (Ctrl+I)",children:n.jsx(_A,{className:"text-sm"})}),n.jsx("div",{className:"w-px bg-gray-300 mx-1"}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().setParagraph().run(),className:f(h.isActive("paragraph")),title:"Paragraph",children:n.jsx("span",{className:"text-xs font-bold",children:""})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().toggleHeading({level:1}).run(),className:f(h.isActive("heading",{level:1})),title:"Heading 1",children:n.jsx("span",{className:"text-xs font-bold",children:"H1"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().toggleHeading({level:2}).run(),className:f(h.isActive("heading",{level:2})),title:"Heading 2",children:n.jsx("span",{className:"text-xs font-bold",children:"H2"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().toggleHeading({level:3}).run(),className:f(h.isActive("heading",{level:3})),title:"Heading 3",children:n.jsx("span",{className:"text-xs font-bold",children:"H3"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().toggleHeading({level:4}).run(),className:f(h.isActive("heading",{level:4})),title:"Heading 4",children:n.jsx("span",{className:"text-xs font-bold",children:"H4"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().toggleHeading({level:5}).run(),className:f(h.isActive("heading",{level:5})),title:"Heading 5",children:n.jsx("span",{className:"text-xs font-bold",children:"H5"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().toggleHeading({level:6}).run(),className:f(h.isActive("heading",{level:6})),title:"Heading 6",children:n.jsx("span",{className:"text-xs font-bold",children:"H6"})}),n.jsx("div",{className:"w-px bg-gray-300 mx-1"}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().toggleBulletList().run(),className:f(h.isActive("bulletList")),title:"Bullet List",children:n.jsx(Mf,{className:"text-sm"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().toggleOrderedList().run(),className:f(h.isActive("orderedList")),title:"Ordered List",children:n.jsx($A,{className:"text-sm"})}),n.jsx("div",{className:"w-px bg-gray-300 mx-1"}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().toggleCodeBlock().run(),className:f(h.isActive("codeBlock")),title:"Code Block",children:n.jsx(NA,{className:"text-sm"})}),n.jsx("div",{className:"w-px bg-gray-300 mx-1"}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().setTextAlign("left").run(),className:f(h.isActive({textAlign:"left"})),title:"Align Left",children:n.jsx(hA,{className:"text-sm"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().setTextAlign("center").run(),className:f(h.isActive({textAlign:"center"})),title:"Align Center",children:n.jsx(dA,{className:"text-sm"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().setTextAlign("right").run(),className:f(h.isActive({textAlign:"right"})),title:"Align Right",children:n.jsx(fA,{className:"text-sm"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().setTextAlign("justify").run(),className:f(h.isActive({textAlign:"justify"})),title:"Justify",children:n.jsx(uA,{className:"text-sm"})}),n.jsx("div",{className:"w-px bg-gray-300 mx-1"}),c?n.jsxs("div",{className:"flex gap-1 items-center flex-wrap",children:[n.jsx("input",{type:"text",placeholder:"Enter URL",value:r,onChange:m=>s(m.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-800",onKeyDown:m=>{m.key==="Enter"?(h.chain().focus().setLink({href:r,target:a?"_blank":null}).run(),s(""),l(!1),u(!1)):m.key==="Escape"&&u(!1)},autoFocus:!0}),n.jsxs("label",{className:"flex items-center gap-1 text-xs whitespace-nowrap",children:[n.jsx("input",{type:"checkbox",checked:a,onChange:m=>l(m.target.checked),className:"w-4 h-4"}),n.jsx("span",{children:"New Tab"})]}),n.jsx("button",{type:"button",onClick:()=>{r&&(h.chain().focus().setLink({href:r,target:a?"_blank":null}).run(),s(""),l(!1),u(!1))},className:"px-2 py-1 bg-gray-800 text-white rounded text-xs font-semibold hover:bg-black",children:"Add"}),n.jsx("button",{type:"button",onClick:()=>{u(!1),s(""),l(!1)},className:"px-2 py-1 bg-gray-300 text-gray-700 rounded text-xs hover:bg-black",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>{u(!0),s(""),l(!1)},className:f(h.isActive("link")),title:"Add Link",children:n.jsx(IA,{className:"text-sm"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().unsetLink().run(),disabled:!h.isActive("link"),className:f(!1),title:"Remove Link",children:n.jsx(GA,{className:"text-sm"})})]}),n.jsx("div",{className:"w-px bg-gray-300 mx-1"}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().undo().run(),disabled:!h.can().chain().focus().undo().run(),className:f(!1),title:"Undo (Ctrl+Z)",children:n.jsx(Uw,{className:"text-sm"})}),n.jsx("button",{type:"button",onClick:()=>h.chain().focus().redo().run(),disabled:!h.can().chain().focus().redo().run(),className:f(!1),title:"Redo (Ctrl+Y)",children:n.jsx(FA,{className:"text-sm"})})]}),n.jsx(l_,{editor:h,className:"prose prose-sm max-w-none focus:outline-none px-4 py-3 min-h-40 bg-white"})]})},vy=({metaTitle:e,metaDescription:t,metaKeywords:r,onChange:s,defaultTitle:a=""})=>{const h=(e||"").length,f=(t||"").length,m=(r||"").length,g=()=>h===0?"text-gray-400":h<30?"text-orange-500":h>60?"text-red-500":"text-green-500",y=()=>f===0?"text-gray-400":f<120?"text-orange-500":f>160?"text-red-500":"text-green-500";return n.jsxs("div",{className:"border-t pt-6 mt-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(BA,{className:"text-blue-500"}),n.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:"SEO Meta Information"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Meta Title"}),n.jsx("input",{type:"text",value:e||a,onChange:b=>s("metaTitle",b.target.value),placeholder:"Enter SEO title (shown in search results)",maxLength:60,className:"w-full px-4 py-2 border rounded-lg",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"}}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("p",{className:"text-xs",style:{color:"var(--color-text-light)"},children:"Used in browser tabs and search results"}),n.jsxs("span",{className:`text-xs font-semibold ${g()}`,children:[h,"/",60]})]}),h>0&&h<30&&n.jsx("p",{className:"text-xs text-orange-500 mt-1",children:"Tip: Titles should be at least 30 characters for better SEO"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Meta Description"}),n.jsx("textarea",{value:t||"",onChange:b=>s("metaDescription",b.target.value),placeholder:"Enter SEO description (shown in search results)",maxLength:160,rows:3,className:"w-full px-4 py-2 border rounded-lg resize-none",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"}}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("p",{className:"text-xs",style:{color:"var(--color-text-light)"},children:"Displayed under the page title in search results"}),n.jsxs("span",{className:`text-xs font-semibold ${y()}`,children:[f,"/",160]})]}),f>0&&f<120&&n.jsx("p",{className:"text-xs text-orange-500 mt-1",children:"Tip: Descriptions should be 120-160 characters for best display"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Meta Keywords (Comma-separated)"}),n.jsx("textarea",{value:r||"",onChange:b=>s("metaKeywords",b.target.value),placeholder:"e.g., keyword1, keyword2, keyword3, keyword4",maxLength:160,rows:2,className:"w-full px-4 py-2 border rounded-lg resize-none",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"}}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("p",{className:"text-xs",style:{color:"var(--color-text-light)"},children:"Relevant keywords to help with SEO ranking"}),n.jsxs("span",{className:`text-xs font-semibold ${m===0?"text-gray-400":"text-green-500"}`,children:[m,"/",160]})]})]}),e||t?n.jsxs("div",{className:"mt-6 p-4 border rounded-lg",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-primary)"},children:[n.jsx("p",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"SEO Preview:"}),n.jsx("div",{className:"text-sm",style:{color:"var(--color-accent-primary)"},children:n.jsx("p",{className:"font-semibold line-clamp-1",children:e||a})}),n.jsx("p",{className:"text-xs line-clamp-2 mt-1",style:{color:"var(--color-text-light)"},children:t||"No description provided"})]}):null]})},So="http://localhost:5000",a3=()=>{const e=Sr(),r=Dt(re=>re.auth||{}).token||localStorage.getItem("token"),[s,a]=S.useState(!1),[l,c]=S.useState(""),[u,h]=S.useState(null),[f,m]=S.useState({name:"",price:"",comparePrice:"",slug:"",stock:"",categories:[],description:"",benefitsHeading:"Why Buy This Product",benefitsText:"",images:[],options:[],variants:[],isDraft:!1,metaTitle:"",metaDescription:"",metaKeywords:""}),[g,y]=S.useState(!1),[b,j]=S.useState(!1),[N,C]=S.useState(""),[w,T]=S.useState(""),[E,O]=S.useState({}),[R,L]=S.useState({}),[z,q]=S.useState({}),[I,H]=S.useState([]),[W,ie]=S.useState(!1),[Y,ne]=S.useState(!1),[F,M]=S.useState(!1),[_,X]=S.useState(null),[$,ce]=S.useState(!1),[A,B]=S.useState(null),[P,K]=S.useState(null),[de,ve]=S.useState(!1),[je,He]=S.useState({}),{id:te}=bf(),ue=!!te,[U,ae]=S.useState(null);vt.useRef(!0);const[le,Q]=S.useState([]),[ye,Ne]=S.useState([]),Ke=vt.useRef({});vt.useEffect(()=>{if(!te)return;(async()=>{try{const we=(await st.get(`${So}/api/products/${te}`)).data;let _e="";typeof we.benefits=="string"?_e=we.benefits:Array.isArray(we.benefits)&&we.benefits.length>0&&(_e=`<ul>${we.benefits.map(Ce=>`<li>${Ce}</li>`).join("")}</ul>`),m(Ce=>({...Ce,name:we.name||"",price:we.price||"",comparePrice:we.originalPrice||"",slug:we.slug||"",stock:we.stock||"",categories:we.categories?we.categories.map(Ae=>Ae._id?Ae._id:Ae):[],description:we.description||"",whyBuyText:we.whyBuyText||"",benefitsHeading:we.benefitsHeading||"Why Buy This Product",benefitsText:_e,images:Array.isArray(we.images)?we.images:we.images?[we.images]:[],options:we.variants||[],variants:(we.variantCombinations||[]).map((Ae,We)=>({id:Ae._id||`variant-${We}`,optionValues:Ae.variantValues||{},sku:Ae.sku||"",price:Ae.price||"",stock:Ae.stock||0,image:Ae.image||""})),metaTitle:we.metaTitle||"",metaDescription:we.metaDescription||"",metaKeywords:we.metaKeywords||""}))}catch{}})()},[te]),vt.useEffect(()=>{at()},[]),vt.useEffect(()=>{if(f.options&&f.options.length>0){const re=f.options.find(Ee=>Ee.name);re&&re.name&&C(re.name)}},[f.options]);const at=async()=>{try{const re=await st.get(`${So}/api/categories`);H(re.data)}catch{}};vt.useEffect(()=>{te&&f.name&&ae(JSON.parse(JSON.stringify(f)))},[te]);const Nt=()=>!U&&!f.name?!1:!!(!U&&f.name||U&&JSON.stringify(U)!==JSON.stringify(f)),lt=(()=>{try{const re=f.price===""||f.price===null?NaN:parseFloat(f.price),Ee=f.comparePrice===""||f.comparePrice===null?NaN:parseFloat(f.comparePrice);return!isNaN(Ee)&&!isNaN(re)&&Ee<=re?"Compare price must be greater than Price":""}catch{return""}})();vt.useEffect(()=>{const re=Ee=>{if(Nt())return Ee.preventDefault(),Ee.returnValue="",""};return window.addEventListener("beforeunload",re),()=>{window.removeEventListener("beforeunload",re)}},[f,U]),vt.useEffect(()=>{u==="saved"&&Nt()&&h(null)},[f]);const Kt=re=>{Nt()?window.confirm("You have unsaved changes. Are you sure you want to leave without saving or discarding?")&&re():re()},Gt=()=>{const re={},Ee=we=>{if(!we)return;const _e=Array.isArray(we)?we:Object.values(we);for(const Ce of _e)Ce&&Ce._id&&Ce.name&&(re[Ce._id]=Ce.name),Ce&&Ce.subcategories&&Ee(Ce.subcategories)};return Ee(I),re},qn=re=>String(re??"").trim(),Yt=(re={})=>{try{const Ee=Object.entries(re||{});if(N&&Object.prototype.hasOwnProperty.call(re||{},N)){const we=[[N,re[N]]],_e=Ee.filter(([Ce])=>Ce!==N);return[...we,..._e].map(([Ce,Ae])=>`${Ce}: ${Ae}`).join(" / ")}if(f.options&&f.options.length>0){const we=f.options.map(Ce=>Ce.name).filter(Boolean);return Ee.slice().sort((Ce,Ae)=>{const We=we.indexOf(Ce[0]),Pe=we.indexOf(Ae[0]),De=We===-1?Number.MAX_SAFE_INTEGER:We,rt=Pe===-1?Number.MAX_SAFE_INTEGER:Pe;return De===rt?String(Ce[0]).localeCompare(String(Ae[0])):De-rt}).map(([Ce,Ae])=>`${Ce}: ${Ae}`).join(" / ")}return Ee.map(([we,_e])=>`${we}: ${_e}`).join(" / ")}catch{return""}},Wn=re=>{O(Ee=>({...Ee,[re]:!Ee[re]}))},ge=re=>L(Ee=>({...Ee,[re]:!Ee[re]})),Te=(re,Ee,we)=>{const _e=qn(re);q(Ce=>({...Ce,[_e]:{...Ce[_e]||{},[Ee]:we}}))},Le=(re,Ee,we)=>{const _e=qn(re),Ce=we!==void 0?we:z?.[_e]?.[Ee];if(Ce==null||Ce==="")return;let Ae=Ce;if(Ee==="price"){const Pe=parseFloat(Ce);if(isNaN(Pe))return;Ae=Pe}else if(Ee==="stock"){const Pe=parseInt(Ce);if(isNaN(Pe))return;Ae=Pe}const We=f.variants.map(Pe=>qn(Pe.optionValues&&Pe.optionValues[N])!==_e?Pe:{...Pe,[Ee]:Ae});m({...f,variants:We})},Ye=()=>{m({...f,options:[...f.options,{name:"",values:[]}]})},Ze=(re,Ee)=>{const we=f.options[re]&&f.options[re].name||"",_e=f.options.map((Ce,Ae)=>Ae===re?{...Ce,name:Ee}:Ce);if(we!==Ee){const Ce=(f.variants||[]).map(Ae=>{const We={...Ae.optionValues||{}};if(we&&Object.prototype.hasOwnProperty.call(We,we)){const Pe=We[we];delete We[we],Ee&&(We[Ee]=Pe)}return{...Ae,optionValues:We}});m({...f,options:_e,variants:Ce})}else m({...f,options:_e})},tt=re=>{const we=f.options[re]?.name,_e=f.options.filter((Ae,We)=>We!==re),Ce=(f.variants||[]).map(Ae=>{if(!we)return Ae;const We={...Ae.optionValues||{}};return Object.prototype.hasOwnProperty.call(We,we)&&delete We[we],{...Ae,optionValues:We}});m({...f,options:_e,variants:Ce})},At=(re,Ee)=>{const we=String(Ee||"").trim();we&&m(_e=>{const Ce=(_e.options||[]).map((Ae,We)=>{if(We!==re)return Ae;const Pe=Array.isArray(Ae.values)?[...Ae.values]:[];return Pe.includes(we)?{...Ae,values:Pe}:{...Ae,values:[...Pe,we]}});return{..._e,options:Ce}})},xe=(re,Ee)=>{m(we=>{const _e=(we.options||[]).map((Ce,Ae)=>{if(Ae!==re)return Ce;const We=Array.isArray(Ce.values)?Ce.values.filter((Pe,De)=>De!==Ee):[];return{...Ce,values:We}});return{...we,options:_e}})},Ge=()=>{const re=(f.options||[]).filter(Ae=>Ae.name&&Array.isArray(Ae.values)&&Ae.values.length>0);if(re.length===0){m(Ae=>({...Ae,variants:[]}));return}const Ee=Ae=>Ae.reduce((We,Pe)=>We.flatMap(De=>Pe.map(rt=>[...De,rt])),[[]]),we=re.map(Ae=>Ae.values),Ce=Ee(we).map((Ae,We)=>{const Pe={};return Ae.forEach((De,rt)=>{Pe[re[rt].name]=De}),{id:`variant-${Date.now()}-${We}`,optionValues:Pe,sku:"",price:f.price||"",stock:0,image:""}});m(Ae=>({...Ae,variants:Ce})),j(!0),ee.success("Variants generated")},ft=async(re,Ee=!0)=>{if(re&&re.preventDefault&&re.preventDefault(),c(""),!f.name.trim()){c("Product name is required");return}if(lt){c(lt),typeof ee=="function"&&ee.error(lt);return}a(!0),h("saving");try{const we=Array.isArray(f.images)?f.images:[],_e=(f.options||[]).map(De=>({name:De.name,values:De.values})),Ce=(f.variants||[]).map(De=>({variantValues:De.optionValues||{},sku:De.sku||"",price:De.price?parseFloat(De.price):f.price?parseFloat(f.price):0,stock:De.stock?parseInt(De.stock):0,image:De.image||""})),Ae=De=>String(De||"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-"),We={name:f.name,slug:f.slug||Ae(f.name),description:f.description||"",price:f.price?parseFloat(f.price):0,originalPrice:f.comparePrice&&f.comparePrice.trim()!==""?parseFloat(f.comparePrice):null,stock:f.stock?parseInt(f.stock):0,images:we,variants:_e,variantCombinations:Ce,categories:f.categories||[],benefits:f.benefitsText||"",benefitsHeading:f.benefitsHeading||"Why Buy This Product",metaTitle:f.metaTitle||"",metaDescription:f.metaDescription||"",metaKeywords:f.metaKeywords||"",isDraft:!Ee},Pe=r?{Authorization:`Bearer ${r}`}:{};if(ue){const De=await st.put(`${So}/api/products/${te}`,We,{headers:Pe});ee.success(Ee?"Product saved successfully!":"Product saved as draft");const Ve=(await st.get(`${So}/api/products/${te}`)).data;let $t="";typeof Ve.benefits=="string"?$t=Ve.benefits:Array.isArray(Ve.benefits)&&Ve.benefits.length>0&&($t=`<ul>${Ve.benefits.map(Lr=>`<li>${Lr}</li>`).join("")}</ul>`);const En={name:Ve.name||"",price:Ve.price||"",comparePrice:Ve.originalPrice||"",slug:Ve.slug||"",stock:Ve.stock||"",categories:Ve.categories?Ve.categories.map(Lr=>Lr._id?Lr._id:Lr):[],description:Ve.description||"",benefitsText:$t,benefitsHeading:Ve.benefitsHeading||"Why Buy This Product",images:Array.isArray(Ve.images)?Ve.images:Ve.images?[Ve.images]:[],options:Ve.variants||[],variants:(Ve.variantCombinations||[]).map((Lr,so)=>({id:Lr._id||`variant-${so}`,optionValues:Lr.variantValues||{},sku:Lr.sku||"",price:Lr.price||"",stock:Lr.stock||0,image:Lr.image||""})),isDraft:Ve.isDraft||!1};m(En),ae(JSON.parse(JSON.stringify(En))),h("saved"),setTimeout(()=>h(null),2e3)}else{const rt=(await st.post(`${So}/api/products`,We,{headers:Pe})).data;Ee?(ee.success("Product published successfully!"),m({name:"",price:"",comparePrice:"",slug:"",stock:"",categories:[],description:"",benefitsText:"",images:[],options:[],variants:[],isDraft:!1}),ae(null),h("saved"),setTimeout(()=>h(null),2e3),setTimeout(()=>e("/admin/products"),1200)):(ee.success("Draft created. Redirecting to editor..."),h("saved"),setTimeout(()=>h(null),2e3),setTimeout(()=>e(`/admin/products/edit/${rt._id}`),800))}}catch(we){const _e=we.response?.data?.message||we.message||"Error creating/updating product";ee.error(_e),c(_e),h(null)}finally{a(!1)}},Fe=()=>{const re={};f.options.forEach(Ee=>{re[Ee.name]=""}),He(re),ve(!0)},pt=()=>{m({...f,variants:[...f.variants,{id:`variant-${Date.now()}`,name:`Variant ${f.variants.length+1}`,optionValues:je,sku:"",price:f.price||"",stock:0,image:""}]}),ve(!1),ee.success("Variant added")},Mt=(re,Ee)=>{const we=f.variants.map(_e=>_e.id===re?{..._e,...Ee}:_e);m({...f,variants:we})},G=(re,Ee)=>{const we=f.variants.find(Pe=>Pe.id===re);if(!we)return;const Ce=we.optionValues&&we.optionValues[N]||"",Ae={variant:we,index:Ee,timestamp:Date.now(),id:re,groupKey:Ce};Q(Pe=>[...Pe,Ae]),Ne(Pe=>[...Pe,!0]);const We=setTimeout(()=>{Ne(Pe=>{const De=Pe.length-1;return Pe.filter((rt,Ve)=>Ve!==De)}),Q(Pe=>{const De=Pe.length-1;return Pe.filter((rt,Ve)=>Ve!==De)}),delete Ke.current[re]},54e5);Ke.current[re]=We,m(Pe=>({...Pe,variants:Pe.variants.filter(De=>De.id!==re)}))},fe=re=>{if(re<0||re>=le.length)return;const{variant:Ee,id:we}=le[re],_e=Math.max(0,Math.min(Ee.index,f.variants.length));Ke.current[we]&&(clearTimeout(Ke.current[we]),delete Ke.current[we]),m(Ce=>{const Ae=Array.isArray(Ce.variants)?[...Ce.variants]:[];return Ae.splice(_e,0,Ee),{...Ce,variants:Ae}}),Q(Ce=>Ce.filter((Ae,We)=>We!==re)),Ne(Ce=>Ce.filter((Ae,We)=>We!==re)),ee("Variant restored",{icon:""})},$e=async re=>{try{const Ee=new FormData;Ee.append("image",re);const we=r?{Authorization:`Bearer ${r}`}:{};return(await st.post(`${So}/api/upload`,Ee,{headers:{...we,"Content-Type":"multipart/form-data"}})).data.url}catch{return c("Failed to upload image. Please try again."),null}},Be=re=>{m(Ee=>({...Ee,images:[...Ee.images||[],re]}))},nt=re=>{m({...f,images:f.images.filter((Ee,we)=>we!==re)})},xt=(re,Ee)=>{if(re===Ee)return;const we=Array.isArray(f.images)?[...f.images]:[];if(re<0||re>=we.length)return;const[_e]=we.splice(re,1);we.splice(Math.max(0,Math.min(Ee,we.length)),0,_e),m({...f,images:we})},Ot=re=>{if(!re)return"";try{return typeof re!="string"?"":re.startsWith("http")?re:`${So}${re}`}catch{return""}},ir=({show:re,onClose:Ee})=>{const[we,_e]=vt.useState(f.categories||[]);vt.useEffect(()=>_e(f.categories||[]),[f.categories,re]);const Ce=Pe=>{_e(De=>De.includes(Pe)?De.filter(rt=>rt!==Pe):[...De,Pe])},Ae=(Pe,De=0)=>{if(!Pe)return[];let rt=[];if(Array.isArray(Pe))rt=Pe;else if(typeof Pe=="object")rt=Object.values(Pe);else return[];const Ve=[];for(const $t of rt)!$t||!$t._id||(Ve.push({_id:$t._id,name:$t.name,parent:$t.parent,_depth:De}),$t.subcategories&&(Array.isArray($t.subcategories)||typeof $t.subcategories=="object")&&Ve.push(...Ae($t.subcategories,De+1)));return Ve};if(!re)return null;const We=Ae(I||[]);return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[min(900px,95%)] max-h-[95vh] overflow-y-auto p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-white py-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(wh,{className:"text-xl text-gray-700"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Select Categories"}),n.jsx("p",{className:"text-xs text-gray-900",children:"Choose which categories this product should belong to"})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("button",{onClick:Ee,className:"text-gray-600 hover:text-gray-900 p-2 rounded-full hover:bg-gray-100","aria-label":"Close categories modal",children:n.jsx(Vt,{className:"text-lg"})})})]}),n.jsx("div",{className:"mb-4",children:n.jsx("input",{type:"search",placeholder:"Search categories...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-200 outline-none",onChange:Pe=>{const De=Pe.target.value.trim().toLowerCase();document.querySelectorAll("[data-cat-name]").forEach(rt=>{const Ve=rt.getAttribute("data-cat-name")||"";rt.style.display=Ve.toLowerCase().includes(De)?"":"none"})}})}),n.jsx("div",{className:"grid gap-2",children:We&&We.length>0?We.map(Pe=>n.jsxs("label",{"data-cat-name":Pe.name,className:"flex items-center gap-3 p-3 bg-gray-50 hover:bg-white border border-gray-100 rounded-lg cursor-pointer transition",children:[n.jsx("input",{type:"checkbox",checked:we.includes(Pe._id),onChange:()=>Ce(Pe._id),className:"w-4 h-4 cursor-pointer text-gray-700"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm text-gray-800 font-medium",children:Pe.name}),Pe._depth?n.jsx("div",{className:"text-xs text-gray-400",children:Array(Pe._depth).fill(" ").join("")}):null]})]},`cat-${Pe._id}`)):n.jsx("p",{className:"text-gray-900 text-sm py-4",children:"No categories available"})}),n.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:Ee,className:"px-4 py-2 rounded border border-gray-300 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:()=>{m({...f,categories:we}),Ee()},className:"px-4 py-2 rounded bg-[var(--color-accent-primary)] text-white hover:bg-black",children:"Save"})]})]})})},Bt=({show:re,onClose:Ee})=>{if(!re)return null;const we=(f.images||[]).slice(1);return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-[min(900px,95%)] max-h-[85vh] overflow-y-auto p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["All Gallery Images (",we.length,")"]}),n.jsx("button",{onClick:Ee,className:"text-gray-600 hover:text-gray-900",children:n.jsx(Vt,{className:"text-xl"})})]}),n.jsx("div",{className:"grid grid-cols-4 gap-4",children:we.map((_e,Ce)=>{const Ae=Ce+1;return n.jsxs("div",{className:"relative group rounded-lg overflow-hidden bg-gray-100 cursor-grab border border-gray-200 h-40",draggable:!0,onDragStart:We=>{We.dataTransfer.setData("text/plain",String(Ae))},onDoubleClick:()=>{xt(Ae,0),Ee()},children:[n.jsx("img",{src:Ot(_e),alt:`Gallery ${Ae}`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition flex items-center justify-center opacity-0 group-hover:opacity-100",children:n.jsx("div",{className:"text-center text-white",children:n.jsx("p",{className:"text-xs font-semibold",children:"Double-click to set as main"})})}),n.jsx("button",{type:"button",onClick:()=>nt(Ae),className:"absolute top-2 right-2 bg-gray-700 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition","aria-label":"Remove image",children:n.jsx(Vt,{className:"text-xs"})})]},Ae)})}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{type:"button",onClick:Ee,className:"px-4 py-2 rounded bg-gray-300 text-gray-900 hover:bg-black",children:"Close"})})]})})},cn=({show:re,onClose:Ee})=>{if(!re||!_)return null;const we=f.images||[];return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-[min(900px,95%)] max-h-[85vh] overflow-y-auto p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Select Image for Variant"}),n.jsx("button",{onClick:Ee,className:"text-gray-600 hover:text-gray-900",children:n.jsx(Vt,{className:"text-xl"})})]}),n.jsx("div",{className:"grid grid-cols-4 gap-4",children:we.map((_e,Ce)=>n.jsxs("div",{onClick:()=>{Mt(_.id,{image:_e}),Ee(),X(null)},draggable:!0,onDragStart:Ae=>{Ae.dataTransfer.effectAllowed="copy",Ae.dataTransfer.setData("text/plain",_e)},className:"relative group rounded-lg overflow-hidden bg-gray-100 cursor-pointer border-2 border-gray-200 h-40 hover:border-gray-800 transition",children:[n.jsx("img",{src:Ot(_e),alt:`Product ${Ce}`,className:"w-full h-full object-cover group-hover:scale-105 transition"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition flex items-center justify-center opacity-0 group-hover:opacity-100",children:n.jsx("div",{className:"text-center text-white",children:n.jsxs("p",{className:"text-sm font-semibold",children:["Click to select",n.jsx("br",{}),"or drag"]})})}),_?.image===_e&&n.jsx("div",{className:"absolute top-2 right-2 bg-[var(--color-accent-primary)] text-white px-2 py-1 rounded text-xs font-semibold",children:"Selected"})]},Ce))}),n.jsx("div",{className:"mt-6 flex justify-end gap-3",children:n.jsx("button",{type:"button",onClick:Ee,className:"px-4 py-2 rounded bg-gray-300 text-gray-900 hover:bg-black",children:"Close"})})]})})},it=({show:re,onClose:Ee})=>{if(!re||!A)return null;const we=f.images||[];return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-[min(900px,95%)] max-h-[85vh] overflow-y-auto p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Select Image for Group: ",A]}),n.jsx("button",{onClick:Ee,className:"text-gray-600 hover:text-gray-900",children:n.jsx(Vt,{className:"text-xl"})})]}),n.jsx("div",{className:"grid grid-cols-4 gap-4",children:we.map((_e,Ce)=>n.jsxs("div",{onClick:()=>{Te(A,"image",_e),Le(A,"image",_e),Ee(),B(null)},draggable:!0,onDragStart:Ae=>{Ae.dataTransfer.effectAllowed="copy",Ae.dataTransfer.setData("text/plain",_e)},onDragEnd:Ae=>{Ae.preventDefault()},className:"relative group rounded-lg overflow-hidden bg-gray-100 cursor-grab active:cursor-grabbing border-2 border-gray-200 h-40 hover:border-gray-800 transition",children:[n.jsx("img",{src:Ot(_e),alt:`Product ${Ce}`,className:"w-full h-full object-cover group-hover:scale-105 transition"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition flex items-center justify-center opacity-0 group-hover:opacity-100",children:n.jsx("div",{className:"text-center text-white",children:n.jsxs("p",{className:"text-sm font-semibold",children:["Click to select",n.jsx("br",{}),"or drag to variant"]})})})]},Ce))}),n.jsx("div",{className:"mt-6 flex justify-end gap-3",children:n.jsx("button",{type:"button",onClick:Ee,className:"px-4 py-2 rounded bg-gray-300 text-gray-900 hover:bg-black",children:"Close"})})]})})},fi=({show:re,onClose:Ee})=>re?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-[min(500px,95%)] p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Add New Variant"}),n.jsx("button",{onClick:Ee,className:"text-gray-600 hover:text-gray-900",children:n.jsx(Vt,{className:"text-xl"})})]}),f.options.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"No options added yet."}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add options (like Size, Color) first to create variants."})]}):n.jsx("div",{className:"space-y-4 mb-6",children:f.options.map(we=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:we.name}),n.jsxs("select",{value:je[we.name]||"",onChange:_e=>He(Ce=>({...Ce,[we.name]:_e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",children:[n.jsxs("option",{value:"",children:["Select ",we.name]}),we.values.map(_e=>n.jsx("option",{value:_e,children:_e},_e))]})]},we.name))}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:Ee,className:"px-4 py-2 rounded border border-gray-300 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:pt,disabled:f.options.length===0||f.options.some(we=>!je[we.name]),className:"px-4 py-2 rounded bg-[var(--color-accent-primary)] text-white hover:bg-black disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Variant"})]})]})}):null;return n.jsxs("div",{className:"min-h-screen bg-gray-100 p-4",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsxs("button",{onClick:()=>Kt(()=>e("/admin/products")),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[n.jsx(Ir,{})," Back"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-4 w-full",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:ue?"Edit Product":"Add New Product"}),n.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[u==="saving"&&n.jsx("span",{className:"text-sm text-gray-600",children:"Saving..."}),u==="saved"&&n.jsx("span",{className:"text-sm text-green-600 font-semibold",children:"Saved"}),n.jsxs("select",{value:f.isDraft?"draft":"published",onChange:re=>m({...f,isDraft:re.target.value==="draft"}),className:"px-3 py-1 rounded-lg text-sm font-semibold border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-800",children:[n.jsx("option",{value:"published",children:"Published"}),n.jsx("option",{value:"draft",children:"Draft"})]}),n.jsx("button",{onClick:()=>ft(null,!f.isDraft),disabled:s||!!lt,className:"px-4 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-semibold transition disabled:opacity-50",children:s?"Saving...":"Save"}),n.jsx("button",{onClick:()=>Kt(()=>e("/admin/products")),className:"px-4 py-1 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg text-sm font-semibold transition",children:"Discard"})]})]})]}),l&&n.jsx("div",{className:"mb-4 p-4 bg-gray-100 border border-gray-400 text-gray-800 rounded",children:l}),n.jsxs("form",{onSubmit:ft,className:"bg-white rounded-lg shadow-lg p-4",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Product Name *"}),n.jsx("input",{type:"text",value:f.name,onChange:re=>m({...f,name:re.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",placeholder:"Enter product name"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Price"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-gray-900",children:""}),n.jsx("input",{type:"number",step:"0.01",value:f.price,onChange:re=>m({...f,price:re.target.value}),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",placeholder:"0.00"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Compare Price"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-gray-900",children:""}),n.jsx("input",{type:"number",step:"0.01",value:f.comparePrice,onChange:re=>m({...f,comparePrice:re.target.value}),className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:ring-2 outline-none ${lt?"border-red-400 focus:ring-red-200":"border-gray-300 focus:ring-gray-800"}`,placeholder:"0.00"}),lt&&n.jsx("p",{className:"text-xs text-gray-700 mt-1",children:lt})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Stock"}),n.jsx("input",{type:"number",value:f.stock,onChange:re=>m({...f,stock:re.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",placeholder:"0"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Slug"}),n.jsx("input",{type:"text",value:f.slug||"",onChange:re=>m({...f,slug:re.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",placeholder:"product-url-slug"}),n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:"Auto-generated if empty"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Categories"}),n.jsxs("button",{type:"button",onClick:()=>ie(!0),className:"inline-flex items-center gap-2 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded-full border border-gray-300 shadow-sm hover:shadow","aria-label":"Select categories",children:[n.jsx(wh,{className:"text-gray-700"}),n.jsx("span",{className:"font-medium",children:"Select Categories"})]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:(f.categories||[]).map(re=>{const we=Gt()[re]||re;return n.jsxs("span",{className:"flex items-center gap-2 bg-white border border-gray-200 px-3 py-1 rounded-full text-sm font-semibold shadow-sm",children:[n.jsx("span",{className:"text-gray-700 text-xs",children:we&&we[0]}),n.jsx("span",{className:"text-indigo-800",children:we}),n.jsx("button",{type:"button",onClick:()=>m({...f,categories:(f.categories||[]).filter(_e=>_e!==re)}),className:"text-gray-900 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition","aria-label":`Remove category ${we}`,children:n.jsx(Vt,{className:"text-xs"})})]},`chip-${re}`)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description"}),n.jsx(s0,{value:f.description,onChange:re=>m({...f,description:re})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Benefits Section Heading"}),n.jsx("input",{type:"text",value:f.benefitsHeading,onChange:re=>m({...f,benefitsHeading:re.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none mb-4",placeholder:"Why Buy This Product"}),n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Benefits Description"}),n.jsx(s0,{value:f.benefitsText,onChange:re=>m({...f,benefitsText:re})}),n.jsx("p",{className:"text-xs text-gray-900 mt-2",children:"Use the editor to format your benefits with headings, bullets, and bold text. These will be displayed beautifully on the product page."})]})]})}),n.jsxs("div",{className:"mb-8 pb-8 border-b",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Media"}),n.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Main"}),n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg overflow-hidden bg-gray-50 w-full aspect-square flex items-center justify-center relative",onDragOver:re=>re.preventDefault(),onDrop:re=>{re.preventDefault();const Ee=re.dataTransfer.getData("text/plain");Ee&&xt(Number(Ee),0)},children:f.images&&f.images[0]?n.jsxs("div",{className:"relative w-full h-full",children:[n.jsx("img",{src:Ot(f.images[0]),alt:"Main",className:"w-full h-full object-contain"}),n.jsx("button",{type:"button",onClick:()=>nt(0),className:"absolute top-2 right-2 bg-gray-700 text-white p-1.5 rounded-full hover:bg-[var(--color-accent-primary)]","aria-label":"Remove main image",children:n.jsx(Vt,{className:"text-sm"})})]}):n.jsxs("label",{className:"flex items-center justify-center w-full h-full cursor-pointer hover:bg-gray-100 transition",children:[n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:re=>{const Ee=re.target.files;Ee&&Array.from(Ee).forEach(async we=>{const _e=await $e(we);_e&&Be(_e)})},className:"hidden"}),n.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-600",children:[n.jsx(O0,{className:"text-3xl text-gray-700"}),n.jsx("span",{className:"text-xs font-semibold text-center",children:"Drop or click to add images"})]})]})})]}),n.jsxs("div",{className:"col-span-5",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Gallery images"}),(()=>{const re=f.images||[],Ee=re.slice(1,20),we=Math.max(0,re.length-20);return n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ee.map((_e,Ce)=>{const Ae=Ce+1;return n.jsxs("div",{className:"relative group h-20 aspect-square rounded-lg overflow-hidden bg-gray-100 cursor-grab border border-gray-200",draggable:!0,onDragStart:We=>{We.dataTransfer.effectAllowed="move",We.dataTransfer.setData("text/plain",String(Ae))},onDragOver:We=>We.preventDefault(),onDrop:We=>{We.preventDefault();const Pe=Number(We.dataTransfer.getData("text/plain"));isNaN(Pe)||xt(Pe,Ae)},onDoubleClick:()=>xt(Ae,0),children:[n.jsx("img",{src:Ot(_e),alt:`Gallery ${Ae}`,className:"w-full h-full object-contain"}),n.jsx("button",{type:"button",onClick:()=>nt(Ae),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition","aria-label":"Remove image",children:n.jsx(Vt,{className:"text-xs"})})]},Ae)}),we>0&&n.jsx("div",{className:"h-20 aspect-square rounded-lg overflow-hidden bg-gray-600 flex items-center justify-center border border-gray-400",children:n.jsxs("span",{className:"text-white font-bold text-lg",children:["+",we]})}),n.jsx("button",{type:"button",onClick:()=>ne(!0),className:"flex items-center justify-center h-20 aspect-square rounded-lg border-2 border-dashed border-gray-300 cursor-pointer hover:border-gray-800 transition bg-white",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsxs("label",{className:"flex items-center justify-center h-20 aspect-square rounded-lg border-2 border-dashed border-gray-300 cursor-pointer hover:border-gray-800 transition bg-white",children:[n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:_e=>{const Ce=_e.target.files;Ce&&Array.from(Ce).forEach(async Ae=>{const We=await $e(Ae);We&&Be(We)})},className:"hidden"}),n.jsx("span",{className:"text-2xl",children:""})]})]})})})()]})]})]}),n.jsxs("div",{className:"mb-8 pb-8 border-b",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Variants & Options"}),n.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("button",{type:"button",onClick:()=>y(re=>!re),className:"flex items-center gap-2",children:[n.jsx("span",{className:`transform transition-transform ${g?"rotate-90":""}`,children:n.jsx(es,{})}),n.jsx("h3",{className:"text-lg font-bold",children:"Options"})]}),n.jsxs("button",{type:"button",onClick:Ye,className:"flex items-center gap-2 bg-[var(--color-accent-primary)] text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-black","aria-label":"Add option",children:[n.jsx(js,{className:"text-sm"}),n.jsx("span",{className:"hidden sm:inline-block",children:"Add Option"})]})]}),g&&f.options.length===0&&n.jsx("p",{className:"text-sm text-gray-900 mb-3",children:"Add an option (e.g., Size, Color) then add its values."}),g&&n.jsx("div",{className:"space-y-3",children:f.options.map((re,Ee)=>{const we=re.name||`opt-${Ee}`,_e=!!R[we];return n.jsxs("div",{className:"bg-white border rounded p-3",children:[n.jsxs("div",{className:"flex items-center justify-between ",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx("button",{type:"button",onClick:()=>ge(we),className:"p-1",children:n.jsx(vn,{className:`transition-transform ${_e?"rotate-0":"-rotate-90"}`})}),n.jsx("input",{type:"text",value:re.name,onChange:Ce=>Ze(Ee,Ce.target.value),placeholder:"Option name (e.g., Size)",className:"px-3 py-2 border rounded flex-1"})]}),n.jsx("button",{type:"button",onClick:()=>tt(Ee),className:"text-gray-700 hover:text-gray-900 px-2 py-1 rounded-md hover:bg-gray-100 transition","aria-label":"Remove option",children:n.jsx(x4,{})})]}),_e&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[n.jsx("input",{type:"text",placeholder:`Add ${re.name||"value"}`,onKeyDown:Ce=>{Ce.key==="Enter"&&(Ce.preventDefault(),At(Ee,Ce.target.value.trim()),Ce.target.value="")},className:"flex-1 px-3 py-2 border rounded"}),n.jsx("button",{type:"button",onClick:Ce=>{const Ae=Ce.target.closest(".flex")?.querySelector("input");Ae&&Ae.value&&(At(Ee,Ae.value.trim()),Ae.value="")},className:"bg-[var(--color-accent-primary)] text-white px-4 py-2 rounded text-sm font-medium hover:bg-black",children:"Add Value"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:re.values.map((Ce,Ae)=>n.jsxs("span",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm inline-flex items-center gap-2",children:[Ce,n.jsx("button",{type:"button",onClick:()=>xe(Ee,Ae),className:"text-gray-700 hover:text-gray-900 font-bold p-0.5 rounded-full hover:bg-gray-100 transition","aria-label":`Remove value ${Ce}`,children:n.jsx(Iw,{className:"text-sm"})})]},Ae))})]})]},Ee)})}),g&&f.options.length>0&&n.jsx("button",{type:"button",onClick:()=>{Ge(),j(!0)},className:"mt-4 bg-[var(--color-accent-primary)] text-white px-4 py-2 rounded-lg font-medium hover:bg-black",children:"Generate Variants"})]}),f.variants.length>0&&n.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("button",{type:"button",onClick:()=>j(re=>!re),className:"flex items-center gap-2",children:[n.jsx("span",{className:`transform transition-transform ${b?"rotate-90":""}`,children:n.jsx(es,{})}),n.jsxs("h3",{className:"text-lg font-bold",children:["Variants (",f.variants.length,")"]})]}),n.jsx("button",{type:"button",onClick:()=>{Fe(),j(!0)},className:"bg-[var(--color-accent-primary)] text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-black",children:"Add Variant"})]}),b&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Zs,{className:"absolute left-3 top-3 text-gray-400"}),n.jsx("input",{value:w,onChange:re=>T(re.target.value),placeholder:"Search variants...",className:"w-full pl-10 pr-4 py-2 border rounded-lg"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Group by"}),n.jsx("select",{value:N,onChange:re=>C(re.target.value),className:"px-3 py-2 border rounded-lg",children:f.options.map(re=>re.name?n.jsx("option",{value:re.name,children:re.name},re.name):null)})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsx("div",{className:"space-y-4",children:(()=>{const re={},Ee=f.variants||[],we=(w||"").trim().toLowerCase();Ee.forEach(Ce=>{if(we&&!`${Ce.sku||""} ${Ce.name||""} ${Yt(Ce.optionValues)||""}`.toLowerCase().includes(we))return;const Ae=Ce.optionValues&&Ce.optionValues[N]||"";re[Ae]||(re[Ae]=[]),re[Ae].push(Ce)});let _e=Object.keys(re).sort((Ce,Ae)=>String(Ce).localeCompare(String(Ae)));return P&&re[P]&&_e.includes(P)&&(_e=[P,..._e.filter(Ce=>Ce!==P)]),_e.map(Ce=>{const Ae=re[Ce],We=!!E[Ce],Pe=qn(Ce);return n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{type:"button",onClick:()=>Wn(Ce),className:`p-2 ${We?"rotate-90":""}`,"aria-expanded":We,children:n.jsx(es,{})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold",children:Ce}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("span",{className:"text-sm text-gray-900",children:[Ae.length," variant(s)"]})})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-gray-600 font-semibold",children:"Price:"}),n.jsx("input",{type:"number",step:"0.01",placeholder:"Price",value:z?.[Pe]?.price??"",onChange:De=>{Te(Ce,"price",De.target.value),Le(Ce,"price",De.target.value)},className:"w-24 px-2 py-1 border rounded text-sm"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-gray-600 font-semibold",children:"Stock:"}),n.jsx("input",{type:"number",placeholder:"Stock",value:z?.[Pe]?.stock??"",onChange:De=>{Te(Ce,"stock",De.target.value),Le(Ce,"stock",De.target.value)},className:"w-20 px-2 py-1 border rounded text-sm"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("label",{className:"flex flex-col items-center gap-2 cursor-pointer group relative h-10 px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 transition",onDragOver:De=>{De.preventDefault(),De.currentTarget.classList.add("opacity-75","ring-2","ring-gray-600")},onDragLeave:De=>{De.currentTarget.classList.remove("opacity-75","ring-2","ring-gray-600")},onDrop:De=>{De.preventDefault(),De.currentTarget.classList.remove("opacity-75","ring-2","ring-gray-600");const rt=De.dataTransfer.getData("text/plain");if(rt&&(rt.startsWith("/")||rt.startsWith("http")))Te(Ce,"image",rt),Le(Ce,"image",rt);else if(rt&&rt.startsWith("data:"))Te(Ce,"image",rt),Le(Ce,"image",rt);else{const Ve=De.dataTransfer.files;if(Ve&&Ve[0]){const $t=Ve[0];$e($t).then(En=>{En&&(Te(Ce,"image",En),Le(Ce,"image",En))})}}},onClick:()=>{B(Ce),ce(!0)},children:n.jsx("span",{className:"text-xs text-gray-700 hover:underline font-semibold",children:"Gallery & Drag"})})}),n.jsxs("button",{type:"button",onClick:()=>Fe(),className:"flex items-center gap-2 bg-[var(--color-accent-primary)] text-white px-3 py-1 rounded text-sm font-medium hover:bg-black transition","aria-label":"Add variant to group",children:[n.jsx(js,{className:"text-xs"}),n.jsx("span",{className:"hidden sm:inline-block",children:"Add Variant"})]})]})]}),We&&n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[le.map((De,rt)=>De.groupKey===Pe&&ye[rt]?n.jsxs("div",{className:"col-span-2 bg-gray-100 border border-gray-300 rounded-lg p-3 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-800 font-medium",children:["Variant ",n.jsx("span",{className:"font-semibold",children:Yt(De.variant.optionValues)})," deleted"]}),n.jsx("button",{type:"button",onClick:()=>fe(rt),className:"px-4 py-1.5 bg-[var(--color-accent-primary)] hover:bg-black text-white rounded text-sm font-semibold transition",children:" Undo"})]},`undo-${De.timestamp}`):null),Ae.map(De=>{const rt=f.variants.findIndex(Ve=>Ve.id===De.id);return n.jsxs("div",{className:"relative border border-gray-200 rounded-lg p-3 bg-white flex gap-3 h-full shadow-sm hover:shadow-md transition",children:[n.jsxs("div",{className:"flex-1 flex flex-col ",children:[n.jsx("div",{className:"text-sm text-gray-600 font-medium",children:Yt(De.optionValues)}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-900 font-semibold",children:"SKU"}),n.jsx("input",{type:"text",value:De.sku||"",onChange:Ve=>Mt(De.id,{sku:Ve.target.value}),placeholder:"SKU",className:"w-full px-2 py-1 border rounded text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-900 font-semibold",children:"Price"}),n.jsx("input",{type:"number",step:"0.01",value:De.price||"",onChange:Ve=>Mt(De.id,{price:Ve.target.value}),placeholder:"Price",className:"w-full px-2 py-1 border rounded text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-900 font-semibold",children:"Stock"}),n.jsx("input",{type:"number",value:De.stock||0,onChange:Ve=>Mt(De.id,{stock:parseInt(Ve.target.value)||0}),placeholder:"Stock",className:"w-full px-2 py-1 border rounded text-sm"})]})]})]}),n.jsx("div",{className:"flex flex-col gap-2 h-20 w-24",children:n.jsx("label",{className:"flex flex-col gap-2 cursor-pointer group relative h-24",onDragOver:Ve=>{Ve.preventDefault(),Ve.currentTarget.classList.add("opacity-75","ring-2","ring-gray-600")},onDragLeave:Ve=>{Ve.currentTarget.classList.remove("opacity-75","ring-2","ring-gray-600")},onDrop:Ve=>{Ve.preventDefault(),Ve.currentTarget.classList.remove("opacity-75","ring-2","ring-gray-600");const $t=Ve.dataTransfer.getData("text/plain");if($t&&($t.startsWith("/")||$t.startsWith("http")))Mt(De.id,{image:$t});else if($t&&$t.startsWith("data:"))Mt(De.id,{image:$t});else{const En=Ve.dataTransfer.files;if(En&&En[0]){const Lr=En[0];$e(Lr).then(so=>{so&&Mt(De.id,{image:so})})}}},onClick:()=>{X(De),M(!0)},children:De.image?n.jsx("img",{src:Ot(De.image),alt:"v",className:"w-full h-full object-cover rounded border border-gray-300 group-hover:opacity-75 transition",onError:Ve=>{Ve.target.style.display="none"}}):n.jsx("div",{className:"w-full h-full bg-gray-100 rounded border-2 border-dashed border-gray-300 flex items-center justify-center text-xs text-gray-900 group-hover:bg-gray-50 group-hover:border-blue-400 transition text-center px-1",children:"Drag or Gallery"})})}),n.jsx("button",{type:"button",onClick:()=>G(De.id,rt),className:"absolute top-2 right-2 text-gray-700 hover:text-gray-900 bg-gray-100 hover:bg-gray-200 p-2 rounded-full transition","aria-label":"Delete variant",children:n.jsx(x4,{className:"text-sm"})})]},De.id)})]})]},`group-${Pe}`)})})()})})]})]})]}),n.jsx(vy,{metaTitle:f.metaTitle,metaDescription:f.metaDescription,metaKeywords:f.metaKeywords,onChange:(re,Ee)=>m({...f,[re]:Ee}),defaultTitle:f.name}),n.jsxs("div",{className:"flex gap-4 justify-end items-center",children:[u==="saving"&&n.jsx("span",{className:"text-sm text-gray-600",children:"Saving..."}),u==="saved"&&n.jsx("span",{className:"text-sm text-green-600 font-semibold",children:"Saved, published"}),n.jsx("button",{type:"button",onClick:()=>{ue&&U?(m(U),ee("Changes discarded",{icon:""})):Kt(()=>e("/admin/products"))},className:"px-6 py-3 border-2 border-gray-300 text-gray-900 rounded-lg font-semibold hover:bg-gray-50 transition",children:ue?"Discard":"Cancel"}),f.isDraft?n.jsxs("button",{type:"button",onClick:()=>ft(null,!1),disabled:s||!!lt,className:"flex items-center gap-2 px-6 py-3 bg-black hover:bg-gray-900 text-white rounded-lg font-semibold transition disabled:opacity-50",children:[n.jsx(rn,{})," ",s?"Saving...":"Save Draft"]}):n.jsxs("button",{type:"submit",disabled:s||!!lt,className:"flex items-center gap-2 px-6 py-3 bg-[var(--color-accent-primary)] hover:bg-black text-white rounded-lg font-semibold transition disabled:opacity-50",children:[n.jsx(rn,{})," ",s?ue?"Saving...":"Publishing...":ue?"Save":"Publish"]})]})]})]}),n.jsx(ir,{show:W,onClose:()=>ie(!1)}),n.jsx(Bt,{show:Y,onClose:()=>ne(!1)}),n.jsx(cn,{show:F,onClose:()=>{M(!1),X(null)}}),n.jsx(it,{show:$,onClose:()=>{ce(!1),B(null)}}),n.jsx(fi,{show:de,onClose:()=>ve(!1)})]})},tn="http://localhost:5000",tI=()=>{const[e,t]=S.useState("all"),[r,s]=S.useState([]),[a,l]=S.useState(null),[c,u]=S.useState([]),[h,f]=S.useState(!1),[m,g]=S.useState(0),[y,b]=S.useState(0),[j,N]=S.useState(0),[C,w]=S.useState(!0),[T,E]=S.useState(!1),[O,R]=S.useState("all"),[L,z]=S.useState(""),q=localStorage.getItem("token");S.useEffect(()=>{(async()=>{try{const M=await fetch(`${tn}/api/settings`);if(!M.ok)throw new Error("Failed to fetch settings");const _=await M.json();w(_.requireReviewApproval!==!1)}catch{}})()},[]),S.useEffect(()=>{(async()=>{try{const M=await fetch(`${tn}/api/products`);if(!M.ok)throw new Error("Failed to fetch products");const _=await M.json();s(_.products||[])}catch{}})()},[]),S.useEffect(()=>{const F=async()=>{f(!0);try{const M=[];let _=0,X=0;for(const B of r)if(B.reviews&&B.reviews.length>0){const K=await(await fetch(`${tn}/api/products/${B._id}`)).json();for(let de=0;de<K.reviews.length;de++){const ve=K.reviews[de];M.push({...ve,productId:B._id,productName:B.name,reviewIndex:de})}}const $=await Promise.all(M.map(async B=>{try{if(B.user&&typeof B.user!="object"){const P=await fetch(`${tn}/api/users/${B.user}`);if(P.ok){const K=await P.json();B.user=K.user||K}}else if(B.user&&typeof B.user=="object"&&!B.user.email&&B.user._id){const P=await fetch(`${tn}/api/users/${B.user._id}`);if(P.ok){const K=await P.json();B.user=K.user||K}}}catch{}return B})),ce=$.reduce((B,P)=>P.isApproved?B+1:B,0),A=$.reduce((B,P)=>P.isApproved?B:B+1,0);u($),g(ce),b(A),N($.length)}catch{ee.error("Failed to fetch reviews")}finally{f(!1)}};e==="all"&&r.length>0&&F()},[e,r]),S.useEffect(()=>{e==="by-product"&&a&&(async()=>{if(!a){u([]);return}f(!0);try{const M=await fetch(`${tn}/api/products/${a}`);if(!M.ok)throw new Error("Failed to fetch product");const _=await M.json();if(_.reviews&&_.reviews.length>0){const X=_.reviews.map((ce,A)=>({...ce,productId:_._id,productName:_.name,reviewIndex:A})),$=await Promise.all(X.map(async ce=>{try{if(ce.user&&typeof ce.user!="object"){const A=await fetch(`${tn}/api/users/${ce.user}`);if(A.ok){const B=await A.json();ce.user=B.user||B}}else if(ce.user&&typeof ce.user=="object"&&!ce.user.email&&ce.user._id){const A=await fetch(`${tn}/api/users/${ce.user._id}`);if(A.ok){const B=await A.json();ce.user=B.user||B}}}catch{}return ce}));u($)}else u([])}catch{ee.error("Failed to fetch product reviews")}finally{f(!1)}})()},[e,a]);const I=async(F,M)=>{try{const _=c.findIndex(A=>A.productId===F&&A.reviewIndex===M),X=_!==-1?!!c[_].isApproved:null,$=X===null?!0:!X;if(!(await fetch(`${tn}/api/products/${F}/reviews/${M}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({isApproved:$})})).ok)throw new Error("Failed to update review");if(_!==-1){const A=[...c];A[_].isApproved=!!$,u(A),ee.success(A[_].isApproved?"Review approved":"Review disapproved"),e==="all"&&(g(A.reduce((B,P)=>P.isApproved?B+1:B,0)),b(A.reduce((B,P)=>P.isApproved?B:B+1,0)))}else e==="all"&&(t(""),setTimeout(()=>t("all"),50))}catch(_){ee.error(_.message)}},H=async(F,M)=>{if(window.confirm("Are you sure you want to delete this review?"))try{if(!(await fetch(`${tn}/api/products/${F}/reviews/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${q}`}})).ok)throw new Error("Failed to delete review");const X=c.filter($=>!($.productId===F&&$.reviewIndex===M));u(X),ee.success("Review deleted"),e==="all"&&(g(X.reduce(($,ce)=>ce.isApproved?$+1:$,0)),b(X.reduce(($,ce)=>ce.isApproved?$:$+1,0)),N(X.length))}catch(_){ee.error(_.message)}},W=()=>{try{const F=["Review ID","Product Name","Product ID","User Name","User Email","Rating","Comment","Status","Created At"],M=c.map(A=>[A._id||"",`"${(A.productName||"").replace(/"/g,'""')}"`,A.productId||"",`"${(A.name||"").replace(/"/g,'""')}"`,A.user?.email||A.email||"",A.rating||"0",`"${(A.comment||"").replace(/"/g,'""').replace(/\n/g," ")}"`,A.isApproved?"Approved":"Pending",A.createdAt?new Date(A.createdAt).toLocaleString():""]),_=[F.join(","),...M.map(A=>A.join(","))].join(`
`),X=new Blob([_],{type:"text/csv;charset=utf-8;"}),$=URL.createObjectURL(X),ce=document.createElement("a");ce.href=$,ce.download=`reviews_export_${new Date().getTime()}.csv`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL($),ee.success(`Exported ${c.length} review(s) successfully`)}catch{ee.error("Failed to export reviews")}},ie=async F=>{const M=F.target.files?.[0];if(M){if(!M.name.endsWith(".csv")){ee.error("Please upload a valid CSV file");return}try{const X=(await M.text()).trim().split(`
`);if(X.length<2){ee.error("CSV file must have headers and at least one review row");return}const $=je=>{const He=[];let te="",ue=!1;for(let U=0;U<je.length;U++){const ae=je[U],le=je[U+1];ae==='"'?ue&&le==='"'?(te+='"',U++):ue=!ue:ae===","&&!ue?(He.push(te.trim()),te=""):te+=ae}return He.push(te.trim()),He},ce=je=>je.toLowerCase().replace(/\s+/g," ").trim(),A=X[0],P=$(A).map(ce),K=(je,He)=>{const te=ce(He);return Object.entries(je).find(([ue])=>ce(ue)===te)?.[1]||""};let de=0,ve=0;for(let je=1;je<X.length;je++){const He=X[je].trim();if(!He)continue;const te=$(He),ue={};P.forEach((Ke,at)=>{ue[Ke]=te[at]||""});const U=K(ue,"product id"),ae=K(ue,"comment"),le=parseInt(K(ue,"rating"))||0,Q=K(ue,"status")?.toLowerCase()==="approved",ye=K(ue,"user name"),Ne=K(ue,"user email");if(!U||!ae||!le){ve++;continue}try{if((await fetch(`${tn}/api/products/${U}/reviews`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({name:ye||"Imported Review",email:Ne||"",rating:le,comment:ae})})).ok){if(Q!==C){const Nt=await(await fetch(`${tn}/api/products/${U}`)).json();if(Nt.reviews&&Nt.reviews.length>0){const lt=Nt.reviews.length-1;await fetch(`${tn}/api/products/${U}/reviews/${lt}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({isApproved:Q})})}}de++}else ve++}catch{ve++}}ee.success(`Imported ${de} review(s)${ve>0?` (${ve} failed)`:""}`),t(""),setTimeout(()=>t("all"),50),F.target.value=""}catch(_){ee.error(_.message||"Failed to import reviews")}}},Y=async()=>{E(!0);try{if(!(await fetch(`${tn}/api/settings`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({requireReviewApproval:!C})})).ok)throw new Error("Failed to update settings");w(!C),ee.success(C?"Reviews will now show immediately without approval":"Reviews will now require approval before showing")}catch{ee.error("Failed to update settings")}finally{E(!1)}},ne=F=>{const M=[];for(let _=1;_<=5;_++)F>=_?M.push(n.jsx(Qa,{className:"text-yellow-400"},_)):F>=_-.5?M.push(n.jsx(Of,{className:"text-yellow-400"},_)):M.push(n.jsx(Hc,{className:"text-yellow-400"},_));return M};return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-text-primary)"},children:"Review Management"}),n.jsx("div",{className:"rounded-lg shadow-lg p-6 mb-8",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-accent-primary)",borderLeftWidth:"4px"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Review Approval Setting"}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:C?"Reviews require admin approval before appearing on product pages":"Reviews appear immediately without requiring approval"})]}),n.jsx("button",{onClick:Y,disabled:T,className:`px-6 py-3 rounded-lg font-semibold transition ${T?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:C?"var(--color-accent-primary)":"var(--color-text-secondary)",color:"white"},onMouseEnter:F=>!F.target.disabled&&(F.target.style.backgroundColor="var(--color-accent-light)"),onMouseLeave:F=>!F.target.disabled&&(F.target.style.backgroundColor=C?"var(--color-accent-primary)":"var(--color-text-secondary)"),children:T?"Saving...":C?"Approval Required":"No Approval Required"})]})}),e==="all"&&n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[n.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-accent-primary)",borderLeftWidth:"4px"},children:[n.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"Total Reviews"}),n.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--color-accent-primary)"},children:j})]}),n.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-accent-light)",borderLeftWidth:"4px"},children:[n.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"Verified"}),n.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--color-accent-light)"},children:m})]}),n.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-text-secondary)",borderLeftWidth:"4px"},children:[n.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"Pending"}),n.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--color-text-secondary)"},children:y})]})]})]}),n.jsxs("div",{className:"mb-8 flex gap-4 justify-between items-center",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>{t("all"),l(null),R("all")},className:"px-6 py-3 rounded-lg font-semibold transition",style:{backgroundColor:e==="all"?"var(--color-accent-primary)":"var(--color-bg-section)",color:e==="all"?"white":"var(--color-text-primary)"},onMouseEnter:F=>F.target.style.backgroundColor=e==="all"?"var(--color-accent-light)":"var(--color-border-light)",onMouseLeave:F=>F.target.style.backgroundColor=e==="all"?"var(--color-accent-primary)":"var(--color-bg-section)",children:"All Reviews"}),n.jsx("button",{onClick:()=>t("by-product"),className:"px-6 py-3 rounded-lg font-semibold transition",style:{backgroundColor:e==="by-product"?"var(--color-accent-primary)":"var(--color-bg-section)",color:e==="by-product"?"white":"var(--color-text-primary)"},onMouseEnter:F=>F.target.style.backgroundColor=e==="by-product"?"var(--color-accent-light)":"var(--color-border-light)",onMouseLeave:F=>F.target.style.backgroundColor=e==="by-product"?"var(--color-accent-primary)":"var(--color-bg-section)",children:"Reviews by Product"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("label",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition duration-300 cursor-pointer",children:[" Import Reviews",n.jsx("input",{type:"file",accept:".csv",onChange:ie,className:"hidden"})]}),n.jsx("button",{onClick:W,disabled:c.length===0,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition duration-300 ${c.length===0?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:" Export Reviews"})]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("input",{type:"text",value:L,onChange:F=>z(F.target.value),placeholder:"Search reviews by name, email, product or text...",className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},onFocus:F=>F.target.style.borderColor="var(--color-accent-primary)",onBlur:F=>F.target.style.borderColor="var(--color-border-light)"})}),e==="all"&&n.jsxs("div",{className:"mb-8 flex gap-3 border-b",style:{borderColor:"var(--color-border-light)"},children:[n.jsxs("button",{onClick:()=>R("all"),className:"px-4 py-3 font-semibold border-b-2 transition",style:{borderColor:O==="all"?"var(--color-accent-primary)":"transparent",color:O==="all"?"var(--color-accent-primary)":"var(--color-text-light)"},children:["All (",j,")"]}),n.jsxs("button",{onClick:()=>R("approved"),className:"px-4 py-3 font-semibold border-b-2 transition",style:{borderColor:O==="approved"?"var(--color-accent-light)":"transparent",color:O==="approved"?"var(--color-accent-light)":"var(--color-text-light)"},children:["Verified (",m,")"]}),n.jsxs("button",{onClick:()=>R("pending"),className:"px-4 py-3 font-semibold border-b-2 transition",style:{borderColor:O==="pending"?"var(--color-text-secondary)":"transparent",color:O==="pending"?"var(--color-text-secondary)":"var(--color-text-light)"},children:["Pending (",y,")"]})]}),e==="by-product"&&n.jsxs("div",{className:"mb-8",children:[n.jsx("label",{className:"block text-sm font-semibold mb-3",style:{color:"var(--color-text-primary)"},children:"Select Product"}),n.jsxs("select",{value:a||"",onChange:F=>l(F.target.value||null),className:"w-full px-4 py-2 border-2 rounded-lg focus:outline-none transition",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},onFocus:F=>F.target.style.borderColor="var(--color-accent-primary)",onBlur:F=>F.target.style.borderColor="var(--color-border-light)",children:[n.jsx("option",{value:"",children:"-- Choose a product --"}),r.map(F=>n.jsxs("option",{value:F._id,children:[F.name," (",F.reviews?.length||0," reviews)"]},F._id))]})]}),h&&n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(ws,{className:"text-4xl animate-spin",style:{color:"var(--color-accent-primary)"}})}),!h&&n.jsx("div",{className:"space-y-6",children:(()=>{let F=c;if(e==="all"&&(O==="approved"?F=c.filter(M=>M.isApproved):O==="pending"&&(F=c.filter(M=>!M.isApproved))),L&&L.trim()!==""){const M=L.trim().toLowerCase();F=F.filter(_=>{const X=(_.email||_.user&&(typeof _.user=="object"?_.user.email:_.user)||"").toString().toLowerCase(),$=(_.name||_.user&&(typeof _.user=="object"?_.user.name:"")||"").toString().toLowerCase(),ce=(_.productName||"").toString().toLowerCase(),A=(_.comment||"").toString().toLowerCase();return X.includes(M)||$.includes(M)||ce.includes(M)||A.includes(M)})}return F.length>0?F.map((M,_)=>n.jsxs("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:M.isApproved?"var(--color-accent-light)":"var(--color-text-secondary)",borderLeftWidth:"4px"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-text-primary)"},children:M.name}),M.isApproved&&n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-accent-primary)"},children:" Verified"}),!M.isApproved&&n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-secondary)"},children:" Pending"})]}),e==="all"&&n.jsxs("p",{className:"text-sm font-semibold",style:{color:"var(--color-text-light)"},children:["Product: ",n.jsx("span",{style:{color:"var(--color-accent-primary)"},children:M.productName})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"flex gap-1 mb-2 justify-end",children:ne(M.rating).map((X,$)=>n.jsx("span",{className:"text-lg",children:X},$))}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:new Date(M.createdAt||M.updatedAt||Date.now()).toLocaleDateString()})]})]}),n.jsx("p",{className:"mb-6 leading-relaxed",style:{color:"var(--color-text-primary)"},children:M.comment}),n.jsxs("div",{className:"flex items-center justify-between pt-4",style:{borderColor:"var(--color-border-light)",borderTopWidth:"1px"},children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",style:{color:"var(--color-text-secondary)"},children:"Email: "}),n.jsx("span",{style:{color:"var(--color-text-primary)"},children:M.email||(M.user&&typeof M.user=="object"?M.user.email:M.user)||"Guest"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>I(M.productId,M.reviewIndex),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition ${M.isApproved?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:M.isApproved?n.jsxs(n.Fragment,{children:[n.jsx(Vt,{})," Unverify"]}):n.jsxs(n.Fragment,{children:[n.jsx(rn,{})," Verify"]})}),n.jsx("button",{onClick:()=>H(M.productId,M.reviewIndex),className:"px-4 py-2 rounded-lg font-semibold bg-red-100 text-red-800 hover:bg-red-200 transition",children:"Delete"})]})]})]},_)):n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[n.jsx("div",{className:"text-5xl mb-4",children:""}),n.jsx("p",{className:"text-xl text-gray-600 font-semibold mb-2",children:"No reviews found"}),n.jsx("p",{className:"text-gray-900",children:e==="by-product"&&a?"This product has no reviews yet":O==="approved"?"No approved reviews yet":O==="pending"?"No pending reviews":"No reviews to manage"})]})})()})]})},rI=()=>n.jsx(ns,{activeTab:"reviews",children:n.jsx(tI,{})}),nI=()=>{const e=sr(),{categories:t}=Dt(T=>T.category),[r,s]=S.useState([]),[a,l]=S.useState("categories"),[c,u]=S.useState([]),[h,f]=S.useState("grid"),[m,g]=S.useState(5),[y,b]=S.useState([{title:"Featured Products 1",category:"",limit:4,layout:"grid"},{title:"Featured Products 2",category:"",limit:4,layout:"grid"},{title:"Featured Products 3",category:"",limit:4,layout:"grid"}]);S.useEffect(()=>{e(Hn()),e(Fr())},[e]),S.useEffect(()=>{const T=O=>{let R=[];if(!O||!Array.isArray(O))return R;for(const L of O)R.push(L),L.subcategories&&Array.isArray(L.subcategories)&&(R=R.concat(T(L.subcategories)));return R},E=T(t||[]);s(E||[])},[t]),S.useEffect(()=>{(async()=>{try{const O=await(await fetch("/api/settings/featured-collections")).json();O.featuredCategories&&(u(O.featuredCategories.categoryNames||[]),f(O.featuredCategories.layout||"grid"),g(O.featuredCategories.columns||5)),O.featuredProducts&&Array.isArray(O.featuredProducts)&&O.featuredProducts.length>0&&b(O.featuredProducts)}catch{}})()},[]);const j=async()=>{if(c.length===0){ee.error("Select at least one category");return}try{const T=localStorage.getItem("token");if(!(await fetch("/api/settings/featured-collections",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({featuredCategories:{categoryNames:c,layout:h,columns:m}})})).ok)throw new Error("Failed to save");ee.success(" Featured categories saved to database!")}catch{ee.error(" Failed to save featured categories")}},N=async()=>{if(!y.every(E=>!(!E.limit||E.limit<1))){ee.error("Fill all sections with limit (min 1). Category is optional - leave blank to show all products");return}try{const E=localStorage.getItem("token");if(!(await fetch("/api/settings/featured-collections",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({featuredProducts:y})})).ok)throw new Error("Failed to save");ee.success(" Featured products saved to database!")}catch{ee.error(" Failed to save featured products")}},C=T=>{u(E=>E.includes(T)?E.filter(O=>O!==T):[...E,T])},w=(T,E,O)=>{const R=[...y];R[T]={...R[T],[E]:O},b(R)};return n.jsx(ns,{activeTab:"collections",children:n.jsxs("main",{className:"py-8 px-6 min-h-screen",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsx("div",{className:"mb-10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Featured Collections"}),n.jsx("p",{style:{color:"var(--color-text-light)"},children:"Manage which products and categories appear as featured on your storefront"})]}),n.jsx(ze,{to:"/admin",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-lg font-semibold transition",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px",color:"var(--color-accent-primary)"},onMouseEnter:T=>T.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:T=>T.target.style.backgroundColor="var(--color-bg-primary)",children:" Back to Dashboard"})]})}),n.jsx("div",{className:"rounded-t-xl sticky top-0 z-10",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderBottomWidth:"1px"},children:n.jsxs("div",{className:"flex",children:[n.jsx("button",{onClick:()=>l("categories"),className:"flex-1 px-8 py-4 font-semibold text-center transition border-b-3",style:{borderColor:a==="categories"?"var(--color-accent-primary)":"transparent",color:a==="categories"?"var(--color-accent-primary)":"var(--color-text-primary)",backgroundColor:a==="categories"?"var(--color-bg-section)":"var(--color-bg-primary)"},children:" Featured Categories"}),n.jsx("div",{style:{width:"1px",backgroundColor:"var(--color-border-light)"}}),n.jsx("button",{onClick:()=>l("products"),className:"flex-1 px-8 py-4 font-semibold text-center transition border-b-3",style:{borderColor:a==="products"?"var(--color-accent-primary)":"transparent",color:a==="products"?"var(--color-accent-primary)":"var(--color-text-primary)",backgroundColor:a==="products"?"var(--color-bg-section)":"var(--color-bg-primary)"},children:" Featured Products (3 Sections)"})]})}),a==="categories"&&n.jsx("div",{className:"rounded-b-xl",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px",borderTopWidth:"0px"},children:n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"max-w-full space-y-6",children:[n.jsxs("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[n.jsx("span",{className:"text-xl",children:""})," Select Categories"]}),n.jsx("div",{className:"border rounded-lg max-h-80 overflow-y-auto",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-primary)"},children:r.length>0?r.map(T=>n.jsxs("label",{className:"flex items-center gap-3 px-4 py-3 border-b last:border-b-0 cursor-pointer transition",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},onMouseEnter:E=>E.target.parentElement.style.backgroundColor="var(--color-bg-section)",onMouseLeave:E=>E.target.parentElement.style.backgroundColor="var(--color-bg-primary)",children:[n.jsx("input",{type:"checkbox",checked:c.includes(T.name),onChange:()=>C(T.name),className:"w-5 h-5",style:{accentColor:"var(--color-accent-primary)"}}),n.jsx("span",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:T.name})]},T._id||T.id)):n.jsx("p",{className:"px-4 py-6 text-center",style:{color:"var(--color-text-primary)"},children:"No categories available"})})]}),n.jsxs("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[n.jsx("span",{className:"text-xl",children:""})," Display Layout"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer transition",style:{borderColor:h==="grid"?"var(--color-accent-primary)":"var(--color-border-light)"},onMouseEnter:T=>{h!=="grid"&&(T.target.style.borderColor="var(--color-accent-light)")},onMouseLeave:T=>{h!=="grid"&&(T.target.style.borderColor="var(--color-border-light)")},children:[n.jsx("input",{type:"radio",value:"grid",checked:h==="grid",onChange:T=>f(T.target.value),className:"w-5 h-5",style:{accentColor:"var(--color-accent-primary)"}}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:"Grid View"}),n.jsx("div",{className:"text-xs",style:{color:"var(--color-text-light)"},children:"Display all selected categories in grid"})]})]}),n.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer transition",style:{borderColor:h==="carousel"?"var(--color-accent-primary)":"var(--color-border-light)"},onMouseEnter:T=>{h!=="carousel"&&(T.target.style.borderColor="var(--color-accent-light)")},onMouseLeave:T=>{h!=="carousel"&&(T.target.style.borderColor="var(--color-border-light)")},children:[n.jsx("input",{type:"radio",value:"carousel",checked:h==="carousel",onChange:T=>f(T.target.value),className:"w-5 h-5",style:{accentColor:"var(--color-accent-primary)"}}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:"Carousel"}),n.jsx("div",{className:"text-xs",style:{color:"var(--color-text-light)"},children:"5 items visible at once, slide through all selected"})]})]})]})]}),n.jsxs("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[n.jsx("span",{className:"text-xl",children:""})," Number of Columns"]}),n.jsx("p",{className:"text-xs mb-4",style:{color:"var(--color-text-light)"},children:"Applies to both Grid and Carousel layouts"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("input",{type:"range",min:"2",max:"6",value:m,onChange:T=>g(Number(T.target.value)),className:"flex-1 cursor-pointer",style:{accentColor:"var(--color-accent-primary)"}}),n.jsx("span",{className:"text-2xl font-bold min-w-12 text-center px-4 py-2 rounded-lg border",style:{color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)"},children:m})]}),n.jsxs("p",{className:"text-sm mt-3",style:{color:"var(--color-text-light)"},children:[m===2&&" 2 columns - Mobile friendly, larger items",m===3&&" 3 columns - Tablet friendly",m===4&&" 4 columns - Desktop view",m===5&&" 5 columns - Standard desktop, many items",m===6&&" 6 columns - Wide layout, compact items"]})]}),n.jsxs("div",{className:"border rounded-lg p-5",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[n.jsx("span",{children:""})," Selected Items"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:c.length>0?c.map(T=>n.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium",style:{backgroundColor:"var(--color-accent-primary)",color:"white"},children:[T,n.jsx("button",{onClick:()=>C(T),className:"hover:text-gray-900",children:""})]},T)):n.jsx("span",{className:"text-gray-700 text-sm",children:"No categories selected yet"})}),n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-300",children:n.jsx("p",{className:"text-sm text-gray-900",children:n.jsxs("strong",{children:[c.length," categories selected"]})})})]}),n.jsx("button",{onClick:j,className:"w-full bg-black hover:bg-gray-700 text-white font-bold py-3 rounded-lg transition shadow-lg",children:" Save Configuration"})]})})}),a==="products"&&n.jsx("div",{className:"bg-white rounded-b-xl",children:n.jsxs("div",{className:"space-y-10 p-8",children:[y.map((T,E)=>n.jsxs("div",{className:"border-2 border-gray-200 rounded-xl overflow-hidden hover:border-gray-400 transition",children:[n.jsx("div",{className:"bg-gray-50 border-b border-gray-200 px-8 py-5",children:n.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-gray-800 text-white rounded-full font-bold text-sm",children:E+1}),T.title||`Section ${E+1}`]})}),n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"max-w-full space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:""})," Section Title"]}),n.jsx("input",{type:"text",value:T.title,onChange:O=>w(E,"title",O.target.value),className:"w-full border-2 border-gray-300 px-4 py-3 rounded-lg focus:border-gray-400 focus:outline-none font-medium transition",placeholder:"e.g., Latest Electronics"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:""})," Category (Optional)"]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3 italic",children:"Leave blank to show all products from all categories"}),n.jsxs("select",{value:T.category,onChange:O=>w(E,"category",O.target.value),className:"w-full border-2 border-gray-300 px-4 py-3 rounded-lg focus:border-gray-400 focus:outline-none font-medium transition bg-white cursor-pointer",children:[n.jsx("option",{value:"",children:"-- All Products --"}),r.map(O=>n.jsx("option",{value:O.name,children:O.name},O._id||O.id))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:""})," Items to Display"]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("input",{type:"number",min:"1",max:"50",value:T.limit,onChange:O=>w(E,"limit",Number(O.target.value)),className:"flex-1 border-2 border-gray-300 px-4 py-3 rounded-lg focus:border-gray-400 focus:outline-none font-bold transition"}),n.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"items"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:""})," Display Layout"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-400 transition",style:{borderColor:T.layout==="grid"?"var(--color-text-muted)":"var(--color-border)"},children:[n.jsx("input",{type:"radio",value:"grid",checked:T.layout==="grid",onChange:O=>w(E,"layout",O.target.value),className:"w-5 h-5 accent-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:"Grid"}),n.jsx("div",{className:"text-xs text-gray-600",children:"5 columns, all items"})]})]}),n.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-400 transition",style:{borderColor:T.layout==="carousel"?"var(--color-text-muted)":"var(--color-border)"},children:[n.jsx("input",{type:"radio",value:"carousel",checked:T.layout==="carousel",onChange:O=>w(E,"layout",O.target.value),className:"w-5 h-5 accent-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:"Carousel"}),n.jsx("div",{className:"text-xs text-gray-600",children:"5 visible, slide through"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-5",children:[n.jsx("h4",{className:"font-bold text-purple-900 mb-3 text-sm",children:" Configuration"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-purple-800",children:"Title:"}),n.jsx("span",{className:"font-semibold text-purple-900",children:T.title||"Untitled"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-purple-800",children:"Category:"}),n.jsx("span",{className:"font-semibold text-purple-900",children:T.category||"Not set"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-purple-800",children:"Count:"}),n.jsxs("span",{className:"font-semibold text-purple-900",children:[T.limit," items"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-purple-800",children:"Layout:"}),n.jsx("span",{className:"font-semibold text-purple-900 uppercase",children:T.layout})]})]})]})]})})]},E)),n.jsx("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-xl p-8",children:n.jsxs("button",{onClick:N,className:"w-full bg-black hover:bg-gray-700 text-white font-bold py-4 rounded-lg transition shadow-lg text-lg flex items-center justify-center gap-3",children:[n.jsx("span",{children:""})," Save All Featured Products Configurations"]})})]})})]})})},sI=({categoryId:e,categoryName:t,categoryImage:r,productCount:s,onClose:a,onEditProduct:l})=>{const[c,u]=S.useState([{id:1,name:"Samsung Galaxy S24",sku:"SAM-S24-BLK",price:799.99,comparePrice:999.99,stock:45,image:null,rating:4.5,reviews:128,categoryId:1,status:"active",description:"Latest flagship smartphone with advanced features"},{id:2,name:"iPhone 15 Pro",sku:"APP-IP15-SLV",price:1099.99,comparePrice:1199.99,stock:32,image:null,rating:4.8,reviews:256,categoryId:1,status:"active",description:"Premium Apple smartphone"},{id:3,name:"Google Pixel 8",sku:"GOO-PIX8-BLU",price:699.99,comparePrice:899.99,stock:28,image:null,rating:4.3,reviews:89,categoryId:1,status:"active",description:"Google flagship with AI features"},{id:4,name:"OnePlus 12",sku:"ONE-12-GRN",price:649.99,comparePrice:799.99,stock:15,image:null,rating:4.2,reviews:67,categoryId:1,status:"low_stock",description:"Fast and smooth performance"}].filter(E=>E.categoryId===e)),[h,f]=S.useState(null),[m,g]=S.useState(""),[y,b]=S.useState("name"),N=[...c.filter(E=>E.name.toLowerCase().includes(m.toLowerCase())||E.sku.toLowerCase().includes(m.toLowerCase()))].sort((E,O)=>{switch(y){case"price":return E.price-O.price;case"stock":return O.stock-E.stock;case"rating":return O.rating-E.rating;case"name":default:return E.name.localeCompare(O.name)}}),C=E=>{window.confirm("Are you sure you want to delete this product?")&&(u(c.filter(O=>O.id!==E)),alert("Product deleted successfully"))},w=E=>E>50?{label:"In Stock",color:"bg-gray-100 text-gray-800"}:E>0?{label:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:{label:"Out of Stock",color:"bg-red-100 text-red-800"},T=E=>E==="active"?"bg-gray-100 text-gray-800":E==="low_stock"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";return n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col transform transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-indigo-100",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-900 transition duration-300 p-2 hover:bg-gray-200 rounded-lg",title:"Back",children:n.jsx(Ir,{className:"text-xl"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[r?n.jsx("img",{src:r,alt:t,className:"w-12 h-12 object-cover rounded-lg border-2 border-indigo-300"}):n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-400 to-indigo-600 rounded-lg flex items-center justify-center text-white font-bold",children:t.charAt(0)}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t}),n.jsxs("p",{className:"text-sm text-gray-600",children:[N.length," of ",s," products"]})]})]})]}),n.jsx("button",{onClick:a,className:"text-gray-900 hover:text-gray-700 transition duration-300 p-2 hover:bg-gray-200 rounded-lg",title:"Close",children:n.jsx(Vt,{className:"text-2xl"})})]}),n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 p-6 border-b border-gray-200 bg-gray-50",children:[n.jsx("div",{className:"flex-1 min-w-64",children:n.jsx("input",{type:"text",placeholder:"Search products by name or SKU...",value:m,onChange:E=>g(E.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent outline-none transition duration-300"})}),n.jsxs("select",{value:y,onChange:E=>b(E.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent outline-none transition duration-300",children:[n.jsx("option",{value:"name",children:"Sort by Name"}),n.jsx("option",{value:"price",children:"Sort by Price"}),n.jsx("option",{value:"stock",children:"Sort by Stock"}),n.jsx("option",{value:"rating",children:"Sort by Rating"})]}),n.jsxs("div",{className:"text-sm text-gray-600 font-semibold",children:["Showing ",n.jsx("span",{className:"text-gray-700",children:N.length})," products"]})]}),n.jsx("div",{className:"overflow-y-auto flex-1 p-6",children:N.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(Nn,{className:"text-6xl text-gray-300 mb-4"}),n.jsx("p",{className:"text-gray-900 text-lg",children:m?"No products found matching your search":"No products in this category"})]}):n.jsx("div",{className:"grid gap-4",children:N.map(E=>{const O=w(E.stock);return n.jsx("div",{className:"bg-white rounded-xl border border-gray-300 hover:border-indigo-400 hover:shadow-lg transition duration-300 overflow-hidden",children:n.jsxs("div",{className:"flex gap-4 p-4",children:[n.jsx("div",{className:"flex-shrink-0",children:E.image?n.jsx("img",{src:E.image,alt:E.name,className:"w-24 h-24 object-cover rounded-lg border-2 border-gray-200"}):n.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-200 to-black-300 rounded-lg flex items-center justify-center text-gray-900",children:n.jsx(_w,{className:"text-2xl"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:E.name}),n.jsxs("p",{className:"text-xs text-gray-900 mt-1",children:["SKU: ",n.jsx("span",{className:"font-mono",children:E.sku})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:E.description})]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${T(E.status)}`,children:E.status==="active"?"Active":"Low Stock"})]}),E.rating&&n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsx(Qa,{className:"text-yellow-400"}),n.jsx("span",{className:"font-semibold text-gray-900",children:E.rating}),n.jsxs("span",{className:"text-sm text-gray-600",children:["(",E.numReviews||E.reviews?.length||E.reviews," reviews)"]})]}),n.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Price"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsxs("span",{className:"text-lg font-bold text-gray-700",children:["",E.price.toFixed(2)]}),E.comparePrice&&n.jsxs("span",{className:"text-sm text-gray-900 line-through",children:["",E.comparePrice.toFixed(2)]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Stock"}),n.jsx("div",{className:"mt-1",children:n.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${O.color}`,children:[E.stock," units"]})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Savings"}),E.comparePrice?n.jsxs("p",{className:"text-lg font-bold text-gray-400 mt-1",children:["",(E.comparePrice-E.price).toFixed(2)]}):n.jsx("p",{className:"text-sm text-gray-900 mt-1",children:""})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2 justify-center",children:[n.jsx("button",{onClick:()=>f(E),className:"bg-gray-800 hover:bg-black text-white p-3 rounded-lg transition duration-300 shadow-md hover:shadow-lg flex items-center justify-center",title:"View Details",children:n.jsx(D0,{})}),n.jsx("button",{onClick:()=>l&&l(E),className:"bg-gray-800 hover:bg-black text-white p-3 rounded-lg transition duration-300 shadow-md hover:shadow-lg flex items-center justify-center",title:"Edit Product",children:n.jsx(ui,{})}),n.jsx("button",{onClick:()=>C(E.id),className:"bg-red-600 hover:bg-red-700 text-white p-3 rounded-lg transition duration-300 shadow-md hover:shadow-lg flex items-center justify-center",title:"Delete Product",children:n.jsx(bs,{})})]})]})},E.id)})})}),n.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:n.jsx("button",{onClick:a,className:"px-6 py-2.5 border border-gray-300 text-gray-900 rounded-lg font-semibold hover:bg-gray-100 transition duration-300",children:"Close"})})]}),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-[60] p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Product Details"}),n.jsx("button",{onClick:()=>f(null),className:"text-gray-900 hover:text-gray-700 transition duration-300 p-1 hover:bg-gray-200 rounded-lg",children:n.jsx(Vt,{className:"text-lg"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Product Name"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 mt-1",children:h.name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"SKU"}),n.jsx("p",{className:"text-sm font-mono text-gray-700 mt-1",children:h.sku})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-700 mt-1",children:h.description})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Price"}),n.jsxs("p",{className:"text-lg font-bold text-gray-700 mt-1",children:["",h.price.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Stock"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 mt-1",children:h.stock})]})]}),h.comparePrice&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Compare Price"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900 mt-1",children:["",h.comparePrice.toFixed(2)]})]}),h.rating&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Rating"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Qa,{className:"text-yellow-400"}),n.jsx("span",{className:"text-lg font-bold text-gray-900",children:h.rating}),n.jsxs("span",{className:"text-sm text-gray-600",children:["(",h.numReviews||h.reviews?.length||h.reviews," reviews)"]})]})]})]}),n.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:n.jsx("button",{onClick:()=>f(null),className:"px-4 py-2.5 border border-gray-300 text-gray-900 rounded-lg font-semibold hover:bg-gray-100 transition duration-300",children:"Close"})})]})})]})},Jn="http://localhost:5000",aI=({showModal:e,onClose:t,title:r,formData:s,setFormData:a,handleAddCategory:l,handleImageUpload:c,editingCategory:u})=>e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"rounded-xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 transition duration-300",style:{borderBottomWidth:"1px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text-primary)"},children:r}),n.jsx("button",{onClick:t,className:"transition duration-300 p-1 rounded-lg",style:{color:"var(--color-text-primary)"},onMouseEnter:h=>h.target.style.backgroundColor="var(--color-border-light)",onMouseLeave:h=>h.target.style.backgroundColor="transparent",children:n.jsx(Vt,{className:"text-lg"})})]}),n.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Category Image"}),n.jsxs("label",{className:"flex items-center justify-center px-4 py-4 border-2 border-dashed rounded-xl cursor-pointer transition duration-300",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},onMouseEnter:h=>h.target.style.borderColor="var(--color-accent-primary)",onMouseLeave:h=>h.target.style.borderColor="var(--color-border-light)",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"}),n.jsxs("div",{className:"flex flex-col items-center gap-2",style:{color:"var(--color-text-secondary)"},children:[n.jsx(O0,{className:"text-3xl",style:{color:"var(--color-text-primary)"}}),n.jsx("span",{className:"text-sm font-semibold",children:"Click to upload"}),n.jsx("span",{className:"text-xs",style:{color:"var(--color-text-light)"},children:"PNG, JPG up to 10MB"})]})]}),s.image&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"Current Image Preview:"}),n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:s.image.startsWith("http")?s.image:`${Jn}${s.image}`,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border-2 shadow-md",style:{borderColor:"var(--color-accent-primary)"},onError:h=>{h.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Crect fill=%22%23ddd%22 width=%22100%22 height=%22100%22/%3E%3Ctext x=%2250%22 y=%2250%22 text-anchor=%22middle%22 dy=%22.3em%22 font-family=%22sans-serif%22 font-size=%2214%22 fill=%22%23999%22%3EFailed to load%3C/text%3E%3C/svg%3E"}}),n.jsx("button",{type:"button",onClick:()=>a({...s,image:null}),className:"absolute -top-3 -right-3 text-white p-2 rounded-full transition duration-300 shadow-lg",style:{backgroundColor:"#ef4444"},onMouseEnter:h=>h.target.style.backgroundColor="#dc2626",onMouseLeave:h=>h.target.style.backgroundColor="#ef4444",title:"Remove image",children:n.jsx(Vt,{className:"text-sm"})})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Name *"}),n.jsx("input",{type:"text",value:s.name,onChange:h=>a({...s,name:h.target.value}),className:"w-full px-4 py-2.5 border rounded-lg outline-none transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:h=>{h.target.style.borderColor="var(--color-accent-primary)",h.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:h=>{h.target.style.borderColor="var(--color-border-light)",h.target.style.boxShadow="none"},placeholder:"Enter category name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Description"}),n.jsx("textarea",{value:s.description,onChange:h=>a({...s,description:h.target.value}),rows:"3",className:"w-full px-4 py-2.5 border rounded-lg outline-none transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:h=>{h.target.style.borderColor="var(--color-accent-primary)",h.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:h=>{h.target.style.borderColor="var(--color-border-light)",h.target.style.boxShadow="none"},placeholder:"Enter category description"})]}),n.jsx("div",{className:"border-t pt-4 mt-4",children:n.jsx(vy,{metaTitle:s.metaTitle,metaDescription:s.metaDescription,metaKeywords:s.metaKeywords,onChange:(h,f)=>a({...s,[h]:f}),defaultTitle:s.name})})]}),n.jsxs("div",{className:"flex gap-3 p-6 transition duration-300",style:{borderTopWidth:"1px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsx("button",{onClick:()=>{t(),a({name:"",description:"",image:null,productCount:0,metaTitle:"",metaDescription:"",metaKeywords:""})},className:"flex-1 px-4 py-2.5 border rounded-lg font-semibold transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onMouseEnter:h=>{h.target.style.backgroundColor="var(--color-bg-section)"},onMouseLeave:h=>{h.target.style.backgroundColor="var(--color-bg-primary)"},children:"Cancel"}),n.jsxs("button",{onClick:l,className:"flex-1 px-4 py-2.5 text-white rounded-lg font-semibold transition duration-300 flex items-center justify-center gap-2 shadow-md",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:h=>h.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:h=>h.target.style.backgroundColor="var(--color-accent-primary)",children:[n.jsx(js,{})," ",u?"Update":"Add"," Category"]})]})]})}):null,oI=({showModal:e,onClose:t,title:r,formData:s,setFormData:a,handleAddSubcategory:l,handleImageUpload:c,editingCategory:u})=>e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"rounded-xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center p-6 transition duration-300",style:{borderBottomWidth:"1px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text-primary)"},children:r}),n.jsx("button",{onClick:t,className:"transition duration-300 p-1 rounded-lg",style:{color:"var(--color-text-primary)"},onMouseEnter:h=>h.target.style.backgroundColor="var(--color-border-light)",onMouseLeave:h=>h.target.style.backgroundColor="transparent",children:n.jsx(Vt,{className:"text-lg"})})]}),n.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Subcategory Image"}),n.jsxs("label",{className:"flex items-center justify-center px-4 py-4 border-2 border-dashed rounded-xl cursor-pointer transition duration-300",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},onMouseEnter:h=>h.target.style.borderColor="var(--color-accent-primary)",onMouseLeave:h=>h.target.style.borderColor="var(--color-border-light)",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"}),n.jsxs("div",{className:"flex flex-col items-center gap-2",style:{color:"var(--color-text-secondary)"},children:[n.jsx(O0,{className:"text-3xl",style:{color:"var(--color-text-light)"}}),n.jsx("span",{className:"text-sm font-semibold",children:"Click to upload"}),n.jsx("span",{className:"text-xs",style:{color:"var(--color-text-light)"},children:"PNG, JPG up to 10MB"})]})]}),s.image&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"Current Image Preview:"}),n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:s.image.startsWith("http")?s.image:`${Jn}${s.image}`,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border-2 shadow-md",style:{borderColor:"var(--color-accent-primary)"},onError:h=>{h.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Crect fill=%22%23ddd%22 width=%22100%22 height=%22100%22/%3E%3Ctext x=%2250%22 y=%2250%22 text-anchor=%22middle%22 dy=%22.3em%22 font-family=%22sans-serif%22 font-size=%2214%22 fill=%22%23999%22%3EFailed to load%3C/text%3E%3C/svg%3E"}}),n.jsx("button",{type:"button",onClick:()=>a({...s,image:null}),className:"absolute -top-3 -right-3 text-white p-2 rounded-full transition duration-300 shadow-lg",style:{backgroundColor:"#ef4444"},onMouseEnter:h=>h.target.style.backgroundColor="#dc2626",onMouseLeave:h=>h.target.style.backgroundColor="#ef4444",title:"Remove image",children:n.jsx(Vt,{className:"text-sm"})})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Name *"}),n.jsx("input",{type:"text",value:s.name,onChange:h=>a({...s,name:h.target.value}),className:"w-full px-4 py-2.5 border rounded-lg outline-none transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:h=>{h.target.style.borderColor="var(--color-accent-primary)",h.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:h=>{h.target.style.borderColor="var(--color-border-light)",h.target.style.boxShadow="none"},placeholder:"Enter subcategory name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description"}),n.jsx("textarea",{value:s.description,onChange:h=>a({...s,description:h.target.value}),rows:"3",className:"w-full px-4 py-2.5 border rounded-lg outline-none transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:h=>{h.target.style.borderColor="var(--color-accent-primary)",h.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:h=>{h.target.style.borderColor="var(--color-border-light)",h.target.style.boxShadow="none"},placeholder:"Enter subcategory description"})]}),n.jsx("div",{className:"border-t pt-4 mt-4",children:n.jsx(vy,{metaTitle:s.metaTitle,metaDescription:s.metaDescription,metaKeywords:s.metaKeywords,onChange:(h,f)=>a({...s,[h]:f}),defaultTitle:s.name})})]}),n.jsxs("div",{className:"flex gap-3 p-6 transition duration-300",style:{borderTopWidth:"1px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsx("button",{onClick:()=>{t(),a({name:"",description:"",image:null,productCount:0,metaTitle:"",metaDescription:"",metaKeywords:""})},className:"flex-1 px-4 py-2.5 border rounded-lg font-semibold transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onMouseEnter:h=>{h.target.style.backgroundColor="var(--color-bg-section)"},onMouseLeave:h=>{h.target.style.backgroundColor="var(--color-bg-primary)"},children:"Cancel"}),n.jsxs("button",{onClick:l,className:"flex-1 px-4 py-2.5 text-white rounded-lg font-semibold transition duration-300 flex items-center justify-center gap-2 shadow-md",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:h=>h.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:h=>h.target.style.backgroundColor="var(--color-accent-primary)",children:[n.jsx(js,{})," ",u?"Update":"Add"," Subcategory"]})]})]})}):null,BC=({category:e,depth:t=0,onToggle:r,onEdit:s,onDelete:a,onAddSubcategory:l,onEditMain:c,parentId:u=null,failedImages:h=new Set,setFailedImages:f=()=>{}})=>{const m=t*32,g=[{bg:"bg-indigo-50",border:"border-indigo-400",text:"text-gray-700",gradient:"from-indigo-400 to-indigo-600"},{bg:"bg-gray-50",border:"border-gray-400",text:"text-gray-400",gradient:"from-gray-700 to-black-400"},{bg:"bg-gray-100",border:"border-blue-400",text:"text-gray-700",gradient:"from-blue-400 to-blue-600"},{bg:"bg-purple-50",border:"border-purple-400",text:"text-purple-600",gradient:"from-purple-400 to-purple-600"},{bg:"bg-pink-50",border:"border-pink-400",text:"text-pink-600",gradient:"from-pink-400 to-pink-600"},{bg:"bg-cyan-50",border:"border-cyan-400",text:"text-cyan-600",gradient:"from-cyan-400 to-cyan-600"}],y=g[t%g.length],b=()=>{r(e._id)},j=()=>{t===0&&c?c(e):s(u,e)};return n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:`hover:${y.bg} transition duration-300 ${t>0?`${y.bg} border-l-4 ${y.border}`:"bg-white"}`,children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",style:{marginLeft:`${m}px`},children:[n.jsx("button",{onClick:b,className:`${y.text} hover:opacity-100 opacity-75 p-1 transition duration-300`,title:e.expandedSubcategories?"Collapse":"Expand",children:e.expandedSubcategories?n.jsx(vn,{}):n.jsx(es,{})}),e.image&&!h.has(e._id)?n.jsx("img",{src:e.image.startsWith("http")?e.image:`${Jn}${e.image}`,alt:e.name,className:"w-10 h-10 object-cover rounded-lg border-2 border-gray-300",onError:N=>{N.target.style.display="none",f(C=>new Set([...C,e._id]))}}):n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex text-center items-center justify-center text-xs font-semibold text-gray-600 border-2 border-gray-300",children:"No Image"}),n.jsx("div",{children:n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[t===0&&n.jsx(Ic,{className:"text-xs",style:{color:"var(--color-text-primary)"}}),t>0&&n.jsx(Nn,{className:"text-xs",style:{color:"var(--color-text-primary)"}}),e.name]})})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-block px-3 py-1 rounded-full font-semibold text-sm text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:e.productCount||0})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:j,className:"bg-gray-800 hover:bg-black text-white p-2 rounded-lg transition duration-300 shadow-md hover:shadow-lg",title:"Edit",children:n.jsx(ui,{className:"text-sm"})}),n.jsx("button",{onClick:()=>a(u,e._id),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-lg transition duration-300 shadow-md hover:shadow-lg",title:"Delete",children:n.jsx(bs,{className:"text-sm"})})]})})]}),e.expandedSubcategories&&e.subcategories&&e.subcategories.length>0&&e.subcategories.map(N=>n.jsx(BC,{category:N,depth:t+1,onToggle:r,onEdit:s,onDelete:a,onAddSubcategory:l,onEditMain:c,parentId:e._id,failedImages:h,setFailedImages:f},N._id)),e.expandedSubcategories&&n.jsx("tr",{className:`${y.bg} border-l-4 ${y.border}`,children:n.jsx("td",{colSpan:"4",className:"px-6 py-4",children:n.jsxs("button",{onClick:()=>l(e._id),className:`w-full text-left px-4 py-2 ${y.bg} hover:opacity-80 ${y.text} rounded-lg font-semibold transition duration-300 flex items-center gap-2 justify-center`,style:{marginLeft:`${m}px`},children:[n.jsx(js,{})," Add Sub-Category to ",e.name]})})})]})},lI=()=>{const e=sr(),{categories:t=[],loading:r}=Dt(U=>U.category),[s,a]=S.useState([]),[l,c]=S.useState(!1),[u,h]=S.useState(!1),[f,m]=S.useState(null),[g,y]=S.useState(null),[b,j]=S.useState(!1),[N,C]=S.useState(null),[w,T]=S.useState(null),[E,O]=S.useState(""),[R,L]=S.useState("name-asc"),[z,q]=S.useState("menu"),[I,H]=S.useState(new Set);S.useEffect(()=>{e(Hn())},[e]),S.useEffect(()=>{const U=ae=>(ae||[]).map(le=>({...le,productCount:le.productCount||0,expandedSubcategories:w===le._id,subcategories:U(le.subcategories)}));a(t.map(ae=>({...ae,productCount:ae.productCount||0,expandedSubcategories:w===ae._id,subcategories:U(ae.subcategories)}))||[])},[t,w]);const[W,ie]=S.useState({name:"",description:"",image:null}),Y=async()=>{if(!W.name.trim()){ee.error("Category name is required");return}try{const U=localStorage.getItem("token"),ae={name:W.name,description:W.description,slug:W.name.toLowerCase().replace(/\s+/g,"-"),image:W.image,metaTitle:W.metaTitle,metaDescription:W.metaDescription,metaKeywords:W.metaKeywords};if(g){if(!(await fetch(`${Jn}/api/categories/${g._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify(ae)})).ok)throw new Error("Failed to update category");ee.success("Category updated successfully")}else{if(!(await fetch(`${Jn}/api/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify(ae)})).ok)throw new Error("Failed to create category");ee.success("Category created successfully")}y(null),e(Hn())}catch(U){ee.error(U.message)}ie({name:"",description:"",image:null,metaTitle:"",metaDescription:"",metaKeywords:""}),c(!1)},ne=U=>{y(U),ie({name:U.name,description:U.description,image:U.image,metaTitle:U.metaTitle||"",metaDescription:U.metaDescription||"",metaKeywords:U.metaKeywords||""}),c(!0)},F=async U=>{if(window.confirm("Are you sure you want to delete this category?"))try{const ae=localStorage.getItem("token");if(!(await fetch(`${Jn}/api/categories/${U}`,{method:"DELETE",headers:{Authorization:`Bearer ${ae}`}})).ok)throw new Error("Failed to delete category");ee.success("Category deleted successfully"),e(Hn())}catch(ae){ee.error(ae.message)}},M=async()=>{if(!W.name.trim()){ee.error("Subcategory name is required");return}try{const U=localStorage.getItem("token");if(!U){ee.error("Authentication token not found");return}const ae=g?`${Jn}/api/categories/${g._id}`:`${Jn}/api/categories`,le=g?"PUT":"POST",Q={name:W.name,description:W.description,slug:W.name.toLowerCase().replace(/\s+/g,"-"),image:W.image,metaTitle:W.metaTitle,metaDescription:W.metaDescription,metaKeywords:W.metaKeywords,...g?{}:{parent:f}},ye=await fetch(ae,{method:le,headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify(Q)});if(!ye.ok){const Ne=await ye.json();throw new Error(Ne.message||"Failed to save subcategory")}ee.success(g?"Subcategory updated successfully":"Subcategory added successfully"),ie({name:"",description:"",image:null,metaTitle:"",metaDescription:"",metaKeywords:""}),h(!1),y(null),f&&T(f),setTimeout(()=>{e(Hn())},300)}catch(U){ee.error(U.message||"Error saving subcategory")}},_=(U,ae)=>{m(U),y(ae),ie({name:ae.name,description:ae.description,image:ae.image,productCount:ae.productCount,metaTitle:ae.metaTitle||"",metaDescription:ae.metaDescription||"",metaKeywords:ae.metaKeywords||""}),h(!0)},X=async(U,ae)=>{if(window.confirm("Are you sure you want to delete this subcategory?"))try{const le=localStorage.getItem("token");if(!le){ee.error("Authentication token not found");return}const Q=await fetch(`${Jn}/api/categories/${ae}`,{method:"DELETE",headers:{Authorization:`Bearer ${le}`}});if(!Q.ok){const ye=await Q.json();throw new Error(ye.message||"Failed to delete subcategory")}ee.success("Subcategory deleted successfully"),e(Hn())}catch(le){ee.error(le.message||"Error deleting subcategory")}},$=async U=>{const ae=U.target.files?.[0];if(ae){if(ae.size>5*1024*1024){ee.error("Image size must be less than 5MB");return}try{const le=new FormData;le.append("image",ae);const Q=localStorage.getItem("token"),ye=Q?{Authorization:`Bearer ${Q}`}:{},Ne=await st.post(`${Jn}/api/upload`,le,{headers:{...ye,"Content-Type":"multipart/form-data"}});ie(Ke=>({...Ke,image:Ne.data.url})),ee.success("Image uploaded successfully")}catch{ee.error("Failed to upload image. Please try again.")}}},ce=()=>{y(null),ie({name:"",description:"",image:null}),c(!0)},A=U=>{m(U),y(null),ie({name:"",description:"",image:null}),h(!0)},B=(U,ae)=>ae.map(le=>le._id===U?{...le,expandedSubcategories:!le.expandedSubcategories}:le.subcategories&&le.subcategories.length>0?{...le,subcategories:B(U,le.subcategories)}:le),P=U=>U.reduce((ae,le)=>{let Q=1;return le.subcategories&&le.subcategories.length>0&&(Q+=P(le.subcategories)),ae+Q},0),K=U=>{let ae=[];return U.forEach(le=>{ae.push(le),le.subcategories&&le.subcategories.length>0&&(ae=ae.concat(K(le.subcategories)))}),ae},de=()=>{const U=s;let ae=U;if(E.trim()){const Q=E.toLowerCase();ae=U.filter(ye=>ye.name.toLowerCase().includes(Q)||ye.description&&ye.description.toLowerCase().includes(Q))}return[...ae].sort((Q,ye)=>{switch(R){case"name-asc":return Q.name.localeCompare(ye.name);case"name-desc":return ye.name.localeCompare(Q.name);case"date-newest":return new Date(ye.createdAt||0)-new Date(Q.createdAt||0);case"date-oldest":return new Date(Q.createdAt||0)-new Date(ye.createdAt||0);case"products-max":return(ye.productCount||0)-(Q.productCount||0);case"products-min":return(Q.productCount||0)-(ye.productCount||0);default:return 0}})},ve=()=>{const U=s;let ae=U;if(E.trim()){const Q=E.toLowerCase();ae=K(U).filter(Ne=>Ne.name.toLowerCase().includes(Q)||Ne.description&&Ne.description.toLowerCase().includes(Q))}else ae=K(U);return[...ae].sort((Q,ye)=>{switch(R){case"name-asc":return Q.name.localeCompare(ye.name);case"name-desc":return ye.name.localeCompare(Q.name);case"date-newest":return new Date(ye.createdAt||0)-new Date(Q.createdAt||0);case"date-oldest":return new Date(Q.createdAt||0)-new Date(ye.createdAt||0);case"products-max":return(ye.productCount||0)-(Q.productCount||0);case"products-min":return(Q.productCount||0)-(ye.productCount||0);default:return 0}})},je=(U,ae,le=0)=>{for(let Q of ae){if(Q._id===U)return le;if(Q.subcategories&&Q.subcategories.length>0){const ye=je(U,Q.subcategories,le+1);if(ye!==-1)return ye}}return-1},He=P(s),te=de(),ue=ve();return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex-1  overflow-auto",children:n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold",style:{color:"var(--color-text-primary)"},children:"Categories & Subcategories"}),n.jsx("p",{className:"mt-2",style:{color:"var(--color-text-light)"},children:"Manage your product categories with subcategories and products"})]}),n.jsxs("button",{onClick:ce,className:"text-white px-6 py-3 rounded-lg font-semibold transition duration-300 flex items-center gap-2 shadow-lg",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:U=>U.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:U=>U.target.style.backgroundColor="var(--color-accent-primary)",children:[n.jsx(js,{})," Add Category"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[n.jsx("div",{className:"rounded-xl shadow-lg p-4 text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold uppercase",children:"Total Categories"}),n.jsx("p",{className:"text-xs mt-1",children:"(Main + All Sub)"})]}),n.jsx("p",{className:"text-3xl font-bold",children:He})]})}),n.jsx("div",{className:"rounded-xl shadow-lg p-4 text-white",style:{backgroundColor:"var(--color-text-secondary)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold uppercase",style:{opacity:.8},children:"Displaying"}),n.jsx("p",{className:"text-xs mt-1",style:{opacity:.7},children:"Filtered Results"})]}),n.jsx("p",{className:"text-3xl font-bold",children:te.length})]})})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-6",children:[n.jsx("input",{type:"text",placeholder:"Search categories...",value:E,onChange:U=>O(U.target.value),className:"flex-1 px-4 py-2 border rounded-lg outline-none font-semibold transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:U=>{U.target.style.borderColor="var(--color-accent-primary)",U.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:U=>{U.target.style.borderColor="var(--color-border-light)",U.target.style.boxShadow="none"}}),n.jsxs("select",{value:R,onChange:U=>L(U.target.value),className:"px-4 py-2 border rounded-lg outline-none font-semibold min-w-[200px] transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:U=>{U.target.style.borderColor="var(--color-accent-primary)",U.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:U=>{U.target.style.borderColor="var(--color-border-light)",U.target.style.boxShadow="none"},children:[n.jsx("option",{value:"name-asc",children:"Sort: Name (A to Z)"}),n.jsx("option",{value:"name-desc",children:"Sort: Name (Z to A)"}),n.jsx("option",{value:"date-newest",children:"Sort: Date (Newest)"}),n.jsx("option",{value:"date-oldest",children:"Sort: Date (Oldest)"}),n.jsx("option",{value:"products-max",children:"Sort: Products (Maximum)"}),n.jsx("option",{value:"products-min",children:"Sort: Products (Minimum)"})]}),E&&n.jsx("button",{onClick:()=>O(""),className:"px-4 py-2 text-white rounded-lg transition-colors font-semibold",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:U=>U.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:U=>U.target.style.backgroundColor="var(--color-accent-primary)",children:"Clear Search"})]}),n.jsxs("div",{className:"flex gap-3 mb-6",children:[n.jsx("button",{onClick:()=>q("plain"),className:"px-6 py-2.5 rounded-lg font-semibold transition duration-300",style:{backgroundColor:z==="plain"?"var(--color-accent-primary)":"var(--color-bg-section)",color:z==="plain"?"white":"var(--color-text-primary)",boxShadow:z==="plain"?"0 4px 6px rgba(0, 0, 0, 0.1)":"none"},onMouseEnter:U=>{z!=="plain"&&(U.target.style.backgroundColor="var(--color-border-light)")},onMouseLeave:U=>{z!=="plain"&&(U.target.style.backgroundColor="var(--color-bg-section)")},children:"Plain Category"}),n.jsx("button",{onClick:()=>q("menu"),className:"px-6 py-2.5 rounded-lg font-semibold transition duration-300",style:{backgroundColor:z==="menu"?"var(--color-accent-primary)":"var(--color-bg-section)",color:z==="menu"?"white":"var(--color-text-primary)",boxShadow:z==="menu"?"0 4px 6px rgba(0, 0, 0, 0.1)":"none"},onMouseEnter:U=>{z!=="menu"&&(U.target.style.backgroundColor="var(--color-border-light)")},onMouseLeave:U=>{z!=="menu"&&(U.target.style.backgroundColor="var(--color-bg-section)")},children:"Menu Category"})]}),n.jsxs("div",{className:"rounded-xl shadow-lg overflow-hidden",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsx("div",{className:"px-6 py-4 transition duration-300",style:{backgroundColor:"var(--color-bg-section)",borderBottomWidth:"1px",borderColor:"var(--color-border-light)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text-primary)"},children:"All Categories"}),n.jsxs("span",{className:"text-sm font-semibold",style:{color:"var(--color-text-light)"},children:[s.length," categories"]})]})}),n.jsx("div",{className:"overflow-x-auto",children:(z==="plain"?ue:te).length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-6",children:[n.jsx(Ic,{className:"text-6xl mb-4",style:{color:"var(--color-border-light)"}}),n.jsx("p",{className:"text-lg mb-4",style:{color:"var(--color-text-primary)"},children:E?"No categories match your search":"No categories yet"}),E&&n.jsx("button",{onClick:()=>O(""),className:"text-white px-6 py-3 rounded-lg font-semibold transition duration-300 inline-flex items-center gap-2 shadow-lg",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:U=>U.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:U=>U.target.style.backgroundColor="var(--color-accent-primary)",children:"Clear Search"}),!E&&n.jsxs("button",{onClick:ce,className:"text-white px-6 py-3 rounded-lg font-semibold transition duration-300 inline-flex items-center gap-2 shadow-lg",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:U=>U.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:U=>U.target.style.backgroundColor="var(--color-accent-primary)",children:[n.jsx(js,{})," Create Your First Category"]})]}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottomWidth:"1px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider",style:{color:"var(--color-text-primary)"},children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider",style:{color:"var(--color-text-primary)"},children:"Title"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider",style:{color:"var(--color-text-primary)"},children:"Products"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider",style:{color:"var(--color-text-primary)"},children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-border-light)"},children:z==="plain"?ue.map(U=>{const ae=je(U._id,s),le=[{bg:"var(--color-bg-primary)",border:"var(--color-accent-primary)",tag:"Main",bgLight:"var(--color-bg-section)"},{bg:"var(--color-bg-primary)",border:"var(--color-accent-light)",tag:"Sub",bgLight:"var(--color-bg-section)"},{bg:"var(--color-bg-primary)",border:"var(--color-border)",tag:"Sub-Sub",bgLight:"var(--color-bg-section)"},{bg:"var(--color-bg-primary)",border:"var(--color-accent-primary)",tag:"Sub",bgLight:"var(--color-bg-section)"}],Q=le[Math.min(ae,le.length-1)],ye={bg:Q.bgLight,border:"border-l-4",borderColor:Q.border,tag:Q.tag};return n.jsxs("tr",{className:`${ye.bg} ${ye.border} hover:opacity-80 transition duration-300`,children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[U.image&&!I.has(U._id)?n.jsx("img",{src:U.image.startsWith("http")?U.image:`${Jn}${U.image}`,alt:U.name,className:"w-10 h-10 object-cover rounded-lg border-2",style:{borderColor:"var(--color-accent-primary)"},onError:Ne=>{Ne.target.style.display="none",H(Ke=>new Set([...Ke,U._id]))}}):n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex text-center items-center justify-center text-xs font-semibold text-gray-600 border-2",style:{borderColor:"var(--color-border-light)"},children:"No Image"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm",style:{color:"var(--color-text-primary)"},children:U.name}),n.jsx("span",{className:"inline-block px-2 py-1 text-xs font-bold rounded text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:ye.tag})]})})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-block px-3 py-1 rounded-full font-semibold text-sm text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:U.productCount||0})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{y(U),ie({name:U.name,description:U.description,image:U.image}),c(!0)},className:"bg-gray-800 hover:bg-black text-white p-2 rounded-lg transition duration-300 shadow-md hover:shadow-lg",title:"Edit",children:n.jsx(ui,{className:"text-sm"})}),n.jsx("button",{onClick:()=>F(U._id),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-lg transition duration-300 shadow-md hover:shadow-lg",title:"Delete",children:n.jsx(bs,{className:"text-sm"})})]})})]},U._id)}):te.map(U=>n.jsx(BC,{category:U,depth:0,onToggle:ae=>a(B(ae,s)),onEdit:_,onDelete:X,onAddSubcategory:A,onEditMain:ne,failedImages:I,setFailedImages:H},U._id))})]})})]})]})}),n.jsx(aI,{showModal:l,onClose:()=>{c(!1),y(null),ie({name:"",description:"",image:null})},title:g?"Edit Category":"Add New Category",formData:W,setFormData:ie,handleAddCategory:Y,handleImageUpload:$,editingCategory:g}),n.jsx(oI,{showModal:u,onClose:()=>{h(!1),y(null),ie({name:"",description:"",image:null})},title:g?"Edit Subcategory":"Add New Subcategory",formData:W,setFormData:ie,handleAddSubcategory:M,handleImageUpload:$,editingCategory:g}),b&&N&&n.jsx(sI,{categoryId:N.id,categoryName:N.name,categoryImage:N.image,productCount:N.productCount,onClose:()=>{j(!1),C(null)},onEditProduct:U=>{}})]})},iI=()=>n.jsx(ns,{activeTab:"categories",children:n.jsx(lI,{})}),xs="http://localhost:5000",cI=e=>{if(!e)return"";if(typeof e=="string")return e.trim()?e.startsWith("http")?e:`${xs}${e}`:"";if(typeof e=="object"){const t=e.url||e.secure_url||e.public_url||e.path||e.src||"";if(!t)return"";if(typeof t=="string")return t.startsWith("http")?t:`${xs}${t}`}return""},dI=()=>{const e=sr(),{orders:t=[],loading:r}=Dt(A=>A.order),[s,a]=S.useState([]),[l,c]=S.useState([]),[u,h]=S.useState(!1),[f,m]=S.useState(null),[g,y]=S.useState(!1),[b,j]=S.useState(""),[N,C]=S.useState(null),[w,T]=S.useState(!1),[E,O]=S.useState(!1),[R,L]=S.useState(!1),[z,q]=S.useState({}),[I,H]=S.useState({}),[W,ie]=S.useState({}),[Y,ne]=S.useState("all"),[F,M]=S.useState("");S.useEffect(()=>{e(Vr())},[e]),S.useEffect(()=>{const A=t||[];a(A),c(B=>B.filter(P=>A.some(K=>K._id===P))),h(B=>A.length>0&&B.length===A.length)},[t]);const X=(()=>{let A=s;if(Y==="all"?A=A:Y==="fulfilled"?A=A.filter(B=>B.fulfillmentStatus==="fulfilled"):Y==="unfulfilled"?A=A.filter(B=>B.fulfillmentStatus==="unfulfilled"):Y==="shipped"?A=A.filter(B=>B.deliveryStatus==="shipped"):Y==="delivered"?A=A.filter(B=>B.deliveryStatus==="delivered"):Y==="refunded"&&(A=A.filter(B=>B.deliveryStatus==="refunded")),F.trim()){const B=F.trim().toLowerCase();A=A.filter(P=>{const K=P.orderId||`ORD-${new Date(P.createdAt).toISOString().slice(0,10).replace(/-/g,"")}-${P._id?.slice(-6)}`,de=(P.totalPrice??P.totalAmount??0).toString();return K.toLowerCase().includes(B)||de.includes(B)||P._id.toLowerCase().includes(B)})}return A})(),$=async(A,B)=>{try{const P=localStorage.getItem("token"),K=B?"fulfilled":"unfulfilled";if(!(await fetch(`${xs}/api/orders/${A}/fulfillment`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({fulfillmentStatus:K})})).ok)throw new Error("Failed to update fulfillment status");ee.success(`Order marked as ${K}`),e(Vr())}catch(P){ee.error(P.message)}},ce=async(A,B)=>{try{const P=localStorage.getItem("token");if(!(await fetch(`${xs}/api/orders/${A}/delivery`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({deliveryStatus:B})})).ok)throw new Error("Failed to update delivery status");const de={"":"Status cleared",shipped:"Order marked as shipped",delivered:"Order marked as delivered",refunded:"Order marked as refunded"};ee.success(de[B]||"Status updated"),e(Vr())}catch(P){ee.error(P.message)}};return n.jsxs("div",{children:[r&&n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(ws,{className:"text-4xl text-gray-700 animate-spin"})}),!r&&n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 bg-white border-b flex gap-2 overflow-x-auto",children:[n.jsx("button",{onClick:()=>ne("all"),className:`px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition ${Y==="all"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"All Orders"}),n.jsx("button",{onClick:()=>ne("fulfilled"),className:`px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition ${Y==="fulfilled"?"bg-green-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Fulfilled"}),n.jsx("button",{onClick:()=>ne("unfulfilled"),className:`px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition ${Y==="unfulfilled"?"bg-yellow-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Unfulfilled"}),n.jsx("button",{onClick:()=>ne("shipped"),className:`px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition ${Y==="shipped"?"bg-orange-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Shipped"}),n.jsx("button",{onClick:()=>ne("delivered"),className:`px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition ${Y==="delivered"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Delivered"}),n.jsx("button",{onClick:()=>ne("refunded"),className:`px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition ${Y==="refunded"?"bg-red-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Refunded"})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b flex justify-between items-center gap-4 flex-wrap",children:[n.jsxs("h3",{className:"font-semibold text-gray-900",children:["Orders (",X.length,")"]}),n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx("input",{type:"text",placeholder:"Search by Order ID or Price...",value:F,onChange:A=>M(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",style:{minWidth:"250px"}}),n.jsxs("button",{onClick:()=>e(Vr()),className:"text-gray-700 hover:text-indigo-800 flex items-center gap-2",title:"Refresh orders",children:[n.jsx($w,{})," Refresh"]}),n.jsx("button",{onClick:async()=>{if(l.length===0)return ee("No orders selected");if(confirm("Delete selected orders that are fulfilled and delivered? This cannot be undone.")){y(!0);try{const A=localStorage.getItem("token"),B=s.filter(P=>l.includes(P._id));if(B.length===0){ee("No selected orders to delete"),y(!1);return}await Promise.all(B.map(P=>fetch(`${xs}/api/orders/${P._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${A}`}}))),ee.success(`Deleted ${B.length} orders`),c([]),h(!1),e(Vr())}catch{ee.error("Bulk delete failed")}finally{y(!1)}}},className:"px-3 py-1 bg-red-600 text-white rounded flex items-center gap-2",title:"Delete selected fulfilled+delivered",children:g?n.jsx(ws,{className:"animate-spin"}):"Delete Selected"})]})]}),n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-100 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:n.jsx("input",{type:"checkbox",checked:u,onChange:A=>{const B=A.target.checked;h(B),c(B?(X||[]).map(P=>P._id):[])}})}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Order / Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Coupon"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Total Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Fulfilment"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Delivery Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Action"})]})}),n.jsx("tbody",{className:"divide-y",children:X&&X.length>0?X.map(A=>{const B=A.orderId||`ORD-${new Date(A.createdAt).toISOString().slice(0,10).replace(/-/g,"")}-${A._id?.slice(-6)}`;A.createdAt&&new Date(A.createdAt).toLocaleDateString();const P=A.createdAt?new Date(A.createdAt).toLocaleString():"N/A",K=A.totalPrice??A.totalAmount??0,de=A.fulfillmentStatus==="fulfilled",ve=A.deliveryStatus||"";return n.jsxs("tr",{className:"hover:bg-gray-50 transition duration-300",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx("input",{type:"checkbox",checked:l.includes(A._id),onChange:je=>{const He=je.target.checked;c(te=>He?[...te,A._id]:te.filter(ue=>ue!==A._id)),He||h(!1)}})}),n.jsxs("td",{className:"px-4 py-4 font-mono text-gray-900 text-sm",children:[B," ",n.jsx("br",{}),P," "]}),n.jsx("td",{className:"px-4 py-4 text-gray-700 text-sm",children:A.couponCode?n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:A.couponCode}),n.jsx("br",{}),n.jsxs("span",{className:"text-green-600",children:["-",(A.discountAmount||0).toFixed(2)]})]}):n.jsx("span",{className:"text-gray-400",children:""})}),n.jsxs("td",{className:"px-4 py-4 text-gray-700 font-bold",children:["",Number(K).toFixed(2)]}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("button",{onClick:()=>$(A._id,!de),className:`px-3 py-1 rounded-full text-sm font-semibold ${de?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,title:de?"Fulfilled - click to mark unfulfilled":"Unfulfilled - click to mark fulfilled",children:de?"Fulfilled":"Unfulfilled"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("select",{value:ve,onChange:je=>ce(A._id,je.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"No Status"}),n.jsx("option",{value:"shipped",children:"shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("button",{onClick:()=>m(A),className:"px-3 py-1 bg-gray-800 text-white rounded text-sm",children:[" ",n.jsx(OA,{})," "]})})})]},A._id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-600",children:"No orders found"})})})]})]}),f&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:n.jsxs("div",{className:"bg-white max-w-6xl w-full rounded-lg shadow-2xl overflow-auto max-h-[90vh] grid grid-cols-1 md:grid-cols-3 gap-0",style:{backgroundColor:"var(--color-bg-primary, #ffffff)"},children:[n.jsxs("div",{className:"md:col-span-2 flex flex-col overflow-auto",children:[n.jsxs("div",{className:"sticky top-0 z-10 flex justify-between items-center p-6 border-b",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"var(--color-bg-primary, #ffffff)"},children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold",style:{color:"var(--color-text-primary, #000000)"},children:["Order ",f.orderId||f._id]}),n.jsx("p",{className:"text-sm mt-1",style:{color:"var(--color-text-light, #6B6B6B)"},children:new Date(f.createdAt).toLocaleDateString()})]}),n.jsx("button",{onClick:()=>{m(null),j(""),C(null),T(!1),O(!1),L(!1)},className:"px-4 py-2 rounded font-semibold transition-all hover:opacity-75",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",color:"var(--color-text-primary, #000000)"},children:"Close"})]}),n.jsxs("div",{className:"p-6 space-y-6 overflow-auto flex-1",children:[n.jsxs("div",{className:"p-6 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h4",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:"Contact Details"}),!w&&n.jsx("button",{onClick:()=>{T(!0),q({firstName:f.contactDetails?.firstName||f.user?.name?.split(" ")[0]||"",lastName:f.contactDetails?.lastName||f.user?.name?.split(" ")[1]||"",email:f.contactDetails?.email||f.user?.email||"",phone:f.contactDetails?.phone||""})},className:"px-3 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"#4f46e5"},children:"Edit"})]}),w?n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"First Name",value:z.firstName||"",onChange:A=>q({...z,firstName:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"text",placeholder:"Last Name",value:z.lastName||"",onChange:A=>q({...z,lastName:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"email",placeholder:"Email",value:z.email||"",onChange:A=>q({...z,email:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"tel",placeholder:"Phone",value:z.phone||"",onChange:A=>q({...z,phone:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:async()=>{try{const A=localStorage.getItem("token");if(!(await fetch(`${xs}/api/orders/${f._id}/contact`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({contactDetails:z})})).ok)throw new Error("Failed to update contact details");ee.success("Contact details updated"),T(!1),e(Vr())}catch(A){ee.error(A.message)}},className:"flex-1 px-2 py-2 rounded text-xs font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:"Save"}),n.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-2 py-2 rounded text-xs font-semibold text-white",style:{backgroundColor:"#6b7280"},children:"Cancel"})]})]}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs mb-1 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"First Name"}),n.jsx("p",{style:{color:"var(--color-text-primary, #000000)"},children:z.firstName||f.contactDetails?.firstName||f.user?.name?.split(" ")[0]||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs mb-1 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Last Name"}),n.jsx("p",{style:{color:"var(--color-text-primary, #000000)"},children:z.lastName||f.contactDetails?.lastName||f.user?.name?.split(" ")[1]||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs mb-1 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Email"}),n.jsx("p",{style:{color:"var(--color-text-primary, #000000)"},children:z.email||f.contactDetails?.email||f.user?.email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs mb-1 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Phone"}),n.jsx("p",{style:{color:"var(--color-text-primary, #000000)"},children:z.phone||f.contactDetails?.phone||"N/A"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("h4",{className:"font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:"Shipping Address"}),!E&&n.jsx("button",{onClick:()=>{O(!0),H(f.shippingAddress||{})},className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"#4f46e5"},children:"Edit"})]}),E?n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"text",placeholder:"Address",value:I.address||"",onChange:A=>H({...I,address:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"text",placeholder:"Apartment / Suite (Optional)",value:I.apartment||"",onChange:A=>H({...I,apartment:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"text",placeholder:"City",value:I.city||"",onChange:A=>H({...I,city:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"text",placeholder:"State / Region (Optional)",value:I.stateRegion||"",onChange:A=>H({...I,stateRegion:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"text",placeholder:"Postal Code",value:I.postalCode||"",onChange:A=>H({...I,postalCode:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"text",placeholder:"Country",value:I.country||"",onChange:A=>H({...I,country:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:async()=>{try{const A=localStorage.getItem("token");if(!(await fetch(`${xs}/api/orders/${f._id}/shipping`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({shippingAddress:I})})).ok)throw new Error("Failed to update shipping address");ee.success("Shipping address updated"),O(!1),e(Vr())}catch(A){ee.error(A.message)}},className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:"Save"}),n.jsx("button",{onClick:()=>O(!1),className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"#6b7280"},children:"Cancel"})]})]}):n.jsx(n.Fragment,{children:f.shippingAddress?n.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--color-text-primary, #000000)"},children:[n.jsx("div",{className:"font-semibold",children:I.address||f.shippingAddress.address}),(I.apartment||f.shippingAddress.apartment)&&n.jsx("div",{children:I.apartment||f.shippingAddress.apartment}),n.jsxs("div",{children:[I.city||f.shippingAddress.city,I.stateRegion||f.shippingAddress.stateRegion?`, ${I.stateRegion||f.shippingAddress.stateRegion}`:""," ",I.postalCode||f.shippingAddress.postalCode]}),n.jsx("div",{children:I.country||f.shippingAddress.country})]}):n.jsx("div",{className:"text-sm",style:{color:"var(--color-text-light, #6B6B6B)"},children:"No shipping address provided."})})]}),n.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("h4",{className:"font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:"Billing Address"}),!R&&n.jsx("button",{onClick:()=>{L(!0),ie(f.billingAddress||{})},className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"#4f46e5"},children:"Edit"})]}),R?n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"text",placeholder:"Address",value:W.address||"",onChange:A=>ie({...W,address:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"text",placeholder:"Apartment / Suite (Optional)",value:W.apartment||"",onChange:A=>ie({...W,apartment:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"text",placeholder:"City",value:W.city||"",onChange:A=>ie({...W,city:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"text",placeholder:"State / Region (Optional)",value:W.stateRegion||"",onChange:A=>ie({...W,stateRegion:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"text",placeholder:"Postal Code",value:W.postalCode||"",onChange:A=>ie({...W,postalCode:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsx("input",{type:"text",placeholder:"Country",value:W.country||"",onChange:A=>ie({...W,country:A.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:async()=>{try{const A=localStorage.getItem("token");if(!(await fetch(`${xs}/api/orders/${f._id}/billing`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({billingAddress:W})})).ok)throw new Error("Failed to update billing address");ee.success("Billing address updated"),L(!1),e(Vr())}catch(A){ee.error(A.message)}},className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:"Save"}),n.jsx("button",{onClick:()=>L(!1),className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"#6b7280"},children:"Cancel"})]})]}):n.jsx(n.Fragment,{children:f.billingAddress?n.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--color-text-primary, #000000)"},children:[n.jsx("div",{className:"font-semibold",children:W.address||f.billingAddress.address}),(W.apartment||f.billingAddress.apartment)&&n.jsx("div",{children:W.apartment||f.billingAddress.apartment}),n.jsxs("div",{children:[W.city||f.billingAddress.city,W.stateRegion||f.billingAddress.stateRegion?`, ${W.stateRegion||f.billingAddress.stateRegion}`:""," ",W.postalCode||f.billingAddress.postalCode]}),n.jsx("div",{children:W.country||f.billingAddress.country})]}):n.jsx("div",{className:"text-sm",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Same as shipping"})})]})]}),n.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("h4",{className:"font-semibold mb-4",style:{color:"var(--color-text-primary, #000000)"},children:"Order Items"}),n.jsx("div",{className:"space-y-4",children:f.orderItems?.map(A=>{const B=[];A.selectedVariants&&typeof A.selectedVariants=="object"&&Object.entries(A.selectedVariants).forEach(([K,de])=>{de&&B.push(`${K}: ${de}`)}),A.selectedSize&&!B.some(K=>K.toLowerCase().includes("size"))&&B.push(`Size: ${A.selectedSize}`),A.selectedColor&&!B.some(K=>K.toLowerCase().includes("color"))&&B.push(`Color: ${A.selectedColor}`);const P=B.join(" / ");return n.jsxs("div",{className:"flex gap-3 sm:gap-4 pb-4 border-b",style:{borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("div",{className:"shrink-0",children:n.jsx("img",{src:cI(A.image),alt:A.name,className:"w-full h-full sm:w-20 sm:h-20 object-contain rounded border",style:{borderColor:"var(--color-border-light, #e5e5e5)"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-bold text-sm sm:text-base mb-1",style:{color:"var(--color-text-primary, #000000)"},children:A.name}),P&&n.jsx("p",{className:"text-xs sm:text-sm mb-1",style:{color:"var(--color-text-light, #6B6B6B)"},children:P}),A.sku&&n.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--color-text-light, #6B6B6B)"},children:["SKU: ",A.sku]}),n.jsxs("p",{className:"text-xs sm:text-sm",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:["Qty: ",A.qty,"  ",Number(A.price).toFixed(2)]})]}),n.jsx("div",{className:"text-right flex-shrink-0",children:n.jsxs("p",{className:"font-bold text-base sm:text-lg",style:{color:"var(--color-accent-primary, #a5632a)"},children:["",(A.qty*A.price).toFixed(2)]})})]},A._id||A.product)})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("h4",{className:"font-semibold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Order Summary"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Items:"}),n.jsxs("span",{className:"font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:["",((f.itemsPrice??f.orderItems?.reduce((A,B)=>A+B.price*B.qty,0))||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Shipping:"}),n.jsxs("span",{className:"font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:["",(f.shippingPrice||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Tax:"}),n.jsxs("span",{className:"font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:["",(f.taxPrice||0).toFixed(2)]})]}),f.discountAmount>0&&f.couponCode&&n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:["Discount (",f.couponCode,"):"]}),n.jsxs("span",{className:"font-semibold",style:{color:"#10b981"},children:["-",(f.discountAmount||0).toFixed(2)]})]}),n.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold",style:{borderColor:"var(--color-border-light, #e5e5e5)",color:"var(--color-accent-primary, #a5632a)"},children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",(f.totalPrice||f.totalAmount||0).toFixed(2)]})]})]})]}),n.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("h4",{className:"font-semibold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Fulfillment"}),n.jsx("div",{className:"px-3 py-2 rounded text-sm font-semibold",style:{backgroundColor:f.status==="completed"?"var(--color-accent-primary, #a5632a)":"var(--color-bg-section, #e5e5e5)",color:f.status==="completed"?"white":"var(--color-text-primary, #000000)"},children:f.status==="completed"?" Fulfilled":" Unfulfilled"})]}),n.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("h4",{className:"font-semibold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Delivery"}),n.jsx("div",{className:"px-3 py-2 rounded text-sm font-semibold",style:{backgroundColor:f.deliveryStatus==="refunded"?"#dc2626":f.deliveryStatus==="delivered"?"var(--color-accent-primary, #a5632a)":f.deliveryStatus==="shipped"?"#d4905e":"var(--color-bg-section, #e5e5e5)",color:f.deliveryStatus?"white":"var(--color-text-primary, #000000)"},children:f.deliveryStatus==="refunded"?" Refunded":f.deliveryStatus==="delivered"?" Delivered":f.deliveryStatus==="shipped"?" Shipped":" No Status"})]})]})]})]}),n.jsxs("div",{className:"md:col-span-1 border-l flex flex-col overflow-auto",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[n.jsx("div",{className:"sticky top-0 z-10 p-6 border-b",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:n.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Overview"})}),n.jsxs("div",{className:"p-6 space-y-6 flex-1 overflow-auto",children:[n.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("p",{className:"text-xs mb-2 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Total Orders From this Customer"}),n.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--color-accent-primary, #a5632a)"},children:s.filter(A=>A.user===f.user||A.user?._id===f.user?._id).length})]}),n.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("p",{className:"text-xs mb-3 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"REMARKS"}),n.jsxs("div",{className:"border rounded mb-4",style:{borderColor:"var(--color-border-light, #e5e5e5)"},children:[n.jsx("textarea",{placeholder:"Add notes or remarks about this order...",className:"w-full p-3 text-sm resize-none focus:outline-none",style:{color:"var(--color-text-primary, #000000)",backgroundColor:"var(--color-bg-primary, #ffffff)",borderBottom:"1px solid var(--color-border-light, #e5e5e5)"},rows:"4",value:b,onChange:A=>j(A.target.value)}),n.jsx("button",{className:"w-full px-3 py-2 font-semibold text-white text-sm transition-all hover:opacity-90",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},onClick:async()=>{if(!b.trim()){ee.error("Please enter a remark");return}try{const A=localStorage.getItem("token");if(!(await fetch(`${xs}/api/orders/${f._id}/remarks`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({remarks:b})})).ok)throw new Error("Failed to save remarks");ee.success("Remarks saved"),j(""),e(Vr())}catch(A){ee.error(A.message)}},children:"Save Remarks"})]}),f.remarks&&n.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-xs font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"SAVED REMARK"}),n.jsxs("p",{className:"text-xs",style:{color:"var(--color-text-light, #6B6B6B)"},children:[new Date(f.updatedAt).toLocaleDateString()," ",new Date(f.updatedAt).toLocaleTimeString()]})]}),n.jsx("p",{className:"text-sm mb-3",style:{color:"var(--color-text-primary, #000000)"},children:f.remarks}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white transition-all hover:opacity-90",style:{backgroundColor:"#4f46e5"},onClick:()=>{j(f.remarks),C(f._id)},children:"Edit"}),n.jsx("button",{className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white transition-all hover:opacity-90",style:{backgroundColor:"#dc2626"},onClick:async()=>{if(confirm("Delete this remark?"))try{const A=localStorage.getItem("token");if(!(await fetch(`${xs}/api/orders/${f._id}/remarks`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({remarks:""})})).ok)throw new Error("Failed to delete remarks");ee.success("Remarks deleted"),j(""),e(Vr())}catch(A){ee.error(A.message)}},children:"Delete"})]})]})]})]})]})]})})]})},uI=()=>n.jsx(ns,{activeTab:"orders",children:n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--color-text-primary)"},children:"Orders Management"}),n.jsx("p",{className:"mt-4",style:{color:"var(--color-text-light)"},children:"Manage all customer orders and track shipments"}),n.jsx(dI,{})]})}),hI=()=>{const e=sr(),{products:t}=Dt(F=>F.product),{orders:r=[]}=Dt(F=>F.order),[s,a]=S.useState(""),[l,c]=S.useState(""),[u,h]=S.useState(!1),[f,m]=S.useState("today"),[g,y]=S.useState("all"),[b,j]=S.useState("all"),[N,C]=S.useState("all"),[w,T]=S.useState("all"),[E,O]=S.useState(null),[R,L]=S.useState("asc"),[z,q]=S.useState({totalSales:0,totalOrders:0,totalProducts:0,avgOrderValue:0,salesByProduct:[],bestSellingByCount:[],bestSellingByQuantity:[],productsByItemsSold:[],productsByGrossValue:[],productOrderCountByProduct:{},variantQtyMap:{}}),[I,H]=S.useState(null),[W,ie]=S.useState({}),Y=[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"Last 30 minutes",value:"last30m"},{label:"Last 12 hours",value:"last12h"},{label:"Last 7 days",value:"last7d"},{label:"Last 30 days",value:"last30d"},{label:"Last 90 days",value:"last90d"},{label:"Last 365 days",value:"last365d"},{label:"Last 12 months",value:"last12m"},{label:"Last week",value:"lastweek"},{label:"Last month",value:"lastmonth"}];S.useEffect(()=>{const M=new Date().toISOString().split("T")[0];a(M),c(M)},[]);const ne=F=>{m(F);const M=new Date;let _,X;switch(F){case"today":_=new Date(M),_.setHours(0,0,0,0),X=new Date(M),X.setHours(23,59,59,999);break;case"yesterday":_=new Date(M),_.setDate(_.getDate()-1),_.setHours(0,0,0,0),X=new Date(_),X.setHours(23,59,59,999);break;case"last30m":_=new Date(M.getTime()-30*6e4),X=new Date(M);break;case"last12h":_=new Date(M.getTime()-720*6e4),X=new Date(M);break;case"last7d":_=new Date(M),_.setDate(_.getDate()-7),X=new Date(M);break;case"last30d":_=new Date(M),_.setDate(_.getDate()-30),X=new Date(M);break;case"last90d":_=new Date(M),_.setDate(_.getDate()-90),X=new Date(M);break;case"last365d":_=new Date(M),_.setDate(_.getDate()-365),X=new Date(M);break;case"lastweek":_=new Date(M),_.setDate(_.getDate()-_.getDay()-7),X=new Date(_),X.setDate(X.getDate()+6);break;case"lastmonth":_=new Date(M.getFullYear(),M.getMonth()-1,1),X=new Date(M.getFullYear(),M.getMonth(),0);break;case"last12m":_=new Date(M),_.setFullYear(_.getFullYear()-1),X=new Date(M);break;default:_=new Date(M),_.setHours(0,0,0,0),X=new Date(M)}a(_.toISOString().split("T")[0]),c(X.toISOString().split("T")[0])};return S.useEffect(()=>{e(Fr()),e(Vr())},[e]),S.useEffect(()=>{if(t&&r&&r.length>0){const F=le=>{if(!le)return null;const Q=new Date(le);if(isNaN(Q))return null;const ye=Q.getFullYear(),Ne=String(Q.getMonth()+1).padStart(2,"0"),Ke=String(Q.getDate()).padStart(2,"0");return`${ye}-${Ne}-${Ke}`},M=F(s),_=F(l),X=(r||[]).filter(le=>{if(!M&&!_)return!0;const Q=F(le.createdAt);return Q?M&&_?Q>=M&&Q<=_:M?Q>=M:_?Q<=_:!0:!1}),$=X.reduce((le,Q)=>le+(Q.totalPrice||0),0),ce=X.length,A=ce>0?($/ce).toFixed(2):0,B={},P={},K={},de={},ve={};X.forEach(le=>{le.orderItems&&Array.isArray(le.orderItems)&&le.orderItems.forEach(Q=>{const ye=Q.product||Q._id;ve[ye]||(ve[ye]=0),ve[ye]+=1})}),X.forEach(le=>{le.orderItems&&Array.isArray(le.orderItems)&&le.orderItems.forEach(Q=>{const ye=Q.product||Q._id,Ne=Q.qty||1,Ke=Q.price||0,at=Q.variant||null;B[ye]||(B[ye]={name:Q.name,sales:0,price:Ke,id:ye,variants:[]}),P[ye]||(P[ye]={name:Q.name,count:0,id:ye,itemsSold:0}),K[ye]||(K[ye]={name:Q.name,quantity:0,id:ye}),de[ye]||(de[ye]=[]),at&&(de[ye].find(lt=>JSON.stringify(lt)===JSON.stringify(at))||de[ye].push(at)),B[ye].sales+=Ke*Ne,B[ye].grossValue=B[ye].sales||0,P[ye].count+=1,P[ye].itemsSold+=Ne,K[ye].quantity+=Ne})}),Object.keys(B).forEach(le=>{B[le].variants=de[le]||[]});const je=Object.values(B).sort((le,Q)=>Q.sales-le.sales).slice(0,8),He=Object.values(P).sort((le,Q)=>Q.count-le.count).slice(0,8),te=Object.values(K).sort((le,Q)=>Q.quantity-le.quantity).slice(0,8),ue=Object.values(P).sort((le,Q)=>Q.itemsSold-le.itemsSold).slice(0,10),U=Object.values(B).sort((le,Q)=>(Q.grossValue||0)-(le.grossValue||0)).slice(0,10),ae={};X.forEach(le=>{le.orderItems&&Array.isArray(le.orderItems)&&le.orderItems.forEach(Q=>{let ye=null;if(typeof Q.product=="object"&&Q.product?._id?ye=String(Q.product._id):typeof Q.product=="string"?ye=Q.product:Q._id&&(ye=String(Q._id)),ye&&Q.selectedVariants&&typeof Q.selectedVariants=="object"&&!Array.isArray(Q.selectedVariants)&&Object.keys(Q.selectedVariants).length>0&&Object.values(Q.selectedVariants).some(Ne=>Ne&&String(Ne).trim()!=="")){const Ne=JSON.stringify(Q.selectedVariants);ae[ye]||(ae[ye]={}),ae[ye][Ne]||(ae[ye][Ne]={variant:Q.selectedVariants,quantity:0}),ae[ye][Ne].quantity+=Q.qty||1}})}),q({totalSales:$.toFixed(2),totalOrders:ce,totalProducts:t.length,avgOrderValue:A,salesByProduct:je,bestSellingByCount:He,bestSellingByQuantity:te,productsByItemsSold:ue,productsByGrossValue:U,filteredOrders:X,productOrderCountByProduct:ve,variantQtyMap:ae})}},[t,r,s,l]),n.jsx(ns,{activeTab:"analytics",children:n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--color-text-primary)"},children:"Analytics Dashboard"}),n.jsx("p",{className:"mt-4",style:{color:"var(--color-text-light)"},children:"View sales, revenue, and performance metrics"}),n.jsxs("div",{className:"mb-6 rounded-lg p-4 shadow mt-6",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsxs("button",{onClick:()=>h(!u),className:"text-sm font-semibold mb-3 px-3 py-1.5 rounded",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},children:[n.jsx(Rw,{className:"mr-1 inline"})," ",u?"Hide":"Show"," Date Filter"]}),u&&n.jsxs("div",{className:"flex gap-4 mt-4",children:[n.jsxs("div",{className:"w-48 border-r",style:{borderColor:"var(--color-border-light)"},children:[n.jsx("div",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"QUICK SELECT"}),n.jsx("div",{className:"space-y-1",children:Y.map(F=>n.jsxs("button",{onClick:()=>ne(F.value),className:"w-full text-left text-xs py-1.5 px-2 rounded transition",style:{backgroundColor:f===F.value?"var(--color-accent-primary)":"transparent",color:f===F.value?"white":"var(--color-text-primary)"},children:[f===F.value&&" ",F.label]},F.value))})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex gap-4 mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"From"}),n.jsx("input",{type:"date",value:s,onChange:F=>a(F.target.value),className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"To"}),n.jsx("input",{type:"date",value:l,onChange:F=>c(F.target.value),className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>{h(!1),a(""),c(""),m("")},className:"px-3 py-1 text-xs rounded font-semibold",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},children:"Cancel"}),n.jsx("button",{onClick:()=>h(!1),className:"px-3 py-1 text-xs rounded font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:"Apply"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-8",children:[n.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[n.jsx("h3",{className:"text-sm font-semibold uppercase",style:{color:"var(--color-text-secondary)"},children:"Total Sales"}),n.jsxs("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--color-accent-primary)"},children:["",z.totalSales]}),n.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-text-light)"},children:"All time revenue"})]}),n.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[n.jsx("h3",{className:"text-sm font-semibold uppercase",style:{color:"var(--color-text-secondary)"},children:"Total Orders"}),n.jsx("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--color-text-primary)"},children:z.totalOrders}),n.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-text-light)"},children:"Complete orders"})]}),n.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[n.jsx("h3",{className:"text-sm font-semibold uppercase",style:{color:"var(--color-text-secondary)"},children:"Total Products"}),n.jsx("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--color-text-primary)"},children:z.totalProducts}),n.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-text-light)"},children:"In catalog"})]}),n.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[n.jsx("h3",{className:"text-sm font-semibold uppercase",style:{color:"var(--color-text-secondary)"},children:"Avg. Order Value"}),n.jsxs("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--color-text-primary)"},children:["",z.avgOrderValue]}),n.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-text-light)"},children:"Average per order"})]})]}),n.jsxs("div",{className:"rounded-lg shadow p-6 mt-8 w-full",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[n.jsx("h2",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text-primary)"},children:" Orders Details"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderColor:"var(--color-border-light)",borderBottomWidth:"1px"},children:[n.jsx("th",{className:"text-left py-2 px-3 font-semibold",style:{color:"var(--color-text-primary)"},children:"Product Name"}),n.jsxs("th",{className:"text-right py-2 px-3 font-semibold cursor-pointer hover:underline",style:{color:"var(--color-text-primary)"},onClick:()=>{E==="gross"?L(R==="asc"?"desc":"asc"):(O("gross"),L("asc"))},children:["Gross Sale"," ",n.jsx("span",{style:{color:E==="gross"&&R==="asc"?"#000":"#ccc"},children:""}),n.jsx("span",{style:{color:E==="gross"&&R==="desc"?"#000":"#ccc"},children:""})]}),n.jsxs("th",{className:"text-center py-2 px-3 font-semibold cursor-pointer hover:underline",style:{color:"var(--color-text-primary)"},onClick:()=>{E==="orders"?L(R==="asc"?"desc":"asc"):(O("orders"),L("asc"))},children:["Orders"," ",n.jsx("span",{style:{color:E==="orders"&&R==="asc"?"#000":"#ccc"},children:""}),n.jsx("span",{style:{color:E==="orders"&&R==="desc"?"#000":"#ccc"},children:""})]}),n.jsx("th",{className:"text-left py-2 px-3 font-semibold",style:{color:"var(--color-text-primary)"},children:"Date"})]})}),n.jsx("tbody",{children:z.filteredOrders&&z.filteredOrders.length>0?(()=>{const F={};z.filteredOrders.forEach(A=>{A.orderItems&&Array.isArray(A.orderItems)&&A.orderItems.forEach(B=>{let P=null;typeof B.product=="object"&&B.product?._id?P=String(B.product._id):typeof B.product=="string"?P=B.product:B._id&&(P=String(B._id));const K=B.name||"Unknown Product",de=`${P}-${K}`;F[de]||(F[de]={id:P,name:K,price:B.price||0,totalQty:0,totalSale:0,orderCount:0,lastDate:A.createdAt,orderIds:new Set});const ve=B.qty||1;F[de].totalQty+=ve,F[de].totalSale+=(B.price||0)*ve,F[de].orderIds.has(String(A._id))||(F[de].orderIds.add(String(A._id)),F[de].orderCount+=1),new Date(A.createdAt)>new Date(F[de].lastDate)&&(F[de].lastDate=A.createdAt)})});const M=g==="all"?0:parseFloat(g),_=b==="all"?1/0:parseFloat(b),X=N==="all"?0:parseInt(N,10),$=w==="all"?1/0:parseInt(w,10);return Object.values(F).sort((A,B)=>E==="gross"?R==="asc"?A.totalSale-B.totalSale:B.totalSale-A.totalSale:E==="orders"?R==="asc"?A.orderCount-B.orderCount:B.orderCount-A.orderCount:g!=="all"&&b==="all"?A.totalSale-B.totalSale:b!=="all"&&g==="all"?B.totalSale-A.totalSale:N!=="all"&&w==="all"?A.orderCount-B.orderCount:w!=="all"&&N==="all"?B.orderCount-A.orderCount:B.totalSale-A.totalSale).filter(A=>{const B=parseFloat(A.totalSale)||0,P=parseInt(A.orderCount,10)||0;return B>=M&&B<=_&&P>=X&&P<=$}).map(A=>n.jsxs("tr",{style:{borderColor:"var(--color-border-light)",borderBottomWidth:"1px"},children:[n.jsx("td",{className:"py-2 px-3",style:{color:"var(--color-accent-primary)",cursor:z.variantQtyMap[A.id]&&Object.values(z.variantQtyMap[A.id]).length>0?"pointer":"default"},onClick:()=>{const B=z.variantQtyMap[A.id],P=B?Object.values(B):[];P&&P.length>0&&P.every(de=>de&&typeof de.quantity=="number"&&de.quantity>0)?(H({id:A.id,name:A.name}),ie(B||{})):(H(null),ie({}))},children:n.jsx("span",{className:z.variantQtyMap[A.id]&&Object.values(z.variantQtyMap[A.id]).length>0?"font-semibold hover:underline":"font-semibold",children:A.name})}),n.jsxs("td",{className:"py-2 px-3 text-right font-bold",style:{color:"#10b981"},children:["",A.totalSale.toFixed(2)]}),n.jsx("td",{className:"py-2 px-3 text-center font-semibold",style:{color:"var(--color-accent-primary)"},children:A.orderCount}),n.jsx("td",{className:"py-2 px-3",style:{color:"var(--color-text-light)"},children:A.lastDate?new Date(A.lastDate).toLocaleDateString():"N/A"})]},`${A.id}-${A.name}`))})():n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"py-4 text-center",style:{color:"var(--color-text-light)"},children:"No orders found for the selected period"})})})]})})]}),I&&z.variantQtyMap&&z.variantQtyMap[I.id]&&Object.keys(z.variantQtyMap[I.id]).length>0&&W&&Object.keys(W).length>0&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-lg font-bold",style:{color:"var(--color-text-primary)"},children:[I.name," - Variants"]}),n.jsx("button",{onClick:()=>{H(null),ie({})},className:"text-2xl font-bold",style:{color:"var(--color-text-light)"},children:""})]}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Object.values(W).length>0?Object.values(W).map((F,M)=>{const _=typeof F.variant=="object"?Object.entries(F.variant).map(([X,$])=>`${X}: ${$}`).join(", "):F.variant;return n.jsxs("div",{className:"flex justify-between items-center p-3 rounded border",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsx("span",{style:{color:"var(--color-text-primary)"},children:_||"Default"}),n.jsxs("span",{className:"font-bold px-3 py-1 rounded",style:{backgroundColor:"var(--color-accent-primary)",color:"white"},children:[F.quantity,"x"]})]},M)}):n.jsx("p",{style:{color:"var(--color-text-light)"},children:"No variant data available"})}),n.jsx("button",{onClick:()=>{H(null),ie({})},className:"w-full mt-4 py-2 rounded font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:"Close"})]})})]})})},fI=()=>{const[e,t]=S.useState([]),[r,s]=S.useState(!1),[a,l]=S.useState(""),[c,u]=S.useState(""),[h,f]=S.useState(null),[m,g]=S.useState(""),[y,b]=S.useState(""),[j,N]=S.useState({}),[C,w]=S.useState(null),[T,E]=S.useState(""),[O,R]=S.useState(""),[L,z]=S.useState(null),[q,I]=S.useState(null),[H,W]=S.useState(null),[ie,Y]=S.useState(null),[ne,F]=S.useState(null),[M,_]=S.useState([]),[X,$]=S.useState([]),[ce,A]=S.useState([]),[B,P]=S.useState([]),[K,de]=S.useState(new Set),[ve,je]=S.useState(!1),[He,te]=S.useState(null),[ue,U]=S.useState(""),[ae,le]=S.useState([]),[Q,ye]=S.useState([]),Ne=()=>{s(!0),l(""),u("")},Ke=()=>{s(!1),l(""),u("")},at=()=>{if(!a.trim()){ee.error("Please enter a title");return}const G=`main_${Date.now()}`,fe={id:G,label:a.trim(),name:a.trim(),url:c.trim()||"#",link:c.trim()||"#",submenu:[]};t($e=>[...$e,fe]),ee.success("Main menu item added"),Ke(),N($e=>({...$e,[G]:!0}))},Nt=G=>{f(G),g(""),b("")},lt=()=>{f(null),g(""),b("")},Kt=(G,fe,$e)=>G.map(Be=>{if(Be.id===fe)return $e(Be);const nt=Be.submenu||Be.sub||[];return nt&&nt.length>0?{...Be,submenu:Kt(nt,fe,$e),...Be.sub&&{sub:Kt(Be.sub,fe,$e)}}:Be}),Gt=G=>{G&&(t(fe=>Kt(fe,G,Be=>{const nt=Be.submenu||[],xt={id:`sub_${Date.now()}`,label:m||"Submenu",name:m||"Submenu",url:y||"#",link:y||"#",submenu:[]};return{...Be,submenu:[...nt,xt]}})),ee.success("Submenu added"),lt())},qn=G=>{const fe=($e,Be)=>$e.filter(nt=>nt.id!==Be).map(nt=>{const xt=nt.submenu||nt.sub||[];return{...nt,submenu:xt&&fe(xt,Be),...nt.sub&&{sub:nt.sub?fe(nt.sub,Be):nt.sub}}});t($e=>fe($e,G))},Yt=G=>{w(G.id),E(G.label||G.name),R(G.url||G.link||"#")},Wn=()=>{w(null),E(""),R("")},ge=G=>{if(!T.trim()){ee.error("Label cannot be empty");return}t(fe=>Kt(fe,G,$e=>({...$e,label:T.trim(),name:T.trim(),url:O.trim()||"#",link:O.trim()||"#"}))),ee.success("Menu item updated"),Wn()},Te=G=>N(fe=>({...fe,[G]:!fe[G]})),Le=async G=>{F(G),de(new Set),U(""),je(!0);try{const fe="http://localhost:5000";if(G==="categories"){const Be=await(await fetch(`${fe}/api/categories?all=true`)).json();_(Be||[])}else if(G==="products"){const Be=await(await fetch(`${fe}/api/products?limit=100`)).json();$(Be.products||Be||[])}else G==="pages"?A([{_id:"about",name:"About",slug:"about",url:"/about"},{_id:"shop",name:"Shop",slug:"shop",url:"/shop"},{_id:"categories",name:"Categories",slug:"categories",url:"/categories"},{_id:"contact",name:"Contact",slug:"contact",url:"/contact"},{_id:"faqs",name:"FAQs",slug:"faqs",url:"/policies/faq"},{_id:"payment-options",name:"Payment Options",slug:"payment-options",url:"/payment-options"}]):G==="policies"&&P([{_id:"privacy",name:"Privacy Policy",slug:"privacy",url:"/privacy"},{_id:"terms",name:"Terms & Conditions",slug:"terms",url:"/terms"},{_id:"return-refund",name:"Return & Refund Policy",slug:"return-refund",url:"/return-refund"},{_id:"shipping",name:"Shipping Policy",slug:"shipping",url:"/shipping"}])}catch{ee.error(`Failed to load ${G}`)}finally{je(!1)}},Ye=G=>{if(He||ie||H)de(new Set([G]));else{const fe=new Set(K);fe.has(G)?fe.delete(G):fe.add(G),de(fe)}},Ze=()=>{const G=ue.toLowerCase();return ne==="categories"?M.filter(fe=>(fe.name||fe.title||"").toLowerCase().includes(G)):ne==="products"?X.filter(fe=>(fe.name||fe.title||"").toLowerCase().includes(G)):ne==="pages"?ce.filter(fe=>(fe.name||fe.title||"").toLowerCase().includes(G)):ne==="policies"?B.filter(fe=>(fe.name||fe.title||"").toLowerCase().includes(G)):[]},tt=()=>{if(K.size===0){ee.error("Please select at least one item");return}let G=[];if(ne==="categories"?G=M.filter(fe=>K.has(fe._id||fe.id)):ne==="products"?G=X.filter(fe=>K.has(fe._id||fe.id)):ne==="pages"?G=ce.filter(fe=>K.has(fe._id||fe.id)):ne==="policies"&&(G=B.filter(fe=>K.has(fe._id||fe.id))),He&&G.length>0){const fe=G[0],$e=fe.url||(ne==="categories"?`/category/${fe.slug||fe._id}`:ne==="products"?`/product/${fe.slug||fe._id}`:ne==="pages"?`/${fe.slug||fe._id}`:`/policies/${fe.slug||fe._id}`);R($e),ee.success(`Link set to: ${$e}`),F(null),de(new Set),te(null);return}if(H&&G.length>0){const fe=G[0],$e=fe.url||(ne==="categories"?`/category/${fe.slug||fe._id}`:ne==="products"?`/product/${fe.slug||fe._id}`:ne==="pages"?`/${fe.slug||fe._id}`:`/policies/${fe.slug||fe._id}`);l(fe.name||fe.title),u($e),ee.success(`Selected: ${fe.name||fe.title}`),F(null),de(new Set),W(null);return}if(ie&&G.length>0){const fe=G[0],$e=fe.url||(ne==="categories"?`/category/${fe.slug||fe._id}`:ne==="products"?`/product/${fe.slug||fe._id}`:ne==="pages"?`/${fe.slug||fe._id}`:`/policies/${fe.slug||fe._id}`);g(fe.name||fe.title),b($e),ee.success(`Selected: ${fe.name||fe.title}`),F(null),de(new Set),Y(null);return}G.forEach(fe=>{const $e=`main_${Date.now()}_${Math.random()}`,Be=fe.url||(ne==="categories"?`/category/${fe.slug||fe._id}`:ne==="products"?`/product/${fe.slug||fe._id}`:ne==="pages"?`/${fe.slug||fe._id}`:`/policies/${fe.slug||fe._id}`),nt={id:$e,label:fe.name||fe.title,name:fe.name||fe.title,url:Be,link:Be,submenu:[]};t(xt=>[...xt,nt]),N(xt=>({...xt,[$e]:!0}))}),ee.success(`Added ${G.length} item(s) to menu`),F(null),de(new Set)},At=(G,fe,$e=0,Be=[])=>{G.stopPropagation(),z({index:fe,level:$e,parentPath:Be}),G.dataTransfer.effectAllowed="move"},xe=G=>{G.preventDefault(),G.dataTransfer.dropEffect="move"},Ge=()=>{I(null)},ft=(G,fe,$e=0,Be=[])=>{if(G.preventDefault(),G.stopPropagation(),!L){z(null),I(null);return}const nt=L.level,xt=L.parentPath;if(nt===$e&&JSON.stringify(xt)===JSON.stringify(Be)){if(L.index===fe){z(null),I(null);return}t($e===0?Ot=>{const ir=[...Ot],Bt=ir[L.index];return ir.splice(L.index,1),ir.splice(fe,0,Bt),ir}:Ot=>Fe(Ot,Be,L.index,fe))}z(null),I(null)},Fe=(G,fe,$e,Be)=>{if(fe.length===0){const Ot=[...G],ir=Ot[$e];return Ot.splice($e,1),Ot.splice(Be,0,ir),Ot}const[nt,...xt]=fe;return G.map((Ot,ir)=>{if(ir===nt){const Bt=Ot.submenu||Ot.sub||[],cn=Fe(Bt,xt,$e,Be);return{...Ot,submenu:cn,...Ot.sub&&{sub:cn}}}return Ot})},pt=(G,fe,$e=[],Be=0)=>{const nt=`${$e.join("-")}-${fe}`,xt=j[nt],Ot=L&&L.index===fe&&L.level===Be&&JSON.stringify(L.parentPath)===JSON.stringify($e),ir=[{bg:"var(--color-bg-primary)",border:"var(--color-border-light)",text:"var(--color-text-primary)",accent:"var(--color-accent-primary)"},{bg:"#f8f9fa",border:"var(--color-border-light)",text:"var(--color-text-primary)",accent:"var(--color-accent-primary)"},{bg:"#f0f1f3",border:"var(--color-border-light)",text:"var(--color-text-primary)",accent:"var(--color-accent-primary)"},{bg:"#e8e9eb",border:"var(--color-border-light)",text:"var(--color-text-primary)",accent:"var(--color-accent-primary)"}],Bt=ir[Math.min(Be,ir.length-1)],cn=C===G.id;return n.jsxs("li",{draggable:!0,onDragStart:it=>At(it,fe,Be,$e),onDragOver:xe,onDragLeave:Ge,onDrop:it=>ft(it,fe,Be,$e),className:`border-2 rounded-lg transition-all ${Ot?"opacity-40 ring-2 ring-yellow-400":""} ${q===G.id?"ring-2 ring-blue-500":""}`,style:{borderColor:Bt.border,backgroundColor:Bt.bg,marginLeft:`${Be*20}px`,boxShadow:Be>0?"0 2px 4px rgba(0,0,0,0.05)":"none",cursor:"grab"},onDragEnter:()=>I(G.id),children:[cn?n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold mb-1",style:{color:"var(--color-text-light)"},children:"Label"}),n.jsx("input",{value:T,onChange:it=>E(it.target.value),placeholder:"Menu item label",className:"w-full border-2 px-3 py-2 rounded text-sm",style:{borderColor:"var(--color-border-light)"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold mb-1",style:{color:"var(--color-text-light)"},children:"Link"}),n.jsxs("div",{className:"flex gap-1 flex-wrap",children:[n.jsx("input",{value:O,onChange:it=>R(it.target.value),placeholder:"Link or URL",className:"flex-1 border-2 px-3 py-2 rounded text-sm",style:{borderColor:"var(--color-border-light)"}}),n.jsx("button",{onClick:()=>{te(G.id),Le("categories")},className:"px-2 py-2 rounded text-xs font-medium text-white",style:{backgroundColor:"#6366f1"},title:"Select from categories",children:""}),n.jsx("button",{onClick:()=>{te(G.id),Le("products")},className:"px-2 py-2 rounded text-xs font-medium text-white",style:{backgroundColor:"#8b5cf6"},title:"Select from products",children:""}),n.jsx("button",{onClick:()=>{te(G.id),Le("pages")},className:"px-2 py-2 rounded text-xs font-medium text-white",style:{backgroundColor:"#14b8a6"},title:"Select from pages",children:""}),n.jsx("button",{onClick:()=>{te(G.id),Le("policies")},className:"px-2 py-2 rounded text-xs font-medium text-white",style:{backgroundColor:"#ec4899"},title:"Select from policies",children:""})]})]}),n.jsxs("div",{className:"flex gap-2 items-end",children:[n.jsx("button",{onClick:()=>ge(G.id),className:"flex-1 text-white px-3 py-2 rounded font-medium text-sm",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:it=>it.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:it=>it.target.style.backgroundColor="var(--color-accent-primary)",children:"Save"}),n.jsx("button",{onClick:Wn,className:"flex-1 px-3 py-2 border-2 rounded font-medium text-sm",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},children:"Cancel"})]})]})}):n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("span",{style:{color:"var(--color-text-light)",fontSize:"18px"},children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"font-bold text-sm",style:{color:Bt.text},children:[Be>0&&n.jsx("span",{style:{color:"var(--color-text-light)"},className:"mr-2",children:""}),G.name]}),n.jsxs("div",{className:"text-xs",style:{color:"var(--color-text-light)"},children:[n.jsx("span",{className:"font-semibold",children:"link:"})," ",n.jsx("span",{style:{color:"var(--color-text-primary)",fontWeight:"500"},children:G.url||G.link})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[n.jsx("button",{onClick:()=>Yt(G),className:"px-3 py-1 rounded text-sm font-medium",style:{backgroundColor:"var(--color-accent-primary)",color:"white"},onMouseEnter:it=>it.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:it=>it.target.style.backgroundColor="var(--color-accent-primary)",title:"Edit this menu item",children:" Edit"}),n.jsx("button",{onClick:()=>Nt(G.id),className:"px-3 py-1 rounded text-sm font-medium text-white",style:{backgroundColor:"#10b981"},onMouseEnter:it=>it.target.style.backgroundColor="#059669",onMouseLeave:it=>it.target.style.backgroundColor="#10b981",children:"+ Sub"}),n.jsx("button",{onClick:()=>Te(nt),className:"px-3 py-1 rounded border text-sm font-medium",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},title:xt?"Collapse":"Expand",children:xt?"":""}),n.jsx("button",{onClick:()=>qn(G.id),className:"px-3 py-1 rounded text-sm font-medium flex items-center gap-2",style:{backgroundColor:"#fee",color:"#c33"},onMouseEnter:it=>it.target.style.backgroundColor="#fdd",onMouseLeave:it=>it.target.style.backgroundColor="#fee",children:""})]})]}),xt&&(G.submenu&&G.submenu.length>0||G.sub&&G.sub.length>0||h===G.id)&&n.jsxs("div",{className:"p-4 border-t-2",style:{borderColor:Bt.border,backgroundColor:"rgba(0,0,0,0.02)"},children:[n.jsx("div",{className:"mb-4 pb-3 border-b-2",style:{borderColor:Bt.border},children:n.jsxs("div",{className:"font-bold text-sm",style:{color:"var(--color-text-primary)"},children:["Submenus (",(G.submenu||G.sub||[]).length,")"]})}),n.jsxs("ul",{className:"space-y-3",children:[(G.submenu||G.sub||[]).map((it,fi)=>pt(it,fi,[...$e,fe],Be+1)),h===G.id?n.jsx("li",{className:"p-4 rounded-lg border-2 border-dashed",style:{backgroundColor:"#fafafa",borderColor:"var(--color-accent-primary)"},children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx("input",{value:m,onChange:it=>g(it.target.value),placeholder:"Submenu text",className:"border-2 px-3 py-2 rounded",style:{borderColor:"var(--color-border-light)"}}),n.jsx("input",{value:y,onChange:it=>b(it.target.value),placeholder:"Submenu link",className:"border-2 px-3 py-2 rounded",style:{borderColor:"var(--color-border-light)"}})]}),n.jsxs("div",{className:"flex gap-1 flex-wrap",children:[n.jsx("button",{onClick:()=>{Y(G.id),Le("categories")},className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#6366f1"},title:"Select from categories",children:" Cat"}),n.jsx("button",{onClick:()=>{Y(G.id),Le("products")},className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#8b5cf6"},title:"Select from products",children:" Prod"}),n.jsx("button",{onClick:()=>{Y(G.id),Le("pages")},className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#14b8a6"},title:"Select from pages",children:" Page"}),n.jsx("button",{onClick:()=>{Y(G.id),Le("policies")},className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#f59e0b"},title:"Select from policies",children:" Pol"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Gt(G.id),className:"text-white px-4 py-2 rounded font-medium text-sm flex-1",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:it=>it.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:it=>it.target.style.backgroundColor="var(--color-accent-primary)",children:"Add"}),n.jsx("button",{onClick:lt,className:"px-4 py-2 border-2 rounded font-medium text-sm flex-1",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},children:"Cancel"})]})]})}):null]})]})]},G.id)},Mt=async()=>{try{const G=ir=>ir.map(Bt=>{const cn=Bt.submenu||Bt.sub||[],it={id:Bt.id,label:Bt.label||Bt.name,name:Bt.name,url:Bt.url||Bt.link,link:Bt.link};return cn.length>0&&(it.submenu=G(cn)),it}),fe=G(e),$e="http://localhost:5000",Be=localStorage.getItem("token"),nt={"Content-Type":"application/json"};Be&&(nt.Authorization=`Bearer ${Be}`);const xt=await fetch(`${$e}/api/settings/menu`,{method:"POST",headers:nt,body:JSON.stringify({browseMenu:fe})});if(!xt.ok){let ir=xt.statusText;try{const Bt=await xt.json();ir=Bt.message||JSON.stringify(Bt)}catch{}throw new Error(`Failed to save menu: ${xt.status} ${ir}`)}const Ot=await xt.json();ee.success("Menu saved")}catch(G){ee.error(G.message||"Save failed")}};return S.useEffect(()=>{(async()=>{try{const $e=await fetch("http://localhost:5000/api/settings/menu");if(!$e.ok)return;const Be=await $e.json();Be&&Array.isArray(Be.browseMenu)&&t(Be.browseMenu)}catch{}})()},[]),n.jsx(ns,{activeTab:"menu",children:n.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Menu Manager"}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:"Drag menu items to reorder. Click Edit to modify labels and links."})]}),n.jsx("button",{onClick:Mt,className:"text-white px-6 py-3 rounded-lg font-semibold text-lg",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:G=>G.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:G=>G.target.style.backgroundColor="var(--color-accent-primary)",children:" Save"})]}),n.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[n.jsx("button",{onClick:Ne,className:"text-white px-4 py-2 rounded-lg font-semibold",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:G=>G.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:G=>G.target.style.backgroundColor="var(--color-accent-primary)",children:"+ Add Main Menu"}),r&&n.jsxs("div",{className:"flex items-center gap-2 flex-1 flex-wrap",children:[n.jsx("input",{value:a,onChange:G=>l(G.target.value),placeholder:"Menu title",className:"border-2 px-3 py-2 rounded",style:{borderColor:"var(--color-border-light)"}}),n.jsx("input",{value:c,onChange:G=>u(G.target.value),placeholder:"Link",className:"border-2 px-3 py-2 rounded",style:{borderColor:"var(--color-border-light)"}}),n.jsx("button",{onClick:()=>{W("categories"),Le("categories")},className:"px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#6366f1"},onMouseEnter:G=>G.target.style.backgroundColor="#4f46e5",onMouseLeave:G=>G.target.style.backgroundColor="#6366f1",title:"Add category to menu",children:""}),n.jsx("button",{onClick:()=>{W("products"),Le("products")},className:"px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#8b5cf6"},onMouseEnter:G=>G.target.style.backgroundColor="#7c3aed",onMouseLeave:G=>G.target.style.backgroundColor="#8b5cf6",title:"Add product to menu",children:""}),n.jsx("button",{onClick:()=>{W("pages"),Le("pages")},className:"px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#ec4899"},onMouseEnter:G=>G.target.style.backgroundColor="#be185d",onMouseLeave:G=>G.target.style.backgroundColor="#ec4899",title:"Add page to menu",children:""}),n.jsx("button",{onClick:()=>{W("policies"),Le("policies")},className:"px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#f59e0b"},onMouseEnter:G=>G.target.style.backgroundColor="#d97706",onMouseLeave:G=>G.target.style.backgroundColor="#f59e0b",title:"Add policy to menu",children:""}),n.jsx("button",{onClick:at,className:"text-white px-4 py-2 rounded font-semibold",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:G=>G.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:G=>G.target.style.backgroundColor="var(--color-accent-primary)",children:" Add"}),n.jsx("button",{onClick:Ke,className:"px-4 py-2 border-2 rounded font-semibold",style:{borderColor:"var(--color-border-light)"},children:" Cancel"})]})]}),n.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2 p-4 rounded-lg",style:{backgroundColor:"rgba(0,0,0,0.02)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[n.jsx("span",{className:"font-semibold text-sm",style:{color:"var(--color-text-primary)"},children:"Quick Add:"}),n.jsx("button",{onClick:()=>Le("categories"),className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#6366f1"},onMouseEnter:G=>G.target.style.backgroundColor="#4f46e5",onMouseLeave:G=>G.target.style.backgroundColor="#6366f1",children:" Categories"}),n.jsx("button",{onClick:()=>Le("products"),className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#8b5cf6"},onMouseEnter:G=>G.target.style.backgroundColor="#7c3aed",onMouseLeave:G=>G.target.style.backgroundColor="#8b5cf6",children:" Products"}),n.jsx("button",{onClick:()=>Le("policies"),className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#ec4899"},onMouseEnter:G=>G.target.style.backgroundColor="#db2777",onMouseLeave:G=>G.target.style.backgroundColor="#ec4899",children:" Policies"}),n.jsx("button",{onClick:()=>Le("pages"),className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#14b8a6"},onMouseEnter:G=>G.target.style.backgroundColor="#0d9488",onMouseLeave:G=>G.target.style.backgroundColor="#14b8a6",children:" Pages"})]}),n.jsxs("div",{className:"p-6 rounded-lg shadow-lg",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[n.jsx("h2",{className:"font-bold text-lg mb-6",style:{color:"var(--color-text-primary)"},children:"Menu Hierarchy"}),e.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-lg",style:{color:"var(--color-text-light)"},children:"No menu items yet"}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:'Click "Add Main Menu" to create your first item'})]}):n.jsx("ul",{className:"space-y-4",children:e.map((G,fe)=>pt(G,fe,[],0))})]}),ne&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[80vh] flex flex-col",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--color-border-light)"},children:[n.jsxs("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:["Select ",ne.charAt(0).toUpperCase()+ne.slice(1)]}),(ne==="categories"||ne==="products")&&n.jsx("input",{type:"text",placeholder:`Search ${ne}...`,value:ue,onChange:G=>U(G.target.value),className:"w-full border-2 px-3 py-2 rounded text-sm",style:{borderColor:"var(--color-border-light)"}})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-2",children:ve?n.jsx("p",{style:{color:"var(--color-text-light)"},children:"Loading..."}):n.jsx(n.Fragment,{children:ne==="policies"?n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"font-bold text-sm mb-2",style:{color:"var(--color-text-primary)"},children:"Policies"}),B.length>0?B.map(G=>n.jsxs("label",{className:"flex items-center p-3 rounded cursor-pointer hover:bg-gray-100",style:{backgroundColor:K.has(G._id||G.id)?"rgba(0,0,0,0.05)":"transparent"},children:[n.jsx("input",{type:"checkbox",checked:K.has(G._id||G.id),onChange:()=>Ye(G._id||G.id),className:"mr-3"}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:G.name||G.title})})]},G._id||G.id)):n.jsx("p",{style:{color:"var(--color-text-light)"},children:"No policies available"})]})}):ne==="pages"?n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"font-bold text-sm mb-2",style:{color:"var(--color-text-primary)"},children:"Pages"}),ce.length>0?ce.map(G=>n.jsxs("label",{className:"flex items-center p-3 rounded cursor-pointer hover:bg-gray-100",style:{backgroundColor:K.has(G._id||G.id)?"rgba(0,0,0,0.05)":"transparent"},children:[n.jsx("input",{type:"checkbox",checked:K.has(G._id||G.id),onChange:()=>Ye(G._id||G.id),className:"mr-3"}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:G.name||G.title})})]},G._id||G.id)):n.jsx("p",{style:{color:"var(--color-text-light)"},children:"No pages available"})]})}):Ze().map(G=>n.jsxs("label",{className:"flex items-center p-3 rounded cursor-pointer hover:bg-gray-100",style:{backgroundColor:K.has(G._id||G.id)?"rgba(0,0,0,0.05)":"transparent"},children:[n.jsx("input",{type:"checkbox",checked:K.has(G._id||G.id),onChange:()=>Ye(G._id||G.id),className:"mr-3"}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:G.name||G.title})})]},G._id||G.id))})}),n.jsxs("div",{className:"p-6 border-t flex gap-3 justify-end",style:{borderColor:"var(--color-border-light)"},children:[n.jsx("button",{onClick:()=>F(null),className:"px-4 py-2 border-2 rounded font-semibold",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},children:"Cancel"}),n.jsxs("button",{onClick:tt,className:"px-4 py-2 rounded font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:G=>G.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:G=>G.target.style.backgroundColor="var(--color-accent-primary)",children:["Add Selected (",K.size,")"]})]})]})})]})})},pI=()=>{const[e,t]=S.useState([]),[r,s]=S.useState(null),[a,l]=S.useState(""),[c,u]=S.useState(!0),[h,f]=S.useState(!1),[m,g]=S.useState(""),[y,b]=S.useState({}),[j,N]=S.useState({}),[C,w]=S.useState("chat"),[T,E]=S.useState([]),[O,R]=S.useState([]),L=S.useRef(null),z=S.useRef(!0),q="http://localhost:5000",I=localStorage.getItem("adminName")||"Admin";S.useEffect(()=>{H();const $=setInterval(()=>{H(),r&&W(r)},2e3);return()=>clearInterval($)},[r]),S.useEffect(()=>{C==="chat"?H():C==="contact"?ne():C==="newsletter"&&F()},[C]),S.useEffect(()=>{L.current?.scrollIntoView({behavior:"smooth"})},[r?.messages]);const H=async()=>{try{const $=localStorage.getItem("token"),ce=await fetch(`${q}/api/forms/contact?limit=100&status=all`,{headers:{Authorization:`Bearer ${$}`}});if(!ce.ok)throw new Error("Failed to fetch conversations");const B=((await ce.json()).data||[]).filter(K=>{const de=K.messages||[],ve=de.filter(He=>He.subject&&He.subject!=="Chat Support").length,je=de.filter(He=>!He.subject||He.subject==="Chat Support").length;return K.fromContactForm===!1||ve>0&&je>0||je>0&&ve===0});t(B),u(!1);const P={};B.forEach(K=>{const de=(K.messages||[]).filter(ve=>ve.sender==="user"&&!ve.isRead).length;de>0&&(P[K._id]=de)}),b(P),z.current&&!r&&B&&B.length>0&&(s(B[0]),W(B[0]),z.current=!1)}catch{ee.error("Failed to load conversations"),u(!1)}},W=async $=>{if(!(!$||!$._id))try{const ce=localStorage.getItem("token"),A=await fetch(`${q}/api/forms/contact/${$._id}`,{headers:{Authorization:`Bearer ${ce}`}});if(!A.ok)throw new Error("Failed to fetch conversation");const B=await A.json();s(B.data);const P=(B.data.messages||[]).filter(K=>K.sender==="user"&&!K.isRead).length;b(K=>{const de={...K};return P===0?delete de[$._id]:de[$._id]=P,de})}catch{ee.error("Failed to load conversation")}},ie=$=>{s($),b(ce=>{const A={...ce};return delete A[$._id],A}),W($)},Y=async $=>{if($.preventDefault(),!a.trim()){ee.error("Please enter a message");return}if(!r){ee.error("Please select a conversation");return}f(!0);try{const ce=localStorage.getItem("token");if(!(await fetch(`${q}/api/forms/contact/admin/send`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ce}`},body:JSON.stringify({userEmail:r.userEmail,message:a.trim(),senderName:I})})).ok)throw new Error("Failed to send message");ee.success("Message sent"),l(""),W(r.conversationId)}catch(ce){ee.error(ce.message||"Failed to send message")}finally{f(!1)}},ne=async()=>{try{const $=localStorage.getItem("token"),ce=await fetch(`${q}/api/forms/contact?limit=100&status=all`,{headers:{Authorization:`Bearer ${$}`}});if(!ce.ok)throw new Error("Failed to fetch contact submissions");const B=((await ce.json()).data||[]).filter(P=>(P.messages||[]).filter(ve=>ve.subject&&ve.subject!=="Chat Support").length>0?!0:(P.fromContactForm===!1,!1));E(B)}catch{ee.error("Failed to load contact submissions")}},F=async()=>{try{const $=localStorage.getItem("token"),ce=await fetch(`${q}/api/newsletter?limit=100`,{headers:{Authorization:`Bearer ${$}`}});if(!ce.ok)throw new Error("Failed to fetch newsletter subscriptions");const A=await ce.json();R(A.data||[])}catch{ee.error("Failed to load newsletter subscriptions")}},M=async $=>{try{const ce=localStorage.getItem("token"),A=await fetch(`${q}/api/forms/contact/${$._id}/moveToChat`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ce}`}});if(!A.ok)throw new Error("Failed to move contact to chat");const B=await A.json();s(B.data),w("chat"),W(B.data),H(),ee.success("Contact moved to chat successfully")}catch{ee.error("Failed to move contact to chat")}},_=e.filter($=>$.userEmail&&$.userEmail.toLowerCase().includes(m.toLowerCase())||$.userName&&$.userName.toLowerCase().includes(m.toLowerCase())),X=$=>{const ce=new Date($);return(new Date-ce)/(1e3*60*60)<24?ce.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):ce.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return c?n.jsx(ns,{activeTab:"chat",children:n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading conversations..."})]})})}):n.jsx(ns,{activeTab:"chat",children:n.jsxs("div",{className:"flex flex-col h-[calc(100vh-64px)]",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsxs("div",{className:"flex border-b",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsxs("button",{onClick:()=>w("chat"),className:`flex items-center gap-2 px-6 py-4 font-semibold transition ${C==="chat"?"border-b-2":""}`,style:{color:C==="chat"?"var(--color-accent-primary)":"var(--color-text-light)",borderBottomColor:C==="chat"?"var(--color-accent-primary)":"transparent"},children:[n.jsx(Pc,{size:18}),"Chat"]}),n.jsxs("button",{onClick:()=>w("contact"),className:`flex items-center gap-2 px-6 py-4 font-semibold transition ${C==="contact"?"border-b-2":""}`,style:{color:C==="contact"?"var(--color-accent-primary)":"var(--color-text-light)",borderBottomColor:C==="contact"?"var(--color-accent-primary)":"transparent"},children:[n.jsx(Cn,{size:18}),"Contact"]}),n.jsxs("button",{onClick:()=>w("newsletter"),className:`flex items-center gap-2 px-6 py-4 font-semibold transition ${C==="newsletter"?"border-b-2":""}`,style:{color:C==="newsletter"?"var(--color-accent-primary)":"var(--color-text-light)",borderBottomColor:C==="newsletter"?"var(--color-accent-primary)":"transparent"},children:[n.jsx(u4,{size:18}),"Newsletter"]})]}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[C==="chat"&&n.jsxs("div",{className:"flex w-full overflow-hidden",children:[n.jsxs("div",{className:"w-80",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderRightWidth:"1px"},children:[n.jsxs("div",{className:"p-4",style:{borderColor:"var(--color-border-light)",borderBottomWidth:"1px"},children:[n.jsx("h1",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Support Chat"}),n.jsxs("div",{className:"relative",children:[n.jsx(Zs,{className:"absolute left-3 top-3",style:{color:"var(--color-text-light)"}}),n.jsx("input",{type:"text",placeholder:"Search conversations...",value:m,onChange:$=>g($.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:outline-none",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},onFocus:$=>$.target.style.boxShadow="0 0 0 2px var(--color-accent-primary)33"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:_.length===0?n.jsx("div",{className:"p-4 text-center",style:{color:"var(--color-text-light)"},children:m?"No conversations found":"No conversations yet"}):_.map($=>n.jsxs("div",{onClick:()=>ie($),className:`p-4 border-b cursor-pointer transition relative ${r?._id===$._id?"bg-blue-50 border-l-4":"hover:bg-gray-50"}`,style:{borderColor:r?._id===$._id?"var(--color-accent-primary)":"var(--color-border-light)",backgroundColor:(y[$._id]||0)>0?"rgba(255, 193, 7, 0.05)":r?._id===$._id?"rgba(var(--color-accent-primary-rgb), 0.05)":"transparent",overflow:"visible"},children:[(y[$._id]||0)>0&&n.jsx("div",{className:"absolute top-2 right-2 flex items-center gap-2",children:n.jsx("div",{className:"flex items-center justify-center text-white font-bold rounded-full animate-pulse",style:{backgroundColor:"#dc2626",width:"32px",height:"32px",minWidth:"32px",fontSize:"14px",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.6)",border:"2px solid white",zIndex:10},children:y[$._id]>9?"9+":y[$._id]})}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`flex-shrink-0 mt-1 ${$.lastMessageSender==="admin"?"text-green-500":(y[$._id]||0)>0?"text-red-500":"text-blue-500"}`,children:n.jsx(vA,{size:12})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("p",{className:`font-semibold truncate ${(y[$._id]||0)>0?"text-red-600":""}`,style:{color:(y[$._id]||0)>0?"#dc2626":"var(--color-text-primary)"},children:$.userName||$.userEmail||"Unknown"}),(y[$._id]||0)>0&&n.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full",style:{backgroundColor:"#fee2e2",color:"#dc2626"},children:"NEW"})]}),n.jsx("p",{className:"text-sm truncate",style:{color:"var(--color-text-light)"},children:$.userEmail||""}),n.jsx("p",{className:"text-xs mt-1 font-semibold",style:{color:(y[$._id]||0)>0?"#dc2626":"var(--color-text-light)"},children:(y[$._id]||0)>0?`${y[$._id]} unread message${y[$._id]>1?"s":""}`:`${$.messageCount} messages`})]}),n.jsx("span",{className:"flex-shrink-0 text-xs",style:{color:"var(--color-text-light)"},children:X($.lastMessageAt)})]})]},$._id))})]}),n.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-6 border-b flex-shrink-0",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:r.userName||r.userEmail}),n.jsx("p",{style:{color:"var(--color-text-light)"},children:r.userEmail}),r.userPhone&&n.jsx("p",{style:{color:"var(--color-text-light)"},children:r.userPhone})]}),n.jsx("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),s(null)},className:"p-2 rounded-lg transition hover:bg-red-100",style:{color:"#dc2626"},title:"Close chat",children:n.jsx(Vt,{size:24})})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 min-h-0",style:{backgroundColor:"var(--color-bg-primary)"},children:[r.messages&&r.messages.length>0?r.messages.map(($,ce)=>n.jsx("div",{className:`flex ${$.sender==="admin"?"justify-start":"justify-end"}`,children:n.jsxs("div",{className:`${$.sender==="admin"?"bg-green-100 text-gray-900":"text-white"} p-4 rounded-lg max-w-xs shadow-md`,style:$.sender!=="admin"?{backgroundColor:"var(--color-accent-primary)"}:{},children:[n.jsx("p",{className:`text-sm font-semibold mb-1 ${$.sender==="admin"?"text-gray-700":"text-green-100"}`,children:$.senderName}),n.jsx("p",{className:"whitespace-pre-wrap text-sm",children:$.message}),n.jsx("p",{className:"text-xs mt-2 opacity-75",children:new Date($.createdAt).toLocaleString()})]})},$._id||ce)):n.jsx("div",{className:"flex justify-center items-center h-full",style:{color:"var(--color-text-light)"},children:"No messages yet"}),n.jsx("div",{ref:L})]}),n.jsx("div",{className:"border-t p-4 flex-shrink-0",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-primary)"},children:n.jsxs("form",{onSubmit:Y,className:"space-y-3",children:[n.jsx("textarea",{value:a,onChange:$=>l($.target.value),placeholder:"Type your message...",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 resize-none text-sm",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-section)"},rows:"2",disabled:h,onFocus:$=>$.target.style.boxShadow="0 0 0 2px var(--color-accent-primary)33"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{type:"submit",disabled:h||!a.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 text-white font-semibold rounded-lg transition text-sm disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:$=>!$.target.disabled&&($.target.style.filter="brightness(1.1)"),onMouseLeave:$=>!$.target.disabled&&($.target.style.filter="brightness(1)"),children:[n.jsx($c,{size:14}),h?"Sending...":"Send Message"]}),n.jsx("button",{type:"button",onClick:()=>l(""),className:"px-4 py-2 rounded-lg font-semibold transition text-sm",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},onMouseEnter:$=>$.target.style.backgroundColor="var(--color-border-light)",onMouseLeave:$=>$.target.style.backgroundColor="var(--color-bg-section)",children:"Clear"})]})]})})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center",style:{backgroundColor:"var(--color-bg-primary)"},children:n.jsxs("div",{className:"text-center",children:[n.jsx(Pc,{size:64,className:"mx-auto mb-6",style:{color:"var(--color-accent-primary)",opacity:.3}}),n.jsx("p",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"No Conversation Selected"}),n.jsx("p",{style:{color:"var(--color-text-light)",maxWidth:"400px"},children:"Select a conversation from the list on the left to start chatting with customers"})]})})})]}),C==="contact"&&n.jsx("div",{className:"w-full flex flex-col overflow-hidden",style:{backgroundColor:"var(--color-bg-primary)"},children:T.length===0?n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",style:{color:"var(--color-text-light)"},children:[n.jsx(Cn,{size:64,className:"mx-auto mb-4",style:{color:"var(--color-accent-primary)"}}),n.jsx("p",{className:"text-xl font-semibold",children:"No Contact Submissions"}),n.jsx("p",{className:"text-sm mt-2",children:"Contact form submissions will appear here"})]})}):n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsx("div",{className:"space-y-4 p-6",children:T.map($=>n.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:$.movedToChat?"var(--color-success)":"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--color-text-primary)"},children:$.userName||"Unknown"}),$.movedToChat&&n.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded text-white",style:{backgroundColor:"var(--color-success)"},children:"Moved"})]}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:$.userEmail}),$.userPhone&&n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:$.userPhone})]}),n.jsxs("div",{className:" flex gap-2 flex-col items-end ",children:[n.jsx("div",{className:"text-xs text-right",style:{color:"var(--color-text-light)"},children:new Date($.createdAt||$.lastMessageAt).toLocaleDateString()}),!$.movedToChat&&n.jsx("button",{onClick:()=>M($),className:"flex-1 px-4 py-2 text-white font-semibold rounded-lg transition text-sm",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:ce=>ce.target.style.filter="brightness(1.1)",onMouseLeave:ce=>ce.target.style.filter="brightness(1)",children:"Move to Chat"})]})]}),n.jsxs("div",{className:"mb-3 p-3 rounded",style:{backgroundColor:"var(--color-bg-primary)"},children:[n.jsx("p",{className:"text-sm mb-2 font-semibold",style:{color:"var(--color-text-primary)"},children:$.messages?.[0]?.subject||$.messages?.[0]?.message?.substring(0,50)||"Message"}),n.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:$.messages?.[0]?.message||"No content"})]})]},$._id))})})}),C==="newsletter"&&n.jsx("div",{className:"w-full flex flex-col overflow-hidden",style:{backgroundColor:"var(--color-bg-primary)"},children:O.length===0?n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",style:{color:"var(--color-text-light)"},children:[n.jsx(u4,{size:64,className:"mx-auto mb-4",style:{color:"var(--color-accent-primary)"}}),n.jsx("p",{className:"text-xl font-semibold",children:"No Newsletter Subscribers"}),n.jsx("p",{className:"text-sm mt-2",children:"Newsletter subscriptions will appear here"})]})}):n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("h2",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:["Newsletter Subscribers (",O.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderColor:"var(--color-border-light)",borderBottomWidth:"2px"},children:[n.jsx("th",{className:"text-left py-3 px-4 font-semibold",style:{color:"var(--color-text-primary)"},children:"Email"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold",style:{color:"var(--color-text-primary)"},children:"Subscribed"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold",style:{color:"var(--color-text-primary)"},children:"Status"})]})}),n.jsx("tbody",{children:O.map($=>n.jsxs("tr",{style:{borderColor:"var(--color-border-light)",borderBottomWidth:"1px"},children:[n.jsx("td",{className:"py-3 px-4",style:{color:"var(--color-text-primary)"},children:$.email}),n.jsx("td",{className:"py-3 px-4 text-sm",style:{color:"var(--color-text-light)"},children:new Date($.createdAt||$.subscribedAt).toLocaleDateString()}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:$.isSubscribed?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:$.isSubscribed?"#22c55e":"#ef4444"},children:$.isSubscribed?"Active":"Unsubscribed"})})]},$._id))})]})})]})})})]})]})})},fc="http://localhost:5000",mI=()=>{const[e,t]=S.useState([]),[r,s]=S.useState(!1),[a,l]=S.useState(""),[c,u]=S.useState(!1),[h,f]=S.useState(null),[m,g]=S.useState([]),[y,b]=S.useState(""),[j,N]=S.useState(!1),[C,w]=S.useState({code:"",description:"",discountType:"percentage",discountValue:0,productId:"",maxUses:"",validFrom:"",validUntil:"",isActive:!0,minimumOrderValue:0}),T=async()=>{s(!0);try{const Y=localStorage.getItem("token"),ne=await fetch(`${fc}/api/coupons`,{headers:{Authorization:`Bearer ${Y}`}});if(!ne.ok)throw new Error("Failed to fetch coupons");const F=await ne.json();t(F)}catch(Y){ee.error(Y.message)}finally{s(!1)}},E=async()=>{try{const Y=await fetch(`${fc}/api/products`);if(!Y.ok)throw new Error("Failed to fetch products");const ne=await Y.json(),F=Array.isArray(ne)?ne:ne.data||ne.products||[];g(F)}catch(Y){ee.error(Y.message),g([])}};S.useEffect(()=>{T(),E()},[]);const O=e.filter(Y=>Y.code.toLowerCase().includes(a.toLowerCase())||Y.description.toLowerCase().includes(a.toLowerCase())),R=Y=>Y.maxUses&&Y.currentUses>=Y.maxUses,L=Y=>Y.validUntil?new Date(Y.validUntil)<new Date:!1,z=Y=>Y.isActive?L(Y)?n.jsxs("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[n.jsx(f4,{})," Expired"]}):R(Y)?n.jsxs("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[n.jsx(f4,{})," Limit Reached"]}):n.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-semibold",children:"Active"}):n.jsx("span",{className:"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs font-semibold",children:"Inactive"}),q=Y=>{const{name:ne,value:F,type:M,checked:_}=Y.target;w({...C,[ne]:M==="checkbox"?_:F})},I=async Y=>{Y.preventDefault();try{const ne=localStorage.getItem("token");if(!C.code.trim()){ee.error("Coupon code is required");return}if(C.discountType==="percentage"&&(C.discountValue<0||C.discountValue>100)){ee.error("Percentage must be between 0 and 100");return}const F=h?`${fc}/api/coupons/${h._id}`:`${fc}/api/coupons`,_=await fetch(F,{method:h?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`},body:JSON.stringify({...C,discountValue:parseFloat(C.discountValue),minimumOrderValue:parseFloat(C.minimumOrderValue),maxUses:C.maxUses?parseInt(C.maxUses):null,productId:C.productId||null})});if(!_.ok){const X=await _.json();throw new Error(X.message)}ee.success(h?"Coupon updated successfully":"Coupon created successfully"),T(),ie(),u(!1)}catch(ne){ee.error(ne.message)}},H=Y=>{f(Y),w({code:Y.code,description:Y.description||"",discountType:Y.discountType,discountValue:Y.discountValue,productId:Y.productId?._id||"",maxUses:Y.maxUses||"",validFrom:Y.validFrom?new Date(Y.validFrom).toISOString().split("T")[0]:"",validUntil:Y.validUntil?new Date(Y.validUntil).toISOString().split("T")[0]:"",isActive:Y.isActive,minimumOrderValue:Y.minimumOrderValue||0}),u(!0)},W=async Y=>{if(window.confirm("Are you sure you want to delete this coupon?"))try{const ne=localStorage.getItem("token");if(!(await fetch(`${fc}/api/coupons/${Y}`,{method:"DELETE",headers:{Authorization:`Bearer ${ne}`}})).ok)throw new Error("Failed to delete coupon");ee.success("Coupon deleted successfully"),T()}catch(ne){ee.error(ne.message)}},ie=()=>{w({code:"",description:"",discountType:"percentage",discountValue:0,productId:"",maxUses:"",validFrom:"",validUntil:"",isActive:!0,minimumOrderValue:0}),b(""),N(!1),f(null)};return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Coupon Management"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>T(),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition",title:"Refresh coupon list",children:[n.jsx($w,{className:r?"animate-spin":""})," Refresh"]}),n.jsxs("button",{onClick:()=>{ie(),u(!0)},className:"flex items-center gap-2 bg-gray-800 hover:bg-black text-white px-6 py-2 rounded-lg font-semibold transition",children:[n.jsx(js,{})," Create Coupon"]})]})]}),n.jsxs("div",{className:"mb-6 relative w-80",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:n.jsx(Zs,{className:"text-sm"})}),n.jsx("input",{type:"text",placeholder:"Search coupons...",value:a,onChange:Y=>l(Y.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none"}),a&&n.jsx("button",{onClick:()=>l(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:n.jsx(Vt,{className:"text-sm"})})]}),r&&n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(ws,{className:"text-4xl text-gray-700 animate-spin"})}),!r&&n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-100 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap",children:"Code"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap",children:"Discount"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap",children:"Description"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap",children:"Product"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap",children:"Usage"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap",children:"Valid Until"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap",children:"Status"}),n.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-900 whitespace-nowrap",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",children:O.length>0?O.map(Y=>n.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[n.jsx("td",{className:"px-3 py-3 font-mono font-bold text-sm text-gray-900 whitespace-nowrap",children:Y.code}),n.jsx("td",{className:"px-3 py-3 text-sm font-semibold text-gray-900 whitespace-nowrap",children:Y.discountType==="percentage"?`${Y.discountValue}%`:`${Y.discountValue.toFixed(2)}`}),n.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 max-w-xs truncate",children:Y.description||"-"}),n.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 max-w-xs truncate",children:Y.productId?.name?n.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium whitespace-nowrap",title:Y.productId.name,children:Y.productId.name.length>15?Y.productId.name.substring(0,15)+"...":Y.productId.name}):n.jsx("span",{className:"text-gray-500 text-xs italic",children:"All"})}),n.jsx("td",{className:"px-3 py-3 text-sm text-gray-900",children:Y.maxUses?n.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[n.jsxs("span",{className:"font-semibold text-xs",children:[Y.currentUses||0,"/",Y.maxUses]}),n.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5",children:n.jsx("div",{className:`h-1.5 rounded-full transition-all ${R(Y)?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min((Y.currentUses||0)/Y.maxUses*100,100)}%`}})})]}):n.jsx("span",{className:"text-gray-500 text-xs italic",children:"Unlimited"})}),n.jsx("td",{className:"px-3 py-3 text-xs text-gray-700 whitespace-nowrap",children:Y.validUntil?new Date(Y.validUntil).toLocaleDateString():"No limit"}),n.jsx("td",{className:"px-3 py-3 text-sm",children:z(Y)}),n.jsx("td",{className:"px-3 py-3 text-center",children:n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsx("button",{onClick:()=>H(Y),className:"inline-flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-700 hover:bg-blue-200 transition rounded-md",title:"Edit coupon",children:n.jsx(ui,{size:14})}),n.jsx("button",{onClick:()=>W(Y._id),className:"inline-flex items-center justify-center w-8 h-8 bg-red-100 text-red-700 hover:bg-red-200 transition rounded-md",title:"Delete coupon",children:n.jsx(bs,{size:14})})]})})]},Y._id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-600",children:"No coupons found"})})})]})}),c&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",onClick:()=>N(!1),children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-auto",onClick:Y=>Y.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:h?"Edit Coupon":"Create New Coupon"}),n.jsx("button",{onClick:()=>{u(!1),ie()},className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),n.jsxs("form",{onSubmit:I,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Coupon Code *"}),n.jsx("input",{type:"text",name:"code",value:C.code,onChange:q,placeholder:"e.g., SUMMER20",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",disabled:h})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description"}),n.jsx("input",{type:"text",name:"description",value:C.description,onChange:q,placeholder:"e.g., Summer Sale Discount",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Discount Type *"}),n.jsxs("select",{name:"discountType",value:C.discountType,onChange:q,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",children:[n.jsx("option",{value:"percentage",children:"Percentage (%)"}),n.jsx("option",{value:"fixed",children:"Fixed Price ()"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Discount Value *"}),n.jsx("input",{type:"number",name:"discountValue",value:C.discountValue,onChange:q,placeholder:C.discountType==="percentage"?"0-100":"0.00",min:"0",step:C.discountType==="percentage"?"1":"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Apply to Product (Optional - Leave empty for all products)"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search and select product...",value:C.productId?m.find(Y=>Y._id===C.productId)?.name||"":y,onChange:Y=>{b(Y.target.value),N(!0)},onFocus:()=>{N(!0),C.productId&&b("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none"}),C.productId&&n.jsx("button",{type:"button",onClick:()=>{w({...C,productId:""}),b("")},className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:""}),j&&n.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:[n.jsx("div",{className:"sticky top-0 bg-gray-50 border-b px-4 py-2",children:n.jsx("input",{type:"text",placeholder:"Search products...",value:y,onChange:Y=>b(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none text-sm",autoFocus:!0})}),n.jsxs("div",{children:[n.jsx("div",{onClick:()=>{w({...C,productId:""}),b(""),N(!1)},className:"px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm text-gray-600",children:"All Products"}),Array.isArray(m)&&m.filter(Y=>Y.name.toLowerCase().includes(y.toLowerCase())).map(Y=>n.jsx("div",{onClick:()=>{w({...C,productId:Y._id}),b(""),N(!1)},className:"px-4 py-2 hover:bg-blue-50 cursor-pointer text-sm text-gray-900 border-b last:border-b-0",children:Y.name},Y._id)),Array.isArray(m)&&m.filter(Y=>Y.name.toLowerCase().includes(y.toLowerCase())).length===0&&n.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500",children:"No products found"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Valid From"}),n.jsx("input",{type:"date",name:"validFrom",value:C.validFrom,onChange:q,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Valid Until"}),n.jsx("input",{type:"date",name:"validUntil",value:C.validUntil,onChange:q,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Max Uses (Leave empty for unlimited)"}),n.jsx("input",{type:"number",name:"maxUses",value:C.maxUses,onChange:q,placeholder:"e.g., 100",min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Minimum Order Value ()"}),n.jsx("input",{type:"number",name:"minimumOrderValue",value:C.minimumOrderValue,onChange:q,placeholder:"0.00",min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",checked:C.isActive,onChange:q,className:"w-4 h-4 rounded border-gray-300"}),n.jsx("label",{htmlFor:"isActive",className:"ml-3 text-sm font-semibold text-gray-900",children:"Active"})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>{u(!1),ie()},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-900 font-semibold hover:bg-gray-50 transition",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-gray-800 hover:bg-black text-white rounded-lg font-semibold transition",children:h?"Update Coupon":"Create Coupon"})]})]})]})})]})},gI=()=>n.jsx(ns,{activeTab:"coupons",children:n.jsx(mI,{})}),xI=()=>{Sn({title:"Secure Payment Options | Wolf Supplies LTD - PCI DSS Compliant",description:"Wolf Supplies LTD offers secure payment methods: Credit Cards, Apple Pay, and Google Pay. All transactions are PCI DSS Level 1 compliant and SSL encrypted. UK company registered 16070029.",keywords:"payment, secure checkout, credit card, digital wallet, apple pay, google pay, PCI compliance, UK merchant, SSL encrypted",url:typeof window<"u"?window.location.href:""});const[e,t]=S.useState(null),r=[{id:1,name:"Credit & Debit Cards",icon:n.jsx(Sx,{className:"text-4xl text-blue-600"}),description:"We accept all major credit and debit cards including Visa, Mastercard, and Discover.",features:[" Instant payments"," Secure encryption"," No extra fees"," Fast checkout process"," Works worldwide"],cards:[{name:"Visa",icon:n.jsx(Sx,{className:"text-3xl text-blue-600"})},{name:"Mastercard",icon:n.jsx(Ww,{className:"text-3xl text-red-600"})},{name:"Discover",icon:n.jsx(Fw,{className:"text-3xl text-orange-500"})}]},{id:2,name:"Apple Pay",icon:n.jsx(Vw,{className:"text-4xl text-black"}),description:"Quick, easy, and secure payment with your Apple device.",features:[" One-click checkout"," Biometric security"," Works on Apple devices"," Encrypted payments"," No card details stored"],details:"Use your saved credit or debit cards for faster, more secure purchases on supported Apple devices."},{id:3,name:"Google Pay",icon:n.jsx(qw,{className:"text-4xl text-blue-500"}),description:"Fast and simple payment method for Android users.",features:[" Quick checkout"," Biometric authentication"," Works on Android devices"," Safe transactions"," Payment history tracking"],details:"Google Pay lets you pay quickly and securely using your Android device or Chrome browser."}];return n.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[n.jsxs("div",{className:"mb-12 text-center",children:[n.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:"Payment Options"}),n.jsx("p",{className:"text-xl text-[var(--color-text-light)] max-w-3xl mx-auto mb-6",children:"We offer multiple secure payment methods to make shopping with us convenient and safe. Choose the payment method that works best for you."}),n.jsx("div",{className:"bg-[var(--color-bg-section)] border-2 border-[var(--color-accent-primary)] rounded-lg p-4 mb-8 max-w-2xl mx-auto",children:n.jsx("p",{className:"text-[var(--color-text-primary)] font-semibold text-lg",children:" All our prices are VAT-free. The price you see is the price you pay."})})]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:r.map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-lg hover:shadow-xl transition duration-300 overflow-hidden border border-gray-200",children:[n.jsx("div",{className:"p-6 bg-gray-50 cursor-pointer hover:bg-gray-100 transition duration-300",onClick:()=>t(e===a?-1:a),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[s.icon,n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:s.name}),n.jsx("p",{className:"text-gray-600 text-sm",children:s.description})]})]}),n.jsx("div",{className:"text-2xl text-gray-400",children:e===a?"":"+"})]})}),n.jsx("div",{className:"p-6 border-t border-gray-200",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-3",children:"Benefits"}),n.jsx("ul",{className:"grid grid-cols-2 gap-2",children:s.features.map((l,c)=>n.jsx("li",{className:"text-gray-700 text-sm flex items-center",children:l},c))})]}),s.details&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:"How it Works"}),n.jsx("p",{className:"text-gray-600",children:s.details})]}),s.cards&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-3",children:"Supported Cards"}),n.jsx("div",{className:"flex gap-4 flex-wrap",children:s.cards.map((l,c)=>n.jsxs("div",{className:"flex items-center gap-2",children:[l.icon,n.jsx("span",{className:"text-sm text-gray-600",children:l.name})]},c))})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-4",children:n.jsxs("p",{className:"text-sm text-blue-900",children:[n.jsxs("strong",{children:[n.jsx(Lo,{className:"inline mr-2"}),"Secure:"]})," All payments are encrypted and processed securely. Your financial information is never stored on our servers."]})})]})})]},s.id))}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12 border border-gray-200",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Payment Security & Compliance"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Lo,{className:"text-4xl mb-3 text-blue-600 mx-auto"}),n.jsx("h3",{className:"font-bold text-lg mb-2",children:"SSL Encryption"}),n.jsx("p",{className:"text-gray-600",children:"All payment data is encrypted using industry-standard SSL technology."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(To,{className:"text-4xl mb-3 text-green-600 mx-auto"}),n.jsx("h3",{className:"font-bold text-lg mb-2",children:"PCI Compliance"}),n.jsx("p",{className:"text-gray-600",children:"We comply with Payment Card Industry Data Security Standards."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(g4,{className:"text-4xl mb-3 text-red-600 mx-auto"}),n.jsx("h3",{className:"font-bold text-lg mb-2",children:"Fraud Protection"}),n.jsx("p",{className:"text-gray-600",children:"Advanced fraud detection systems protect every transaction."})]})]}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[n.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-3",children:"GDPR Compliance & Data Privacy"}),n.jsxs("ul",{className:"text-purple-900 text-sm space-y-2",children:[n.jsx("li",{children:" We comply with General Data Protection Regulation (GDPR) standards"}),n.jsx("li",{children:" Your personal data is protected and never shared with third parties for marketing without consent"}),n.jsx("li",{children:" You have the right to access, modify, or delete your personal information at any time"}),n.jsx("li",{children:" All data is encrypted and stored securely on compliant servers"}),n.jsx("li",{children:" We only collect data necessary for processing your order and payment"}),n.jsxs("li",{children:[" Read our full ",n.jsx(ze,{to:"/policies/privacy",className:"underline font-semibold",children:"Privacy Policy"})," for more details"]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 mb-12 border border-gray-200",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"Are your payments secure?"}),n.jsx("p",{className:"text-gray-600",children:"Yes, we use SSL encryption and comply with PCI DSS standards to ensure all payments are secure. All transactions are protected with advanced fraud detection systems."})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"Which payment method is fastest?"}),n.jsx("p",{className:"text-gray-600",children:"Apple Pay and Google Pay offer the quickest checkout experience for supported devices. Credit/debit cards are also very fast, typically processed instantly."})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"Can I change my payment method after checkout?"}),n.jsx("p",{className:"text-gray-600",children:"You can contact our support team within 24 hours of placing an order to change your payment method. Once payment is processed, modifications may not be possible."})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"Do you accept international payments?"}),n.jsx("p",{className:"text-gray-600",children:"Yes, all our payment methods accept international transactions. Our prices are displayed in GBP and are VAT-free."})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"Are all prices VAT-free?"}),n.jsx("p",{className:"text-gray-600",children:"Yes, all prices shown on our website are VAT-free. The price you see at checkout is the final price you pay - no additional VAT will be added."})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"How is my personal data protected?"}),n.jsx("p",{className:"text-gray-600",children:"We comply with GDPR regulations and secure all personal data with encryption. Your information is only used for order processing and is never shared with third parties without consent."})]})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-8 mb-12 border border-blue-200",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Business Information & Policies"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[n.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"About Wolf Supplies LTD"}),n.jsxs("ul",{className:"text-gray-700 space-y-3",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Company Name:"})," Wolf Supplies LTD"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Registration:"})," UK Company Number: ",n.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"16070029"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Address:"})," Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Email:"})," ",n.jsx("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"text-blue-600 hover:underline",children:"sales@wolfsuppliesltd.co.uk"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Phone:"})," ",n.jsx("a",{href:"tel:+447398998101",className:"text-blue-600 hover:underline",children:"+44 7398 998101"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Website:"})," ",n.jsx("a",{href:"https://wolfsuppliesltd.co.uk",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"wolfsuppliesltd.co.uk"})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[n.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Our Policies"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsxs("li",{children:[n.jsx(ze,{to:"/policies/shipping",className:"text-blue-600 hover:underline font-semibold",children:" Shipping Policy"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Learn about our delivery times and shipping methods."})]}),n.jsxs("li",{children:[n.jsx(ze,{to:"/policies/returns-refund",className:"text-blue-600 hover:underline font-semibold",children:" Return & Refunds Policy"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"31-day returns, no questions asked. Full refund guarantee."})]}),n.jsxs("li",{children:[n.jsx(ze,{to:"/policies/terms",className:"text-blue-600 hover:underline font-semibold",children:" Terms of Service"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Our complete terms and conditions for shopping with us."})]})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12 border border-gray-200",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Why Shop With Us?"}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(To,{className:"text-4xl text-green-600 mx-auto mb-3"}),n.jsx("h4",{className:"font-bold text-lg mb-2",children:"Verified Business"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"UK Registered Company with verified credentials"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Lo,{className:"text-4xl text-blue-600 mx-auto mb-3"}),n.jsx("h4",{className:"font-bold text-lg mb-2",children:"Secure Payments"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"SSL encrypted transactions and PCI DSS compliant"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(g4,{className:"text-4xl text-red-600 mx-auto mb-3"}),n.jsx("h4",{className:"font-bold text-lg mb-2",children:"Buyer Protection"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"31-day money back guarantee on all purchases"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(To,{className:"text-4xl text-purple-600 mx-auto mb-3"}),n.jsx("h4",{className:"font-bold text-lg mb-2",children:"GDPR Compliant"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Your data privacy is our priority"})]})]})]}),n.jsxs("div",{className:"bg-black rounded-lg p-8 text-center text-white",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Shop?"}),n.jsx("p",{className:"text-xl text-gray-300 mb-6",children:"Browse our products and choose from any of our secure payment methods."}),n.jsx(ze,{to:"/products",className:"inline-block px-8 py-3 bg-white text-black font-bold text-sm uppercase tracking-wider hover:bg-gray-200 transition duration-300 rounded",children:"Continue Shopping"})]})]})})},xn=({children:e})=>{const{isAuthenticated:t,isAdmin:r,loading:s,user:a}=aa();return s?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ws,{className:"animate-spin text-4xl text-gray-700 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Verifying access..."})]})}):t?r?e:n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-black",children:n.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-xl",children:[n.jsx(Lo,{className:"text-5xl text-black mx-auto mb-4"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"You do not have permission to access this page. Only administrators can access this area."}),n.jsx("a",{href:"/",className:"inline-block px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-black transition",children:"Go to Home"})]})}):n.jsx(j9,{to:"/admin/login",replace:!0})},_C=(e,t="desktop")=>{const r=e.style||{};if(t==="desktop")return{...r};const s=e.responsive?.[t]?.style||{};return{...r,...s}},jy=(e,t="desktop")=>{const r=e.advanced||{};if(t==="desktop")return{...r};const s=e.responsive?.[t]?.advanced||{};return{...r,...s}},nx=e=>typeof e=="number"?e:typeof e=="string"?e.toLowerCase().startsWith("javascript:")||e.toLowerCase().startsWith("expression:")?"":e:"",Va=e=>!e&&e!==0?"":typeof e=="number"?`${e}px`:typeof e=="string"&&!isNaN(parseFloat(e))&&e.trim()!==""?`${e}px`:e,PC=(e,t,r,s)=>e&&e===t&&e===r&&e===s?e:null,yI=e=>{if(!e)return{};const t=e.top!==void 0?Va(e.top):"",r=e.right!==void 0?Va(e.right):"",s=e.bottom!==void 0?Va(e.bottom):"",a=e.left!==void 0?Va(e.left):"",l=PC(t,r,s,a);return l?{padding:l}:{...t&&{paddingTop:t},...r&&{paddingRight:r},...s&&{paddingBottom:s},...a&&{paddingLeft:a}}},bI=e=>{if(!e)return{};const t=e.top!==void 0?Va(e.top):"",r=e.right!==void 0?Va(e.right):"",s=e.bottom!==void 0?Va(e.bottom):"",a=e.left!==void 0?Va(e.left):"",l=PC(t,r,s,a);return l?{margin:l}:{...t&&{marginTop:t},...r&&{marginRight:r},...s&&{marginBottom:s},...a&&{marginLeft:a}}},vI=e=>{if(!e||Object.keys(e).length===0)return{};let t=e.width!==void 0?e.width:void 0;t!=null&&t!==""&&(typeof t=="number"?t=`${t}px`:typeof t=="string"&&!/px|em|rem|%|pt/.test(t)&&(t=`${t}px`));const r=e.style!==void 0?e.style:void 0,s=e.color!==void 0?e.color:void 0;let a=e.radius!==void 0?e.radius:void 0;return a!=null&&a!==""&&(typeof a=="number"?a=`${a}px`:typeof a=="string"&&!/px|em|rem|%|pt/.test(a)&&(a=`${a}px`)),{...t&&{borderWidth:t},...r&&{borderStyle:r},...s&&{borderColor:s},...a&&{borderRadius:a}}},o3=e=>{if(!e||Object.keys(e).length===0)return{};const t=Number(e.offsetX)||0,r=Number(e.offsetY)||0,s=Number(e.blur)||0,a=Number(e.spread)||0,l=e.color||"rgba(0, 0, 0, 0.1)";return{boxShadow:`${e.inset?"inset ":""}${t}px ${r}px ${s}px ${a}px ${l}`}},jI=e=>{const t={},r={color:"color",textColor:"color",bgColor:"backgroundColor",backgroundColor:"backgroundColor"},s={hoverColor:"hoverColor",textHoverColor:"hoverColor",hoverBgColor:"hoverBgColor"},a=new Set;for(const[l,c]of Object.entries(e)){if(c==null||c==="")continue;if(s[l]){t[s[l]]=nx(c);continue}if(r[l]){const h=r[l];a.has(h)||(t[h]=nx(c),a.add(h));continue}if(l==="border"&&typeof c=="object"){const h=vI(c);Object.assign(t,h);continue}if(l==="shadow"&&typeof c=="object"){const h=o3(c);Object.assign(t,h);continue}if(l==="boxShadow"&&typeof c=="object"){const h=o3(c);Object.assign(t,h);continue}if(l==="padding"&&typeof c=="object"){const h=yI(c);Object.assign(t,h);continue}if(l==="margin"&&typeof c=="object"){const h=bI(c);Object.assign(t,h);continue}if(l==="backgroundImage"&&typeof c=="string"){let h=c;h.startsWith("/api/")&&(h=`${window.location.hostname==="localhost"?`http://${window.location.hostname}:5000`:window.location.origin}${c}`),h.startsWith("url(")?t[l]=h:t[l]=`url('${h}')`;continue}let u=nx(c);typeof u=="number"&&["fontSize","padding","margin","width","height","minHeight","maxHeight","minWidth","maxWidth","top","bottom","left","right","borderRadius","borderWidth","letterSpacing","lineHeight","gap"].includes(l)&&(u=`${u}px`),t[l]=u}return t},wI=({node:e,device:t,isSelected:r,onSelect:s,cssStyle:a,className:l,onClick:c})=>{const u=jy(e,t),h=_C(e,t);if(e.props?.numColumns,e.responsive&&t&&e.responsive[t]){const w=e.responsive[t];w?.props?.numColumns&&w.props.numColumns}const f=u?.direction||"column",m=h?.gap??"0px",g=e.props?.contentWidthMode||"full_width",y=e.props?.boxedMaxWidth??1140,b=e.props?.horizontalPadding??15,j=()=>{if(a?.boxShadow)return a.boxShadow};a?.display;const N={width:"100%",display:"flex",transition:"all 0.2s ease",boxSizing:"border-box",flexDirection:f==="row"?"row":"column",flexWrap:"wrap",gap:m,justifyContent:u?.justifyContent||"flex-start",alignItems:u?.alignItems||"stretch",...a?.backgroundColor&&{backgroundColor:a.backgroundColor},...a?.backgroundImage&&{backgroundImage:a.backgroundImage},...a?.backgroundPosition&&{backgroundPosition:a.backgroundPosition},...a?.backgroundSize&&{backgroundSize:a.backgroundSize},...a?.backgroundRepeat&&{backgroundRepeat:a.backgroundRepeat},...a?.backgroundAttachment&&{backgroundAttachment:a.backgroundAttachment},...a?.borderWidth&&{borderWidth:a.borderWidth,borderStyle:a.borderStyle||"solid",borderColor:a.borderColor||"#000000"},...a?.borderRadius&&{borderRadius:a.borderRadius},...a?.borderTop&&{borderTop:a.borderTop},...a?.borderRight&&{borderRight:a.borderRight},...a?.borderBottom&&{borderBottom:a.borderBottom},...a?.borderLeft&&{borderLeft:a.borderLeft},...j()&&{boxShadow:j()},...a?.textShadow&&{textShadow:a.textShadow},...a?.height&&{height:a.height},...a?.minHeight&&{minHeight:a.minHeight},...a?.maxHeight&&{maxHeight:a.maxHeight},...a?.width&&{width:a.width},...a?.minWidth&&{minWidth:a.minWidth},...a?.maxWidth&&{maxWidth:a.maxWidth},...a?.padding&&{padding:a.padding},...a?.paddingTop&&{paddingTop:a.paddingTop},...a?.paddingRight&&{paddingRight:a.paddingRight},...a?.paddingBottom&&{paddingBottom:a.paddingBottom},...a?.paddingLeft&&{paddingLeft:a.paddingLeft},...a?.margin&&{margin:a.margin},...a?.marginTop&&{marginTop:a.marginTop},...a?.marginRight&&{marginRight:a.marginRight},...a?.marginBottom&&{marginBottom:a.marginBottom},...a?.marginLeft&&{marginLeft:a.marginLeft},...a?.opacity&&{opacity:a.opacity},...a?.visibility&&{visibility:a.visibility},...a?.overflow&&{overflow:a.overflow},...a?.overflowX&&{overflowX:a.overflowX},...a?.overflowY&&{overflowY:a.overflowY},...a?.position&&{position:a.position},...a?.top&&{top:a.top},...a?.right&&{right:a.right},...a?.bottom&&{bottom:a.bottom},...a?.left&&{left:a.left},...a?.zIndex&&{zIndex:a.zIndex},...a?.transform&&{transform:a.transform},...a?.transformOrigin&&{transformOrigin:a.transformOrigin},...g==="boxed"?{maxWidth:`${y}px`,marginLeft:"auto",marginRight:"auto",paddingLeft:`${b}px`,paddingRight:`${b}px`}:{maxWidth:"none",marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0}},C={"--boxed-max":`${y}px`,"--pad-x":`${b}px`};return n.jsx("section",{style:{...N,...C},className:`section-node builder-section cursor-pointer ${g==="boxed"?"is-boxed":"is-full"} ${r?"ring-2 ring-blue-500 shadow-lg":"shadow-md"}`,onClick:c,children:e.children?.map(w=>n.jsx(Yf,{node:w,device:t,onSelect:s,isSelected:!1},w.id))})},wy=()=>`node-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,l3=e=>({id:wy(),kind:"section",children:[],props:{numColumns:2,contentWidth:"full"},style:{backgroundColor:"#ffffff",padding:"40px",gap:"20px"},advanced:{display:"grid",customClass:""},...e}),i3=e=>({id:wy(),kind:"column",children:[],props:{verticalAlign:"flex-start",horizontalAlign:"flex-start"},style:{backgroundColor:"transparent"},advanced:{display:"flex",flexDirection:"column",width:50},...e}),a0=(e,t,r)=>({id:wy(),kind:"widget",widgetType:e,children:[],props:t||{},style:{},advanced:{},...r}),NI={heading:{content:"Heading",level:"h2"},text:{content:"Enter your text here"},button:{content:"Click Me",link:"#"},image:{src:"",alt:"Image"},video:{src:"",autoplay:!1},divider:{type:"solid"},spacer:{height:"20px"},iconList:{items:[]}},CI=({node:e,device:t,isSelected:r,onSelect:s,cssStyle:a,className:l,onClick:c})=>{const[u,h]=S.useState(!1),f=S.useContext(Go),m=jy(e,t),g=m?.display||"flex",y=m?.direction||m?.flexDirection||"column",b=m?.width||a?.width,j=e.style?.gap??e.props?.gap??"0px",N=e.props?.verticalAlign||"flex-start",C=e.props?.horizontalAlign||"flex-start",w=()=>a?.boxShadow??void 0,T=L=>{L.preventDefault(),L.stopPropagation(),L.dataTransfer.dropEffect="copy",h(!0)},E=L=>{L.preventDefault(),L.stopPropagation(),h(!1)},O=L=>{L.preventDefault(),L.stopPropagation(),h(!1);const z=L.dataTransfer.getData("widgetType");if(z&&f?.insertNewNode){const q=a0(z,NI[z]||{});f.insertNewNode(e.id,q)}},R={display:g,flexDirection:y,alignItems:N,justifyContent:C,position:"relative",...b&&{width:b},minWidth:"0px",gap:j,transition:"all 0.2s ease",boxSizing:"border-box",...a?.padding&&{padding:a.padding},...a?.paddingTop&&{paddingTop:a.paddingTop},...a?.paddingRight&&{paddingRight:a.paddingRight},...a?.paddingBottom&&{paddingBottom:a.paddingBottom},...a?.paddingLeft&&{paddingLeft:a.paddingLeft},...a?.backgroundColor&&{backgroundColor:u?"#eff6ff":a.backgroundColor},...!a?.backgroundColor&&u&&{backgroundColor:"#eff6ff"},...!a?.backgroundColor&&!u&&!a?.backgroundImage&&{backgroundColor:"transparent"},...a?.borderRadius&&{borderRadius:a.borderRadius},...a?.height&&{height:a.height},...a?.minHeight&&{minHeight:a.minHeight},...a?.borderWidth&&{borderWidth:a.borderWidth,borderStyle:a.borderStyle||"solid",borderColor:a.borderColor||"#000000"},...w()&&{boxShadow:w()},...a?.margin&&{margin:a.margin},...a?.marginTop&&{marginTop:a.marginTop},...a?.marginRight&&{marginRight:a.marginRight},...a?.marginBottom&&{marginBottom:a.marginBottom},...a?.marginLeft&&{marginLeft:a.marginLeft}};return n.jsxs("div",{style:R,className:`column-node cursor-pointer hover:border-blue-400 ${r?"ring-2 ring-blue-500 shadow-lg":"shadow-sm"}`,onClick:c,onDragOver:T,onDragLeave:E,onDrop:O,children:[e.children?.map(L=>n.jsx(Yf,{node:L,device:t,onSelect:s,isSelected:!1},L.id)),(!e.children||e.children.length===0)&&n.jsx("div",{className:"flex items-center justify-center h-20 w-full text-gray-400 text-sm border-2 border-dashed border-gray-300 rounded",children:"+ Add Widget"})]})},Gf=new Map,la=e=>{Gf.set(e.widgetType,e)},SI=e=>Gf.get(e),kI=()=>{const e={};for(const t of Gf.values()){const r=t.category||"Other";e[r]||(e[r]=[]),e[r].push(t)}return e},EI=e=>Gf.get(e)?.renderer,TI=({node:e,isEditing:t,onEdit:r,cssStyle:s={}})=>{const a=e.props?.content||"Heading",l=e.props?.level||"h2",[c,u]=vt.useState(!1),h=s?.color||e.style?.color||"#000000",f=s?.hoverColor||e.style?.hoverColor||h,m={cursor:t?"pointer":"default",width:e.style?.width||"100%",fontSize:e.style?.fontSize?typeof e.style.fontSize=="number"?`${e.style.fontSize}px`:e.style.fontSize:void 0,textAlign:e.style?.textAlign||"left",marginTop:e.style?.margin?.top?`${e.style.margin.top}px`:void 0,marginRight:e.style?.margin?.right?`${e.style.margin.right}px`:void 0,marginBottom:e.style?.margin?.bottom?`${e.style.margin.bottom}px`:void 0,marginLeft:e.style?.margin?.left?`${e.style.margin.left}px`:void 0,paddingTop:e.style?.padding?.top?`${e.style.padding.top}px`:void 0,paddingRight:e.style?.padding?.right?`${e.style.padding.right}px`:void 0,paddingBottom:e.style?.padding?.bottom?`${e.style.padding.bottom}px`:void 0,paddingLeft:e.style?.padding?.left?`${e.style.padding.left}px`:void 0,color:h},g={margin:0,cursor:t?"pointer":"default",fontSize:e.style?.fontSize,color:c?f:h,fontWeight:e.style?.fontWeight||"inherit",textAlign:e.style?.textAlign||"left",lineHeight:e.style?.lineHeight||"inherit",letterSpacing:e.style?.letterSpacing||"inherit",transition:"color 0.3s ease"},y={onClick:r,style:g,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1)},b=(()=>{switch(l){case"h1":return n.jsx("h1",{...y,children:a});case"h3":return n.jsx("h3",{...y,children:a});case"h4":return n.jsx("h4",{...y,children:a});case"h5":return n.jsx("h5",{...y,children:a});case"h6":return n.jsx("h6",{...y,children:a});case"h2":default:return n.jsx("h2",{...y,children:a})}})();return n.jsx("div",{style:m,onClick:r,children:b})};la({widgetType:"heading",name:"Heading",icon:"H",renderer:TI,schema:{content:[{type:"text",label:"Content",name:"content",default:"Heading"},{type:"text",label:"Link",name:"link",placeholder:"/page or https://example.com",default:""},{type:"toggle",label:"Open in New Tab",name:"openNewTab",default:!1},{type:"select",label:"Heading Level",name:"level",options:[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}],default:"h2"}],style:[{type:"heading",label:"Sizing",name:"sizing"},{type:"unit-number",label:"Width",name:"width",units:["px","rem","em","%","vw","auto"],defaultUnit:"%",default:"100%",responsive:!0},{type:"heading",label:"Typography",name:"typography"},{type:"slider",label:"Font Size",name:"fontSize",min:12,max:72,unit:"px",responsive:!0},{type:"color",label:"Color",name:"color",default:"#000000"},{type:"color",label:"Hover Color",name:"hoverColor",default:"#0066cc"},{type:"select",label:"Font Weight",name:"fontWeight",options:[{label:"Light",value:"300"},{label:"Normal",value:"400"},{label:"Medium",value:"500"},{label:"Bold",value:"700"},{label:"Extra Bold",value:"900"}],default:"700"},{type:"select",label:"Text Align",name:"textAlign",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}],default:"left",responsive:!0},{type:"slider",label:"Line Height",name:"lineHeight",min:1,max:3,step:.1,default:1.2,responsive:!0},{type:"slider",label:"Letter Spacing",name:"letterSpacing",min:-2,max:5,unit:"px",default:0},{type:"heading",label:"Spacing",name:"spacing"},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0},{type:"dimensions",label:"Padding",name:"padding",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{content:"Heading",level:"h2"},category:"Basic"});const AI=({node:e,isEditing:t,onEdit:r,cssStyle:s={}})=>{const a=e.props?.content||"Lorem ipsum dolor sit amet",[l,c]=vt.useState(!1),u=s?.color||e.style?.color||"#000000",h=s?.hoverColor||e.style?.hoverColor||u,f=typeof a=="string"&&/<[^>]*>/.test(a),m={cursor:t?"pointer":"default",width:e.style?.width||"100%",marginTop:e.style?.margin?.top?`${e.style.margin.top}px`:void 0,marginRight:e.style?.margin?.right?`${e.style.margin.right}px`:void 0,marginBottom:e.style?.margin?.bottom?`${e.style.margin.bottom}px`:void 0,marginLeft:e.style?.margin?.left?`${e.style.margin.left}px`:void 0,paddingTop:e.style?.padding?.top?`${e.style.padding.top}px`:void 0,paddingRight:e.style?.padding?.right?`${e.style.padding.right}px`:void 0,paddingBottom:e.style?.padding?.bottom?`${e.style.padding.bottom}px`:void 0,paddingLeft:e.style?.padding?.left?`${e.style.padding.left}px`:void 0,fontSize:e.style?.fontSize?`${e.style.fontSize}px`:"16px",color:l?h:u,fontWeight:e.style?.fontWeight||"inherit",textAlign:e.style?.textAlign||"left",lineHeight:e.style?.lineHeight||"1.6",letterSpacing:e.style?.letterSpacing?`${e.style.letterSpacing}px`:"inherit",transition:"color 0.3s ease"},g={margin:0,lineHeight:e.style?.lineHeight||"1.6",color:l?h:u};return n.jsx("div",{onClick:r,style:m,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:f?n.jsx("div",{style:g,dangerouslySetInnerHTML:{__html:a}}):n.jsx("p",{style:g,children:a})})};la({widgetType:"text",name:"Text",icon:"Text",renderer:AI,schema:{content:[{type:"textarea",label:"Content",name:"content",default:"Lorem ipsum dolor sit amet",richText:!0}],style:[{type:"heading",label:"Sizing",name:"sizing"},{type:"unit-number",label:"Width",name:"width",units:["px","rem","em","%","vw","auto"],defaultUnit:"%",default:"100%",responsive:!0},{type:"heading",label:"Typography",name:"typography"},{type:"slider",label:"Font Size",name:"fontSize",min:10,max:48,unit:"px",default:16,responsive:!0},{type:"color",label:"Color",name:"color",default:"#333333"},{type:"color",label:"Hover Color",name:"hoverColor",default:"#0066cc"},{type:"select",label:"Font Weight",name:"fontWeight",options:[{label:"Light",value:"300"},{label:"Normal",value:"400"},{label:"Medium",value:"500"},{label:"Bold",value:"700"}],default:"400"},{type:"select",label:"Text Align",name:"textAlign",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}],default:"left",responsive:!0},{type:"slider",label:"Line Height",name:"lineHeight",min:1,max:3,step:.1,default:1.6,responsive:!0},{type:"heading",label:"Spacing",name:"spacing"},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0},{type:"dimensions",label:"Padding",name:"padding",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{content:"Lorem ipsum dolor sit amet"},category:"Basic"});const MI=({node:e,device:t="desktop",isEditing:r,onEdit:s,cssStyle:a={}})=>{const l=e.props?.text||"Click Me",c=e.props?.icon||"";e.props?.link,e.props?.style;const[u,h]=vt.useState(!1),f=(M,_)=>{const X=e.style?.[M],$=e.responsive?.[t]?.style?.[M];return $!==void 0?$:X!==void 0?X:_},m=f("paddingTop",12),g=f("paddingRight",24),y=f("paddingBottom",12),b=f("paddingLeft",24),j=f("borderRadius",6),N=f("fontSize",16),C=f("iconPosition","left"),w=a?.color||a?.textColor||e.style?.textColor||"var(--color-bg-primary)",T=a?.backgroundColor||e.style?.bgColor||e.style?.backgroundColor||"var(--color-accent-primary)",E=a?.hoverBackgroundColor||e.style?.hoverBgColor||e.style?.hoverBackgroundColor||T,O=a?.hoverTextColor||a?.hoverColor||e.style?.textHoverColor||e.style?.hoverTextColor||w,R=e.style?.iconSize||16,L=e.style?.iconPadding||6,z=e.style?.iconGap||8,q=e.style?.iconBorderRadius||0,I=u?e.style?.iconHoverColor||"var(--color-bg-primary)":e.style?.iconColor||"var(--color-bg-primary)",H=u?e.style?.iconHoverBackgroundColor||"transparent":e.style?.iconBackgroundColor||"transparent",W=f("alignment","center"),ie=M=>{switch(M){case"left":return"flex-start";case"right":return"flex-end";case"center":return"center";case"justify":return"space-between";default:return"center"}},Y={cursor:r?"pointer":"default",width:e.style?.width?typeof e.style.width=="string"?e.style.width:`${e.style.width}px`:"100%",display:"flex",justifyContent:ie(W),alignItems:"center",marginTop:e.style?.margin?.top?`${e.style.margin.top}px`:void 0,marginRight:e.style?.margin?.right?`${e.style.margin.right}px`:void 0,marginBottom:e.style?.margin?.bottom?`${e.style.margin.bottom}px`:void 0,marginLeft:e.style?.margin?.left?`${e.style.margin.left}px`:void 0,paddingTop:e.style?.padding?.top?`${e.style.padding.top}px`:void 0,paddingRight:e.style?.padding?.right?`${e.style.padding.right}px`:void 0,paddingBottom:e.style?.padding?.bottom?`${e.style.padding.bottom}px`:void 0,paddingLeft:e.style?.padding?.left?`${e.style.padding.left}px`:void 0},ne={padding:`${m}px ${g}px ${y}px ${b}px`,fontSize:`${N}px`,fontWeight:e.style?.fontWeight||"600",borderRadius:`${j}px`,cursor:"pointer",transition:"all 0.3s ease",width:e.style?.buttonWidth||"auto",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:`${z}px`,flexDirection:C==="right"?"row-reverse":"row",color:u?O:w,backgroundColor:u?E:T,border:"none"},F={display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${R+L*2}px`,height:`${R+L*2}px`,padding:`${L}px`,borderRadius:`${q}px`,backgroundColor:H,color:I,transition:"all 0.3s ease",fontSize:`${R}px`};return n.jsx("div",{style:Y,onClick:s,children:n.jsxs("button",{onClick:M=>{M.preventDefault(),s?.()},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:ne,className:`transition ${r?"ring-2 ring-blue-500":""}`,children:[c&&n.jsx("span",{style:F,children:n.jsx("i",{className:c})}),l]})})};la({widgetType:"button",name:"Button",icon:"Button",renderer:MI,schema:{content:[{type:"text",label:"Button Text",name:"text",default:"Click Me"},{type:"text",label:"Icon Class",name:"icon",placeholder:"e.g., fas fa-arrow-right or leave empty",default:""},{type:"text",label:"Link URL",name:"link",placeholder:"e.g., /about or https://example.com",default:""},{type:"toggle",label:"Open in New Tab",name:"openNewTab",default:!1},{type:"select",label:"Style",name:"style",options:[{label:"Primary",value:"primary"},{label:"Secondary",value:"secondary"},{label:"Outline",value:"outline"}],default:"primary"}],style:[{type:"heading",label:"Sizing",name:"sizing"},{type:"unit-number",label:"Parent Width",name:"width",units:["px","rem","em","%","vw","auto"],defaultUnit:"%",default:"100%",responsive:!0},{type:"unit-number",label:"Button Width",name:"buttonWidth",units:["px","rem","em","%","auto"],defaultUnit:"auto",default:"auto",responsive:!0},{type:"heading",label:"Typography",name:"typography"},{type:"slider",label:"Font Size",name:"fontSize",min:12,max:32,unit:"px",default:16,responsive:!0},{type:"color",label:"Text Color",name:"textColor",default:"#ffffff"},{type:"color",label:"Text Hover Color",name:"textHoverColor",default:"#ffffff"},{type:"color",label:"Background Color",name:"bgColor",default:"#2563eb"},{type:"color",label:"Background Hover Color",name:"hoverBgColor",default:"#1d4ed8"},{type:"heading",label:"Button Styling",name:"buttonStyling"},{type:"number",label:"Padding Top",name:"paddingTop",min:0,max:100,unit:"px",default:12,responsive:!0},{type:"number",label:"Padding Right",name:"paddingRight",min:0,max:100,unit:"px",default:24,responsive:!0},{type:"number",label:"Padding Bottom",name:"paddingBottom",min:0,max:100,unit:"px",default:12,responsive:!0},{type:"number",label:"Padding Left",name:"paddingLeft",min:0,max:100,unit:"px",default:24,responsive:!0},{type:"slider",label:"Border Radius",name:"borderRadius",min:0,max:50,unit:"px",default:0},{type:"align",label:"Alignment",name:"alignment",options:["left","center","right"],default:"center",responsive:!0},{type:"heading",label:"Icon Styling",name:"iconStyling"},{type:"select",label:"Icon Position",name:"iconPosition",options:[{label:"Left",value:"left"},{label:"Right",value:"right"}],default:"left"},{type:"slider",label:"Icon Size",name:"iconSize",min:8,max:64,unit:"px",default:16},{type:"slider",label:"Icon Padding",name:"iconPadding",min:0,max:20,unit:"px",default:6},{type:"slider",label:"Gap Between Icon & Text",name:"iconGap",min:0,max:32,unit:"px",default:8},{type:"color",label:"Icon Color",name:"iconColor",default:"#ffffff"},{type:"color",label:"Icon Hover Color",name:"iconHoverColor",default:"#ffffff"},{type:"color",label:"Icon Background Color",name:"iconBackgroundColor",default:"transparent"},{type:"color",label:"Icon Hover Background Color",name:"iconHoverBackgroundColor",default:"transparent"},{type:"slider",label:"Icon Border Radius",name:"iconBorderRadius",min:0,max:50,unit:"px",default:0},{type:"heading",label:"Spacing",name:"spacing"},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0},{type:"dimensions",label:"Padding",name:"padding",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{text:"Click Me",link:"#",style:"primary"},category:"Basic"});const OI=({node:e,isEditing:t,onEdit:r,cssStyle:s={}})=>{const a=e.props?.height||20;return n.jsx("div",{onClick:r,style:{height:`${a}px`,backgroundColor:t?"rgba(59, 130, 246, 0.1)":"transparent",border:t?"2px dashed #3b82f6":"none",cursor:t?"pointer":"default"}})};la({widgetType:"spacer",name:"Spacer",icon:"Spacer",renderer:OI,schema:{content:[{type:"number",label:"Height (px)",name:"height",default:20,min:0,max:500,unit:"px"}],style:[{type:"slider",label:"Height",name:"height",min:0,max:500,unit:"px",default:20},{type:"color",label:"Background Color",name:"backgroundColor",default:"transparent"}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{height:20},category:"Basic"});const DI=({node:e,device:t="desktop",isEditing:r,onEdit:s,cssStyle:a={}})=>{const[l,c]=S.useState(null),u=e.props?.items||[{id:"1",icon:"fas fa-check",heading:"Item 1",text:"Description text",link:"",openNewTab:!1},{id:"2",icon:"fas fa-star",heading:"Item 2",text:"Description text",link:"",openNewTab:!1},{id:"3",icon:"fas fa-heart",heading:"Item 3",text:"Description text",link:"",openNewTab:!1}],h=e.props?.iconPosition||e.style?.iconPosition||"left";e.style?.gap;const f=(P,K)=>{const de=e.style?.[P],ve=e.responsive?.[t]?.style?.[P];return ve!==void 0?ve:de!==void 0?de:K},m=f("gap","16px"),g=f("itemGap","12px"),y=f("descriptionGap","4px"),b=e.style?.itemsLayout||"vertical",j=e.style?.containerAlignment||"flex-start",N=e.style?.itemAlignment||"flex-start",C=e.style?.itemsVerticalAlign||"flex-start",w={display:"flex",flexDirection:b==="horizontal"?"row":"column",gap:m,width:"100%",cursor:r?"pointer":"default",flexWrap:b==="horizontal"?"wrap":"nowrap",justifyContent:j,alignItems:b==="horizontal"?C:"stretch"},T={display:"flex",flexDirection:h==="top"?"column":"row",gap:g,alignItems:N,width:(e.style?.itemWidth||0)>0?`${e.style?.itemWidth}px`:b==="horizontal"?"auto":"100%",flex:(e.style?.itemWidth||0)>0?"none":b==="horizontal"?"0 1 auto":"1",backgroundColor:e.style?.itemBackgroundColor||"transparent",borderRadius:`${e.style?.itemBorderRadius||0}px`,border:(e.style?.itemBorderWidth||0)>0?`${e.style?.itemBorderWidth}px ${e.style?.itemBorderStyle||"solid"} ${e.style?.itemBorderColor||"#000000"}`:"none",boxShadow:(e.style?.itemShadowBlur||0)>0?`${e.style?.itemShadowOffsetX||0}px ${e.style?.itemShadowOffsetY||0}px ${e.style?.itemShadowBlur}px ${e.style?.itemShadowSpread||0}px ${e.style?.itemShadowColor||"rgba(0,0,0,0.1)"}`:"none",padding:`${e.style?.itemPadding||16}px`,margin:`${e.style?.itemMargin||0}px`},E=e.style?.iconSize||24,O=e.style?.iconColor||"#3b82f6",R=e.style?.iconPadding||8,L=e.style?.iconBackgroundColor||"transparent",z=E+R*2,q={display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${z}px`,height:`${z}px`,padding:`${R}px`,borderRadius:e.style?.iconBorderRadius||"0px",backgroundColor:L,color:O,fontSize:`${E}px`,flexShrink:0,minHeight:`${z}px`,minWidth:`${z}px`},I={display:"flex",flexDirection:"column",gap:y,flex:1},H=e.style?.headingFontSize||18,W=e.style?.headingColor||"#000000",ie=e.style?.headingFontWeight||"600",Y={fontSize:`${H}px`,fontWeight:ie,color:W,margin:0,padding:0,lineHeight:"1.2",wordBreak:"break-word"},ne=e.style?.textFontSize||14,F=e.style?.textColor||"#666666",M={fontSize:`${ne}px`,color:F,margin:0,padding:0,lineHeight:"1.5",wordBreak:"break-word"},_=e.style?.itemBackgroundHover||e.style?.itemBackgroundColor||"transparent",X=e.style?.iconColorHover||O,$=e.style?.iconBackgroundHover||L,ce=e.style?.headingColorHover||W,A=e.style?.textColorHover||F,B={backgroundColor:_,borderRadius:`${e.style?.itemBorderRadius||0}px`,border:(e.style?.itemBorderWidth||0)>0?`${e.style?.itemBorderWidth}px ${e.style?.itemBorderStyle||"solid"} ${e.style?.itemBorderColor||"#000000"}`:"none",boxShadow:(e.style?.itemHoverShadowBlur||10)>0?`${e.style?.itemHoverShadowOffsetX||0}px ${e.style?.itemHoverShadowOffsetY||5}px ${e.style?.itemHoverShadowBlur||10}px ${e.style?.itemHoverShadowSpread||0}px ${e.style?.itemHoverShadowColor||"rgba(0,0,0,0.2)"}`:"none"};return n.jsx("div",{style:w,onClick:s,children:u?.map((P,K)=>n.jsxs("div",{style:{...T,...l===K?B:{},transition:"all 0.3s ease"},onMouseEnter:()=>c(K),onMouseLeave:()=>c(null),children:[P.icon&&n.jsx("div",{style:{...q,color:l===K?X:O,backgroundColor:l===K?$:L,transition:"all 0.3s ease"},children:n.jsx("i",{className:P.icon})}),n.jsxs("div",{style:I,children:[P.heading&&n.jsx("h3",{style:{...Y,color:l===K?ce:W,transition:"all 0.3s ease"},children:P.heading}),P.text&&n.jsx("p",{style:{...M,color:l===K?A:F,transition:"all 0.3s ease"},children:P.text})]})]},P.id))})};la({widgetType:"iconlist",name:"Icon List",icon:"List",renderer:DI,schema:{content:[{type:"repeater",label:"Icon Items",name:"items",default:[{id:"1",icon:"fas fa-check",heading:"Item 1",text:"Description text",link:"",openNewTab:!1},{id:"2",icon:"fas fa-star",heading:"Item 2",text:"Description text",link:"",openNewTab:!1},{id:"3",icon:"fas fa-heart",heading:"Item 3",text:"Description text",link:"",openNewTab:!1}],fields:[{type:"icon",label:"Icon",name:"icon",default:"fas fa-check"},{type:"text",label:"Heading",name:"heading",placeholder:"Item heading",default:"Item"},{type:"textarea",label:"Description",name:"text",placeholder:"Item description",default:"Description text"},{type:"text",label:"Link",name:"link",placeholder:"https://example.com or /page",default:""},{type:"toggle",label:"Open in New Tab",name:"openNewTab",default:!1}],help:"Click on an item to edit its details"}],style:[{type:"heading",label:"Layout",name:"layout"},{type:"select",label:"Items Layout",name:"itemsLayout",options:[{label:"Vertical",value:"vertical"},{label:"Horizontal",value:"horizontal"}],default:"vertical"},{type:"select",label:"Parent Items Alignment",name:"containerAlignment",options:[{label:"Flex Start",value:"flex-start"},{label:"Center",value:"center"},{label:"Flex End",value:"flex-end"},{label:"Space Between",value:"space-between"},{label:"Space Around",value:"space-around"},{label:"Space Evenly",value:"space-evenly"}],default:"flex-start"},{type:"select",label:"Single Item Alignment",name:"itemAlignment",options:[{label:"Start",value:"flex-start"},{label:"Center",value:"center"},{label:"End",value:"flex-end"},{label:"Stretch",value:"stretch"}],default:"flex-start"},{type:"select",label:"Items Vertical Alignment",name:"itemsVerticalAlign",options:[{label:"Start",value:"flex-start"},{label:"Center",value:"center"},{label:"End",value:"flex-end"}],default:"flex-start"},{type:"select",label:"Icon Position",name:"iconPosition",options:[{label:"Icon Left",value:"left"},{label:"Icon Top",value:"top"}],default:"left"},{type:"slider",label:"Gap Between Items",name:"gap",min:0,max:50,unit:"px",default:16,responsive:!0},{type:"slider",label:"Gap Inside Items (Icon to Text)",name:"itemGap",min:0,max:50,unit:"px",default:12,responsive:!0},{type:"slider",label:"Gap Between Heading and Description",name:"descriptionGap",min:0,max:30,unit:"px",default:4,responsive:!0},{type:"heading",label:"Icon Styling",name:"iconStyling"},{type:"slider",label:"Icon Size",name:"iconSize",min:12,max:100,unit:"px",default:24},{type:"color",label:"Icon Color",name:"iconColor",default:"#3b82f6"},{type:"color",label:"Icon Background Color",name:"iconBackgroundColor",default:"transparent"},{type:"slider",label:"Icon Background Padding",name:"iconPadding",min:0,max:30,unit:"px",default:8},{type:"slider",label:"Icon Border Radius",name:"iconBorderRadius",min:0,max:50,unit:"px",default:0},{type:"heading",label:"Heading Styling",name:"headingStyling"},{type:"slider",label:"Heading Font Size",name:"headingFontSize",min:12,max:48,unit:"px",default:18,responsive:!0},{type:"color",label:"Heading Color",name:"headingColor",default:"#000000"},{type:"select",label:"Heading Font Weight",name:"headingFontWeight",options:[{label:"Light",value:"300"},{label:"Normal",value:"400"},{label:"Medium",value:"500"},{label:"Semi Bold",value:"600"},{label:"Bold",value:"700"},{label:"Extra Bold",value:"900"}],default:"600"},{type:"heading",label:"Text Styling",name:"textStyling"},{type:"slider",label:"Text Font Size",name:"textFontSize",min:10,max:36,unit:"px",default:14,responsive:!0},{type:"color",label:"Text Color",name:"textColor",default:"#666666"},{type:"slider",label:"Text Gap",name:"textGap",min:0,max:20,unit:"px",default:4},{type:"heading",label:"Item Styling",name:"itemStyling"},{type:"color",label:"Item Background Color",name:"itemBackgroundColor",default:"transparent"},{type:"slider",label:"Item Border Radius",name:"itemBorderRadius",min:0,max:50,unit:"px",default:0,responsive:!0},{type:"heading",label:"Item Border",name:"itemBorderHeading"},{type:"slider",label:"Border Width",name:"itemBorderWidth",min:0,max:10,unit:"px",default:0},{type:"select",label:"Border Style",name:"itemBorderStyle",options:[{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],default:"solid"},{type:"color",label:"Border Color",name:"itemBorderColor",default:"#000000"},{type:"heading",label:"Item Box Shadow",name:"itemBoxShadowHeading"},{type:"slider",label:"Shadow Horizontal Offset",name:"itemShadowOffsetX",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Shadow Vertical Offset",name:"itemShadowOffsetY",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Shadow Blur",name:"itemShadowBlur",min:0,max:50,unit:"px",default:0},{type:"slider",label:"Shadow Spread",name:"itemShadowSpread",min:-20,max:20,unit:"px",default:0},{type:"color",label:"Shadow Color",name:"itemShadowColor",default:"rgba(0, 0, 0, 0.1)"},{type:"heading",label:"Item Hover Effects",name:"itemHoverHeading"},{type:"color",label:"Item Background Hover",name:"itemBackgroundHover",default:"transparent"},{type:"color",label:"Icon Color Hover",name:"iconColorHover",default:""},{type:"color",label:"Icon Background Hover",name:"iconBackgroundHover",default:"transparent"},{type:"color",label:"Heading Text Hover",name:"headingColorHover",default:""},{type:"color",label:"Description Text Hover",name:"textColorHover",default:""},{type:"heading",label:"Hover Box Shadow",name:"itemHoverShadowHeading"},{type:"slider",label:"Hover Shadow Horizontal",name:"itemHoverShadowOffsetX",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Hover Shadow Vertical",name:"itemHoverShadowOffsetY",min:-20,max:20,unit:"px",default:5},{type:"slider",label:"Hover Shadow Blur",name:"itemHoverShadowBlur",min:0,max:50,unit:"px",default:10},{type:"slider",label:"Hover Shadow Spread",name:"itemHoverShadowSpread",min:-20,max:20,unit:"px",default:0},{type:"color",label:"Hover Shadow Color",name:"itemHoverShadowColor",default:"rgba(0, 0, 0, 0.2)"},{type:"heading",label:"Item Size & Spacing",name:"itemSizeHeading"},{type:"slider",label:"Item Width",name:"itemWidth",min:50,max:600,unit:"px",default:0,responsive:!0},{type:"slider",label:"Item Padding",name:"itemPadding",min:0,max:50,unit:"px",default:16,responsive:!0},{type:"slider",label:"Item Margin",name:"itemMargin",min:0,max:50,unit:"px",default:0,responsive:!0},{type:"heading",label:"Spacing",name:"spacing"},{type:"dimensions",label:"Padding",name:"padding",unit:"px",responsive:!0},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{items:[{id:"1",icon:"fas fa-check",heading:"Item 1",text:"Description text",link:"",openNewTab:!1},{id:"2",icon:"fas fa-star",heading:"Item 2",text:"Description text",link:"",openNewTab:!1},{id:"3",icon:"fas fa-heart",heading:"Item 3",text:"Description text",link:"",openNewTab:!1}],iconPosition:"left"},category:"Advanced"});const RI=({node:e,device:t="desktop",isEditing:r,onEdit:s,cssStyle:a={}})=>{const[l,c]=S.useState(!1),u=e.props?.icon||"fas fa-star",h=(P,K)=>{const de=e.style?.[P],ve=e.responsive?.[t]?.style?.[P];return ve!==void 0?ve:de!==void 0?de:K},f=h("iconSize",48),m=e.style?.iconColor||"#3b82f6",g=e.style?.iconBackgroundColor||"transparent",y=h("iconPadding",0),b=f+y*2,j=e.style?.alignment||"center",N=h("width",""),C=h("margin",{top:"",right:"",bottom:"",left:""}),w=C?.top||"0",T=C?.right||"0",E=C?.bottom||"0",O=C?.left||"0",R=e.style?.iconBorderWidth||0,L=e.style?.iconBorderStyle||"solid",z=e.style?.iconBorderColor||"#000000",q=h("iconBorderRadius",0),I=e.style?.iconShadowOffsetX||0,H=e.style?.iconShadowOffsetY||0,W=e.style?.iconShadowBlur||0,ie=e.style?.iconShadowSpread||0,Y=e.style?.iconShadowColor||"rgba(0, 0, 0, 0.1)",ne=e.style?.iconColorHover||m,F=e.style?.iconBackgroundHover||g,M=e.style?.iconHoverShadowOffsetX||0,_=e.style?.iconHoverShadowOffsetY||5,X=e.style?.iconHoverShadowBlur||10,$=e.style?.iconHoverShadowSpread||0,ce=e.style?.iconHoverShadowColor||"rgba(0, 0, 0, 0.2)",A={display:"flex",justifyContent:j,width:N||"100%",cursor:r?"pointer":"default",marginTop:w,marginRight:T,marginBottom:E,marginLeft:O},B={display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${b}px`,height:`${b}px`,padding:`${y}px`,borderRadius:`${q}px`,backgroundColor:l?F:g,color:l?ne:m,fontSize:`${f}px`,border:R>0?`${R}px ${L} ${z}`:"none",boxShadow:l&&X>0?`${M}px ${_}px ${X}px ${$}px ${ce}`:W>0?`${I}px ${H}px ${W}px ${ie}px ${Y}`:"none",transition:"all 0.3s ease",cursor:"pointer",minWidth:`${b}px`,minHeight:`${b}px`};return n.jsx("div",{style:A,onClick:s,children:n.jsx("div",{style:B,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:n.jsx("i",{className:u})})})};la({widgetType:"icon",name:"Icon",icon:"Heart",renderer:RI,schema:{content:[{type:"icon",label:"Select Icon",name:"icon",default:"fas fa-star"}],style:[{type:"heading",label:"Icon Styling",name:"iconStyling"},{type:"slider",label:"Icon Size",name:"iconSize",min:12,max:200,unit:"px",default:48,responsive:!0},{type:"color",label:"Icon Color",name:"iconColor",default:"#3b82f6"},{type:"color",label:"Icon Background Color",name:"iconBackgroundColor",default:"transparent"},{type:"slider",label:"Icon Padding",name:"iconPadding",min:0,max:50,unit:"px",default:0,responsive:!0},{type:"slider",label:"Icon Border Radius",name:"iconBorderRadius",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"heading",label:"Icon Border",name:"iconBorderHeading"},{type:"slider",label:"Border Width",name:"iconBorderWidth",min:0,max:10,unit:"px",default:0},{type:"select",label:"Border Style",name:"iconBorderStyle",options:[{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],default:"solid"},{type:"color",label:"Border Color",name:"iconBorderColor",default:"#000000"},{type:"heading",label:"Icon Box Shadow",name:"iconShadowHeading"},{type:"slider",label:"Shadow Horizontal Offset",name:"iconShadowOffsetX",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Shadow Vertical Offset",name:"iconShadowOffsetY",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Shadow Blur",name:"iconShadowBlur",min:0,max:50,unit:"px",default:0},{type:"slider",label:"Shadow Spread",name:"iconShadowSpread",min:-20,max:20,unit:"px",default:0},{type:"color",label:"Shadow Color",name:"iconShadowColor",default:"rgba(0, 0, 0, 0.1)"},{type:"heading",label:"Alignment",name:"alignmentHeading"},{type:"select",label:"Horizontal Alignment",name:"alignment",options:[{label:"Left",value:"flex-start"},{label:"Center",value:"center"},{label:"Right",value:"flex-end"}],default:"center"},{type:"heading",label:"Icon Hover Effects",name:"iconHoverHeading"},{type:"color",label:"Icon Color Hover",name:"iconColorHover",default:""},{type:"color",label:"Icon Background Hover",name:"iconBackgroundHover",default:"transparent"},{type:"heading",label:"Hover Box Shadow",name:"iconHoverShadowHeading"},{type:"slider",label:"Hover Shadow Horizontal",name:"iconHoverShadowOffsetX",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Hover Shadow Vertical",name:"iconHoverShadowOffsetY",min:-20,max:20,unit:"px",default:5},{type:"slider",label:"Hover Shadow Blur",name:"iconHoverShadowBlur",min:0,max:50,unit:"px",default:10},{type:"slider",label:"Hover Shadow Spread",name:"iconHoverShadowSpread",min:-20,max:20,unit:"px",default:0},{type:"color",label:"Hover Shadow Color",name:"iconHoverShadowColor",default:"rgba(0, 0, 0, 0.2)"},{type:"heading",label:"Spacing",name:"spacing"},{type:"unit-number",label:"Width",name:"width",min:0,max:800,step:1,defaultUnit:"px",units:["px","rem","em","%","vw"],default:"",responsive:!0},{type:"dimensions",label:"Margin",name:"margin",default:{top:"",right:"",bottom:"",left:""},responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{icon:"fas fa-star"},category:"Basic"});const zI=({node:e,device:t="desktop",isEditing:r,onEdit:s,cssStyle:a={}})=>{const l=e.props?.src||"https://via.placeholder.com/400x300?text=Image",c=e.props?.alt||"Image",u=e.props?.caption||"",h=e.props?.link||"",[f,m]=S.useState(l),[g,y]=S.useState(!1),[b,j]=S.useState(!1);S.useEffect(()=>{m(l),j(!1)},[l]);const N=(M,_)=>{const X=e.style?.[M],$=e.responsive?.[t]?.style?.[M];return $!==void 0?$:X!==void 0?X:_},C=N("width","100%"),w=N("height","auto"),T=a?.borderRadius||e.style?.borderRadius||"0px",E=a?.borderWidth||e.style?.borderWidth||"0px",O=a?.borderColor||e.style?.borderColor||"#000000",R=a?.boxShadow||e.style?.boxShadow||"none",L=a?.opacity||e.style?.opacity||1,z=a?.padding||e.style?.padding||"0px",I={display:"flex",flexDirection:"column",textAlign:N("alignment","center"),width:"100%",cursor:r?"pointer":"default"},H={width:typeof C=="string"?C:`${C}px`,height:typeof w=="string"?w:`${w}px`,maxWidth:"100%",objectFit:a?.objectFit||"cover",objectPosition:a?.objectPosition||"center",borderRadius:T,border:E!=="0px"?`${E} solid ${O}`:"none",boxShadow:R,padding:z,opacity:L,display:"inline-block",verticalAlign:"middle",transition:"all 0.3s ease"},W={marginTop:e.style?.captionGap||"8px",fontSize:e.style?.captionFontSize||"14px",color:e.style?.captionColor||"#666666",fontStyle:"italic",margin:0},ie={position:"absolute",top:0,left:0,right:0,bottom:0,display:g?"flex":"none",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:T},Y=()=>{y(!1)},ne=()=>{s?.()},F=n.jsx("img",{src:f,alt:c,style:H,onLoad:Y,onError:M=>{j(!0),y(!1)}});return n.jsxs("div",{style:I,onClick:s,children:[n.jsxs("div",{style:{position:"relative"},children:[b?n.jsxs("div",{style:{...H,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fee2e2",border:"2px solid #dc2626"},children:[n.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),n.jsxs("div",{style:{fontSize:"12px",color:"#991b1b",textAlign:"center",padding:"8px"},children:[n.jsx("div",{children:"Image failed to load"}),n.jsx("div",{style:{fontSize:"10px",marginTop:"4px",wordBreak:"break-all"},children:f})]})]}):h?n.jsx("a",{href:h,target:e.props?.openNewTab?"_blank":"_self",rel:"noopener noreferrer",onClick:ne,children:F}):F,n.jsx("div",{style:ie,children:n.jsx("div",{style:{color:"white",fontSize:"12px"},children:"Loading..."})})]}),u&&n.jsx("p",{style:W,children:u})]})};la({widgetType:"image",name:"Image",icon:"Image",renderer:zI,schema:{content:[{type:"mediapicker",label:"Image (Upload or URL)",name:"src",default:"https://via.placeholder.com/400x300?text=Image"},{type:"text",label:"Alt Text",name:"alt",default:"Image"},{type:"text",label:"Caption",name:"caption",placeholder:"Optional image caption"},{type:"link",label:"Link",name:"link",placeholder:"e.g., /page or https://example.com"},{type:"toggle",label:"Open Link in New Tab",name:"openNewTab",default:!1}],style:[{type:"heading",label:"Sizing",name:"sizing"},{type:"unit-number",label:"Width",name:"width",units:["px","%","em","rem","auto"],defaultUnit:"%",default:"100%",responsive:!0},{type:"unit-number",label:"Height",name:"height",units:["px","em","rem","auto"],defaultUnit:"auto",default:"auto",responsive:!0},{type:"heading",label:"Border & Shadow",name:"borderShadow"},{type:"slider",label:"Border Radius",name:"borderRadius",min:0,max:50,unit:"px",default:0},{type:"slider",label:"Border Width",name:"borderWidth",min:0,max:10,unit:"px",default:0},{type:"color",label:"Border Color",name:"borderColor",default:"#000000"},{type:"shadow",label:"Shadow",name:"boxShadow"},{type:"heading",label:"Effects",name:"effects"},{type:"slider",label:"Opacity",name:"opacity",min:0,max:1,step:.1,default:1},{type:"heading",label:"Image Fit",name:"imageFit"},{type:"select",label:"Object Fit",name:"objectFit",options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Fill",value:"fill"},{label:"Scale Down",value:"scale-down"}],default:"cover"},{type:"select",label:"Object Position",name:"objectPosition",options:[{label:"Center",value:"center"},{label:"Top",value:"top"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Top Left",value:"top left"},{label:"Top Right",value:"top right"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"}],default:"center"},{type:"heading",label:"Caption",name:"caption"},{type:"slider",label:"Caption Font Size",name:"captionFontSize",min:10,max:36,unit:"px",default:14},{type:"color",label:"Caption Color",name:"captionColor",default:"#666666"},{type:"slider",label:"Caption Gap",name:"captionGap",min:0,max:30,unit:"px",default:8},{type:"heading",label:"Alignment",name:"alignment"},{type:"align",label:"Image Alignment",name:"alignment",options:["left","center","right"],default:"center",responsive:!0},{type:"heading",label:"Spacing",name:"spacing"},{type:"dimensions",label:"Padding",name:"padding",unit:"px",responsive:!0},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{src:"https://via.placeholder.com/400x300?text=Image",alt:"Image",caption:""},category:"Content"});const LI=({node:e,device:t="desktop",isEditing:r,onEdit:s,cssStyle:a={}})=>{const l=(ne,F)=>{const M=e.style?.[ne],_=e.responsive?.[t]?.style?.[ne];return _!==void 0?_:M!==void 0?M:F},c=l("dividerType","simple"),u=l("lineStyle","solid"),h=l("thickness",2),f=l("color","var(--color-border)"),m=l("width","100%"),g=l("alignment","center"),y=l("gap",0),b=l("text",""),j=l("textColor","var(--color-text-light)"),N=l("textSize",14),C=l("textWeight","normal"),w=l("textGap",16),T=l("dotSize",6),E=l("dotSpacing",8),O=e.style?.padding||{},R=e.style?.margin||{},L=e.advanced?.customClass||"",z=e.advanced?.hideOn||[];if(z&&Array.isArray(z)&&z.includes(t))return null;const q=()=>{if(typeof O=="string")return O;if(typeof O=="object"&&O){const{top:ne=0,right:F=0,bottom:M=0,left:_=0}=O;return`${ne}px ${F}px ${M}px ${_}px`}return"0"},I=()=>{if(typeof R=="string")return R;if(typeof R=="object"&&R){const{top:ne=0,right:F=0,bottom:M=0,left:_=0}=R;return`${ne}px ${F}px ${M}px ${_}px`}return"0"},ie={display:"flex",justifyContent:{left:"flex-start",center:"center",right:"flex-end"}[g]||"center",alignItems:"center",width:"100%",padding:q(),margin:I(),gap:`${y}px`,cursor:r?"pointer":"default",transition:"all 0.3s ease",...a};if(c==="simple"){const ne={width:m,height:u==="solid"?`${h}px`:"0px",backgroundColor:u==="solid"?f:"transparent",border:"none",...u!=="solid"&&{borderStyle:u,borderWidth:`${h}px`,borderColor:f,height:"0px"},flexShrink:0,transition:"all 0.3s ease"};return n.jsx("div",{style:ie,className:L,onClick:s,role:"separator","aria-orientation":"horizontal",children:n.jsx("div",{style:ne})})}if(c==="dotted"){const ne=typeof m=="string"?m==="100%"?500:parseInt(m)||500:m||500,F=Math.max(2,Math.floor(ne/(T+E))),M={width:m,display:"flex",gap:`${E}px`,justifyContent:"center",alignItems:"center",flexShrink:0},_={width:`${T}px`,height:`${T}px`,borderRadius:"50%",backgroundColor:f,display:"inline-block",flexShrink:0,transition:"all 0.3s ease"};return n.jsx("div",{style:ie,className:L,onClick:s,role:"separator","aria-orientation":"horizontal",children:n.jsx("div",{style:M,children:Array.from({length:F}).map((X,$)=>n.jsx("div",{style:_},$))})})}if(c==="text"&&b){const ne={normal:400,"semi-bold":600,bold:700},F={display:"flex",justifyContent:"center",alignItems:"center",gap:`${w}px`,width:m,flexShrink:0},M={flex:1,borderTop:`${h}px solid ${f}`,height:"0"},_={color:j,fontSize:`${N}px`,fontWeight:ne[C]||400,whiteSpace:"nowrap",userSelect:"none",transition:"all 0.3s ease"};return n.jsx("div",{style:ie,className:L,onClick:s,role:"separator","aria-orientation":"horizontal",children:n.jsxs("div",{style:F,children:[n.jsx("div",{style:M}),n.jsx("span",{style:_,children:b}),n.jsx("div",{style:M})]})})}const Y={width:m,height:`${h}px`,backgroundColor:f,border:"none",flexShrink:0,transition:"all 0.3s ease"};return n.jsx("div",{style:ie,className:L,onClick:s,role:"separator","aria-orientation":"horizontal",children:n.jsx("div",{style:Y})})};la({widgetType:"divider",name:"Divider",icon:"",renderer:LI,schema:{content:[],style:[{type:"select",label:"Divider Type",name:"dividerType",options:[{label:"Simple Line",value:"simple"},{label:"Dotted",value:"dotted"},{label:"Text",value:"text"}],default:"simple"},{type:"heading",label:" Line Style",name:"lineStyleSection",condition:{dividerType:["simple","text"]}},{type:"select",label:"Line Style",name:"lineStyle",options:[{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],default:"solid",condition:{dividerType:["simple","text"]}},{type:"color",label:"Color",name:"color",default:"#cccccc"},{type:"slider",label:"Thickness",name:"thickness",min:1,max:10,unit:"px",default:2,responsive:!0},{type:"heading",label:" Text Options",name:"textSection",condition:{dividerType:"text"}},{type:"text",label:"Text",name:"text",placeholder:"Enter divider text",default:"",condition:{dividerType:"text"}},{type:"color",label:"Text Color",name:"textColor",default:"#666666",condition:{dividerType:"text"}},{type:"slider",label:"Text Size",name:"textSize",min:8,max:48,unit:"px",default:14,responsive:!0,condition:{dividerType:"text"}},{type:"select",label:"Text Weight",name:"textWeight",options:[{label:"Normal",value:"normal"},{label:"Semi Bold",value:"semi-bold"},{label:"Bold",value:"bold"}],default:"normal",condition:{dividerType:"text"}},{type:"slider",label:"Text Gap",name:"textGap",min:0,max:50,unit:"px",default:16,responsive:!0,condition:{dividerType:"text"}},{type:"heading",label:" Dot Options",name:"dotSection",condition:{dividerType:"dotted"}},{type:"slider",label:"Dot Size",name:"dotSize",min:2,max:20,unit:"px",default:6,responsive:!0,condition:{dividerType:"dotted"}},{type:"slider",label:"Dot Spacing",name:"dotSpacing",min:2,max:30,unit:"px",default:8,responsive:!0,condition:{dividerType:"dotted"}},{type:"heading",label:" Width & Alignment",name:"widthAlignment"},{type:"unit-number",label:"Width",name:"width",units:["px","%","em","rem"],defaultUnit:"%",default:"100%"},{type:"align",label:"Alignment",name:"alignment",options:["left","center","right"],default:"center"},{type:"heading",label:" Spacing",name:"spacing"},{type:"slider",label:"Vertical Gap (Above/Below)",name:"gap",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"slider",label:"Horizontal Padding (Left)",name:"paddingLeft",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"slider",label:"Horizontal Padding (Right)",name:"paddingRight",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"slider",label:"Top Padding",name:"paddingTop",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"slider",label:"Bottom Padding",name:"paddingBottom",min:0,max:100,unit:"px",default:0,responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",placeholder:"e.g. my-custom-class",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0,default:[]}]},defaultProps:{dividerType:"simple",lineStyle:"solid",thickness:2,color:"#cccccc",width:"100%",alignment:"center",gap:0,text:"",textColor:"#666666",textSize:14,textWeight:"normal",textGap:16,dotSize:6,dotSpacing:8},category:"Basic"});const BI=({node:e,device:t="desktop",isEditing:r,onEdit:s,cssStyle:a={}})=>{const l=e.props?.videoType||"youtube",c=e.props?.videoUrl||e.props?.videoSrc||"",u=e.props?.videoUpload||"",h=e.props?.iframeCode||"",f=e.props?.videoId||"dQw4w9WgXcQ",[m,g]=S.useState(!1),y=(_,X)=>{const $=e.style?.[_],ce=e.responsive?.[t]?.style?.[_];return ce!==void 0?ce:$!==void 0?$:X},b=y("width","100%"),j=e.style?.aspectRatio||e.props?.aspectRatio||"16:9",N=a?.borderRadius||e.style?.borderRadius||"0px",C=a?.borderWidth||e.style?.borderWidth||"0px",w=a?.borderColor||e.style?.borderColor||"#000000",T=a?.boxShadow||e.style?.boxShadow||"none",E=a?.opacity||e.style?.opacity||1,O=a?.padding||e.style?.padding||"0px",R=y("paddingTop",0),L=y("paddingRight",0),z=y("paddingBottom",0),q=y("paddingLeft",0),I={display:"flex",justifyContent:"center",width:"100%",cursor:r?"pointer":"default",paddingTop:`${R}px`,paddingRight:`${L}px`,paddingBottom:`${z}px`,paddingLeft:`${q}px`},W=(_=>{const[X,$]=_.split(":").map(Number);return $/X*100})(j),ie={position:"relative",width:typeof b=="string"?b:`${b}px`,maxWidth:"100%",paddingBottom:`${W}%`,height:0,overflow:"hidden",borderRadius:N,boxShadow:T},Y={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",borderRadius:N,border:C!=="0px"?`${C} solid ${w}`:"none",padding:O,opacity:E,display:"block"},ne={position:"absolute",top:0,left:0,right:0,bottom:0,display:m?"flex":"none",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",fontSize:"14px",zIndex:10},F=()=>{const _=c||"";if(l==="youtube"){let X=f;if(_){const $=_.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);X=$?$[1]:_}return`https://www.youtube.com/embed/${X}?autoplay=${e.props?.autoplay?1:0}&controls=${e.props?.showControls!==!1?1:0}`}else if(l==="vimeo"){let X=f;if(_){const $=_.match(/vimeo\.com\/(\d+)/);X=$?$[1]:_}return`https://player.vimeo.com/video/${X}?autoplay=${e.props?.autoplay?1:0}`}else{if(l==="upload")return u||"";if(l==="url"||l==="html5")return _}return _},M=()=>{g(!1)};return n.jsx("div",{style:I,onClick:r?s:void 0,children:l==="iframe"&&h?n.jsx("div",{dangerouslySetInnerHTML:{__html:h}}):n.jsx("div",{style:ie,children:l==="html5"||l==="url"||l==="upload"?n.jsxs(n.Fragment,{children:[n.jsxs("video",{style:Y,controls:e.props?.showControls!==!1,autoPlay:e.props?.autoplay||!1,loop:e.props?.loop||!1,onLoadedData:M,children:[n.jsx("source",{src:F(),type:"video/mp4"}),"Your browser does not support the video tag."]}),n.jsx("div",{style:ne,children:n.jsx("span",{children:"Loading video..."})})]}):n.jsxs(n.Fragment,{children:[n.jsx("iframe",{style:Y,src:F(),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:M}),n.jsx("div",{style:ne,children:n.jsx("span",{children:"Loading video..."})})]})})})};la({widgetType:"video",name:"Video",icon:"Video",renderer:BI,schema:{content:[{type:"select",label:"Video Type",name:"videoType",options:[{label:"YouTube",value:"youtube"},{label:"Vimeo",value:"vimeo"},{label:"HTML5 Video",value:"html5"},{label:"Direct URL",value:"url"},{label:"Upload",value:"upload"},{label:"Iframe Code",value:"iframe"}],default:"youtube"},{type:"text",label:"Video URL / ID",name:"videoUrl",placeholder:"YouTube: dQw4w9WgXcQ or https://www.youtube.com/watch?v=... | Vimeo: 123456 or https://vimeo.com/... | HTML5/URL: https://example.com/video.mp4",default:""},{type:"mediapicker",label:"Upload Video",name:"videoUpload",assetType:"video",default:""},{type:"textarea",label:"Iframe Code",name:"iframeCode",placeholder:'<iframe src="..." width="560" height="315"></iframe>',default:""},{type:"text",label:"Video ID (Fallback)",name:"videoId",placeholder:"Fallback video ID",default:"dQw4w9WgXcQ"},{type:"toggle",label:"Autoplay",name:"autoplay",default:!1},{type:"toggle",label:"Show Controls",name:"showControls",default:!0},{type:"toggle",label:"Loop",name:"loop",default:!1}],style:[{type:"heading",label:"Sizing",name:"sizing"},{type:"unit-number",label:"Width",name:"width",units:["px","%","em","rem","vw"],defaultUnit:"%",default:"100%",responsive:!0},{type:"select",label:"Aspect Ratio",name:"aspectRatio",options:[{label:"16:9",value:"16:9"},{label:"4:3",value:"4:3"},{label:"1:1",value:"1:1"},{label:"21:9",value:"21:9"}],default:"16:9"},{type:"heading",label:"Styling",name:"styling"},{type:"slider",label:"Border Radius",name:"borderRadius",min:0,max:50,unit:"px",default:0},{type:"number",label:"Border Width",name:"borderWidth",min:0,max:20,unit:"px",default:0},{type:"color",label:"Border Color",name:"borderColor",default:"#000000"},{type:"shadow",label:"Box Shadow",name:"boxShadow",default:"none"},{type:"slider",label:"Opacity",name:"opacity",min:0,max:1,step:.1,default:1},{type:"heading",label:"Spacing",name:"spacing"},{type:"number",label:"Padding Top",name:"paddingTop",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"number",label:"Padding Right",name:"paddingRight",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"number",label:"Padding Bottom",name:"paddingBottom",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"number",label:"Padding Left",name:"paddingLeft",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{videoUrl:"",videoId:"dQw4w9WgXcQ",videoType:"youtube",autoplay:!1,showControls:!0,loop:!1},category:"Content"});const _I=({node:e,device:t,isSelected:r,onSelect:s,cssStyle:a,className:l,onClick:c})=>{if(!e.widgetType)return n.jsxs("div",{className:"text-gray-900 p-2 border border-gray-300 rounded text-xs",children:["Node type: ",e.kind]});const u=EI(e.widgetType);if(!u)return n.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-4 rounded text-center text-sm text-gray-600 cursor-pointer hover:bg-gray-100 transition",onClick:c,children:[n.jsxs("p",{className:"font-medium",children:["[",e.widgetType,"]"]}),n.jsx("p",{className:"text-xs mt-1",children:"Widget not registered"}),n.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Content: ",JSON.stringify(e.props)?.substring(0,50),"..."]})]});const h=e.widgetType!=="image"&&e.widgetType!=="video",{backgroundColor:f,...m}=a,y={width:"100%",position:"relative",...h?m:(()=>{const{borderWidth:b,borderStyle:j,borderColor:N,borderRadius:C,boxShadow:w,shadow:T,opacity:E,padding:O,...R}=m;return R})()};return n.jsx("div",{style:y,className:`widget-node cursor-pointer transition ${r?"ring-2 ring-blue-500 bg-blue-50 ring-inset":"hover:ring-1 hover:ring-blue-300"} ${l}`,onClick:c,children:n.jsx(u,{node:e,device:t,isEditing:r,onEdit:()=>s?.(e.id),cssStyle:a})})},PI=e=>{const t={},r=["border","outline","Box"],s=new Set(["display","flexDirection","justifyContent","alignItems","alignContent","flexWrap","flex","flexGrow","flexShrink","flexBasis","gap","gridTemplateColumns","gridTemplateRows","gridAutoColumns","gridAutoRows","gridTemplate","grid","gridGap","gridAutoFlow","gridColumn","gridRow","position","top","right","bottom","left","zIndex"]);for(const[a,l]of Object.entries(e||{})){if(s.has(a))continue;let c=!1;for(const u of r)if(a.includes(u)){c=!0;break}c||(t[a]=l)}return t},Yf=({node:e,device:t="desktop",isSelected:r=!1,onSelect:s})=>{const a=_C(e,t),l=jy(e,t),c=jI(a),h={desktop:"hideDesktop",tablet:"hideTablet",mobile:"hideMobile"}[t],f=l[h]===!0||l.hidden===!0,m=[l.customClass,r?"node-selected":"",f?"hidden":""].filter(Boolean).join(" ");let g=c;f&&(g={...g,opacity:.5,pointerEvents:"auto"});const y=b=>{b.stopPropagation(),s?.(e.id)};switch(e.kind){case"section":return n.jsx(wI,{node:e,device:t,isSelected:r,onSelect:s,cssStyle:g,className:m,onClick:y});case"column":return n.jsx(CI,{node:e,device:t,isSelected:r,onSelect:s,cssStyle:g,className:m,onClick:y});case"widget":const b=e.widgetType==="image"?g:PI(g);return n.jsx(_I,{node:e,device:t,isSelected:r,onSelect:s,cssStyle:b,className:m,onClick:y});case"root":return n.jsx("div",{"data-node-id":e.id,"data-node-type":"root",children:e.children&&e.children.length>0?e.children.map(j=>n.jsx(Yf,{node:j,device:t,onSelect:s,isSelected:!1},j.id)):null},e.id);default:return null}},II=({device:e="desktop",onSelectNode:t})=>{const r=S.useContext(Go),[s,a]=S.useState(null);if(!r)return n.jsx("div",{className:"p-4 text-black text-sm",children:"Builder context not available"});const{rootNode:l,selectNode:c}=r;if(!l||!l.children)return n.jsx("div",{className:"p-4 text-gray-900 text-sm",children:"No page tree loaded"});const u=f=>{a(f),c?.(f),t?.(f)},h=()=>{switch(e){case"mobile":return"384px";case"tablet":return"672px";case"desktop":default:return"100%"}};return n.jsxs("div",{className:"canvas-container bg-linear-to-b from-gray-50 to-black-100 overflow-auto h-full",children:[n.jsx("div",{className:"canvas-preview min-h-full",children:n.jsx("div",{className:"canvas-device-wrapper mx-auto transition-all",style:{width:h(),boxShadow:e!=="desktop"?"0 10px 40px rgba(0,0,0,0.1)":"none"},children:n.jsx("div",{className:"bg-white min-h-screen",children:l.children?.map(f=>n.jsx(Yf,{node:f,device:e,isSelected:s===f.id,onSelect:u},f.id))})})}),n.jsx("style",{children:`
        .canvas-container {
          background-color: #f3f4f6;
          display: flex;
          flex-direction: column;
        }

        .canvas-preview {
          flex: 1;
          overflow: auto;
       
        }

        .canvas-device-wrapper {
          background: white;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          min-height: auto;
          margin-left: auto;
          margin-right: auto;
          overflow: visible;
        }

        /* Mobile view */
        @media (max-width: 768px) {
          .canvas-device-wrapper {
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          }
        }

        /* Responsive grid for sections */
        @media (max-width: 768px) {
          .builder-section {
            width: 100%;
          }
        }

        /* Node selection outline */
        .node-selected {
          outline: 2px solid #3b82f6 !important;
          box-shadow: inset 0 0 0 1px #3b82f6, 0 0 0 3px rgba(59, 130, 246, 0.1);
          position: relative;
        }

        .node-selected::after {
          content: attr(data-selected);
          position: absolute;
          top: -24px;
          left: 0;
          background: #3b82f6;
          color: white;
          font-size: 11px;
          padding: 2px 6px;
          border-radius: 3px;
          white-space: nowrap;
          font-weight: bold;
        }

        /* Section styles */
        .section-node {
          width: 100%;
          position: relative;
          display: grid;
        }

        /* Boxed mode (Elementor content width boxed) */
        .builder-section.is-boxed {
          max-width: var(--boxed-max, 1140px);
          margin-left: auto;
          margin-right: auto;
          padding-left: var(--pad-x, 15px);
          padding-right: var(--pad-x, 15px);
        }

        /* Full width mode (Elementor full width content) */
        .builder-section.is-full {
          max-width: none;
          margin-left: 0;
          margin-right: 0;
          padding-left: 0;
          padding-right: 0;
        }

        .section-children {
          width: 100%;
        }

        /* Container styles */
        .container-node {
          width: 100%;
          position: relative;
          display: grid;
        }

        /* Column styles */
        .column-node {
          position: relative;
          display: flex;
          flex-direction: column;
        }

        /* Widget styles */
        .widget-node {
          position: relative;
          transition: background-color 0.15s ease;
          
        }

        /* Hidden elements indicator */
        .hidden {
          opacity: 0.4;
          pointer-events: none;
        }

        .hidden::before {
          content: 'Hidden on this device';
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: rgba(0, 0, 0, 0.7);
          color: white;
          padding: 4px 8px;
          border-radius: 3px;
          font-size: 11px;
          white-space: nowrap;
          z-index: 10;
        }
      `})]})},$I={section:{content:[{name:"heading",label:"Content Width",type:"heading"},{name:"contentWidthMode",label:"Mode",type:"buttongroup",options:[{label:"Full Width",value:"full_width"},{label:"Boxed",value:"boxed"}],default:"full_width",help:"Choose how to layout the content"},{name:"boxedMaxWidth",label:"Max Width (px)",type:"number",default:1140,min:400,max:2e3,unit:"px",condition:e=>e.contentWidthMode==="boxed",help:"Maximum width when in boxed mode"},{name:"horizontalPadding",label:"Horizontal Padding (px)",type:"number",default:15,min:0,max:100,unit:"px",condition:e=>e.contentWidthMode==="boxed",help:"Padding on left and right when in boxed mode"},{name:"columnsDivider",label:"Columns",type:"heading"},{name:"contentWidth",label:"Content Width",type:"select",options:[{label:"Full Width",value:"full"},{label:"Boxed",value:"boxed"},{label:"Custom",value:"custom"}],default:"full"},{name:"numColumns",label:"Columns",type:"slider",min:1,max:6,default:1,responsive:!0,help:"Number of columns in the section"}],style:[{name:"backgroundColor",label:"Background Color",type:"color"},{name:"backgroundImage",label:"Background Image",type:"mediapicker",accept:"image"},{name:"backgroundSize",label:"Background Size",type:"select",options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Auto",value:"auto"},{label:"100% 100%",value:"100% 100%"},{label:"100% Auto",value:"100% auto"},{label:"Auto 100%",value:"auto 100%"}],default:"cover",condition:e=>!!e.backgroundImage,help:"How the background image should be sized"},{name:"backgroundPosition",label:"Background Position",type:"select",options:[{label:"Center",value:"center"},{label:"Top Left",value:"top left"},{label:"Top Center",value:"top center"},{label:"Top Right",value:"top right"},{label:"Center Left",value:"center left"},{label:"Center Right",value:"center right"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Center",value:"bottom center"},{label:"Bottom Right",value:"bottom right"}],default:"center",condition:e=>!!e.backgroundImage,help:"Position of the background image"},{name:"backgroundOpacity",label:"Background Image Opacity",type:"slider",min:0,max:1,step:.1,default:1,condition:e=>!!e.backgroundImage},{name:"minHeight",label:"Min Height",type:"unit-number",units:["px","rem","em","%","vh","vw"],defaultUnit:"px",responsive:!0},{name:"height",label:"Height",type:"unit-number",units:["px","rem","em","%","vh","vw"],defaultUnit:"px",responsive:!0},{name:"border",label:"Border",type:"border"},{name:"shadow",label:"Shadow",type:"shadow"},{name:"padding",label:"Padding",type:"dimensions",unit:"px",responsive:!0},{name:"margin",label:"Margin",type:"dimensions",unit:"px",responsive:!0},{name:"gap",label:"Gap Between Items",type:"unit-number",units:["px","rem","em","%","vh","vw"],defaultUnit:"px",default:"0px",responsive:!0}],advanced:[{name:"direction",label:"Layout Direction",type:"buttongroup",options:[{label:"Down ",value:"column",icon:"fa-arrow-down"},{label:"Side ",value:"row",icon:"fa-arrow-right"}],responsive:!0,help:"Arrange columns vertically or horizontally"},{name:"display",label:"Display",type:"select",options:[{label:"Block",value:"block"},{label:"Flex",value:"flex"},{label:"Grid",value:"grid"}],responsive:!0},{name:"flexDirection",label:"Direction",type:"select",options:[{label:"Row",value:"row"},{label:"Column",value:"column"}],responsive:!0,condition:e=>e.display==="flex"},{name:"justifyContent",label:"Justify Content",type:"align",options:["flex-start","center","flex-end","space-between"]},{name:"alignItems",label:"Align Items",type:"align",options:["flex-start","center","flex-end"]},{name:"gap",label:"Gap",type:"gap",unit:"px",responsive:!0},{name:"customClass",label:"CSS Class",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},column:{content:[{name:"verticalAlign",label:"Vertical Align",type:"select",options:[{label:"Top",value:"flex-start"},{label:"Center",value:"center"},{label:"Bottom",value:"flex-end"},{label:"Stretch",value:"stretch"}],default:"flex-start"},{name:"horizontalAlign",label:"Horizontal Align",type:"select",options:[{label:"Left",value:"flex-start"},{label:"Center",value:"center"},{label:"Right",value:"flex-end"},{label:"Space Between",value:"space-between"}],default:"flex-start"},{name:"gap",label:"Gap Between Widgets",type:"unit-number",units:["px","rem","em","%","vh","vw"],defaultUnit:"px",default:"0px",responsive:!0,help:"Space between widgets inside the column"}],style:[{name:"backgroundColor",label:"Background Color",type:"color"},{name:"padding",label:"Padding",type:"dimensions",unit:"px",responsive:!0},{name:"margin",label:"Margin",type:"dimensions",unit:"px",responsive:!0},{name:"border",label:"Border",type:"border"},{name:"shadow",label:"Shadow",type:"shadow"},{name:"minHeight",label:"Min Height",type:"number",unit:"px",responsive:!0},{name:"height",label:"Height",type:"unit-number",units:["px","rem","em","%","vh","vw"],defaultUnit:"px",responsive:!0}],advanced:[{name:"width",label:"Column Width",type:"unit-number",units:["px","vh","vw","em","rem","%","auto"],defaultUnit:"%",responsive:!0,help:"Set the width of this column (adjustable)"},{name:"direction",label:"Layout Direction",type:"buttongroup",options:[{label:"Down ",value:"column",icon:"fa-arrow-down"},{label:"Side ",value:"row",icon:"fa-arrow-right"}],responsive:!0,help:"Arrange child elements vertically or horizontally"},{name:"display",label:"Display",type:"select",options:[{label:"Block",value:"block"},{label:"Flex",value:"flex"}],default:"flex"},{name:"flexDirection",label:"Direction",type:"select",options:[{label:"Row",value:"row"},{label:"Column",value:"column"}],responsive:!0,condition:e=>e.display==="flex"},{name:"gap",label:"Gap",type:"gap",unit:"px",responsive:!0},{name:"customClass",label:"CSS Class",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]}},HI=e=>$I[e]||{content:[],style:[],advanced:[]},UI={content:[{name:"product",label:"Product",type:"heading"},{name:"productId",label:"Select Product",type:"select",options:[],help:"Choose a product to display"},{name:"showTitle",label:"Show Title",type:"toggle",default:!0},{name:"showPrice",label:"Show Price",type:"toggle",default:!0},{name:"showRating",label:"Show Rating",type:"toggle",default:!0},{name:"showDescription",label:"Show Description",type:"toggle",default:!1},{name:"showAddToCart",label:"Show Add to Cart",type:"toggle",default:!0}],style:[{name:"card",label:"Card",type:"heading"},{name:"backgroundColor",label:"Background Color",type:"color"},{name:"border",label:"Border",type:"border"},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px",default:8},{name:"boxShadow",label:"Shadow",type:"shadow"},{name:"padding",label:"Padding",type:"dimensions",unit:"px"},{name:"image",label:"Image",type:"heading"},{name:"imageHeight",label:"Image Height",type:"number",unit:"px",default:300},{name:"imageBorderRadius",label:"Image Border Radius",type:"number",unit:"px"},{name:"typography",label:"Typography",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"unit-number",units:["px","rem","em"],defaultUnit:"px",default:"16px"},{name:"priceColor",label:"Price Color",type:"color"},{name:"priceFontSize",label:"Price Size",type:"unit-number",units:["px","rem","em"],defaultUnit:"px",default:"18px"}],advanced:[{name:"hoverEffect",label:"Hover Effect",type:"select",options:[{label:"None",value:"none"},{label:"Scale",value:"scale"},{label:"Shadow",value:"shadow"},{label:"Lift",value:"lift"}],default:"scale"},{name:"hoverTransition",label:"Transition Duration",type:"number",unit:"ms",default:300},{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},VI={content:[{name:"category",label:"Category",type:"heading"},{name:"categoryId",label:"Select Category",type:"select",options:[]},{name:"showTitle",label:"Show Title",type:"toggle",default:!0},{name:"showDescription",label:"Show Description",type:"toggle",default:!1},{name:"showProductCount",label:"Show Product Count",type:"toggle",default:!0}],style:[{name:"card",label:"Card",type:"heading"},{name:"backgroundColor",label:"Background Color",type:"color"},{name:"border",label:"Border",type:"border"},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px",default:8},{name:"boxShadow",label:"Shadow",type:"shadow"},{name:"padding",label:"Padding",type:"dimensions",unit:"px"},{name:"image",label:"Image",type:"heading"},{name:"imageHeight",label:"Image Height",type:"number",unit:"px",default:200},{name:"imageBorderRadius",label:"Image Border Radius",type:"number",unit:"px"},{name:"typography",label:"Typography",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"number",unit:"px",default:18}],advanced:[{name:"hoverEffect",label:"Hover Effect",type:"select",options:[{label:"None",value:"none"},{label:"Scale",value:"scale"},{label:"Overlay",value:"overlay"}],default:"overlay"},{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},FI={content:[{name:"header",label:"Header",type:"heading"},{name:"title",label:"Title",type:"text",default:"Featured Products"},{name:"showTitle",label:"Show Title",type:"toggle",default:!0},{name:"subtitle",label:"Subtitle",type:"text"},{name:"showSubtitle",label:"Show Subtitle",type:"toggle",default:!1},{name:"products",label:"Products",type:"heading"},{name:"limit",label:"Number of Products",type:"slider",min:1,max:50,step:1,default:8},{name:"columns",label:"Columns",type:"select",options:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"6",value:6}],default:3,responsive:!0},{name:"layout",label:"Layout",type:"select",options:[{label:"Grid",value:"grid"},{label:"Carousel",value:"carousel"}],default:"grid"}],style:[{name:"container",label:"Container",type:"heading"},{name:"backgroundColor",label:"Background Color",type:"color"},{name:"padding",label:"Padding",type:"dimensions",unit:"px"},{name:"spacing",label:"Spacing",type:"heading"},{name:"gap",label:"Gap Between Items",type:"number",unit:"px",default:20,responsive:!0},{name:"margin",label:"Margin",type:"dimensions",unit:"px"},{name:"header",label:"Header",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"number",unit:"px",default:28},{name:"subtitleColor",label:"Subtitle Color",type:"color"},{name:"subtitleFontSize",label:"Subtitle Size",type:"number",unit:"px",default:16}],advanced:[{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},qI={content:[{name:"header",label:"Header",type:"heading"},{name:"title",label:"Title",type:"text",default:"Shop by Category"},{name:"showTitle",label:"Show Title",type:"toggle",default:!0},{name:"categories",label:"Categories",type:"heading"},{name:"limit",label:"Number of Categories",type:"slider",min:1,max:50,step:1,default:6},{name:"columns",label:"Columns",type:"select",options:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"6",value:6}],default:3,responsive:!0}],style:[{name:"container",label:"Container",type:"heading"},{name:"backgroundColor",label:"Background Color",type:"color"},{name:"padding",label:"Padding",type:"dimensions",unit:"px"},{name:"spacing",label:"Spacing",type:"heading"},{name:"gap",label:"Gap Between Items",type:"number",unit:"px",default:20,responsive:!0},{name:"header",label:"Header",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"number",unit:"px",default:28}],advanced:[{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},WI={content:[{name:"slides",label:"Slides",type:"repeater",controls:[{name:"media",label:"Image",type:"mediapicker",accept:"image"},{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"},{name:"link",label:"Link",type:"link"},{name:"buttonText",label:"Button Text",type:"text"}],minItems:1}],style:[{name:"sizing",label:"Sizing",type:"heading"},{name:"height",label:"Height",type:"number",unit:"px",default:400,responsive:!0},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px"},{name:"spacing",label:"Spacing",type:"heading"},{name:"margin",label:"Margin",type:"dimensions",unit:"px"},{name:"overlay",label:"Overlay",type:"heading"},{name:"overlayColor",label:"Overlay Color",type:"color"},{name:"overlayOpacity",label:"Overlay Opacity",type:"slider",min:0,max:1,step:.1,default:.3},{name:"content",label:"Content",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"number",unit:"px",default:32},{name:"descriptionColor",label:"Description Color",type:"color"}],advanced:[{name:"autoplay",label:"Autoplay",type:"toggle",default:!0},{name:"autoplayInterval",label:"Autoplay Interval",type:"number",unit:"ms",default:5e3},{name:"showDots",label:"Show Dots",type:"toggle",default:!0},{name:"showArrows",label:"Show Arrows",type:"toggle",default:!0},{name:"className",label:"CSS Classes",type:"text"}]},KI={content:[{name:"header",label:"Header",type:"heading"},{name:"title",label:"Title",type:"text",default:"Subscribe to Our Newsletter"},{name:"subtitle",label:"Subtitle",type:"textarea"},{name:"description",label:"Description",type:"textarea"},{name:"form",label:"Form",type:"heading"},{name:"inputPlaceholder",label:"Input Placeholder",type:"text",default:"Enter your email"},{name:"buttonText",label:"Button Text",type:"text",default:"Subscribe"},{name:"success",label:"Success Message",type:"heading"},{name:"successTitle",label:"Success Title",type:"text",default:"You're subscribed!"},{name:"successMessage",label:"Success Message",type:"textarea",default:"Thanks for subscribing!"}],style:[{name:"container",label:"Container",type:"heading"},{name:"backgroundColor",label:"Background Color",type:"color"},{name:"backgroundMedia",label:"Background Image",type:"mediapicker",accept:"image"},{name:"padding",label:"Padding",type:"dimensions",unit:"px",default:{top:40,right:40,bottom:40,left:40}},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px"},{name:"typography",label:"Typography",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"number",unit:"px",default:28},{name:"textColor",label:"Text Color",type:"color"},{name:"button",label:"Button",type:"heading"},{name:"buttonColor",label:"Button Color",type:"color"},{name:"buttonTextColor",label:"Button Text Color",type:"color"}],advanced:[{name:"layout",label:"Layout",type:"select",options:[{label:"Vertical",value:"vertical"},{label:"Horizontal",value:"horizontal"}],default:"vertical"},{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},GI={content:[{name:"content",label:"Heading Text",type:"text",placeholder:"Enter heading text"},{name:"level",label:"Heading Level",type:"select",options:[{label:"H1 - Main Heading",value:"h1"},{label:"H2 - Subheading",value:"h2"},{label:"H3 - Section",value:"h3"},{label:"H4 - Subsection",value:"h4"},{label:"H5 - Minor",value:"h5"},{label:"H6 - Minimal",value:"h6"}],default:"h2"}],style:[{name:"fontSize",label:"Font Size",type:"number",unit:"px",default:24,responsive:!0},{name:"color",label:"Text Color",type:"color",default:"#000000",responsive:!0},{name:"textAlign",label:"Alignment",type:"select",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}],default:"left",responsive:!0},{name:"fontWeight",label:"Font Weight",type:"select",options:[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"},{label:"700",value:"700"},{label:"600",value:"600"}],default:"bold",responsive:!0},{name:"lineHeight",label:"Line Height",type:"text",placeholder:"1.5",responsive:!0},{name:"letterSpacing",label:"Letter Spacing",type:"text",placeholder:"0px",responsive:!0},{name:"margin",label:"Margin",type:"text",placeholder:"0px",responsive:!0},{name:"padding",label:"Padding",type:"text",placeholder:"0px",responsive:!0}],advanced:[{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend",responsive:!0}]},YI={content:[{name:"content",label:"Text Content",type:"textarea",placeholder:"Enter text content",rows:3}],style:[{name:"fontSize",label:"Font Size",type:"number",unit:"px",default:16,responsive:!0},{name:"color",label:"Text Color",type:"color",default:"#333333",responsive:!0},{name:"textAlign",label:"Alignment",type:"select",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}],default:"left",responsive:!0},{name:"lineHeight",label:"Line Height",type:"text",placeholder:"1.6",responsive:!0},{name:"margin",label:"Margin",type:"text",placeholder:"0px",responsive:!0},{name:"padding",label:"Padding",type:"text",placeholder:"0px",responsive:!0}],advanced:[{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend",responsive:!0}]},JI={content:[{name:"text",label:"Button Text",type:"text",placeholder:"Click me"},{name:"link",label:"Link URL",type:"text",placeholder:"/products"}],style:[{name:"backgroundColor",label:"Background Color",type:"color",default:"#3b82f6",responsive:!0},{name:"color",label:"Text Color",type:"color",default:"#ffffff",responsive:!0},{name:"fontSize",label:"Font Size",type:"number",unit:"px",default:16,min:8,max:72,responsive:!0},{name:"paddingTop",label:"Padding Top",type:"number",unit:"px",default:12,min:0,max:100,responsive:!0},{name:"paddingRight",label:"Padding Right",type:"number",unit:"px",default:24,min:0,max:100,responsive:!0},{name:"paddingBottom",label:"Padding Bottom",type:"number",unit:"px",default:12,min:0,max:100,responsive:!0},{name:"paddingLeft",label:"Padding Left",type:"number",unit:"px",default:24,min:0,max:100,responsive:!0},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px",default:6,min:0,max:50,responsive:!0},{name:"margin",label:"Margin",type:"text",placeholder:"0px",responsive:!0},{name:"boxShadow",label:"Box Shadow",type:"toggle",default:!1,responsive:!0,help:"Enable drop shadow effect"},{name:"hoverBgColor",label:"Hover Background",type:"color",default:"#2563eb",responsive:!0,help:"Button background on hover"},{name:"hoverTextColor",label:"Hover Text Color",type:"color",default:"#ffffff",responsive:!0,help:"Button text color on hover"}],advanced:[{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend",responsive:!0}]},QI={content:[{name:"src",label:"Image URL",type:"text",placeholder:"/images/example.jpg"},{name:"alt",label:"Alt Text",type:"text",placeholder:"Image description"}],style:[{name:"width",label:"Width",type:"unit-number",units:["px","vh","vw","em","rem","%"],defaultUnit:"%",default:"100%"},{name:"height",label:"Height",type:"text",placeholder:"auto"},{name:"objectFit",label:"Object Fit",type:"select",options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Fill",value:"fill"},{label:"Scale Down",value:"scale-down"}],default:"cover"},{name:"objectPosition",label:"Object Position",type:"select",options:[{label:"Center",value:"center"},{label:"Top",value:"top"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Top Left",value:"top left"},{label:"Top Right",value:"top right"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"}],default:"center"},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px",default:0},{name:"opacity",label:"Opacity",type:"number",min:0,max:1,step:.1,default:1},{name:"padding",label:"Padding",type:"number",unit:"px",default:0}],advanced:[{name:"className",label:"CSS Classes",type:"text"}]},XI={heading:GI,text:YI,button:JI,image:QI,productCard:UI,categoryCard:VI,featuredProducts:FI,featuredCategories:qI,slider:WI,newsletter:KI};function ZI(e){return XI[e]||{content:[],style:[],advanced:[]}}const sx=({control:e,value:t,onChange:r,condition:s})=>{if(s&&!s(t))return null;const a=()=>{const l=t!==void 0?t:e.default;switch(e.type){case"text":return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsx("input",{type:"text",value:l||"",onChange:h=>r(h.target.value),placeholder:e.placeholder,maxLength:e.maxLength,className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"textarea":return e.richText===!0?n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),(()=>{const f=s0;return n.jsx(f,{value:l||"",onChange:m=>r(m)})})(),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]}):n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsx("textarea",{value:l||"",onChange:f=>r(f.target.value),placeholder:e.placeholder,rows:e.rows||3,maxLength:e.maxLength,className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"select":return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsxs("select",{value:String(l||""),onChange:h=>r(h.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"-- Select --"}),e.options?.map(h=>n.jsx("option",{value:String(h.value),children:h.label},String(h.value)))]}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"toggle":return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l||!1,onChange:h=>r(h.target.checked),className:"w-4 h-4 rounded"}),n.jsxs("span",{className:"text-xs font-semibold text-gray-700",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]})]}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"color":return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:l||"#000000",onChange:h=>r(h.target.value),className:"w-12 h-8 border border-gray-300 rounded cursor-pointer"}),n.jsx("input",{type:"text",value:l||"",onChange:h=>r(h.target.value),placeholder:"#000000",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"slider":return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("input",{type:"range",min:e.min,max:e.max,step:e.step||1,value:l||e.min,onChange:h=>r(Number(h.target.value)),className:"flex-1 h-2 bg-gray-200 rounded cursor-pointer"}),n.jsx("input",{type:"number",min:e.min,max:e.max,step:e.step||1,value:l||e.min,onChange:h=>r(Number(h.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.unit&&n.jsx("span",{className:"text-xs text-gray-900",children:e.unit})]}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"number":return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",min:e.min,max:e.max,step:e.step||1,value:l||"",onChange:h=>r(h.target.value?Number(h.target.value):""),className:"flex-1 px-2 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.unit&&n.jsx("span",{className:"px-2 py-1.5 text-xs font-medium text-gray-600",children:e.unit})]}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"unit-number":{const f=(typeof l=="string"?l:"").match(/^([\d.-]*)(.*)$/),m=f?f[1]:"",y=(f?f[2].trim():"")||e.defaultUnit||"px",b=e.units||["px","rem","em","%","vh","vw"];return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",min:e.min,max:e.max,step:e.step||1,value:m,onChange:j=>{const N=j.target.value?`${j.target.value}${y}`:"";r(N)},placeholder:"Value",className:"flex-1 px-2 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("select",{value:y,onChange:j=>{const N=j.target.value,C=m?`${m}${N}`:N;r(C)},className:"px-2 py-1.5 border border-gray-300 rounded text-xs font-medium bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:b.map(j=>n.jsx("option",{value:j,children:j},j))})]}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]})}case"align":return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsx("div",{className:"flex gap-1",children:e.options?.map(h=>n.jsx("button",{onClick:()=>r(h),className:`px-3 py-1.5 rounded text-xs font-medium transition ${l===h?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:h,children:r$(h)},h))}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"dimensions":return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Top"}),n.jsx("input",{type:"number",value:l?.top||"",onChange:h=>r({...l,top:h.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Right"}),n.jsx("input",{type:"number",value:l?.right||"",onChange:h=>r({...l,right:h.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Bottom"}),n.jsx("input",{type:"number",value:l?.bottom||"",onChange:h=>r({...l,bottom:h.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Left"}),n.jsx("input",{type:"number",value:l?.left||"",onChange:h=>r({...l,left:h.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"typography":return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsxs("div",{className:"space-y-2 border border-gray-200 rounded p-2 bg-gray-50",children:[e.includeFontFamily!==!1&&n.jsx("input",{type:"text",value:l?.fontFamily||"",onChange:h=>r({...l,fontFamily:h.target.value}),placeholder:"Font Family",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.includeFontWeight!==!1&&n.jsxs("select",{value:l?.fontWeight||400,onChange:h=>r({...l,fontWeight:h.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:300,children:"Light (300)"}),n.jsx("option",{value:400,children:"Normal (400)"}),n.jsx("option",{value:500,children:"Medium (500)"}),n.jsx("option",{value:600,children:"Semibold (600)"}),n.jsx("option",{value:700,children:"Bold (700)"}),n.jsx("option",{value:800,children:"Extrabold (800)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("input",{type:"number",value:l?.fontSize||"",onChange:h=>r({...l,fontSize:h.target.value}),placeholder:"Font Size",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.includeLineHeight!==!1&&n.jsx("input",{type:"number",value:l?.lineHeight||"",onChange:h=>r({...l,lineHeight:h.target.value}),placeholder:"Line Height",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.includeLetterSpacing!==!1&&n.jsx("input",{type:"number",value:l?.letterSpacing||"",onChange:h=>r({...l,letterSpacing:h.target.value}),placeholder:"Letter Spacing",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.includeTextTransform!==!1&&n.jsxs("select",{value:l?.textTransform||"none",onChange:h=>r({...l,textTransform:h.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"uppercase",children:"Uppercase"}),n.jsx("option",{value:"lowercase",children:"Lowercase"}),n.jsx("option",{value:"capitalize",children:"Capitalize"})]})]}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"border":const c=l||{};return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsxs("div",{className:"space-y-2 border border-gray-200 rounded p-2 bg-gray-50",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("input",{type:"number",value:c?.width||"",onChange:h=>r({...c,width:h.target.value}),placeholder:"Width",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsxs("select",{value:c?.style||"solid",onChange:h=>r({...c,style:h.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"solid",children:"Solid"}),n.jsx("option",{value:"dashed",children:"Dashed"}),n.jsx("option",{value:"dotted",children:"Dotted"})]})]}),n.jsx("input",{type:"color",value:c?.color||"#000000",onChange:h=>r({...c,color:h.target.value}),className:"w-full h-8 border border-gray-300 rounded cursor-pointer"}),n.jsx("input",{type:"number",value:c?.radius||"",onChange:h=>r({...c,radius:h.target.value}),placeholder:"Radius",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"shadow":const u=l||{};return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsxs("div",{className:"space-y-2 border border-gray-200 rounded p-2 bg-gray-50",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("input",{type:"number",value:u?.offsetX||"",onChange:h=>r({...u,offsetX:h.target.value}),placeholder:"Offset X",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("input",{type:"number",value:u?.offsetY||"",onChange:h=>r({...u,offsetY:h.target.value}),placeholder:"Offset Y",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("input",{type:"number",value:u?.blur||"",onChange:h=>r({...u,blur:h.target.value}),placeholder:"Blur",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("input",{type:"number",value:u?.spread||"",onChange:h=>r({...u,spread:h.target.value}),placeholder:"Spread",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsx("input",{type:"color",value:u?.color||"#000000",onChange:h=>r({...u,color:h.target.value}),className:"w-full h-8 border border-gray-300 rounded cursor-pointer"})]}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"mediapicker":return n.jsx(e$,{value:l,onChange:r,label:e.label,help:e.help,accept:e.accept,responsive:e.responsive});case"heading":return n.jsx("div",{className:"mb-3 pt-2 pb-2 border-t border-gray-200",children:n.jsx("h4",{className:"text-xs font-bold text-gray-700 uppercase tracking-wide",children:e.label})});case"buttongroup":return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsx("div",{className:"flex gap-2",children:e.options?.map(h=>n.jsxs("button",{onClick:()=>{r(h.value)},className:`flex-1 px-3 py-2 rounded text-xs font-medium transition ${l===h.value?"bg-blue-500 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:h.label,children:[h.icon&&n.jsx("i",{className:`fas ${h.icon} mr-1`}),h.label]},h.value))}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"repeater":{const[h,f]=S.useState(null),m=Array.isArray(l)?l:e.default||[],g=()=>{const j={};e.fields?.forEach(N=>{j[N.name]=N.default||""}),r([...m,j])},y=j=>{r(m.filter((N,C)=>C!==j)),f(null)},b=(j,N,C)=>{const w=[...m];w[j]={...w[j],[N]:C},r(w)};return n.jsxs("div",{className:"mb-4 border border-gray-300 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-gray-50 p-3 border-b",children:[n.jsx("h3",{className:"text-xs font-semibold text-gray-700 mb-3",children:e.label}),n.jsx("div",{className:"space-y-2 mb-3",children:m.map((j,N)=>n.jsxs("div",{className:`p-3 border rounded cursor-pointer transition ${h===N?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>f(h===N?null:N),children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"text-xs font-semibold text-gray-700",children:["Item ",N+1,j.icon&&n.jsx("span",{className:"ml-2 text-sm",children:j.icon}),j.heading&&n.jsx("span",{className:"ml-2 text-gray-600",children:j.heading})]})}),n.jsx("button",{onClick:C=>{C.stopPropagation(),y(N)},className:"text-black hover:text-gray-700 text-xs font-bold",children:""})]}),h===N&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-3",onClick:C=>C.stopPropagation(),children:e.fields?.map(C=>n.jsxs("div",{onClick:w=>w.stopPropagation(),children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:C.label}),C.type==="icon"&&n.jsx("input",{type:"text",value:j[C.name]||"",onChange:w=>{w.stopPropagation(),b(N,C.name,w.target.value)},onClick:w=>w.stopPropagation(),placeholder:"fas fa-check",className:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),C.type==="text"&&n.jsx("input",{type:"text",value:j[C.name]||"",onChange:w=>{w.stopPropagation(),b(N,C.name,w.target.value)},onClick:w=>w.stopPropagation(),placeholder:C.placeholder||C.label,className:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),C.type==="textarea"&&n.jsx("textarea",{value:j[C.name]||"",onChange:w=>{w.stopPropagation(),b(N,C.name,w.target.value)},onClick:w=>w.stopPropagation(),placeholder:C.placeholder||C.label,rows:2,className:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),C.type==="toggle"&&n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",onClick:w=>w.stopPropagation(),children:[n.jsx("input",{type:"checkbox",checked:j[C.name]||!1,onChange:w=>{w.stopPropagation(),b(N,C.name,w.target.checked)},onClick:w=>w.stopPropagation(),className:"w-4 h-4 rounded"}),n.jsx("span",{className:"text-xs text-gray-600",children:C.label})]})]},C.name))})]},N))}),n.jsx("button",{onClick:g,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-xs font-semibold rounded transition",children:"+ Add Item"})]}),e.help&&n.jsx("div",{className:"p-3 bg-blue-50 text-xs text-blue-700",children:e.help})]})}case"icon":{const h=["fas fa-star","fas fa-heart","fas fa-check","fas fa-times","fas fa-plus","fas fa-minus","fas fa-search","fas fa-user","fas fa-bell","fas fa-cog","fas fa-phone","fas fa-envelope","fas fa-home","fas fa-shopping-cart","fas fa-arrow-right","fas fa-arrow-left","fas fa-arrow-up","fas fa-arrow-down","fas fa-calendar","fas fa-clock","fas fa-camera","fas fa-image","fas fa-video","fas fa-music","fas fa-file","fas fa-folder","fas fa-link","fas fa-share","fas fa-download","fas fa-upload","fab fa-facebook","fab fa-twitter","fab fa-linkedin","fab fa-instagram","fab fa-youtube","fab fa-github","fab fa-whatsapp","fab fa-telegram","fas fa-bars","fas fa-trash","fas fa-edit","fas fa-eye","fas fa-globe","fas fa-map","fas fa-star-half","fas fa-flag","fas fa-rocket","fas fa-certificate","fas fa-crown","fas fa-gift","fas fa-lock","fas fa-unlock","fas fa-key","fas fa-battery-full","fas fa-wifi","fas fa-sun","fas fa-moon","fas fa-cloud","fas fa-leaf","fas fa-fire"];return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded",children:[n.jsx("p",{className:"text-xs font-semibold text-blue-700 mb-2",children:" Custom FontAwesome Code"}),n.jsx("input",{type:"text",value:l||"",onChange:f=>r(f.target.value),placeholder:"e.g., fas fa-star, fab fa-facebook",className:"w-full px-2 py-2 border border-blue-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Type any FontAwesome class name"})]}),l&&n.jsxs("div",{className:"mb-3 p-2 bg-gray-50 border border-gray-200 rounded flex items-center gap-2",children:[n.jsx("span",{className:"text-3xl text-gray-400",children:n.jsx("i",{className:l})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Selected:"}),n.jsx("p",{className:"text-sm text-gray-400 font-mono",children:l})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Or Select from Library:"}),n.jsx("div",{className:"grid grid-cols-6 gap-2 p-2 border border-gray-300 rounded bg-gray-50 max-h-64 overflow-y-auto",children:h.map(f=>n.jsx("button",{onClick:()=>r(f),className:`p-2 rounded text-lg transition ${l===f?"bg-blue-500 text-white shadow-md ring-2 ring-blue-400":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200 hover:border-blue-400"}`,title:f,children:n.jsx("i",{className:f})},f))})]}),e.help&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]})}}};return n.jsx(n.Fragment,{children:a()})},e$=({value:e,onChange:t,label:r,help:s,accept:a="all",responsive:l})=>{const[c,u]=S.useState(!1),[h,f]=S.useState(!1),[m,g]=S.useState(""),[y,b]=S.useState(!1),j=async C=>{const w=C.target.files?.[0];if(w){b(!0);try{const T=new FormData;T.append("file",w);const E=await fetch("/api/media/upload",{method:"POST",body:T});if(E.ok){const O=await E.json(),R=O.asset?.url||O.url||O.path||w.name;t(R)}else alert("Upload failed. Please try again.")}catch{alert("Upload error. Please try again.")}finally{b(!1)}}},N=()=>{m.trim()&&(t(m),g(""),f(!1))};return n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[r,l&&n.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),n.jsxs("div",{className:"border border-gray-300 rounded p-2 bg-gray-50",children:[e?n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center text-2xl overflow-hidden",children:typeof e=="string"&&e.startsWith?.("http")?n.jsx("img",{src:e,alt:"preview",className:"w-full h-full object-cover"}):a==="video"||e?.type==="video"?"":""}),n.jsxs("div",{className:"flex-1 text-xs",children:[n.jsx("p",{className:"font-semibold text-gray-700 truncate",children:typeof e=="string"?e.includes("/")?e.split("/").pop()?.split("?")[0]||"Media File":e:e?.filename||e?.assetId}),n.jsx("p",{className:"text-gray-600",children:typeof e=="string"?"URL":"Asset"})]}),n.jsx("button",{onClick:()=>t(void 0),className:"p-1 hover:bg-gray-100 rounded text-black",title:"Remove",children:""})]}):n.jsxs("div",{className:"text-center py-4 text-gray-900",children:[n.jsx("p",{className:"text-2xl mb-1",children:""}),n.jsx("p",{className:"text-xs",children:"No media selected"})]}),h?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:m,onChange:C=>g(C.target.value),placeholder:"https://example.com/image.jpg",className:"flex-1 px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-gray-500",onKeyPress:C=>C.key==="Enter"&&N()}),n.jsx("button",{onClick:N,className:"px-3 py-1.5 bg-black hover:bg-black text-white text-xs font-medium rounded transition",children:"Add"}),n.jsx("button",{onClick:()=>{f(!1),g("")},className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-700 text-white text-xs font-medium rounded transition",children:"Cancel"})]}):n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("label",{className:`flex-1 px-2 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded cursor-pointer transition text-center ${y?"opacity-50 cursor-not-allowed":""}`,children:[y?"Uploading...":"Upload",n.jsx("input",{type:"file",onChange:j,disabled:y,accept:a==="all"?"image/*,video/*":a==="image"?"image/*":"video/*",className:"hidden"})]}),n.jsx("button",{onClick:()=>f(!0),className:"flex-1 px-2 py-1.5 bg-black hover:bg-black text-white text-xs font-medium rounded transition",children:"URL"}),n.jsx("button",{onClick:()=>u(!0),className:"flex-1 px-2 py-1.5 bg-gray-700 hover:bg-gray-700 text-white text-xs font-medium rounded transition",children:"Library"})]})]}),s&&n.jsx("p",{className:"text-xs text-gray-900 mt-1",children:s}),c&&n.jsx(t$,{onSelect:(C,w)=>{t(C),u(!1)},onClose:()=>u(!1),accept:a})]})},t$=({onSelect:e,onClose:t,accept:r="all"})=>{const s=[{_id:"1",type:"image",filename:"photo1.jpg",url:"/api/media/serve/1"},{_id:"2",type:"image",filename:"photo2.jpg",url:"/api/media/serve/2"},{_id:"3",type:"video",filename:"video1.mp4",url:"/api/media/serve/3"}];return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h2",{className:"font-bold text-gray-800",children:"Select Media"}),n.jsx("button",{onClick:t,className:"text-gray-900 hover:text-gray-700 text-2xl",children:""})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-4 gap-3",children:s.filter(a=>r==="all"||r==="image"&&a.type==="image"||r==="video"&&a.type==="video").map(a=>n.jsxs("button",{onClick:()=>e(a._id,a.type),className:"p-2 border border-gray-300 rounded hover:border-blue-500 transition text-left",children:[n.jsx("div",{className:"w-full aspect-square bg-gray-200 rounded flex items-center justify-center text-3xl mb-1",children:a.type==="image"?"":""}),n.jsx("p",{className:"text-xs font-semibold text-gray-700 truncate",children:a.filename})]},a._id))}),n.jsx("div",{className:"p-4 border-t flex justify-end gap-2",children:n.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded transition",children:"Cancel"})})]})})},r$=e=>{switch(e){case"left":return"";case"center":return"";case"right":return"";case"justify":return"";case"flex-start":return"";case"flex-end":return"";case"space-between":return"  ";default:return e}},n$=({onSelect:e,onClose:t})=>n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Which layout would you like to use?"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:()=>e("flexbox"),className:"flex flex-col items-center gap-3 p-6 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition group",children:[n.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-300 to-black-400 rounded flex items-center justify-center group-hover:from-blue-300 group-hover:to-blue-400 transition",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"w-8 h-12 bg-white bg-opacity-70 rounded"}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("div",{className:"w-8 h-5 bg-white bg-opacity-70 rounded"}),n.jsx("div",{className:"w-8 h-5 bg-white bg-opacity-70 rounded"})]})]})}),n.jsx("span",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition",children:"Flexbox"}),n.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Row-based flexible layout"})]}),n.jsxs("button",{onClick:()=>e("grid"),className:"flex flex-col items-center gap-3 p-6 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition group",children:[n.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-300 to-black-400 rounded flex items-center justify-center group-hover:from-blue-300 group-hover:to-blue-400 transition",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-70 rounded"}),n.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-70 rounded"}),n.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-70 rounded"}),n.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-70 rounded"})]})}),n.jsx("span",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition",children:"Grid"}),n.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Column-based grid layout"})]})]})]})}),s$=[{id:"flex-1",name:"1 Column",columns:[100],visual:""},{id:"flex-2",name:"2 Columns (50-50)",columns:[50,50],visual:""},{id:"flex-2-uneven",name:"2 Columns (33-66)",columns:[33.33,66.67],visual:""},{id:"flex-3",name:"3 Columns",columns:[33.33,33.33,33.33],visual:""},{id:"flex-4",name:"4 Columns",columns:[25,25,25,25],visual:""},{id:"flex-5",name:"5 Columns",columns:[20,20,20,20,20],visual:""}],a$=[{id:"grid-1",name:"1 Column",columns:[100],visual:""},{id:"grid-2",name:"2 Columns",columns:[50,50],visual:""},{id:"grid-2-uneven",name:"2 Columns (33-66)",columns:[33.33,66.67],visual:""},{id:"grid-3",name:"3 Columns",columns:[33.33,33.33,33.33],visual:""},{id:"grid-4",name:"4 Columns",columns:[25,25,25,25],visual:""},{id:"grid-2x2",name:"2x2 Grid",columns:[50,50,50,50],visual:`
`}],o$=({layout:e,onSelect:t,onBack:r,onClose:s})=>{const a=e==="flexbox"?s$:a$;return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-5xl mx-4 max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-900 text-2xl p-1",title:"Go back",children:""}),n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Select your structure"})]}),n.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:a.map(l=>n.jsxs("button",{onClick:()=>t(l),className:"flex flex-col items-center gap-2 p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition group",title:l.name,children:[n.jsx("div",{className:"w-full h-20 bg-gray-100 rounded flex items-center justify-center mb-2 group-hover:bg-blue-100 transition",children:e==="flexbox"?n.jsx("div",{className:"flex gap-1 w-full justify-center px-2",children:l.columns.map((c,u)=>n.jsx("div",{style:{width:`${c}%`},className:"h-12 bg-gray-300 rounded group-hover:bg-blue-400 transition"},u))}):n.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:`repeat(${Math.max(2,l.columns.length)}, 1fr)`},children:l.columns.map((c,u)=>n.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded group-hover:bg-blue-400 transition"},u))})}),n.jsx("span",{className:"text-xs font-semibold text-gray-900 text-center group-hover:text-blue-600 transition",children:l.name})]},l.id))})]})})},l$=({onSelectNode:e,selectedNodeId:t})=>{const r=S.useContext(Go),[s,a]=S.useState(new Set);if(!r||!r.rootNode)return n.jsx("div",{className:"p-4 text-gray-900 text-sm",children:"No page structure"});const{rootNode:l,updateNodeAdvanced:c,findNode:u}=r,h=b=>{const j=new Set(s);j.has(b)?j.delete(b):j.add(b),a(j)},f=b=>{switch(b.kind){case"section":return n.jsx(Ic,{className:"text-black"});case"column":return n.jsx(SA,{className:"text-blue-600"});case"widget":return n.jsx(d4,{className:"text-gray-400"});default:return n.jsx(d4,{})}},m=b=>b.kind==="widget"?b.widgetType||"Widget":b.kind==="section"?`Section (${b.children?.length||0} columns)`:b.kind==="column"?`Column (${b.children?.length||0} items)`:b.kind,g=(b,j)=>{b.stopPropagation();const N=u(j);if(N){const C=N.advanced?.hidden||!1;c?.(j,{hidden:!C})}},y=(b,j=0)=>{const N=b.children&&b.children.length>0,C=s.has(b.id),w=t===b.id,T=b.advanced?.hidden||!1;return n.jsxs("div",{children:[n.jsxs("div",{onClick:()=>e?.(b.id),className:`flex items-center gap-2 px-3 py-2 cursor-pointer transition rounded-md ${w?"bg-blue-100 border-l-4 border-blue-600":"hover:bg-gray-100"}`,style:{paddingLeft:`${j*16+12}px`},children:[N?n.jsx("button",{onClick:E=>{E.stopPropagation(),h(b.id)},className:"flex items-center justify-center w-4 h-4 text-gray-600 hover:text-gray-900",children:C?n.jsx(vn,{size:12}):n.jsx(es,{size:12})}):n.jsx("div",{className:"w-4"}),n.jsx("span",{className:"flex items-center justify-center w-4 h-4",children:f(b)}),n.jsx("span",{className:`flex-1 text-sm font-medium ${w?"text-blue-900":"text-gray-700"} ${T?"opacity-50 line-through":""}`,children:m(b)}),n.jsx("button",{onClick:E=>g(E,b.id),className:`flex items-center justify-center p-1 rounded transition ${T?"text-gray-400 hover:text-gray-600":"text-gray-900 hover:text-gray-700"}`,title:T?"Show element":"Hide element",children:T?n.jsx(Lw,{size:14}):n.jsx(D0,{size:14})})]}),N&&C&&n.jsx("div",{children:b.children.map(E=>y(E,j+1))})]},b.id)};return n.jsxs("div",{className:"navigator h-full flex flex-col overflow-hidden bg-white",children:[n.jsxs("div",{className:"flex items-center gap-2 px-3 py-3 border-b border-gray-200 bg-gray-50 flex-shrink-0",children:[n.jsx(Ic,{className:"text-gray-600",size:16}),n.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Structure"})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:l.children&&l.children.length>0?n.jsx("div",{className:"p-2",children:l.children.map(b=>y(b))}):n.jsxs("div",{className:"p-4 text-center text-gray-900 text-sm",children:[n.jsx("p",{children:"No elements yet"}),n.jsx("p",{className:"text-xs mt-1",children:"Add sections to get started"})]})})]})},i$=e=>({Heart:n.jsx(Af,{}),List:n.jsx(Mf,{}),Star:n.jsx(p4,{}),Box:n.jsx(Nn,{}),Text:n.jsx(AA,{}),Button:n.jsx(UA,{}),Image:n.jsx(_w,{}),Video:n.jsx(JA,{}),Divider:n.jsx(Iw,{}),Spacer:n.jsx(gA,{}),Heading:n.jsx(p4,{})})[e]||n.jsx(Nn,{}),c$=({selectedNodeId:e,onSelectNode:t})=>{const r=S.useContext(Go),[s,a]=S.useState("library"),[l,c]=S.useState("content"),[u,h]=S.useState(new Set(["Basic","Content","eCommerce"])),[f,m]=S.useState(!1),[g,y]=S.useState(null);if(!r)return n.jsx("div",{className:"p-4 text-black text-sm",children:"Context not available"});const{rootNode:b,findNode:j,insertNewNode:N,updateNodeProps:C,updateNodeStyle:w,updateNodeAdvanced:T,deleteNode:E,duplicateNodeAction:O,updateNodeResponsiveStyle:R,updateNodeResponsiveAdvanced:L,currentDevice:z}=r,q=e?j(e):null,I=kI(),H=P=>({heading:{content:"Heading",level:"h2"},text:{content:"Enter your text here"},button:{content:"Click Me",link:"#"},image:{src:"",alt:"Image"},video:{src:"",autoplay:!1},divider:{type:"solid"},spacer:{height:"20px"},iconList:{items:[]}})[P]||{},W=P=>{const K=new Set(u);K.has(P)?K.delete(P):K.add(P),h(K)},ie=()=>{m(!0)},Y=P=>{y(P)},ne=P=>{if(!N||!b?.id)return;const K=P.columns.map((ve,je)=>i3({id:`col_${Date.now()}_${je}`,props:{width:`${ve}%`}})),de=l3({id:`section_${Date.now()}`,props:{contentWidth:"full",numColumns:P.columns.length},style:{gap:"20px"},advanced:{display:g},children:K});N(b.id,de),m(!1),y(null)},F=P=>{if(!N||!b?.id)return;const K=ve=>{if(!ve)return null;if(ve.kind==="column")return ve;if(ve.children&&ve.children.length>0)for(const je of ve.children){const He=K(je);if(He)return He}return null},de=K(b);if(de){const ve=H(P),je=a0(P,ve);N(de.id,je)}else{const ve=a0(P,{}),je=i3({id:`col_${Date.now()}`,children:[ve]}),He=l3({id:`section_${Date.now()}`,props:{numColumns:1},children:[je]});N(b.id,He)}},M=()=>{E&&e&&(E(e),t(null))},_=()=>{O&&e&&O(e)},$=(()=>{if(!q)return null;if(q.kind==="section"||q.kind==="column")return HI(q.kind);if(q.kind==="widget"&&q.widgetType){const P=SI(q.widgetType);return P&&P.schema?P.schema:ZI(q.widgetType)}return null})(),ce=(P,K)=>{if(C&&e&&q){const de={...q.props,[P]:K};C(e,{props:de})}},A=(P,K)=>{e&&(z==="desktop"?w?.(e,{[P]:K}):R?.(e,z,P,K))},B=(P,K)=>{e&&(z==="desktop"?T?.(e,{[P]:K}):L?.(e,z,P,K))};return n.jsxs("div",{className:"left-panel h-full flex flex-col overflow-hidden bg-white",children:[n.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50 flex-shrink-0",children:[n.jsxs("button",{onClick:()=>a("library"),className:`flex-1 px-3 py-3 text-sm font-medium transition border-b-2 flex flex-col  items-center justify-center gap-2 ${s==="library"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900"}`,children:[n.jsx(Nn,{}),n.jsx("span",{children:"Library"})]}),n.jsxs("button",{onClick:()=>a("navigator"),className:`flex-1 px-3 py-3 text-sm font-medium transition border-b-2 flex flex-col items-center justify-center gap-2 ${s==="navigator"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900"}`,children:[n.jsx(wA,{}),n.jsx("span",{children:"Structure"})]}),n.jsxs("button",{onClick:()=>a("inspector"),className:`flex-1 px-3 py-3 text-sm font-medium transition border-b-2 flex flex-col items-center justify-center gap-2 ${s==="inspector"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900"}`,children:[n.jsx(CA,{}),n.jsx("span",{children:"Inspector"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:s==="library"?n.jsxs("div",{className:"p-3",children:[n.jsxs("button",{onClick:ie,className:"w-full mb-4 px-4 py-3 bg-linear-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-lg transition flex items-center justify-center gap-2 shadow-md",children:[n.jsx(js,{}),n.jsx("span",{children:"Add Section"})]}),Object.entries(I).map(([P,K])=>n.jsxs("div",{className:"mb-3",children:[n.jsxs("button",{onClick:()=>W(P),className:"w-full flex items-center gap-2 px-2 py-2 mb-2 bg-gray-100 hover:bg-gray-200 rounded text-sm font-semibold text-gray-700 transition",children:[u.has(P)?n.jsx(vn,{size:12}):n.jsx(es,{size:12}),n.jsx("span",{children:P})]}),u.has(P)&&n.jsx("div",{className:"grid grid-cols-2 gap-2 ml-2",children:K.map(de=>n.jsxs("button",{onClick:()=>F(de.widgetType),draggable:!0,onDragStart:ve=>{ve.dataTransfer.effectAllowed="copy",ve.dataTransfer.setData("widgetType",de.widgetType)},className:"flex flex-col items-center justify-center gap-1 px-2 py-3 bg-white border border-gray-200 hover:border-blue-400 hover:bg-blue-50 rounded text-sm transition cursor-move",children:[n.jsx("span",{className:"text-xl text-blue-600",children:i$(de.icon)}),n.jsx("span",{className:"font-medium text-gray-700 text-center",children:de.name})]},de.widgetType))})]},P))]}):s==="navigator"?n.jsx(l$,{selectedNodeId:e,onSelectNode:t}):n.jsx("div",{className:"p-3 space-y-3",children:q?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Element Type"}),n.jsx("p",{className:"font-semibold text-gray-900 capitalize text-sm",children:q.widgetType||q.kind})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-700 hover:bg-gray-50 p-1.5 rounded transition",title:"Duplicate element",children:n.jsx(kA,{})}),n.jsx("button",{onClick:M,className:"text-black hover:text-gray-700 hover:bg-gray-100 p-1.5 rounded transition",title:"Delete element",children:n.jsx(bs,{})})]})]})}),q.kind!=="section"&&n.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded p-2",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Hierarchy"}),n.jsxs("button",{onClick:()=>{if(b?j(b,e):null){let K=null;const de=ve=>ve.children?.find(je=>je.id===e)?(K=ve.id,!0):ve.children?.some(je=>de(je));b&&de(b),K&&t(K)}},className:"w-full text-left px-2 py-2 bg-white border border-amber-300 rounded text-xs font-medium text-amber-700 hover:bg-amber-100 transition",children:[" Select Parent ",q.kind==="column"?"Section":"Column"]})]}),n.jsx("div",{className:"flex justify-between border-b border-gray-200 bg-gray-50 -mx-3 px-3 pt-1",children:["content","style","advanced"].map(P=>n.jsx("button",{onClick:()=>c(P),className:`px-2 py-2 text-xs font-medium border-b-2 transition ${l===P?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900"}`,children:P==="content"?"Content":P==="style"?"Style":"Advanced"},P))}),n.jsx("div",{className:"space-y-2",children:$?n.jsxs(n.Fragment,{children:[l==="content"&&$.content&&$.content.length>0?n.jsx("div",{className:"space-y-2",children:$.content.map(P=>n.jsx("div",{children:n.jsx(sx,{control:P,value:q.props?.[P.name]??P.default,onChange:K=>ce(P.name,K)})},P.name||P.label))}):l==="content"?n.jsx("p",{className:"text-xs text-gray-900 py-3",children:"No content controls"}):null,l==="style"&&$.style&&$.style.length>0?n.jsx("div",{className:"space-y-2",children:$.style.map(P=>{let de=q.style?.[P.name]??P.default;if(P.responsive&&z!=="desktop"){const ve=q.responsive?.[z]?.style?.[P.name];ve!==void 0&&(de=ve)}return n.jsx("div",{children:n.jsx(sx,{control:P,value:de,onChange:ve=>A(P.name,ve)})},P.name||P.label)})}):l==="style"?n.jsx("p",{className:"text-xs text-gray-900 py-3",children:"No style controls"}):null,l==="advanced"&&$.advanced&&$.advanced.length>0?n.jsx("div",{className:"space-y-2",children:$.advanced.map(P=>{let de=q.advanced?.[P.name]??P.default;if(P.responsive&&z!=="desktop"){const ve=q.responsive?.[z]?.advanced?.[P.name];ve!==void 0&&(de=ve)}return n.jsx("div",{children:n.jsx(sx,{control:P,value:de,onChange:ve=>B(P.name,ve)})},P.name||P.label)})}):l==="advanced"?n.jsx("p",{className:"text-xs text-gray-900 py-3",children:"No advanced controls"}):null]}):n.jsx("p",{className:"text-xs text-gray-900 py-3",children:"No schema available for this element"})})]}):n.jsx("div",{className:"text-center py-8",children:n.jsxs("p",{className:"text-gray-900 text-sm flex items-center justify-center gap-2",children:[n.jsx(es,{}),n.jsx("span",{children:"Select an element on canvas to edit"})]})})})}),f&&!g&&n.jsx(n$,{onSelect:Y,onClose:()=>{m(!1),y(null)}}),f&&g&&n.jsx(o$,{layout:g,onSelect:ne,onBack:()=>y(null),onClose:()=>{m(!1),y(null)}})]})},d$=({title:e="Page Builder"})=>{const[t,r]=S.useState(null),{savePage:s,rootNode:a,saveStatus:l,currentDevice:c,setCurrentDevice:u}=S.useContext(Go)||{},h=async()=>{s&&await s(!0)};return n.jsxs("div",{className:"builder-layout h-screen flex flex-col bg-gray-50",children:[n.jsx("header",{className:"builder-header bg-linear-to-r from-blue-600 to-blue-700 text-white p-4 shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h1",{className:"text-xl font-bold",children:"Elementor Builder"}),n.jsx("span",{className:"text-blue-100 text-sm",children:"home"})]}),n.jsx("div",{className:"flex items-center gap-2",children:["desktop","tablet","mobile"].map(f=>n.jsx("button",{onClick:()=>u?.(f),className:`px-3 py-2 rounded text-sm font-medium transition ${c===f?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:f==="desktop"?"":f==="tablet"?" Tablet":" Mobile"},f))}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-sm text-blue-100",children:"6 sections"}),n.jsx("button",{onClick:h,disabled:l==="saving",className:`px-4 py-2 rounded font-semibold transition ${l==="saving"?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-white text-blue-600 hover:bg-gray-100"}`,children:l==="saving"?" Saving...":l==="saved"?" Saved":" Save"}),n.jsx("button",{className:"bg-black text-white px-4 py-2 rounded font-semibold hover:bg-gray-900 transition",children:" Exit"})]})]})}),n.jsxs("div",{className:"builder-content flex flex-1 overflow-hidden",children:[n.jsx("div",{className:"builder-left w-80 bg-white border-r border-gray-200 overflow-hidden flex flex-col shadow-sm",children:n.jsx(c$,{selectedNodeId:t,onSelectNode:r})}),n.jsx("div",{className:"builder-canvas flex-1 overflow-hidden",children:n.jsx(II,{device:c||"desktop",onSelectNode:r})})]}),n.jsx("style",{children:`
                .builder-layout {
                    background: #f5f5f5;
                }

                .builder-header {
                    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                    z-index: 50;
                }

                .builder-content {
                    display: flex;
                    flex: 1;
                    overflow: hidden;
                }

                .builder-left {
                    flex-shrink: 0;
                    display: flex;
                    flex-direction: column;
                }

                .builder-canvas {
                    flex: 1;
                    overflow: auto;
                }

                /* Responsive - hide left panel on small screens */
                @media (max-width: 768px) {
                    .builder-left {
                        display: none;
                    }
                }
            `})]})},u$=({pageId:e="home"})=>{const{isEditing:t,currentPage:r,saveStatus:s,isSaving:a,toggleEditMode:l,savePage:c}=T0();return S.useEffect(()=>{const u=h=>{t&&(h.ctrlKey||h.metaKey)&&h.key==="s"&&(h.preventDefault(),c(!0))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[t,c]),t?n.jsx("div",{className:"elementor-builder-wrapper fixed inset-0 z-50 bg-white overflow-hidden flex flex-col",children:n.jsx(d$,{title:`Editing: ${r||"home"}`})}):null},h$=()=>{const e=ln(),t=sr(),{isEditing:r}=T0(),s=e.pathname.startsWith("/admin"),a=e.pathname==="/admin/login";return S.useEffect(()=>{(async()=>{GT(),WT(),await new Promise(c=>setTimeout(c,300)),t(Lc()),t(Fl())})()},[t]),S.useEffect(()=>{window.scrollTo(0,0)},[e]),UT(),VT(),n.jsxs("div",{className:"flex flex-col min-h-screen",children:[!s&&!a&&!r&&n.jsx(QA,{hideMenu:e.pathname==="/"}),n.jsx("main",{className:"grow",children:n.jsxs(N9,{children:[n.jsx(St,{path:"/",element:n.jsx(fM,{})}),n.jsx(St,{path:"/products",element:n.jsx(pM,{})}),n.jsx(St,{path:"/product/:slug",element:n.jsx(xM,{})}),n.jsx(St,{path:"/categories",element:n.jsx(bM,{})}),n.jsx(St,{path:"/category/:slug",element:n.jsx(vM,{})}),n.jsx(St,{path:"/cart",element:n.jsx(NM,{})}),n.jsx(St,{path:"/checkout",element:n.jsx(BM,{})}),n.jsx(St,{path:"/wishlist",element:n.jsx(_M,{})}),n.jsx(St,{path:"/admin/login",element:n.jsx(PM,{})}),n.jsx(St,{path:"/about",element:n.jsx(ZM,{})}),n.jsx(St,{path:"/contact",element:n.jsx(eO,{})}),n.jsx(St,{path:"/policies/shipping",element:n.jsx(sO,{})}),n.jsx(St,{path:"/policies/returns-refund",element:n.jsx(aO,{})}),n.jsx(St,{path:"/policies/privacy",element:n.jsx(oO,{})}),n.jsx(St,{path:"/policies/terms",element:n.jsx(lO,{})}),n.jsx(St,{path:"/policies/faq",element:n.jsx(iO,{})}),n.jsx(St,{path:"/payment-options",element:n.jsx(xI,{})}),n.jsx(St,{path:"/order-lookup",element:n.jsx(nO,{})}),n.jsx(St,{path:"/order/:id",element:n.jsx(rO,{})}),n.jsx(St,{path:"/admin",element:n.jsx(xn,{children:n.jsx(C4,{})})}),n.jsx(St,{path:"/admin/dashboard",element:n.jsx(xn,{children:n.jsx(C4,{})})}),n.jsx(St,{path:"/admin/products",element:n.jsx(xn,{children:n.jsx(uO,{})})}),n.jsx(St,{path:"/admin/categories",element:n.jsx(xn,{children:n.jsx(iI,{})})}),n.jsx(St,{path:"/admin/collections",element:n.jsx(xn,{children:n.jsx(nI,{})})}),n.jsx(St,{path:"/admin/orders",element:n.jsx(xn,{children:n.jsx(uI,{})})}),n.jsx(St,{path:"/admin/reviews",element:n.jsx(xn,{children:n.jsx(rI,{})})}),n.jsx(St,{path:"/admin/analytics",element:n.jsx(xn,{children:n.jsx(hI,{})})}),n.jsx(St,{path:"/admin/menu",element:n.jsx(xn,{children:n.jsx(fI,{})})}),n.jsx(St,{path:"/admin/chat",element:n.jsx(xn,{children:n.jsx(pI,{})})}),n.jsx(St,{path:"/admin/coupons",element:n.jsx(xn,{children:n.jsx(gI,{})})}),n.jsx(St,{path:"/admin/products/add",element:n.jsx(xn,{children:n.jsx(a3,{})})}),n.jsx(St,{path:"/admin/products/edit/:id",element:n.jsx(xn,{children:n.jsx(a3,{})})})]})}),n.jsx(u$,{}),!s&&!a&&!r&&n.jsx(XA,{}),!s&&!a&&!r&&n.jsx(ZA,{}),n.jsx(zT,{position:"top-right"})]})},f$=()=>n.jsx(w7,{store:WE,children:n.jsx(LT,{children:n.jsx(HT,{children:n.jsx(K9,{children:n.jsx(h$,{})})})})});st.defaults.withCredentials=!0;rk.createRoot(document.getElementById("root")).render(n.jsx(S.StrictMode,{children:n.jsx(f$,{})}));
