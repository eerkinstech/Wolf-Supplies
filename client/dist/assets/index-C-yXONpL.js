(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function nj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jm={exports:{}},Xi={};var c2;function P5(){if(c2)return Xi;c2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:e,type:n,key:c,ref:a!==void 0?a:null,props:l}}return Xi.Fragment=t,Xi.jsx=r,Xi.jsxs=r,Xi}var d2;function I5(){return d2||(d2=1,Jm.exports=P5()),Jm.exports}var s=I5(),Qm={exports:{}},ot={};var u2;function H5(){if(u2)return ot;u2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function N(z,X,G){this.props=z,this.context=X,this.refs=S,this.updater=G||j}N.prototype.isReactComponent={},N.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},N.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function A(){}A.prototype=N.prototype;function E(z,X,G){this.props=z,this.context=X,this.refs=S,this.updater=G||j}var M=E.prototype=new A;M.constructor=E,w(M,N.prototype),M.isPureReactComponent=!0;var T=Array.isArray;function D(){}var R={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function K(z,X,G){var ce=G.ref;return{$$typeof:e,type:z,key:X,ref:ce!==void 0?ce:null,props:G}}function W(z,X){return K(z.type,X,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function Y(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(G){return X[G]})}var $=/\/+/g;function I(z,X){return typeof z=="object"&&z!==null&&z.key!=null?Y(""+z.key):X.toString(36)}function ie(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(D,D):(z.status="pending",z.then(function(X){z.status==="pending"&&(z.status="fulfilled",z.value=X)},function(X){z.status==="pending"&&(z.status="rejected",z.reason=X)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function B(z,X,G,ce,ke){var Me=typeof z;(Me==="undefined"||Me==="boolean")&&(z=null);var $e=!1;if(z===null)$e=!0;else switch(Me){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(z.$$typeof){case e:case t:$e=!0;break;case m:return $e=z._init,B($e(z._payload),X,G,ce,ke)}}if($e)return ke=ke(z),$e=ce===""?"."+I(z,0):ce,T(ke)?(G="",$e!=null&&(G=$e.replace($,"$&/")+"/"),B(ke,X,G,"",function(H){return H})):ke!=null&&(V(ke)&&(ke=W(ke,G+(ke.key==null||z&&z.key===ke.key?"":(""+ke.key).replace($,"$&/")+"/")+$e)),X.push(ke)),1;$e=0;var Ae=ce===""?".":ce+":";if(T(z))for(var L=0;L<z.length;L++)ce=z[L],Me=Ae+I(ce,L),$e+=B(ce,X,G,Me,ke);else if(L=y(z),typeof L=="function")for(z=L.call(z),L=0;!(ce=z.next()).done;)ce=ce.value,Me=Ae+I(ce,L++),$e+=B(ce,X,G,Me,ke);else if(Me==="object"){if(typeof z.then=="function")return B(ie(z),X,G,ce,ke);throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return $e}function Z(z,X,G){if(z==null)return z;var ce=[],ke=0;return B(z,ce,"","",function(Me){return X.call(G,Me,ke++)}),ce}function ue(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(G){(z._status===0||z._status===-1)&&(z._status=1,z._result=G)},function(G){(z._status===0||z._status===-1)&&(z._status=2,z._result=G)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var _=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},fe={map:Z,forEach:function(z,X,G){Z(z,function(){X.apply(this,arguments)},G)},count:function(z){var X=0;return Z(z,function(){X++}),X},toArray:function(z){return Z(z,function(X){return X})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return ot.Activity=g,ot.Children=fe,ot.Component=N,ot.Fragment=r,ot.Profiler=a,ot.PureComponent=E,ot.StrictMode=n,ot.Suspense=f,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ot.__COMPILER_RUNTIME={__proto__:null,c:function(z){return R.H.useMemoCache(z)}},ot.cache=function(z){return function(){return z.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(z,X,G){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ce=w({},z.props),ke=z.key;if(X!=null)for(Me in X.key!==void 0&&(ke=""+X.key),X)!q.call(X,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&X.ref===void 0||(ce[Me]=X[Me]);var Me=arguments.length-2;if(Me===1)ce.children=G;else if(1<Me){for(var $e=Array(Me),Ae=0;Ae<Me;Ae++)$e[Ae]=arguments[Ae+2];ce.children=$e}return K(z.type,ke,ce)},ot.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},ot.createElement=function(z,X,G){var ce,ke={},Me=null;if(X!=null)for(ce in X.key!==void 0&&(Me=""+X.key),X)q.call(X,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ke[ce]=X[ce]);var $e=arguments.length-2;if($e===1)ke.children=G;else if(1<$e){for(var Ae=Array($e),L=0;L<$e;L++)Ae[L]=arguments[L+2];ke.children=Ae}if(z&&z.defaultProps)for(ce in $e=z.defaultProps,$e)ke[ce]===void 0&&(ke[ce]=$e[ce]);return K(z,Me,ke)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(z){return{$$typeof:u,render:z}},ot.isValidElement=V,ot.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:ue}},ot.memo=function(z,X){return{$$typeof:h,type:z,compare:X===void 0?null:X}},ot.startTransition=function(z){var X=R.T,G={};R.T=G;try{var ce=z(),ke=R.S;ke!==null&&ke(G,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(D,_)}catch(Me){_(Me)}finally{X!==null&&G.types!==null&&(X.types=G.types),R.T=X}},ot.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ot.use=function(z){return R.H.use(z)},ot.useActionState=function(z,X,G){return R.H.useActionState(z,X,G)},ot.useCallback=function(z,X){return R.H.useCallback(z,X)},ot.useContext=function(z){return R.H.useContext(z)},ot.useDebugValue=function(){},ot.useDeferredValue=function(z,X){return R.H.useDeferredValue(z,X)},ot.useEffect=function(z,X){return R.H.useEffect(z,X)},ot.useEffectEvent=function(z){return R.H.useEffectEvent(z)},ot.useId=function(){return R.H.useId()},ot.useImperativeHandle=function(z,X,G){return R.H.useImperativeHandle(z,X,G)},ot.useInsertionEffect=function(z,X){return R.H.useInsertionEffect(z,X)},ot.useLayoutEffect=function(z,X){return R.H.useLayoutEffect(z,X)},ot.useMemo=function(z,X){return R.H.useMemo(z,X)},ot.useOptimistic=function(z,X){return R.H.useOptimistic(z,X)},ot.useReducer=function(z,X,G){return R.H.useReducer(z,X,G)},ot.useRef=function(z){return R.H.useRef(z)},ot.useState=function(z){return R.H.useState(z)},ot.useSyncExternalStore=function(z,X,G){return R.H.useSyncExternalStore(z,X,G)},ot.useTransition=function(){return R.H.useTransition()},ot.version="19.2.0",ot}var f2;function ei(){return f2||(f2=1,Qm.exports=H5()),Qm.exports}var C=ei();const pt=nj(C);var Xm={exports:{}},Zi={},Zm={exports:{}},eg={};var h2;function $5(){return h2||(h2=1,(function(e){function t(B,Z){var ue=B.length;B.push(Z);e:for(;0<ue;){var _=ue-1>>>1,fe=B[_];if(0<a(fe,Z))B[_]=Z,B[ue]=fe,ue=_;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var Z=B[0],ue=B.pop();if(ue!==Z){B[0]=ue;e:for(var _=0,fe=B.length,z=fe>>>1;_<z;){var X=2*(_+1)-1,G=B[X],ce=X+1,ke=B[ce];if(0>a(G,ue))ce<fe&&0>a(ke,G)?(B[_]=ke,B[ce]=ue,_=ce):(B[_]=G,B[X]=ue,_=X);else if(ce<fe&&0>a(ke,ue))B[_]=ke,B[ce]=ue,_=ce;else break e}}return Z}function a(B,Z){var ue=B.sortIndex-Z.sortIndex;return ue!==0?ue:B.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],h=[],m=1,g=null,b=3,y=!1,j=!1,w=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function M(B){for(var Z=r(h);Z!==null;){if(Z.callback===null)n(h);else if(Z.startTime<=B)n(h),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=r(h)}}function T(B){if(w=!1,M(B),!j)if(r(f)!==null)j=!0,D||(D=!0,Y());else{var Z=r(h);Z!==null&&ie(T,Z.startTime-B)}}var D=!1,R=-1,q=5,K=-1;function W(){return S?!0:!(e.unstable_now()-K<q)}function V(){if(S=!1,D){var B=e.unstable_now();K=B;var Z=!0;try{e:{j=!1,w&&(w=!1,A(R),R=-1),y=!0;var ue=b;try{t:{for(M(B),g=r(f);g!==null&&!(g.expirationTime>B&&W());){var _=g.callback;if(typeof _=="function"){g.callback=null,b=g.priorityLevel;var fe=_(g.expirationTime<=B);if(B=e.unstable_now(),typeof fe=="function"){g.callback=fe,M(B),Z=!0;break t}g===r(f)&&n(f),M(B)}else n(f);g=r(f)}if(g!==null)Z=!0;else{var z=r(h);z!==null&&ie(T,z.startTime-B),Z=!1}}break e}finally{g=null,b=ue,y=!1}Z=void 0}}finally{Z?Y():D=!1}}}var Y;if(typeof E=="function")Y=function(){E(V)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,I=$.port2;$.port1.onmessage=V,Y=function(){I.postMessage(null)}}else Y=function(){N(V,0)};function ie(B,Z){R=N(function(){B(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(B){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var ue=b;b=Z;try{return B()}finally{b=ue}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ue=b;b=B;try{return Z()}finally{b=ue}},e.unstable_scheduleCallback=function(B,Z,ue){var _=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?_+ue:_):ue=_,B){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ue+fe,B={id:m++,callback:Z,priorityLevel:B,startTime:ue,expirationTime:fe,sortIndex:-1},ue>_?(B.sortIndex=ue,t(h,B),r(f)===null&&B===r(h)&&(w?(A(R),R=-1):w=!0,ie(T,ue-_))):(B.sortIndex=fe,t(f,B),j||y||(j=!0,D||(D=!0,Y()))),B},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(B){var Z=b;return function(){var ue=b;b=Z;try{return B.apply(this,arguments)}finally{b=ue}}}})(eg)),eg}var p2;function V5(){return p2||(p2=1,Zm.exports=$5()),Zm.exports}var tg={exports:{}},Rr={};var m2;function U5(){if(m2)return Rr;m2=1;var e=ei();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Rr.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return l(f,h,null,m)},Rr.flushSync=function(f){var h=c.T,m=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=h,n.p=m,n.d.f()}},Rr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Rr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Rr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):m==="script"&&n.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Rr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Rr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin);n.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Rr.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=u(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Rr.requestFormReset=function(f){n.d.r(f)},Rr.unstable_batchedUpdates=function(f,h){return f(h)},Rr.useFormState=function(f,h,m){return c.H.useFormState(f,h,m)},Rr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Rr.version="19.2.0",Rr}var g2;function sj(){if(g2)return tg.exports;g2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tg.exports=U5(),tg.exports}var x2;function F5(){if(x2)return Zi;x2=1;var e=V5(),t=ei(),r=sj();function n(o){var i="https://react.dev/errors/"+o;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function l(o){var i=o,d=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,(i.flags&4098)!==0&&(d=i.return),o=i.return;while(o)}return i.tag===3?d:null}function c(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function u(o){if(o.tag===31){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function f(o){if(l(o)!==o)throw Error(n(188))}function h(o){var i=o.alternate;if(!i){if(i=l(o),i===null)throw Error(n(188));return i!==o?null:o}for(var d=o,p=i;;){var x=d.return;if(x===null)break;var v=x.alternate;if(v===null){if(p=x.return,p!==null){d=p;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===d)return f(x),o;if(v===p)return f(x),i;v=v.sibling}throw Error(n(188))}if(d.return!==p.return)d=x,p=v;else{for(var k=!1,O=x.child;O;){if(O===d){k=!0,d=x,p=v;break}if(O===p){k=!0,p=x,d=v;break}O=O.sibling}if(!k){for(O=v.child;O;){if(O===d){k=!0,d=v,p=x;break}if(O===p){k=!0,p=v,d=x;break}O=O.sibling}if(!k)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:i}function m(o){var i=o.tag;if(i===5||i===26||i===27||i===6)return o;for(o=o.child;o!==null;){if(i=m(o),i!==null)return i;o=o.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function Y(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var $=Symbol.for("react.client.reference");function I(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===$?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case N:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList";case K:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case j:return"Portal";case E:return o.displayName||"Context";case A:return(o._context.displayName||"Context")+".Consumer";case M:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case R:return i=o.displayName||null,i!==null?i:I(o.type)||"Memo";case q:i=o._payload,o=o._init;try{return I(o(i))}catch{}}return null}var ie=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},_=[],fe=-1;function z(o){return{current:o}}function X(o){0>fe||(o.current=_[fe],_[fe]=null,fe--)}function G(o,i){fe++,_[fe]=o.current,o.current=i}var ce=z(null),ke=z(null),Me=z(null),$e=z(null);function Ae(o,i){switch(G(Me,i),G(ke,o),G(ce,null),i.nodeType){case 9:case 11:o=(o=i.documentElement)&&(o=o.namespaceURI)?Rv(o):0;break;default:if(o=i.tagName,i=i.namespaceURI)i=Rv(i),o=Dv(i,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}X(ce),G(ce,o)}function L(){X(ce),X(ke),X(Me)}function H(o){o.memoizedState!==null&&G($e,o);var i=ce.current,d=Dv(i,o.type);i!==d&&(G(ke,o),G(ce,d))}function J(o){ke.current===o&&(X(ce),X(ke)),$e.current===o&&(X($e),Ki._currentValue=ue)}var pe,Se;function ye(o){if(pe===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);pe=i&&i[1]||"",Se=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+o+Se}var Ue=!1;function nt(o,i){if(!o||Ue)return"";Ue=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(i){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(de){var se=de}Reflect.construct(o,[],ve)}else{try{ve.call()}catch(de){se=de}o.call(ve.prototype)}}else{try{throw Error()}catch(de){se=de}(ve=o())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(de){if(de&&se&&typeof de.stack=="string")return[de.stack,se.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=p.DetermineComponentFrameRoot(),k=v[0],O=v[1];if(k&&O){var P=k.split(`
`),re=O.split(`
`);for(x=p=0;p<P.length&&!P[p].includes("DetermineComponentFrameRoot");)p++;for(;x<re.length&&!re[x].includes("DetermineComponentFrameRoot");)x++;if(p===P.length||x===re.length)for(p=P.length-1,x=re.length-1;1<=p&&0<=x&&P[p]!==re[x];)x--;for(;1<=p&&0<=x;p--,x--)if(P[p]!==re[x]){if(p!==1||x!==1)do if(p--,x--,0>x||P[p]!==re[x]){var me=`
`+P[p].replace(" at new "," at ");return o.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",o.displayName)),me}while(1<=p&&0<=x);break}}}finally{Ue=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?ye(d):""}function ht(o,i){switch(o.tag){case 26:case 27:case 5:return ye(o.type);case 16:return ye("Lazy");case 13:return o.child!==i&&i!==null?ye("Suspense Fallback"):ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return nt(o.type,!1);case 11:return nt(o.type.render,!1);case 1:return nt(o.type,!0);case 31:return ye("Activity");default:return""}}function wt(o){try{var i="",d=null;do i+=ht(o,d),d=o,o=o.return;while(o);return i}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Yt=Object.prototype.hasOwnProperty,mt=e.unstable_scheduleCallback,Mr=e.unstable_cancelCallback,gt=e.unstable_shouldYield,gn=e.unstable_requestPaint,Nt=e.unstable_now,In=e.unstable_getCurrentPriorityLevel,oe=e.unstable_ImmediatePriority,je=e.unstable_UserBlockingPriority,Pe=e.unstable_NormalPriority,Ze=e.unstable_LowPriority,ne=e.unstable_IdlePriority,Ie=e.log,U=e.unstable_setDisableYieldValue,ae=null,Te=null;function De(o){if(typeof Ie=="function"&&U(o),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(ae,o)}catch{}}var Le=Math.clz32?Math.clz32:Tt,Qe=Math.log,ct=Math.LN2;function Tt(o){return o>>>=0,o===0?32:31-(Qe(o)/ct|0)|0}var at=256,tt=262144,Ge=4194304;function Mt(o){var i=o&42;if(i!==0)return i;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function xn(o,i,d){var p=o.pendingLanes;if(p===0)return 0;var x=0,v=o.suspendedLanes,k=o.pingedLanes;o=o.warmLanes;var O=p&134217727;return O!==0?(p=O&~v,p!==0?x=Mt(p):(k&=O,k!==0?x=Mt(k):d||(d=O&~o,d!==0&&(x=Mt(d))))):(O=p&~v,O!==0?x=Mt(O):k!==0?x=Mt(k):d||(d=p&~o,d!==0&&(x=Mt(d)))),x===0?0:i!==0&&i!==x&&(i&v)===0&&(v=x&-x,d=i&-i,v>=d||v===32&&(d&4194048)!==0)?i:x}function bn(o,i){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&i)===0}function Hh(o,i){switch(o){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rd(){var o=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),o}function ii(o){for(var i=[],d=0;31>d;d++)i.push(o);return i}function Qa(o,i){o.pendingLanes|=i,i!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function $h(o,i,d,p,x,v){var k=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var O=o.entanglements,P=o.expirationTimes,re=o.hiddenUpdates;for(d=k&~d;0<d;){var me=31-Le(d),ve=1<<me;O[me]=0,P[me]=-1;var se=re[me];if(se!==null)for(re[me]=null,me=0;me<se.length;me++){var de=se[me];de!==null&&(de.lane&=-536870913)}d&=~ve}p!==0&&ee(o,p,0),v!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=v&~(k&~i))}function ee(o,i,d){o.pendingLanes|=i,o.suspendedLanes&=~i;var p=31-Le(i);o.entangledLanes|=i,o.entanglements[p]=o.entanglements[p]|1073741824|d&261930}function Ne(o,i){var d=o.entangledLanes|=i;for(o=o.entanglements;d;){var p=31-Le(d),x=1<<p;x&i|o[p]&i&&(o[p]|=i),d&=~x}}function ge(o,i){var d=i&-i;return d=(d&42)!==0?1:Be(d),(d&(o.suspendedLanes|i))!==0?0:d}function Be(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function xe(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function we(){var o=Z.p;return o!==0?o:(o=window.event,o===void 0?32:r2(o.type))}function We(o,i){var d=Z.p;try{return Z.p=o,i()}finally{Z.p=d}}var _e=Math.random().toString(36).slice(2),Oe="__reactFiber$"+_e,et="__reactProps$"+_e,Fe="__reactContainer$"+_e,_t="__reactEvents$"+_e,yn="__reactListeners$"+_e,Or="__reactHandles$"+_e,Xa="__reactResources$"+_e,ci="__reactMarker$"+_e;function Vh(o){delete o[Oe],delete o[et],delete o[_t],delete o[yn],delete o[Or]}function Ko(o){var i=o[Oe];if(i)return i;for(var d=o.parentNode;d;){if(i=d[Fe]||d[Oe]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(o=Hv(o);o!==null;){if(d=o[Oe])return d;o=Hv(o)}return i}o=d,d=o.parentNode}return null}function Yo(o){if(o=o[Oe]||o[Fe]){var i=o.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return o}return null}function di(o){var i=o.tag;if(i===5||i===26||i===27||i===6)return o.stateNode;throw Error(n(33))}function Jo(o){var i=o[Xa];return i||(i=o[Xa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function hr(o){o[ci]=!0}var vb=new Set,jb={};function Za(o,i){Qo(o,i),Qo(o+"Capture",i)}function Qo(o,i){for(jb[o]=i,o=0;o<i.length;o++)vb.add(i[o])}var TS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nb={},wb={};function MS(o){return Yt.call(wb,o)?!0:Yt.call(Nb,o)?!1:TS.test(o)?wb[o]=!0:(Nb[o]=!0,!1)}function nd(o,i,d){if(MS(i))if(d===null)o.removeAttribute(i);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(i);return;case"boolean":var p=i.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(i);return}}o.setAttribute(i,""+d)}}function sd(o,i,d){if(d===null)o.removeAttribute(i);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(i);return}o.setAttribute(i,""+d)}}function gs(o,i,d,p){if(p===null)o.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(i,d,""+p)}}function vn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Sb(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function OS(o,i,d){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,i);if(!o.hasOwnProperty(i)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,v=p.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return x.call(this)},set:function(k){d=""+k,v.call(this,k)}}),Object.defineProperty(o,i,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function Uh(o){if(!o._valueTracker){var i=Sb(o)?"checked":"value";o._valueTracker=OS(o,i,""+o[i])}}function Cb(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var d=i.getValue(),p="";return o&&(p=Sb(o)?o.checked?"true":"false":o.value),o=p,o!==d?(i.setValue(o),!0):!1}function ad(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var RS=/[\n"\\]/g;function jn(o){return o.replace(RS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Fh(o,i,d,p,x,v,k,O){o.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.type=k:o.removeAttribute("type"),i!=null?k==="number"?(i===0&&o.value===""||o.value!=i)&&(o.value=""+vn(i)):o.value!==""+vn(i)&&(o.value=""+vn(i)):k!=="submit"&&k!=="reset"||o.removeAttribute("value"),i!=null?qh(o,k,vn(i)):d!=null?qh(o,k,vn(d)):p!=null&&o.removeAttribute("value"),x==null&&v!=null&&(o.defaultChecked=!!v),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.name=""+vn(O):o.removeAttribute("name")}function kb(o,i,d,p,x,v,k,O){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(o.type=v),i!=null||d!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){Uh(o);return}d=d!=null?""+vn(d):"",i=i!=null?""+vn(i):d,O||i===o.value||(o.value=i),o.defaultValue=i}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=O?o.checked:!!p,o.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.name=k),Uh(o)}function qh(o,i,d){i==="number"&&ad(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Xo(o,i,d,p){if(o=o.options,i){i={};for(var x=0;x<d.length;x++)i["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=i.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&p&&(o[d].defaultSelected=!0)}else{for(d=""+vn(d),i=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,p&&(o[x].defaultSelected=!0);return}i!==null||o[x].disabled||(i=o[x])}i!==null&&(i.selected=!0)}}function Eb(o,i,d){if(i!=null&&(i=""+vn(i),i!==o.value&&(o.value=i),d==null)){o.defaultValue!==i&&(o.defaultValue=i);return}o.defaultValue=d!=null?""+vn(d):""}function Ab(o,i,d,p){if(i==null){if(p!=null){if(d!=null)throw Error(n(92));if(ie(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),i=d}d=vn(i),o.defaultValue=d,p=o.textContent,p===d&&p!==""&&p!==null&&(o.value=p),Uh(o)}function Zo(o,i){if(i){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=i;return}}o.textContent=i}var DS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tb(o,i,d){var p=i.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?o.setProperty(i,""):i==="float"?o.cssFloat="":o[i]="":p?o.setProperty(i,d):typeof d!="number"||d===0||DS.has(i)?i==="float"?o.cssFloat=d:o[i]=(""+d).trim():o[i]=d+"px"}function Mb(o,i,d){if(i!=null&&typeof i!="object")throw Error(n(62));if(o=o.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||i!=null&&i.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var x in i)p=i[x],i.hasOwnProperty(x)&&d[x]!==p&&Tb(o,x,p)}else for(var v in i)i.hasOwnProperty(v)&&Tb(o,v,i[v])}function Wh(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function od(o){return LS.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function xs(){}var Gh=null;function Kh(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var el=null,tl=null;function Ob(o){var i=Yo(o);if(i&&(o=i.stateNode)){var d=o[et]||null;e:switch(o=i.stateNode,i.type){case"input":if(Fh(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),i=d.name,d.type==="radio"&&i!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+jn(""+i)+'"][type="radio"]'),i=0;i<d.length;i++){var p=d[i];if(p!==o&&p.form===o.form){var x=p[et]||null;if(!x)throw Error(n(90));Fh(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<d.length;i++)p=d[i],p.form===o.form&&Cb(p)}break e;case"textarea":Eb(o,d.value,d.defaultValue);break e;case"select":i=d.value,i!=null&&Xo(o,!!d.multiple,i,!1)}}}var Yh=!1;function Rb(o,i,d){if(Yh)return o(i,d);Yh=!0;try{var p=o(i);return p}finally{if(Yh=!1,(el!==null||tl!==null)&&(Gd(),el&&(i=el,o=tl,tl=el=null,Ob(i),o)))for(i=0;i<o.length;i++)Ob(o[i])}}function ui(o,i){var d=o.stateNode;if(d===null)return null;var p=d[et]||null;if(p===null)return null;d=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,i,typeof d));return d}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=!1;if(bs)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Jh=!1}var ea=null,Qh=null,ld=null;function Db(){if(ld)return ld;var o,i=Qh,d=i.length,p,x="value"in ea?ea.value:ea.textContent,v=x.length;for(o=0;o<d&&i[o]===x[o];o++);var k=d-o;for(p=1;p<=k&&i[d-p]===x[v-p];p++);return ld=x.slice(o,1<p?1-p:void 0)}function id(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function cd(){return!0}function zb(){return!1}function Ur(o){function i(d,p,x,v,k){this._reactName=d,this._targetInst=x,this.type=p,this.nativeEvent=v,this.target=k,this.currentTarget=null;for(var O in o)o.hasOwnProperty(O)&&(d=o[O],this[O]=d?d(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?cd:zb,this.isPropagationStopped=zb,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=cd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=cd)},persist:function(){},isPersistent:cd}),i}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dd=Ur(eo),hi=g({},eo,{view:0,detail:0}),BS=Ur(hi),Xh,Zh,pi,ud=g({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pi&&(pi&&o.type==="mousemove"?(Xh=o.screenX-pi.screenX,Zh=o.screenY-pi.screenY):Zh=Xh=0,pi=o),Xh)},movementY:function(o){return"movementY"in o?o.movementY:Zh}}),Lb=Ur(ud),_S=g({},ud,{dataTransfer:0}),PS=Ur(_S),IS=g({},hi,{relatedTarget:0}),ep=Ur(IS),HS=g({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),$S=Ur(HS),VS=g({},eo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),US=Ur(VS),FS=g({},eo,{data:0}),Bb=Ur(FS),qS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KS(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=GS[o])?!!i[o]:!1}function tp(){return KS}var YS=g({},hi,{key:function(o){if(o.key){var i=qS[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=id(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?WS[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tp,charCode:function(o){return o.type==="keypress"?id(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?id(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),JS=Ur(YS),QS=g({},ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_b=Ur(QS),XS=g({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tp}),ZS=Ur(XS),eC=g({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),tC=Ur(eC),rC=g({},ud,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),nC=Ur(rC),sC=g({},eo,{newState:0,oldState:0}),aC=Ur(sC),oC=[9,13,27,32],rp=bs&&"CompositionEvent"in window,mi=null;bs&&"documentMode"in document&&(mi=document.documentMode);var lC=bs&&"TextEvent"in window&&!mi,Pb=bs&&(!rp||mi&&8<mi&&11>=mi),Ib=" ",Hb=!1;function $b(o,i){switch(o){case"keyup":return oC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vb(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var rl=!1;function iC(o,i){switch(o){case"compositionend":return Vb(i);case"keypress":return i.which!==32?null:(Hb=!0,Ib);case"textInput":return o=i.data,o===Ib&&Hb?null:o;default:return null}}function cC(o,i){if(rl)return o==="compositionend"||!rp&&$b(o,i)?(o=Db(),ld=Qh=ea=null,rl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pb&&i.locale!=="ko"?null:i.data;default:return null}}var dC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ub(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!dC[o.type]:i==="textarea"}function Fb(o,i,d,p){el?tl?tl.push(p):tl=[p]:el=p,i=eu(i,"onChange"),0<i.length&&(d=new dd("onChange","change",null,d,p),o.push({event:d,listeners:i}))}var gi=null,xi=null;function uC(o){kv(o,0)}function fd(o){var i=di(o);if(Cb(i))return o}function qb(o,i){if(o==="change")return i}var Wb=!1;if(bs){var np;if(bs){var sp="oninput"in document;if(!sp){var Gb=document.createElement("div");Gb.setAttribute("oninput","return;"),sp=typeof Gb.oninput=="function"}np=sp}else np=!1;Wb=np&&(!document.documentMode||9<document.documentMode)}function Kb(){gi&&(gi.detachEvent("onpropertychange",Yb),xi=gi=null)}function Yb(o){if(o.propertyName==="value"&&fd(xi)){var i=[];Fb(i,xi,o,Kh(o)),Rb(uC,i)}}function fC(o,i,d){o==="focusin"?(Kb(),gi=i,xi=d,gi.attachEvent("onpropertychange",Yb)):o==="focusout"&&Kb()}function hC(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return fd(xi)}function pC(o,i){if(o==="click")return fd(i)}function mC(o,i){if(o==="input"||o==="change")return fd(i)}function gC(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var en=typeof Object.is=="function"?Object.is:gC;function bi(o,i){if(en(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var d=Object.keys(o),p=Object.keys(i);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var x=d[p];if(!Yt.call(i,x)||!en(o[x],i[x]))return!1}return!0}function Jb(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Qb(o,i){var d=Jb(o);o=0;for(var p;d;){if(d.nodeType===3){if(p=o+d.textContent.length,o<=i&&p>=i)return{node:d,offset:i-o};o=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Jb(d)}}function Xb(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?Xb(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function Zb(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var i=ad(o.document);i instanceof o.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch{d=!1}if(d)o=i.contentWindow;else break;i=ad(o.document)}return i}function ap(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}var xC=bs&&"documentMode"in document&&11>=document.documentMode,nl=null,op=null,yi=null,lp=!1;function ey(o,i,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;lp||nl==null||nl!==ad(p)||(p=nl,"selectionStart"in p&&ap(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),yi&&bi(yi,p)||(yi=p,p=eu(op,"onSelect"),0<p.length&&(i=new dd("onSelect","select",null,i,d),o.push({event:i,listeners:p}),i.target=nl)))}function to(o,i){var d={};return d[o.toLowerCase()]=i.toLowerCase(),d["Webkit"+o]="webkit"+i,d["Moz"+o]="moz"+i,d}var sl={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionrun:to("Transition","TransitionRun"),transitionstart:to("Transition","TransitionStart"),transitioncancel:to("Transition","TransitionCancel"),transitionend:to("Transition","TransitionEnd")},ip={},ty={};bs&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function ro(o){if(ip[o])return ip[o];if(!sl[o])return o;var i=sl[o],d;for(d in i)if(i.hasOwnProperty(d)&&d in ty)return ip[o]=i[d];return o}var ry=ro("animationend"),ny=ro("animationiteration"),sy=ro("animationstart"),bC=ro("transitionrun"),yC=ro("transitionstart"),vC=ro("transitioncancel"),ay=ro("transitionend"),oy=new Map,cp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cp.push("scrollEnd");function Hn(o,i){oy.set(o,i),Za(i,[o])}var hd=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Nn=[],al=0,dp=0;function pd(){for(var o=al,i=dp=al=0;i<o;){var d=Nn[i];Nn[i++]=null;var p=Nn[i];Nn[i++]=null;var x=Nn[i];Nn[i++]=null;var v=Nn[i];if(Nn[i++]=null,p!==null&&x!==null){var k=p.pending;k===null?x.next=x:(x.next=k.next,k.next=x),p.pending=x}v!==0&&ly(d,x,v)}}function md(o,i,d,p){Nn[al++]=o,Nn[al++]=i,Nn[al++]=d,Nn[al++]=p,dp|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function up(o,i,d,p){return md(o,i,d,p),gd(o)}function no(o,i){return md(o,null,null,i),gd(o)}function ly(o,i,d){o.lanes|=d;var p=o.alternate;p!==null&&(p.lanes|=d);for(var x=!1,v=o.return;v!==null;)v.childLanes|=d,p=v.alternate,p!==null&&(p.childLanes|=d),v.tag===22&&(o=v.stateNode,o===null||o._visibility&1||(x=!0)),o=v,v=v.return;return o.tag===3?(v=o.stateNode,x&&i!==null&&(x=31-Le(d),o=v.hiddenUpdates,p=o[x],p===null?o[x]=[i]:p.push(i),i.lane=d|536870912),v):null}function gd(o){if(50<$i)throw $i=0,vm=null,Error(n(185));for(var i=o.return;i!==null;)o=i,i=o.return;return o.tag===3?o.stateNode:null}var ol={};function jC(o,i,d,p){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(o,i,d,p){return new jC(o,i,d,p)}function fp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ys(o,i){var d=o.alternate;return d===null?(d=tn(o.tag,i,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=i,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,i=o.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function iy(o,i){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=i,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,i=d.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o}function xd(o,i,d,p,x,v){var k=0;if(p=o,typeof o=="function")fp(o)&&(k=1);else if(typeof o=="string")k=k5(o,d,ce.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case K:return o=tn(31,d,i,x),o.elementType=K,o.lanes=v,o;case w:return so(d.children,x,v,i);case S:k=8,x|=24;break;case N:return o=tn(12,d,i,x|2),o.elementType=N,o.lanes=v,o;case T:return o=tn(13,d,i,x),o.elementType=T,o.lanes=v,o;case D:return o=tn(19,d,i,x),o.elementType=D,o.lanes=v,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:k=10;break e;case A:k=9;break e;case M:k=11;break e;case R:k=14;break e;case q:k=16,p=null;break e}k=29,d=Error(n(130,o===null?"null":typeof o,"")),p=null}return i=tn(k,d,i,x),i.elementType=o,i.type=p,i.lanes=v,i}function so(o,i,d,p){return o=tn(7,o,p,i),o.lanes=d,o}function hp(o,i,d){return o=tn(6,o,null,i),o.lanes=d,o}function cy(o){var i=tn(18,null,null,0);return i.stateNode=o,i}function pp(o,i,d){return i=tn(4,o.children!==null?o.children:[],o.key,i),i.lanes=d,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}var dy=new WeakMap;function wn(o,i){if(typeof o=="object"&&o!==null){var d=dy.get(o);return d!==void 0?d:(i={value:o,source:i,stack:wt(i)},dy.set(o,i),i)}return{value:o,source:i,stack:wt(i)}}var ll=[],il=0,bd=null,vi=0,Sn=[],Cn=0,ta=null,ts=1,rs="";function vs(o,i){ll[il++]=vi,ll[il++]=bd,bd=o,vi=i}function uy(o,i,d){Sn[Cn++]=ts,Sn[Cn++]=rs,Sn[Cn++]=ta,ta=o;var p=ts;o=rs;var x=32-Le(p)-1;p&=~(1<<x),d+=1;var v=32-Le(i)+x;if(30<v){var k=x-x%5;v=(p&(1<<k)-1).toString(32),p>>=k,x-=k,ts=1<<32-Le(i)+x|d<<x|p,rs=v+o}else ts=1<<v|d<<x|p,rs=o}function mp(o){o.return!==null&&(vs(o,1),uy(o,1,0))}function gp(o){for(;o===bd;)bd=ll[--il],ll[il]=null,vi=ll[--il],ll[il]=null;for(;o===ta;)ta=Sn[--Cn],Sn[Cn]=null,rs=Sn[--Cn],Sn[Cn]=null,ts=Sn[--Cn],Sn[Cn]=null}function fy(o,i){Sn[Cn++]=ts,Sn[Cn++]=rs,Sn[Cn++]=ta,ts=i.id,rs=i.overflow,ta=o}var yr=null,Ht=null,jt=!1,ra=null,kn=!1,xp=Error(n(519));function na(o){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ji(wn(i,o)),xp}function hy(o){var i=o.stateNode,d=o.type,p=o.memoizedProps;switch(i[Oe]=o,i[et]=p,d){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(d=0;d<Ui.length;d++)bt(Ui[d],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":bt("invalid",i),kb(i,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":bt("invalid",i);break;case"textarea":bt("invalid",i),Ab(i,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||i.textContent===""+d||p.suppressHydrationWarning===!0||Mv(i.textContent,d)?(p.popover!=null&&(bt("beforetoggle",i),bt("toggle",i)),p.onScroll!=null&&bt("scroll",i),p.onScrollEnd!=null&&bt("scrollend",i),p.onClick!=null&&(i.onclick=xs),i=!0):i=!1,i||na(o,!0)}function py(o){for(yr=o.return;yr;)switch(yr.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:yr=yr.return}}function cl(o){if(o!==yr)return!1;if(!jt)return py(o),jt=!0,!1;var i=o.tag,d;if((d=i!==3&&i!==27)&&((d=i===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||Lm(o.type,o.memoizedProps)),d=!d),d&&Ht&&na(o),py(o),i===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Ht=Iv(o)}else if(i===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Ht=Iv(o)}else i===27?(i=Ht,xa(o.type)?(o=Hm,Hm=null,Ht=o):Ht=i):Ht=yr?An(o.stateNode.nextSibling):null;return!0}function ao(){Ht=yr=null,jt=!1}function bp(){var o=ra;return o!==null&&(Gr===null?Gr=o:Gr.push.apply(Gr,o),ra=null),o}function ji(o){ra===null?ra=[o]:ra.push(o)}var yp=z(null),oo=null,js=null;function sa(o,i,d){G(yp,i._currentValue),i._currentValue=d}function Ns(o){o._currentValue=yp.current,X(yp)}function vp(o,i,d){for(;o!==null;){var p=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),o===d)break;o=o.return}}function jp(o,i,d,p){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var v=x.dependencies;if(v!==null){var k=x.child;v=v.firstContext;e:for(;v!==null;){var O=v;v=x;for(var P=0;P<i.length;P++)if(O.context===i[P]){v.lanes|=d,O=v.alternate,O!==null&&(O.lanes|=d),vp(v.return,d,o),p||(k=null);break e}v=O.next}}else if(x.tag===18){if(k=x.return,k===null)throw Error(n(341));k.lanes|=d,v=k.alternate,v!==null&&(v.lanes|=d),vp(k,d,o),k=null}else k=x.child;if(k!==null)k.return=x;else for(k=x;k!==null;){if(k===o){k=null;break}if(x=k.sibling,x!==null){x.return=k.return,k=x;break}k=k.return}x=k}}function dl(o,i,d,p){o=null;for(var x=i,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var k=x.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var O=x.type;en(x.pendingProps.value,k.value)||(o!==null?o.push(O):o=[O])}}else if(x===$e.current){if(k=x.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Ki):o=[Ki])}x=x.return}o!==null&&jp(i,o,d,p),i.flags|=262144}function yd(o){for(o=o.firstContext;o!==null;){if(!en(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function lo(o){oo=o,js=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function vr(o){return my(oo,o)}function vd(o,i){return oo===null&&lo(o),my(o,i)}function my(o,i){var d=i._currentValue;if(i={context:i,memoizedValue:d,next:null},js===null){if(o===null)throw Error(n(308));js=i,o.dependencies={lanes:0,firstContext:i},o.flags|=524288}else js=js.next=i;return d}var NC=typeof AbortController<"u"?AbortController:function(){var o=[],i=this.signal={aborted:!1,addEventListener:function(d,p){o.push(p)}};this.abort=function(){i.aborted=!0,o.forEach(function(d){return d()})}},wC=e.unstable_scheduleCallback,SC=e.unstable_NormalPriority,nr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Np(){return{controller:new NC,data:new Map,refCount:0}}function Ni(o){o.refCount--,o.refCount===0&&wC(SC,function(){o.controller.abort()})}var wi=null,wp=0,ul=0,fl=null;function CC(o,i){if(wi===null){var d=wi=[];wp=0,ul=km(),fl={status:"pending",value:void 0,then:function(p){d.push(p)}}}return wp++,i.then(gy,gy),i}function gy(){if(--wp===0&&wi!==null){fl!==null&&(fl.status="fulfilled");var o=wi;wi=null,ul=0,fl=null;for(var i=0;i<o.length;i++)(0,o[i])()}}function kC(o,i){var d=[],p={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return o.then(function(){p.status="fulfilled",p.value=i;for(var x=0;x<d.length;x++)(0,d[x])(i)},function(x){for(p.status="rejected",p.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),p}var xy=B.S;B.S=function(o,i){ev=Nt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&CC(o,i),xy!==null&&xy(o,i)};var io=z(null);function Sp(){var o=io.current;return o!==null?o:Pt.pooledCache}function jd(o,i){i===null?G(io,io.current):G(io,i.pool)}function by(){var o=Sp();return o===null?null:{parent:nr._currentValue,pool:o}}var hl=Error(n(460)),Cp=Error(n(474)),Nd=Error(n(542)),wd={then:function(){}};function yy(o){return o=o.status,o==="fulfilled"||o==="rejected"}function vy(o,i,d){switch(d=o[d],d===void 0?o.push(i):d!==i&&(i.then(xs,xs),i=d),i.status){case"fulfilled":return i.value;case"rejected":throw o=i.reason,Ny(o),o;default:if(typeof i.status=="string")i.then(xs,xs);else{if(o=Pt,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=i,o.status="pending",o.then(function(p){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=p}},function(p){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=p}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw o=i.reason,Ny(o),o}throw uo=i,hl}}function co(o){try{var i=o._init;return i(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(uo=d,hl):d}}var uo=null;function jy(){if(uo===null)throw Error(n(459));var o=uo;return uo=null,o}function Ny(o){if(o===hl||o===Nd)throw Error(n(483))}var pl=null,Si=0;function Sd(o){var i=Si;return Si+=1,pl===null&&(pl=[]),vy(pl,o,i)}function Ci(o,i){i=i.props.ref,o.ref=i!==void 0?i:null}function Cd(o,i){throw i.$$typeof===b?Error(n(525)):(o=Object.prototype.toString.call(i),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o)))}function wy(o){function i(Q,F){if(o){var te=Q.deletions;te===null?(Q.deletions=[F],Q.flags|=16):te.push(F)}}function d(Q,F){if(!o)return null;for(;F!==null;)i(Q,F),F=F.sibling;return null}function p(Q){for(var F=new Map;Q!==null;)Q.key!==null?F.set(Q.key,Q):F.set(Q.index,Q),Q=Q.sibling;return F}function x(Q,F){return Q=ys(Q,F),Q.index=0,Q.sibling=null,Q}function v(Q,F,te){return Q.index=te,o?(te=Q.alternate,te!==null?(te=te.index,te<F?(Q.flags|=67108866,F):te):(Q.flags|=67108866,F)):(Q.flags|=1048576,F)}function k(Q){return o&&Q.alternate===null&&(Q.flags|=67108866),Q}function O(Q,F,te,be){return F===null||F.tag!==6?(F=hp(te,Q.mode,be),F.return=Q,F):(F=x(F,te),F.return=Q,F)}function P(Q,F,te,be){var Ke=te.type;return Ke===w?me(Q,F,te.props.children,be,te.key):F!==null&&(F.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===q&&co(Ke)===F.type)?(F=x(F,te.props),Ci(F,te),F.return=Q,F):(F=xd(te.type,te.key,te.props,null,Q.mode,be),Ci(F,te),F.return=Q,F)}function re(Q,F,te,be){return F===null||F.tag!==4||F.stateNode.containerInfo!==te.containerInfo||F.stateNode.implementation!==te.implementation?(F=pp(te,Q.mode,be),F.return=Q,F):(F=x(F,te.children||[]),F.return=Q,F)}function me(Q,F,te,be,Ke){return F===null||F.tag!==7?(F=so(te,Q.mode,be,Ke),F.return=Q,F):(F=x(F,te),F.return=Q,F)}function ve(Q,F,te){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=hp(""+F,Q.mode,te),F.return=Q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case y:return te=xd(F.type,F.key,F.props,null,Q.mode,te),Ci(te,F),te.return=Q,te;case j:return F=pp(F,Q.mode,te),F.return=Q,F;case q:return F=co(F),ve(Q,F,te)}if(ie(F)||Y(F))return F=so(F,Q.mode,te,null),F.return=Q,F;if(typeof F.then=="function")return ve(Q,Sd(F),te);if(F.$$typeof===E)return ve(Q,vd(Q,F),te);Cd(Q,F)}return null}function se(Q,F,te,be){var Ke=F!==null?F.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ke!==null?null:O(Q,F,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case y:return te.key===Ke?P(Q,F,te,be):null;case j:return te.key===Ke?re(Q,F,te,be):null;case q:return te=co(te),se(Q,F,te,be)}if(ie(te)||Y(te))return Ke!==null?null:me(Q,F,te,be,null);if(typeof te.then=="function")return se(Q,F,Sd(te),be);if(te.$$typeof===E)return se(Q,F,vd(Q,te),be);Cd(Q,te)}return null}function de(Q,F,te,be,Ke){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return Q=Q.get(te)||null,O(F,Q,""+be,Ke);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return Q=Q.get(be.key===null?te:be.key)||null,P(F,Q,be,Ke);case j:return Q=Q.get(be.key===null?te:be.key)||null,re(F,Q,be,Ke);case q:return be=co(be),de(Q,F,te,be,Ke)}if(ie(be)||Y(be))return Q=Q.get(te)||null,me(F,Q,be,Ke,null);if(typeof be.then=="function")return de(Q,F,te,Sd(be),Ke);if(be.$$typeof===E)return de(Q,F,te,vd(F,be),Ke);Cd(F,be)}return null}function Ve(Q,F,te,be){for(var Ke=null,St=null,qe=F,dt=F=0,vt=null;qe!==null&&dt<te.length;dt++){qe.index>dt?(vt=qe,qe=null):vt=qe.sibling;var Ct=se(Q,qe,te[dt],be);if(Ct===null){qe===null&&(qe=vt);break}o&&qe&&Ct.alternate===null&&i(Q,qe),F=v(Ct,F,dt),St===null?Ke=Ct:St.sibling=Ct,St=Ct,qe=vt}if(dt===te.length)return d(Q,qe),jt&&vs(Q,dt),Ke;if(qe===null){for(;dt<te.length;dt++)qe=ve(Q,te[dt],be),qe!==null&&(F=v(qe,F,dt),St===null?Ke=qe:St.sibling=qe,St=qe);return jt&&vs(Q,dt),Ke}for(qe=p(qe);dt<te.length;dt++)vt=de(qe,Q,dt,te[dt],be),vt!==null&&(o&&vt.alternate!==null&&qe.delete(vt.key===null?dt:vt.key),F=v(vt,F,dt),St===null?Ke=vt:St.sibling=vt,St=vt);return o&&qe.forEach(function(Na){return i(Q,Na)}),jt&&vs(Q,dt),Ke}function Xe(Q,F,te,be){if(te==null)throw Error(n(151));for(var Ke=null,St=null,qe=F,dt=F=0,vt=null,Ct=te.next();qe!==null&&!Ct.done;dt++,Ct=te.next()){qe.index>dt?(vt=qe,qe=null):vt=qe.sibling;var Na=se(Q,qe,Ct.value,be);if(Na===null){qe===null&&(qe=vt);break}o&&qe&&Na.alternate===null&&i(Q,qe),F=v(Na,F,dt),St===null?Ke=Na:St.sibling=Na,St=Na,qe=vt}if(Ct.done)return d(Q,qe),jt&&vs(Q,dt),Ke;if(qe===null){for(;!Ct.done;dt++,Ct=te.next())Ct=ve(Q,Ct.value,be),Ct!==null&&(F=v(Ct,F,dt),St===null?Ke=Ct:St.sibling=Ct,St=Ct);return jt&&vs(Q,dt),Ke}for(qe=p(qe);!Ct.done;dt++,Ct=te.next())Ct=de(qe,Q,dt,Ct.value,be),Ct!==null&&(o&&Ct.alternate!==null&&qe.delete(Ct.key===null?dt:Ct.key),F=v(Ct,F,dt),St===null?Ke=Ct:St.sibling=Ct,St=Ct);return o&&qe.forEach(function(_5){return i(Q,_5)}),jt&&vs(Q,dt),Ke}function Bt(Q,F,te,be){if(typeof te=="object"&&te!==null&&te.type===w&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case y:e:{for(var Ke=te.key;F!==null;){if(F.key===Ke){if(Ke=te.type,Ke===w){if(F.tag===7){d(Q,F.sibling),be=x(F,te.props.children),be.return=Q,Q=be;break e}}else if(F.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===q&&co(Ke)===F.type){d(Q,F.sibling),be=x(F,te.props),Ci(be,te),be.return=Q,Q=be;break e}d(Q,F);break}else i(Q,F);F=F.sibling}te.type===w?(be=so(te.props.children,Q.mode,be,te.key),be.return=Q,Q=be):(be=xd(te.type,te.key,te.props,null,Q.mode,be),Ci(be,te),be.return=Q,Q=be)}return k(Q);case j:e:{for(Ke=te.key;F!==null;){if(F.key===Ke)if(F.tag===4&&F.stateNode.containerInfo===te.containerInfo&&F.stateNode.implementation===te.implementation){d(Q,F.sibling),be=x(F,te.children||[]),be.return=Q,Q=be;break e}else{d(Q,F);break}else i(Q,F);F=F.sibling}be=pp(te,Q.mode,be),be.return=Q,Q=be}return k(Q);case q:return te=co(te),Bt(Q,F,te,be)}if(ie(te))return Ve(Q,F,te,be);if(Y(te)){if(Ke=Y(te),typeof Ke!="function")throw Error(n(150));return te=Ke.call(te),Xe(Q,F,te,be)}if(typeof te.then=="function")return Bt(Q,F,Sd(te),be);if(te.$$typeof===E)return Bt(Q,F,vd(Q,te),be);Cd(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,F!==null&&F.tag===6?(d(Q,F.sibling),be=x(F,te),be.return=Q,Q=be):(d(Q,F),be=hp(te,Q.mode,be),be.return=Q,Q=be),k(Q)):d(Q,F)}return function(Q,F,te,be){try{Si=0;var Ke=Bt(Q,F,te,be);return pl=null,Ke}catch(qe){if(qe===hl||qe===Nd)throw qe;var St=tn(29,qe,null,Q.mode);return St.lanes=be,St.return=Q,St}finally{}}}var fo=wy(!0),Sy=wy(!1),aa=!1;function kp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ep(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function oa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function la(o,i,d){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Et&2)!==0){var x=p.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),p.pending=i,i=gd(o),ly(o,null,d),i}return md(o,p,i,d),gd(o)}function ki(o,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194048)!==0)){var p=i.lanes;p&=o.pendingLanes,d|=p,i.lanes=d,Ne(o,d)}}function Ap(o,i){var d=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var x=null,v=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};v===null?x=v=k:v=v.next=k,d=d.next}while(d!==null);v===null?x=v=i:v=v.next=i}else x=v=i;d={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:p.shared,callbacks:p.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=i:o.next=i,d.lastBaseUpdate=i}var Tp=!1;function Ei(){if(Tp){var o=fl;if(o!==null)throw o}}function Ai(o,i,d,p){Tp=!1;var x=o.updateQueue;aa=!1;var v=x.firstBaseUpdate,k=x.lastBaseUpdate,O=x.shared.pending;if(O!==null){x.shared.pending=null;var P=O,re=P.next;P.next=null,k===null?v=re:k.next=re,k=P;var me=o.alternate;me!==null&&(me=me.updateQueue,O=me.lastBaseUpdate,O!==k&&(O===null?me.firstBaseUpdate=re:O.next=re,me.lastBaseUpdate=P))}if(v!==null){var ve=x.baseState;k=0,me=re=P=null,O=v;do{var se=O.lane&-536870913,de=se!==O.lane;if(de?(yt&se)===se:(p&se)===se){se!==0&&se===ul&&(Tp=!0),me!==null&&(me=me.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ve=o,Xe=O;se=i;var Bt=d;switch(Xe.tag){case 1:if(Ve=Xe.payload,typeof Ve=="function"){ve=Ve.call(Bt,ve,se);break e}ve=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Xe.payload,se=typeof Ve=="function"?Ve.call(Bt,ve,se):Ve,se==null)break e;ve=g({},ve,se);break e;case 2:aa=!0}}se=O.callback,se!==null&&(o.flags|=64,de&&(o.flags|=8192),de=x.callbacks,de===null?x.callbacks=[se]:de.push(se))}else de={lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},me===null?(re=me=de,P=ve):me=me.next=de,k|=se;if(O=O.next,O===null){if(O=x.shared.pending,O===null)break;de=O,O=de.next,de.next=null,x.lastBaseUpdate=de,x.shared.pending=null}}while(!0);me===null&&(P=ve),x.baseState=P,x.firstBaseUpdate=re,x.lastBaseUpdate=me,v===null&&(x.shared.lanes=0),fa|=k,o.lanes=k,o.memoizedState=ve}}function Cy(o,i){if(typeof o!="function")throw Error(n(191,o));o.call(i)}function ky(o,i){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)Cy(d[o],i)}var ml=z(null),kd=z(0);function Ey(o,i){o=Os,G(kd,o),G(ml,i),Os=o|i.baseLanes}function Mp(){G(kd,Os),G(ml,ml.current)}function Op(){Os=kd.current,X(ml),X(kd)}var rn=z(null),En=null;function ia(o){var i=o.alternate;G(tr,tr.current&1),G(rn,o),En===null&&(i===null||ml.current!==null||i.memoizedState!==null)&&(En=o)}function Rp(o){G(tr,tr.current),G(rn,o),En===null&&(En=o)}function Ay(o){o.tag===22?(G(tr,tr.current),G(rn,o),En===null&&(En=o)):ca()}function ca(){G(tr,tr.current),G(rn,rn.current)}function nn(o){X(rn),En===o&&(En=null),X(tr)}var tr=z(0);function Ed(o){for(var i=o;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Pm(d)||Im(d)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ws=0,lt=null,zt=null,sr=null,Ad=!1,gl=!1,ho=!1,Td=0,Ti=0,xl=null,EC=0;function Jt(){throw Error(n(321))}function Dp(o,i){if(i===null)return!1;for(var d=0;d<i.length&&d<o.length;d++)if(!en(o[d],i[d]))return!1;return!0}function zp(o,i,d,p,x,v){return ws=v,lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=o===null||o.memoizedState===null?u1:Yp,ho=!1,v=d(p,x),ho=!1,gl&&(v=My(i,d,p,x)),Ty(o),v}function Ty(o){B.H=Ri;var i=zt!==null&&zt.next!==null;if(ws=0,sr=zt=lt=null,Ad=!1,Ti=0,xl=null,i)throw Error(n(300));o===null||ar||(o=o.dependencies,o!==null&&yd(o)&&(ar=!0))}function My(o,i,d,p){lt=o;var x=0;do{if(gl&&(xl=null),Ti=0,gl=!1,25<=x)throw Error(n(301));if(x+=1,sr=zt=null,o.updateQueue!=null){var v=o.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=f1,v=i(d,p)}while(gl);return v}function AC(){var o=B.H,i=o.useState()[0];return i=typeof i.then=="function"?Mi(i):i,o=o.useState()[0],(zt!==null?zt.memoizedState:null)!==o&&(lt.flags|=1024),i}function Lp(){var o=Td!==0;return Td=0,o}function Bp(o,i,d){i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~d}function _p(o){if(Ad){for(o=o.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}Ad=!1}ws=0,sr=zt=lt=null,gl=!1,Ti=Td=0,xl=null}function _r(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?lt.memoizedState=sr=o:sr=sr.next=o,sr}function rr(){if(zt===null){var o=lt.alternate;o=o!==null?o.memoizedState:null}else o=zt.next;var i=sr===null?lt.memoizedState:sr.next;if(i!==null)sr=i,zt=o;else{if(o===null)throw lt.alternate===null?Error(n(467)):Error(n(310));zt=o,o={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},sr===null?lt.memoizedState=sr=o:sr=sr.next=o}return sr}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mi(o){var i=Ti;return Ti+=1,xl===null&&(xl=[]),o=vy(xl,o,i),i=lt,(sr===null?i.memoizedState:sr.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?u1:Yp),o}function Od(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Mi(o);if(o.$$typeof===E)return vr(o)}throw Error(n(438,String(o)))}function Pp(o){var i=null,d=lt.updateQueue;if(d!==null&&(i=d.memoCache),i==null){var p=lt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(i={data:p.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),d===null&&(d=Md(),lt.updateQueue=d),d.memoCache=i,d=i.data[i.index],d===void 0)for(d=i.data[i.index]=Array(o),p=0;p<o;p++)d[p]=W;return i.index++,d}function Ss(o,i){return typeof i=="function"?i(o):i}function Rd(o){var i=rr();return Ip(i,zt,o)}function Ip(o,i,d){var p=o.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var x=o.baseQueue,v=p.pending;if(v!==null){if(x!==null){var k=x.next;x.next=v.next,v.next=k}i.baseQueue=x=v,p.pending=null}if(v=o.baseState,x===null)o.memoizedState=v;else{i=x.next;var O=k=null,P=null,re=i,me=!1;do{var ve=re.lane&-536870913;if(ve!==re.lane?(yt&ve)===ve:(ws&ve)===ve){var se=re.revertLane;if(se===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ve===ul&&(me=!0);else if((ws&se)===se){re=re.next,se===ul&&(me=!0);continue}else ve={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},P===null?(O=P=ve,k=v):P=P.next=ve,lt.lanes|=se,fa|=se;ve=re.action,ho&&d(v,ve),v=re.hasEagerState?re.eagerState:d(v,ve)}else se={lane:ve,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},P===null?(O=P=se,k=v):P=P.next=se,lt.lanes|=ve,fa|=ve;re=re.next}while(re!==null&&re!==i);if(P===null?k=v:P.next=O,!en(v,o.memoizedState)&&(ar=!0,me&&(d=fl,d!==null)))throw d;o.memoizedState=v,o.baseState=k,o.baseQueue=P,p.lastRenderedState=v}return x===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Hp(o){var i=rr(),d=i.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var p=d.dispatch,x=d.pending,v=i.memoizedState;if(x!==null){d.pending=null;var k=x=x.next;do v=o(v,k.action),k=k.next;while(k!==x);en(v,i.memoizedState)||(ar=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),d.lastRenderedState=v}return[v,p]}function Oy(o,i,d){var p=lt,x=rr(),v=jt;if(v){if(d===void 0)throw Error(n(407));d=d()}else d=i();var k=!en((zt||x).memoizedState,d);if(k&&(x.memoizedState=d,ar=!0),x=x.queue,Up(zy.bind(null,p,x,o),[o]),x.getSnapshot!==i||k||sr!==null&&sr.memoizedState.tag&1){if(p.flags|=2048,bl(9,{destroy:void 0},Dy.bind(null,p,x,d,i),null),Pt===null)throw Error(n(349));v||(ws&127)!==0||Ry(p,i,d)}return d}function Ry(o,i,d){o.flags|=16384,o={getSnapshot:i,value:d},i=lt.updateQueue,i===null?(i=Md(),lt.updateQueue=i,i.stores=[o]):(d=i.stores,d===null?i.stores=[o]:d.push(o))}function Dy(o,i,d,p){i.value=d,i.getSnapshot=p,Ly(i)&&By(o)}function zy(o,i,d){return d(function(){Ly(i)&&By(o)})}function Ly(o){var i=o.getSnapshot;o=o.value;try{var d=i();return!en(o,d)}catch{return!0}}function By(o){var i=no(o,2);i!==null&&Kr(i,o,2)}function $p(o){var i=_r();if(typeof o=="function"){var d=o;if(o=d(),ho){De(!0);try{d()}finally{De(!1)}}}return i.memoizedState=i.baseState=o,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:o},i}function _y(o,i,d,p){return o.baseState=d,Ip(o,zt,typeof p=="function"?p:Ss)}function TC(o,i,d,p,x){if(Ld(o))throw Error(n(485));if(o=i.action,o!==null){var v={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){v.listeners.push(k)}};B.T!==null?d(!0):v.isTransition=!1,p(v),d=i.pending,d===null?(v.next=i.pending=v,Py(i,v)):(v.next=d.next,i.pending=d.next=v)}}function Py(o,i){var d=i.action,p=i.payload,x=o.state;if(i.isTransition){var v=B.T,k={};B.T=k;try{var O=d(x,p),P=B.S;P!==null&&P(k,O),Iy(o,i,O)}catch(re){Vp(o,i,re)}finally{v!==null&&k.types!==null&&(v.types=k.types),B.T=v}}else try{v=d(x,p),Iy(o,i,v)}catch(re){Vp(o,i,re)}}function Iy(o,i,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){Hy(o,i,p)},function(p){return Vp(o,i,p)}):Hy(o,i,d)}function Hy(o,i,d){i.status="fulfilled",i.value=d,$y(i),o.state=d,i=o.pending,i!==null&&(d=i.next,d===i?o.pending=null:(d=d.next,i.next=d,Py(o,d)))}function Vp(o,i,d){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do i.status="rejected",i.reason=d,$y(i),i=i.next;while(i!==p)}o.action=null}function $y(o){o=o.listeners;for(var i=0;i<o.length;i++)(0,o[i])()}function Vy(o,i){return i}function Uy(o,i){if(jt){var d=Pt.formState;if(d!==null){e:{var p=lt;if(jt){if(Ht){t:{for(var x=Ht,v=kn;x.nodeType!==8;){if(!v){x=null;break t}if(x=An(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Ht=An(x.nextSibling),p=x.data==="F!";break e}}na(p)}p=!1}p&&(i=d[0])}}return d=_r(),d.memoizedState=d.baseState=i,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vy,lastRenderedState:i},d.queue=p,d=i1.bind(null,lt,p),p.dispatch=d,p=$p(!1),v=Kp.bind(null,lt,!1,p.queue),p=_r(),x={state:i,dispatch:null,action:o,pending:null},p.queue=x,d=TC.bind(null,lt,x,v,d),x.dispatch=d,p.memoizedState=o,[i,d,!1]}function Fy(o){var i=rr();return qy(i,zt,o)}function qy(o,i,d){if(i=Ip(o,i,Vy)[0],o=Rd(Ss)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var p=Mi(i)}catch(k){throw k===hl?Nd:k}else p=i;i=rr();var x=i.queue,v=x.dispatch;return d!==i.memoizedState&&(lt.flags|=2048,bl(9,{destroy:void 0},MC.bind(null,x,d),null)),[p,v,o]}function MC(o,i){o.action=i}function Wy(o){var i=rr(),d=zt;if(d!==null)return qy(i,d,o);rr(),i=i.memoizedState,d=rr();var p=d.queue.dispatch;return d.memoizedState=o,[i,p,!1]}function bl(o,i,d,p){return o={tag:o,create:d,deps:p,inst:i,next:null},i=lt.updateQueue,i===null&&(i=Md(),lt.updateQueue=i),d=i.lastEffect,d===null?i.lastEffect=o.next=o:(p=d.next,d.next=o,o.next=p,i.lastEffect=o),o}function Gy(){return rr().memoizedState}function Dd(o,i,d,p){var x=_r();lt.flags|=o,x.memoizedState=bl(1|i,{destroy:void 0},d,p===void 0?null:p)}function zd(o,i,d,p){var x=rr();p=p===void 0?null:p;var v=x.memoizedState.inst;zt!==null&&p!==null&&Dp(p,zt.memoizedState.deps)?x.memoizedState=bl(i,v,d,p):(lt.flags|=o,x.memoizedState=bl(1|i,v,d,p))}function Ky(o,i){Dd(8390656,8,o,i)}function Up(o,i){zd(2048,8,o,i)}function OC(o){lt.flags|=4;var i=lt.updateQueue;if(i===null)i=Md(),lt.updateQueue=i,i.events=[o];else{var d=i.events;d===null?i.events=[o]:d.push(o)}}function Yy(o){var i=rr().memoizedState;return OC({ref:i,nextImpl:o}),function(){if((Et&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function Jy(o,i){return zd(4,2,o,i)}function Qy(o,i){return zd(4,4,o,i)}function Xy(o,i){if(typeof i=="function"){o=o();var d=i(o);return function(){typeof d=="function"?d():i(null)}}if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function Zy(o,i,d){d=d!=null?d.concat([o]):null,zd(4,4,Xy.bind(null,i,o),d)}function Fp(){}function e1(o,i){var d=rr();i=i===void 0?null:i;var p=d.memoizedState;return i!==null&&Dp(i,p[1])?p[0]:(d.memoizedState=[o,i],o)}function t1(o,i){var d=rr();i=i===void 0?null:i;var p=d.memoizedState;if(i!==null&&Dp(i,p[1]))return p[0];if(p=o(),ho){De(!0);try{o()}finally{De(!1)}}return d.memoizedState=[p,i],p}function qp(o,i,d){return d===void 0||(ws&1073741824)!==0&&(yt&261930)===0?o.memoizedState=i:(o.memoizedState=d,o=rv(),lt.lanes|=o,fa|=o,d)}function r1(o,i,d,p){return en(d,i)?d:ml.current!==null?(o=qp(o,d,p),en(o,i)||(ar=!0),o):(ws&42)===0||(ws&1073741824)!==0&&(yt&261930)===0?(ar=!0,o.memoizedState=d):(o=rv(),lt.lanes|=o,fa|=o,i)}function n1(o,i,d,p,x){var v=Z.p;Z.p=v!==0&&8>v?v:8;var k=B.T,O={};B.T=O,Kp(o,!1,i,d);try{var P=x(),re=B.S;if(re!==null&&re(O,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var me=kC(P,p);Oi(o,i,me,on(o))}else Oi(o,i,p,on(o))}catch(ve){Oi(o,i,{then:function(){},status:"rejected",reason:ve},on())}finally{Z.p=v,k!==null&&O.types!==null&&(k.types=O.types),B.T=k}}function RC(){}function Wp(o,i,d,p){if(o.tag!==5)throw Error(n(476));var x=s1(o).queue;n1(o,x,i,ue,d===null?RC:function(){return a1(o),d(p)})}function s1(o){var i=o.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:ue},next:null};var d={};return i.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:d},next:null},o.memoizedState=i,o=o.alternate,o!==null&&(o.memoizedState=i),i}function a1(o){var i=s1(o);i.next===null&&(i=o.alternate.memoizedState),Oi(o,i.next.queue,{},on())}function Gp(){return vr(Ki)}function o1(){return rr().memoizedState}function l1(){return rr().memoizedState}function DC(o){for(var i=o.return;i!==null;){switch(i.tag){case 24:case 3:var d=on();o=oa(d);var p=la(i,o,d);p!==null&&(Kr(p,i,d),ki(p,i,d)),i={cache:Np()},o.payload=i;return}i=i.return}}function zC(o,i,d){var p=on();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ld(o)?c1(i,d):(d=up(o,i,d,p),d!==null&&(Kr(d,o,p),d1(d,i,p)))}function i1(o,i,d){var p=on();Oi(o,i,d,p)}function Oi(o,i,d,p){var x={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ld(o))c1(i,x);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var k=i.lastRenderedState,O=v(k,d);if(x.hasEagerState=!0,x.eagerState=O,en(O,k))return md(o,i,x,0),Pt===null&&pd(),!1}catch{}finally{}if(d=up(o,i,x,p),d!==null)return Kr(d,o,p),d1(d,i,p),!0}return!1}function Kp(o,i,d,p){if(p={lane:2,revertLane:km(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Ld(o)){if(i)throw Error(n(479))}else i=up(o,d,p,2),i!==null&&Kr(i,o,2)}function Ld(o){var i=o.alternate;return o===lt||i!==null&&i===lt}function c1(o,i){gl=Ad=!0;var d=o.pending;d===null?i.next=i:(i.next=d.next,d.next=i),o.pending=i}function d1(o,i,d){if((d&4194048)!==0){var p=i.lanes;p&=o.pendingLanes,d|=p,i.lanes=d,Ne(o,d)}}var Ri={readContext:vr,use:Od,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};Ri.useEffectEvent=Jt;var u1={readContext:vr,use:Od,useCallback:function(o,i){return _r().memoizedState=[o,i===void 0?null:i],o},useContext:vr,useEffect:Ky,useImperativeHandle:function(o,i,d){d=d!=null?d.concat([o]):null,Dd(4194308,4,Xy.bind(null,i,o),d)},useLayoutEffect:function(o,i){return Dd(4194308,4,o,i)},useInsertionEffect:function(o,i){Dd(4,2,o,i)},useMemo:function(o,i){var d=_r();i=i===void 0?null:i;var p=o();if(ho){De(!0);try{o()}finally{De(!1)}}return d.memoizedState=[p,i],p},useReducer:function(o,i,d){var p=_r();if(d!==void 0){var x=d(i);if(ho){De(!0);try{d(i)}finally{De(!1)}}}else x=i;return p.memoizedState=p.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},p.queue=o,o=o.dispatch=zC.bind(null,lt,o),[p.memoizedState,o]},useRef:function(o){var i=_r();return o={current:o},i.memoizedState=o},useState:function(o){o=$p(o);var i=o.queue,d=i1.bind(null,lt,i);return i.dispatch=d,[o.memoizedState,d]},useDebugValue:Fp,useDeferredValue:function(o,i){var d=_r();return qp(d,o,i)},useTransition:function(){var o=$p(!1);return o=n1.bind(null,lt,o.queue,!0,!1),_r().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,i,d){var p=lt,x=_r();if(jt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=i(),Pt===null)throw Error(n(349));(yt&127)!==0||Ry(p,i,d)}x.memoizedState=d;var v={value:d,getSnapshot:i};return x.queue=v,Ky(zy.bind(null,p,v,o),[o]),p.flags|=2048,bl(9,{destroy:void 0},Dy.bind(null,p,v,d,i),null),d},useId:function(){var o=_r(),i=Pt.identifierPrefix;if(jt){var d=rs,p=ts;d=(p&~(1<<32-Le(p)-1)).toString(32)+d,i="_"+i+"R_"+d,d=Td++,0<d&&(i+="H"+d.toString(32)),i+="_"}else d=EC++,i="_"+i+"r_"+d.toString(32)+"_";return o.memoizedState=i},useHostTransitionStatus:Gp,useFormState:Uy,useActionState:Uy,useOptimistic:function(o){var i=_r();i.memoizedState=i.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=d,i=Kp.bind(null,lt,!0,d),d.dispatch=i,[o,i]},useMemoCache:Pp,useCacheRefresh:function(){return _r().memoizedState=DC.bind(null,lt)},useEffectEvent:function(o){var i=_r(),d={impl:o};return i.memoizedState=d,function(){if((Et&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Yp={readContext:vr,use:Od,useCallback:e1,useContext:vr,useEffect:Up,useImperativeHandle:Zy,useInsertionEffect:Jy,useLayoutEffect:Qy,useMemo:t1,useReducer:Rd,useRef:Gy,useState:function(){return Rd(Ss)},useDebugValue:Fp,useDeferredValue:function(o,i){var d=rr();return r1(d,zt.memoizedState,o,i)},useTransition:function(){var o=Rd(Ss)[0],i=rr().memoizedState;return[typeof o=="boolean"?o:Mi(o),i]},useSyncExternalStore:Oy,useId:o1,useHostTransitionStatus:Gp,useFormState:Fy,useActionState:Fy,useOptimistic:function(o,i){var d=rr();return _y(d,zt,o,i)},useMemoCache:Pp,useCacheRefresh:l1};Yp.useEffectEvent=Yy;var f1={readContext:vr,use:Od,useCallback:e1,useContext:vr,useEffect:Up,useImperativeHandle:Zy,useInsertionEffect:Jy,useLayoutEffect:Qy,useMemo:t1,useReducer:Hp,useRef:Gy,useState:function(){return Hp(Ss)},useDebugValue:Fp,useDeferredValue:function(o,i){var d=rr();return zt===null?qp(d,o,i):r1(d,zt.memoizedState,o,i)},useTransition:function(){var o=Hp(Ss)[0],i=rr().memoizedState;return[typeof o=="boolean"?o:Mi(o),i]},useSyncExternalStore:Oy,useId:o1,useHostTransitionStatus:Gp,useFormState:Wy,useActionState:Wy,useOptimistic:function(o,i){var d=rr();return zt!==null?_y(d,zt,o,i):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:Pp,useCacheRefresh:l1};f1.useEffectEvent=Yy;function Jp(o,i,d,p){i=o.memoizedState,d=d(p,i),d=d==null?i:g({},i,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Qp={enqueueSetState:function(o,i,d){o=o._reactInternals;var p=on(),x=oa(p);x.payload=i,d!=null&&(x.callback=d),i=la(o,x,p),i!==null&&(Kr(i,o,p),ki(i,o,p))},enqueueReplaceState:function(o,i,d){o=o._reactInternals;var p=on(),x=oa(p);x.tag=1,x.payload=i,d!=null&&(x.callback=d),i=la(o,x,p),i!==null&&(Kr(i,o,p),ki(i,o,p))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var d=on(),p=oa(d);p.tag=2,i!=null&&(p.callback=i),i=la(o,p,d),i!==null&&(Kr(i,o,d),ki(i,o,d))}};function h1(o,i,d,p,x,v,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,v,k):i.prototype&&i.prototype.isPureReactComponent?!bi(d,p)||!bi(x,v):!0}function p1(o,i,d,p){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,p),i.state!==o&&Qp.enqueueReplaceState(i,i.state,null)}function po(o,i){var d=i;if("ref"in i){d={};for(var p in i)p!=="ref"&&(d[p]=i[p])}if(o=o.defaultProps){d===i&&(d=g({},d));for(var x in o)d[x]===void 0&&(d[x]=o[x])}return d}function m1(o){hd(o)}function g1(o){console.error(o)}function x1(o){hd(o)}function Bd(o,i){try{var d=o.onUncaughtError;d(i.value,{componentStack:i.stack})}catch(p){setTimeout(function(){throw p})}}function b1(o,i,d){try{var p=o.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Xp(o,i,d){return d=oa(d),d.tag=3,d.payload={element:null},d.callback=function(){Bd(o,i)},d}function y1(o){return o=oa(o),o.tag=3,o}function v1(o,i,d,p){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var v=p.value;o.payload=function(){return x(v)},o.callback=function(){b1(i,d,p)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(o.callback=function(){b1(i,d,p),typeof x!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var O=p.stack;this.componentDidCatch(p.value,{componentStack:O!==null?O:""})})}function LC(o,i,d,p,x){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(i=d.alternate,i!==null&&dl(i,d,x,!0),d=rn.current,d!==null){switch(d.tag){case 31:case 13:return En===null?Kd():d.alternate===null&&Qt===0&&(Qt=3),d.flags&=-257,d.flags|=65536,d.lanes=x,p===wd?d.flags|=16384:(i=d.updateQueue,i===null?d.updateQueue=new Set([p]):i.add(p),wm(o,p,x)),!1;case 22:return d.flags|=65536,p===wd?d.flags|=16384:(i=d.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=i):(d=i.retryQueue,d===null?i.retryQueue=new Set([p]):d.add(p)),wm(o,p,x)),!1}throw Error(n(435,d.tag))}return wm(o,p,x),Kd(),!1}if(jt)return i=rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,p!==xp&&(o=Error(n(422),{cause:p}),ji(wn(o,d)))):(p!==xp&&(i=Error(n(423),{cause:p}),ji(wn(i,d))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,p=wn(p,d),x=Xp(o.stateNode,p,x),Ap(o,x),Qt!==4&&(Qt=2)),!1;var v=Error(n(520),{cause:p});if(v=wn(v,d),Hi===null?Hi=[v]:Hi.push(v),Qt!==4&&(Qt=2),i===null)return!0;p=wn(p,d),d=i;do{switch(d.tag){case 3:return d.flags|=65536,o=x&-x,d.lanes|=o,o=Xp(d.stateNode,p,o),Ap(d,o),!1;case 1:if(i=d.type,v=d.stateNode,(d.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ha===null||!ha.has(v))))return d.flags|=65536,x&=-x,d.lanes|=x,x=y1(x),v1(x,o,d,p),Ap(d,x),!1}d=d.return}while(d!==null);return!1}var Zp=Error(n(461)),ar=!1;function jr(o,i,d,p){i.child=o===null?Sy(i,null,d,p):fo(i,o.child,d,p)}function j1(o,i,d,p,x){d=d.render;var v=i.ref;if("ref"in p){var k={};for(var O in p)O!=="ref"&&(k[O]=p[O])}else k=p;return lo(i),p=zp(o,i,d,k,v,x),O=Lp(),o!==null&&!ar?(Bp(o,i,x),Cs(o,i,x)):(jt&&O&&mp(i),i.flags|=1,jr(o,i,p,x),i.child)}function N1(o,i,d,p,x){if(o===null){var v=d.type;return typeof v=="function"&&!fp(v)&&v.defaultProps===void 0&&d.compare===null?(i.tag=15,i.type=v,w1(o,i,v,p,x)):(o=xd(d.type,null,p,i,i.mode,x),o.ref=i.ref,o.return=i,i.child=o)}if(v=o.child,!lm(o,x)){var k=v.memoizedProps;if(d=d.compare,d=d!==null?d:bi,d(k,p)&&o.ref===i.ref)return Cs(o,i,x)}return i.flags|=1,o=ys(v,p),o.ref=i.ref,o.return=i,i.child=o}function w1(o,i,d,p,x){if(o!==null){var v=o.memoizedProps;if(bi(v,p)&&o.ref===i.ref)if(ar=!1,i.pendingProps=p=v,lm(o,x))(o.flags&131072)!==0&&(ar=!0);else return i.lanes=o.lanes,Cs(o,i,x)}return em(o,i,d,p,x)}function S1(o,i,d,p){var x=p.children,v=o!==null?o.memoizedState:null;if(o===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|d:d,o!==null){for(p=i.child=o.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;p=x&~v}else p=0,i.child=null;return C1(o,i,v,d,p)}if((d&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},o!==null&&jd(i,v!==null?v.cachePool:null),v!==null?Ey(i,v):Mp(),Ay(i);else return p=i.lanes=536870912,C1(o,i,v!==null?v.baseLanes|d:d,d,p)}else v!==null?(jd(i,v.cachePool),Ey(i,v),ca(),i.memoizedState=null):(o!==null&&jd(i,null),Mp(),ca());return jr(o,i,x,d),i.child}function Di(o,i){return o!==null&&o.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function C1(o,i,d,p,x){var v=Sp();return v=v===null?null:{parent:nr._currentValue,pool:v},i.memoizedState={baseLanes:d,cachePool:v},o!==null&&jd(i,null),Mp(),Ay(i),o!==null&&dl(o,i,p,!0),i.childLanes=x,null}function _d(o,i){return i=Id({mode:i.mode,children:i.children},o.mode),i.ref=o.ref,o.child=i,i.return=o,i}function k1(o,i,d){return fo(i,o.child,null,d),o=_d(i,i.pendingProps),o.flags|=2,nn(i),i.memoizedState=null,o}function BC(o,i,d){var p=i.pendingProps,x=(i.flags&128)!==0;if(i.flags&=-129,o===null){if(jt){if(p.mode==="hidden")return o=_d(i,p),i.lanes=536870912,Di(null,o);if(Rp(i),(o=Ht)?(o=Pv(o,kn),o=o!==null&&o.data==="&"?o:null,o!==null&&(i.memoizedState={dehydrated:o,treeContext:ta!==null?{id:ts,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},d=cy(o),d.return=i,i.child=d,yr=i,Ht=null)):o=null,o===null)throw na(i);return i.lanes=536870912,null}return _d(i,p)}var v=o.memoizedState;if(v!==null){var k=v.dehydrated;if(Rp(i),x)if(i.flags&256)i.flags&=-257,i=k1(o,i,d);else if(i.memoizedState!==null)i.child=o.child,i.flags|=128,i=null;else throw Error(n(558));else if(ar||dl(o,i,d,!1),x=(d&o.childLanes)!==0,ar||x){if(p=Pt,p!==null&&(k=ge(p,d),k!==0&&k!==v.retryLane))throw v.retryLane=k,no(o,k),Kr(p,o,k),Zp;Kd(),i=k1(o,i,d)}else o=v.treeContext,Ht=An(k.nextSibling),yr=i,jt=!0,ra=null,kn=!1,o!==null&&fy(i,o),i=_d(i,p),i.flags|=4096;return i}return o=ys(o.child,{mode:p.mode,children:p.children}),o.ref=i.ref,i.child=o,o.return=i,o}function Pd(o,i){var d=i.ref;if(d===null)o!==null&&o.ref!==null&&(i.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(o===null||o.ref!==d)&&(i.flags|=4194816)}}function em(o,i,d,p,x){return lo(i),d=zp(o,i,d,p,void 0,x),p=Lp(),o!==null&&!ar?(Bp(o,i,x),Cs(o,i,x)):(jt&&p&&mp(i),i.flags|=1,jr(o,i,d,x),i.child)}function E1(o,i,d,p,x,v){return lo(i),i.updateQueue=null,d=My(i,p,d,x),Ty(o),p=Lp(),o!==null&&!ar?(Bp(o,i,v),Cs(o,i,v)):(jt&&p&&mp(i),i.flags|=1,jr(o,i,d,v),i.child)}function A1(o,i,d,p,x){if(lo(i),i.stateNode===null){var v=ol,k=d.contextType;typeof k=="object"&&k!==null&&(v=vr(k)),v=new d(p,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=p,v.state=i.memoizedState,v.refs={},kp(i),k=d.contextType,v.context=typeof k=="object"&&k!==null?vr(k):ol,v.state=i.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Jp(i,d,k,p),v.state=i.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(k=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),k!==v.state&&Qp.enqueueReplaceState(v,v.state,null),Ai(i,p,v,x),Ei(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),p=!0}else if(o===null){v=i.stateNode;var O=i.memoizedProps,P=po(d,O);v.props=P;var re=v.context,me=d.contextType;k=ol,typeof me=="object"&&me!==null&&(k=vr(me));var ve=d.getDerivedStateFromProps;me=typeof ve=="function"||typeof v.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,me||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O||re!==k)&&p1(i,v,p,k),aa=!1;var se=i.memoizedState;v.state=se,Ai(i,p,v,x),Ei(),re=i.memoizedState,O||se!==re||aa?(typeof ve=="function"&&(Jp(i,d,ve,p),re=i.memoizedState),(P=aa||h1(i,d,P,p,se,re,k))?(me||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=re),v.props=p,v.state=re,v.context=k,p=P):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{v=i.stateNode,Ep(o,i),k=i.memoizedProps,me=po(d,k),v.props=me,ve=i.pendingProps,se=v.context,re=d.contextType,P=ol,typeof re=="object"&&re!==null&&(P=vr(re)),O=d.getDerivedStateFromProps,(re=typeof O=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==ve||se!==P)&&p1(i,v,p,P),aa=!1,se=i.memoizedState,v.state=se,Ai(i,p,v,x),Ei();var de=i.memoizedState;k!==ve||se!==de||aa||o!==null&&o.dependencies!==null&&yd(o.dependencies)?(typeof O=="function"&&(Jp(i,d,O,p),de=i.memoizedState),(me=aa||h1(i,d,me,p,se,de,P)||o!==null&&o.dependencies!==null&&yd(o.dependencies))?(re||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(p,de,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(p,de,P)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||k===o.memoizedProps&&se===o.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&se===o.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=de),v.props=p,v.state=de,v.context=P,p=me):(typeof v.componentDidUpdate!="function"||k===o.memoizedProps&&se===o.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&se===o.memoizedState||(i.flags|=1024),p=!1)}return v=p,Pd(o,i),p=(i.flags&128)!==0,v||p?(v=i.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,o!==null&&p?(i.child=fo(i,o.child,null,x),i.child=fo(i,null,d,x)):jr(o,i,d,x),i.memoizedState=v.state,o=i.child):o=Cs(o,i,x),o}function T1(o,i,d,p){return ao(),i.flags|=256,jr(o,i,d,p),i.child}var tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rm(o){return{baseLanes:o,cachePool:by()}}function nm(o,i,d){return o=o!==null?o.childLanes&~d:0,i&&(o|=an),o}function M1(o,i,d){var p=i.pendingProps,x=!1,v=(i.flags&128)!==0,k;if((k=v)||(k=o!==null&&o.memoizedState===null?!1:(tr.current&2)!==0),k&&(x=!0,i.flags&=-129),k=(i.flags&32)!==0,i.flags&=-33,o===null){if(jt){if(x?ia(i):ca(),(o=Ht)?(o=Pv(o,kn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(i.memoizedState={dehydrated:o,treeContext:ta!==null?{id:ts,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},d=cy(o),d.return=i,i.child=d,yr=i,Ht=null)):o=null,o===null)throw na(i);return Im(o)?i.lanes=32:i.lanes=536870912,null}var O=p.children;return p=p.fallback,x?(ca(),x=i.mode,O=Id({mode:"hidden",children:O},x),p=so(p,x,d,null),O.return=i,p.return=i,O.sibling=p,i.child=O,p=i.child,p.memoizedState=rm(d),p.childLanes=nm(o,k,d),i.memoizedState=tm,Di(null,p)):(ia(i),sm(i,O))}var P=o.memoizedState;if(P!==null&&(O=P.dehydrated,O!==null)){if(v)i.flags&256?(ia(i),i.flags&=-257,i=am(o,i,d)):i.memoizedState!==null?(ca(),i.child=o.child,i.flags|=128,i=null):(ca(),O=p.fallback,x=i.mode,p=Id({mode:"visible",children:p.children},x),O=so(O,x,d,null),O.flags|=2,p.return=i,O.return=i,p.sibling=O,i.child=p,fo(i,o.child,null,d),p=i.child,p.memoizedState=rm(d),p.childLanes=nm(o,k,d),i.memoizedState=tm,i=Di(null,p));else if(ia(i),Im(O)){if(k=O.nextSibling&&O.nextSibling.dataset,k)var re=k.dgst;k=re,p=Error(n(419)),p.stack="",p.digest=k,ji({value:p,source:null,stack:null}),i=am(o,i,d)}else if(ar||dl(o,i,d,!1),k=(d&o.childLanes)!==0,ar||k){if(k=Pt,k!==null&&(p=ge(k,d),p!==0&&p!==P.retryLane))throw P.retryLane=p,no(o,p),Kr(k,o,p),Zp;Pm(O)||Kd(),i=am(o,i,d)}else Pm(O)?(i.flags|=192,i.child=o.child,i=null):(o=P.treeContext,Ht=An(O.nextSibling),yr=i,jt=!0,ra=null,kn=!1,o!==null&&fy(i,o),i=sm(i,p.children),i.flags|=4096);return i}return x?(ca(),O=p.fallback,x=i.mode,P=o.child,re=P.sibling,p=ys(P,{mode:"hidden",children:p.children}),p.subtreeFlags=P.subtreeFlags&65011712,re!==null?O=ys(re,O):(O=so(O,x,d,null),O.flags|=2),O.return=i,p.return=i,p.sibling=O,i.child=p,Di(null,p),p=i.child,O=o.child.memoizedState,O===null?O=rm(d):(x=O.cachePool,x!==null?(P=nr._currentValue,x=x.parent!==P?{parent:P,pool:P}:x):x=by(),O={baseLanes:O.baseLanes|d,cachePool:x}),p.memoizedState=O,p.childLanes=nm(o,k,d),i.memoizedState=tm,Di(o.child,p)):(ia(i),d=o.child,o=d.sibling,d=ys(d,{mode:"visible",children:p.children}),d.return=i,d.sibling=null,o!==null&&(k=i.deletions,k===null?(i.deletions=[o],i.flags|=16):k.push(o)),i.child=d,i.memoizedState=null,d)}function sm(o,i){return i=Id({mode:"visible",children:i},o.mode),i.return=o,o.child=i}function Id(o,i){return o=tn(22,o,null,i),o.lanes=0,o}function am(o,i,d){return fo(i,o.child,null,d),o=sm(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function O1(o,i,d){o.lanes|=i;var p=o.alternate;p!==null&&(p.lanes|=i),vp(o.return,i,d)}function om(o,i,d,p,x,v){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:x,treeForkCount:v}:(k.isBackwards=i,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=d,k.tailMode=x,k.treeForkCount=v)}function R1(o,i,d){var p=i.pendingProps,x=p.revealOrder,v=p.tail;p=p.children;var k=tr.current,O=(k&2)!==0;if(O?(k=k&1|2,i.flags|=128):k&=1,G(tr,k),jr(o,i,p,d),p=jt?vi:0,!O&&o!==null&&(o.flags&128)!==0)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&O1(o,d,i);else if(o.tag===19)O1(o,d,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(d=i.child,x=null;d!==null;)o=d.alternate,o!==null&&Ed(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=i.child,i.child=null):(x=d.sibling,d.sibling=null),om(i,!1,x,d,v,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=i.child,i.child=null;x!==null;){if(o=x.alternate,o!==null&&Ed(o)===null){i.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}om(i,!0,d,null,v,p);break;case"together":om(i,!1,null,null,void 0,p);break;default:i.memoizedState=null}return i.child}function Cs(o,i,d){if(o!==null&&(i.dependencies=o.dependencies),fa|=i.lanes,(d&i.childLanes)===0)if(o!==null){if(dl(o,i,d,!1),(d&i.childLanes)===0)return null}else return null;if(o!==null&&i.child!==o.child)throw Error(n(153));if(i.child!==null){for(o=i.child,d=ys(o,o.pendingProps),i.child=d,d.return=i;o.sibling!==null;)o=o.sibling,d=d.sibling=ys(o,o.pendingProps),d.return=i;d.sibling=null}return i.child}function lm(o,i){return(o.lanes&i)!==0?!0:(o=o.dependencies,!!(o!==null&&yd(o)))}function _C(o,i,d){switch(i.tag){case 3:Ae(i,i.stateNode.containerInfo),sa(i,nr,o.memoizedState.cache),ao();break;case 27:case 5:H(i);break;case 4:Ae(i,i.stateNode.containerInfo);break;case 10:sa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Rp(i),null;break;case 13:var p=i.memoizedState;if(p!==null)return p.dehydrated!==null?(ia(i),i.flags|=128,null):(d&i.child.childLanes)!==0?M1(o,i,d):(ia(i),o=Cs(o,i,d),o!==null?o.sibling:null);ia(i);break;case 19:var x=(o.flags&128)!==0;if(p=(d&i.childLanes)!==0,p||(dl(o,i,d,!1),p=(d&i.childLanes)!==0),x){if(p)return R1(o,i,d);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),G(tr,tr.current),p)break;return null;case 22:return i.lanes=0,S1(o,i,d,i.pendingProps);case 24:sa(i,nr,o.memoizedState.cache)}return Cs(o,i,d)}function D1(o,i,d){if(o!==null)if(o.memoizedProps!==i.pendingProps)ar=!0;else{if(!lm(o,d)&&(i.flags&128)===0)return ar=!1,_C(o,i,d);ar=(o.flags&131072)!==0}else ar=!1,jt&&(i.flags&1048576)!==0&&uy(i,vi,i.index);switch(i.lanes=0,i.tag){case 16:e:{var p=i.pendingProps;if(o=co(i.elementType),i.type=o,typeof o=="function")fp(o)?(p=po(o,p),i.tag=1,i=A1(null,i,o,p,d)):(i.tag=0,i=em(null,i,o,p,d));else{if(o!=null){var x=o.$$typeof;if(x===M){i.tag=11,i=j1(null,i,o,p,d);break e}else if(x===R){i.tag=14,i=N1(null,i,o,p,d);break e}}throw i=I(o)||o,Error(n(306,i,""))}}return i;case 0:return em(o,i,i.type,i.pendingProps,d);case 1:return p=i.type,x=po(p,i.pendingProps),A1(o,i,p,x,d);case 3:e:{if(Ae(i,i.stateNode.containerInfo),o===null)throw Error(n(387));p=i.pendingProps;var v=i.memoizedState;x=v.element,Ep(o,i),Ai(i,p,null,d);var k=i.memoizedState;if(p=k.cache,sa(i,nr,p),p!==v.cache&&jp(i,[nr],d,!0),Ei(),p=k.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:k.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=T1(o,i,p,d);break e}else if(p!==x){x=wn(Error(n(424)),i),ji(x),i=T1(o,i,p,d);break e}else{switch(o=i.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ht=An(o.firstChild),yr=i,jt=!0,ra=null,kn=!0,d=Sy(i,null,p,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ao(),p===x){i=Cs(o,i,d);break e}jr(o,i,p,d)}i=i.child}return i;case 26:return Pd(o,i),o===null?(d=Fv(i.type,null,i.pendingProps,null))?i.memoizedState=d:jt||(d=i.type,o=i.pendingProps,p=tu(Me.current).createElement(d),p[Oe]=i,p[et]=o,Nr(p,d,o),hr(p),i.stateNode=p):i.memoizedState=Fv(i.type,o.memoizedProps,i.pendingProps,o.memoizedState),null;case 27:return H(i),o===null&&jt&&(p=i.stateNode=$v(i.type,i.pendingProps,Me.current),yr=i,kn=!0,x=Ht,xa(i.type)?(Hm=x,Ht=An(p.firstChild)):Ht=x),jr(o,i,i.pendingProps.children,d),Pd(o,i),o===null&&(i.flags|=4194304),i.child;case 5:return o===null&&jt&&((x=p=Ht)&&(p=h5(p,i.type,i.pendingProps,kn),p!==null?(i.stateNode=p,yr=i,Ht=An(p.firstChild),kn=!1,x=!0):x=!1),x||na(i)),H(i),x=i.type,v=i.pendingProps,k=o!==null?o.memoizedProps:null,p=v.children,Lm(x,v)?p=null:k!==null&&Lm(x,k)&&(i.flags|=32),i.memoizedState!==null&&(x=zp(o,i,AC,null,null,d),Ki._currentValue=x),Pd(o,i),jr(o,i,p,d),i.child;case 6:return o===null&&jt&&((o=d=Ht)&&(d=p5(d,i.pendingProps,kn),d!==null?(i.stateNode=d,yr=i,Ht=null,o=!0):o=!1),o||na(i)),null;case 13:return M1(o,i,d);case 4:return Ae(i,i.stateNode.containerInfo),p=i.pendingProps,o===null?i.child=fo(i,null,p,d):jr(o,i,p,d),i.child;case 11:return j1(o,i,i.type,i.pendingProps,d);case 7:return jr(o,i,i.pendingProps,d),i.child;case 8:return jr(o,i,i.pendingProps.children,d),i.child;case 12:return jr(o,i,i.pendingProps.children,d),i.child;case 10:return p=i.pendingProps,sa(i,i.type,p.value),jr(o,i,p.children,d),i.child;case 9:return x=i.type._context,p=i.pendingProps.children,lo(i),x=vr(x),p=p(x),i.flags|=1,jr(o,i,p,d),i.child;case 14:return N1(o,i,i.type,i.pendingProps,d);case 15:return w1(o,i,i.type,i.pendingProps,d);case 19:return R1(o,i,d);case 31:return BC(o,i,d);case 22:return S1(o,i,d,i.pendingProps);case 24:return lo(i),p=vr(nr),o===null?(x=Sp(),x===null&&(x=Pt,v=Np(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=d),x=v),i.memoizedState={parent:p,cache:x},kp(i),sa(i,nr,x)):((o.lanes&d)!==0&&(Ep(o,i),Ai(i,null,null,d),Ei()),x=o.memoizedState,v=i.memoizedState,x.parent!==p?(x={parent:p,cache:p},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),sa(i,nr,p)):(p=v.cache,sa(i,nr,p),p!==x.cache&&jp(i,[nr],d,!0))),jr(o,i,i.pendingProps.children,d),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function ks(o){o.flags|=4}function im(o,i,d,p,x){if((i=(o.mode&32)!==0)&&(i=!1),i){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(ov())o.flags|=8192;else throw uo=wd,Cp}else o.flags&=-16777217}function z1(o,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Yv(i))if(ov())o.flags|=8192;else throw uo=wd,Cp}function Hd(o,i){i!==null&&(o.flags|=4),o.flags&16384&&(i=o.tag!==22?rd():536870912,o.lanes|=i,Nl|=i)}function zi(o,i){if(!jt)switch(o.tailMode){case"hidden":i=o.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function $t(o){var i=o.alternate!==null&&o.alternate.child===o.child,d=0,p=0;if(i)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=p,o.childLanes=d,i}function PC(o,i,d){var p=i.pendingProps;switch(gp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(i),null;case 1:return $t(i),null;case 3:return d=i.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),i.memoizedState.cache!==p&&(i.flags|=2048),Ns(nr),L(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(cl(i)?ks(i):o===null||o.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bp())),$t(i),null;case 26:var x=i.type,v=i.memoizedState;return o===null?(ks(i),v!==null?($t(i),z1(i,v)):($t(i),im(i,x,null,p,d))):v?v!==o.memoizedState?(ks(i),$t(i),z1(i,v)):($t(i),i.flags&=-16777217):(o=o.memoizedProps,o!==p&&ks(i),$t(i),im(i,x,o,p,d)),null;case 27:if(J(i),d=Me.current,x=i.type,o!==null&&i.stateNode!=null)o.memoizedProps!==p&&ks(i);else{if(!p){if(i.stateNode===null)throw Error(n(166));return $t(i),null}o=ce.current,cl(i)?hy(i):(o=$v(x,p,d),i.stateNode=o,ks(i))}return $t(i),null;case 5:if(J(i),x=i.type,o!==null&&i.stateNode!=null)o.memoizedProps!==p&&ks(i);else{if(!p){if(i.stateNode===null)throw Error(n(166));return $t(i),null}if(v=ce.current,cl(i))hy(i);else{var k=tu(Me.current);switch(v){case 1:v=k.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:v=k.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":v=k.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":v=k.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":v=k.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?v.multiple=!0:p.size&&(v.size=p.size);break;default:v=typeof p.is=="string"?k.createElement(x,{is:p.is}):k.createElement(x)}}v[Oe]=i,v[et]=p;e:for(k=i.child;k!==null;){if(k.tag===5||k.tag===6)v.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===i)break e;for(;k.sibling===null;){if(k.return===null||k.return===i)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}i.stateNode=v;e:switch(Nr(v,x,p),x){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ks(i)}}return $t(i),im(i,i.type,o===null?null:o.memoizedProps,i.pendingProps,d),null;case 6:if(o&&i.stateNode!=null)o.memoizedProps!==p&&ks(i);else{if(typeof p!="string"&&i.stateNode===null)throw Error(n(166));if(o=Me.current,cl(i)){if(o=i.stateNode,d=i.memoizedProps,p=null,x=yr,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}o[Oe]=i,o=!!(o.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||Mv(o.nodeValue,d)),o||na(i,!0)}else o=tu(o).createTextNode(p),o[Oe]=i,i.stateNode=o}return $t(i),null;case 31:if(d=i.memoizedState,o===null||o.memoizedState!==null){if(p=cl(i),d!==null){if(o===null){if(!p)throw Error(n(318));if(o=i.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[Oe]=i}else ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$t(i),o=!1}else d=bp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return i.flags&256?(nn(i),i):(nn(i),null);if((i.flags&128)!==0)throw Error(n(558))}return $t(i),null;case 13:if(p=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=cl(i),p!==null&&p.dehydrated!==null){if(o===null){if(!x)throw Error(n(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Oe]=i}else ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$t(i),x=!1}else x=bp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(nn(i),i):(nn(i),null)}return nn(i),(i.flags&128)!==0?(i.lanes=d,i):(d=p!==null,o=o!==null&&o.memoizedState!==null,d&&(p=i.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool),v=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(v=p.memoizedState.cachePool.pool),v!==x&&(p.flags|=2048)),d!==o&&d&&(i.child.flags|=8192),Hd(i,i.updateQueue),$t(i),null);case 4:return L(),o===null&&Mm(i.stateNode.containerInfo),$t(i),null;case 10:return Ns(i.type),$t(i),null;case 19:if(X(tr),p=i.memoizedState,p===null)return $t(i),null;if(x=(i.flags&128)!==0,v=p.rendering,v===null)if(x)zi(p,!1);else{if(Qt!==0||o!==null&&(o.flags&128)!==0)for(o=i.child;o!==null;){if(v=Ed(o),v!==null){for(i.flags|=128,zi(p,!1),o=v.updateQueue,i.updateQueue=o,Hd(i,o),i.subtreeFlags=0,o=d,d=i.child;d!==null;)iy(d,o),d=d.sibling;return G(tr,tr.current&1|2),jt&&vs(i,p.treeForkCount),i.child}o=o.sibling}p.tail!==null&&Nt()>qd&&(i.flags|=128,x=!0,zi(p,!1),i.lanes=4194304)}else{if(!x)if(o=Ed(v),o!==null){if(i.flags|=128,x=!0,o=o.updateQueue,i.updateQueue=o,Hd(i,o),zi(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!jt)return $t(i),null}else 2*Nt()-p.renderingStartTime>qd&&d!==536870912&&(i.flags|=128,x=!0,zi(p,!1),i.lanes=4194304);p.isBackwards?(v.sibling=i.child,i.child=v):(o=p.last,o!==null?o.sibling=v:i.child=v,p.last=v)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Nt(),o.sibling=null,d=tr.current,G(tr,x?d&1|2:d&1),jt&&vs(i,p.treeForkCount),o):($t(i),null);case 22:case 23:return nn(i),Op(),p=i.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(i.flags|=8192):p&&(i.flags|=8192),p?(d&536870912)!==0&&(i.flags&128)===0&&($t(i),i.subtreeFlags&6&&(i.flags|=8192)):$t(i),d=i.updateQueue,d!==null&&Hd(i,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),p=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(p=i.memoizedState.cachePool.pool),p!==d&&(i.flags|=2048),o!==null&&X(io),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Ns(nr),$t(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function IC(o,i){switch(gp(i),i.tag){case 1:return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return Ns(nr),L(),o=i.flags,(o&65536)!==0&&(o&128)===0?(i.flags=o&-65537|128,i):null;case 26:case 27:case 5:return J(i),null;case 31:if(i.memoizedState!==null){if(nn(i),i.alternate===null)throw Error(n(340));ao()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 13:if(nn(i),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ao()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return X(tr),null;case 4:return L(),null;case 10:return Ns(i.type),null;case 22:case 23:return nn(i),Op(),o!==null&&X(io),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 24:return Ns(nr),null;case 25:return null;default:return null}}function L1(o,i){switch(gp(i),i.tag){case 3:Ns(nr),L();break;case 26:case 27:case 5:J(i);break;case 4:L();break;case 31:i.memoizedState!==null&&nn(i);break;case 13:nn(i);break;case 19:X(tr);break;case 10:Ns(i.type);break;case 22:case 23:nn(i),Op(),o!==null&&X(io);break;case 24:Ns(nr)}}function Li(o,i){try{var d=i.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var x=p.next;d=x;do{if((d.tag&o)===o){p=void 0;var v=d.create,k=d.inst;p=v(),k.destroy=p}d=d.next}while(d!==x)}}catch(O){Rt(i,i.return,O)}}function da(o,i,d){try{var p=i.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var v=x.next;p=v;do{if((p.tag&o)===o){var k=p.inst,O=k.destroy;if(O!==void 0){k.destroy=void 0,x=i;var P=d,re=O;try{re()}catch(me){Rt(x,P,me)}}}p=p.next}while(p!==v)}}catch(me){Rt(i,i.return,me)}}function B1(o){var i=o.updateQueue;if(i!==null){var d=o.stateNode;try{ky(i,d)}catch(p){Rt(o,o.return,p)}}}function _1(o,i,d){d.props=po(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(p){Rt(o,i,p)}}function Bi(o,i){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof d=="function"?o.refCleanup=d(p):d.current=p}}catch(x){Rt(o,i,x)}}function ns(o,i){var d=o.ref,p=o.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(x){Rt(o,i,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Rt(o,i,x)}else d.current=null}function P1(o){var i=o.type,d=o.memoizedProps,p=o.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(x){Rt(o,o.return,x)}}function cm(o,i,d){try{var p=o.stateNode;l5(p,o.type,d,i),p[et]=i}catch(x){Rt(o,o.return,x)}}function I1(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&xa(o.type)||o.tag===4}function dm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||I1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&xa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function um(o,i,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,i?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,i):(i=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,i.appendChild(o),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=xs));else if(p!==4&&(p===27&&xa(o.type)&&(d=o.stateNode,i=null),o=o.child,o!==null))for(um(o,i,d),o=o.sibling;o!==null;)um(o,i,d),o=o.sibling}function $d(o,i,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,i?d.insertBefore(o,i):d.appendChild(o);else if(p!==4&&(p===27&&xa(o.type)&&(d=o.stateNode),o=o.child,o!==null))for($d(o,i,d),o=o.sibling;o!==null;)$d(o,i,d),o=o.sibling}function H1(o){var i=o.stateNode,d=o.memoizedProps;try{for(var p=o.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);Nr(i,p,d),i[Oe]=o,i[et]=d}catch(v){Rt(o,o.return,v)}}var Es=!1,or=!1,fm=!1,$1=typeof WeakSet=="function"?WeakSet:Set,pr=null;function HC(o,i){if(o=o.containerInfo,Dm=iu,o=Zb(o),ap(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var x=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{d.nodeType,v.nodeType}catch{d=null;break e}var k=0,O=-1,P=-1,re=0,me=0,ve=o,se=null;t:for(;;){for(var de;ve!==d||x!==0&&ve.nodeType!==3||(O=k+x),ve!==v||p!==0&&ve.nodeType!==3||(P=k+p),ve.nodeType===3&&(k+=ve.nodeValue.length),(de=ve.firstChild)!==null;)se=ve,ve=de;for(;;){if(ve===o)break t;if(se===d&&++re===x&&(O=k),se===v&&++me===p&&(P=k),(de=ve.nextSibling)!==null)break;ve=se,se=ve.parentNode}ve=de}d=O===-1||P===-1?null:{start:O,end:P}}else d=null}d=d||{start:0,end:0}}else d=null;for(zm={focusedElem:o,selectionRange:d},iu=!1,pr=i;pr!==null;)if(i=pr,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,pr=o;else for(;pr!==null;){switch(i=pr,v=i.alternate,o=i.flags,i.tag){case 0:if((o&4)!==0&&(o=i.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)x=o[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&v!==null){o=void 0,d=i,x=v.memoizedProps,v=v.memoizedState,p=d.stateNode;try{var Ve=po(d.type,x);o=p.getSnapshotBeforeUpdate(Ve,v),p.__reactInternalSnapshotBeforeUpdate=o}catch(Xe){Rt(d,d.return,Xe)}}break;case 3:if((o&1024)!==0){if(o=i.stateNode.containerInfo,d=o.nodeType,d===9)_m(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":_m(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=i.sibling,o!==null){o.return=i.return,pr=o;break}pr=i.return}}function V1(o,i,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ts(o,d),p&4&&Li(5,d);break;case 1:if(Ts(o,d),p&4)if(o=d.stateNode,i===null)try{o.componentDidMount()}catch(k){Rt(d,d.return,k)}else{var x=po(d.type,i.memoizedProps);i=i.memoizedState;try{o.componentDidUpdate(x,i,o.__reactInternalSnapshotBeforeUpdate)}catch(k){Rt(d,d.return,k)}}p&64&&B1(d),p&512&&Bi(d,d.return);break;case 3:if(Ts(o,d),p&64&&(o=d.updateQueue,o!==null)){if(i=null,d.child!==null)switch(d.child.tag){case 27:case 5:i=d.child.stateNode;break;case 1:i=d.child.stateNode}try{ky(o,i)}catch(k){Rt(d,d.return,k)}}break;case 27:i===null&&p&4&&H1(d);case 26:case 5:Ts(o,d),i===null&&p&4&&P1(d),p&512&&Bi(d,d.return);break;case 12:Ts(o,d);break;case 31:Ts(o,d),p&4&&q1(o,d);break;case 13:Ts(o,d),p&4&&W1(o,d),p&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=YC.bind(null,d),m5(o,d))));break;case 22:if(p=d.memoizedState!==null||Es,!p){i=i!==null&&i.memoizedState!==null||or,x=Es;var v=or;Es=p,(or=i)&&!v?Ms(o,d,(d.subtreeFlags&8772)!==0):Ts(o,d),Es=x,or=v}break;case 30:break;default:Ts(o,d)}}function U1(o){var i=o.alternate;i!==null&&(o.alternate=null,U1(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&Vh(i)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ut=null,Fr=!1;function As(o,i,d){for(d=d.child;d!==null;)F1(o,i,d),d=d.sibling}function F1(o,i,d){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(ae,d)}catch{}switch(d.tag){case 26:or||ns(d,i),As(o,i,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:or||ns(d,i);var p=Ut,x=Fr;xa(d.type)&&(Ut=d.stateNode,Fr=!1),As(o,i,d),qi(d.stateNode),Ut=p,Fr=x;break;case 5:or||ns(d,i);case 6:if(p=Ut,x=Fr,Ut=null,As(o,i,d),Ut=p,Fr=x,Ut!==null)if(Fr)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(d.stateNode)}catch(v){Rt(d,i,v)}else try{Ut.removeChild(d.stateNode)}catch(v){Rt(d,i,v)}break;case 18:Ut!==null&&(Fr?(o=Ut,Bv(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),Ml(o)):Bv(Ut,d.stateNode));break;case 4:p=Ut,x=Fr,Ut=d.stateNode.containerInfo,Fr=!0,As(o,i,d),Ut=p,Fr=x;break;case 0:case 11:case 14:case 15:da(2,d,i),or||da(4,d,i),As(o,i,d);break;case 1:or||(ns(d,i),p=d.stateNode,typeof p.componentWillUnmount=="function"&&_1(d,i,p)),As(o,i,d);break;case 21:As(o,i,d);break;case 22:or=(p=or)||d.memoizedState!==null,As(o,i,d),or=p;break;default:As(o,i,d)}}function q1(o,i){if(i.memoizedState===null&&(o=i.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Ml(o)}catch(d){Rt(i,i.return,d)}}}function W1(o,i){if(i.memoizedState===null&&(o=i.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ml(o)}catch(d){Rt(i,i.return,d)}}function $C(o){switch(o.tag){case 31:case 13:case 19:var i=o.stateNode;return i===null&&(i=o.stateNode=new $1),i;case 22:return o=o.stateNode,i=o._retryCache,i===null&&(i=o._retryCache=new $1),i;default:throw Error(n(435,o.tag))}}function Vd(o,i){var d=$C(o);i.forEach(function(p){if(!d.has(p)){d.add(p);var x=JC.bind(null,o,p);p.then(x,x)}})}function qr(o,i){var d=i.deletions;if(d!==null)for(var p=0;p<d.length;p++){var x=d[p],v=o,k=i,O=k;e:for(;O!==null;){switch(O.tag){case 27:if(xa(O.type)){Ut=O.stateNode,Fr=!1;break e}break;case 5:Ut=O.stateNode,Fr=!1;break e;case 3:case 4:Ut=O.stateNode.containerInfo,Fr=!0;break e}O=O.return}if(Ut===null)throw Error(n(160));F1(v,k,x),Ut=null,Fr=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)G1(i,o),i=i.sibling}var $n=null;function G1(o,i){var d=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:qr(i,o),Wr(o),p&4&&(da(3,o,o.return),Li(3,o),da(5,o,o.return));break;case 1:qr(i,o),Wr(o),p&512&&(or||d===null||ns(d,d.return)),p&64&&Es&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var x=$n;if(qr(i,o),Wr(o),p&512&&(or||d===null||ns(d,d.return)),p&4){var v=d!==null?d.memoizedState:null;if(p=o.memoizedState,d===null)if(p===null)if(o.stateNode===null){e:{p=o.type,d=o.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":v=x.getElementsByTagName("title")[0],(!v||v[ci]||v[Oe]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(p),x.head.insertBefore(v,x.querySelector("head > title"))),Nr(v,p,d),v[Oe]=o,hr(v),p=v;break e;case"link":var k=Gv("link","href",x).get(p+(d.href||""));if(k){for(var O=0;O<k.length;O++)if(v=k[O],v.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&v.getAttribute("rel")===(d.rel==null?null:d.rel)&&v.getAttribute("title")===(d.title==null?null:d.title)&&v.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(O,1);break t}}v=x.createElement(p),Nr(v,p,d),x.head.appendChild(v);break;case"meta":if(k=Gv("meta","content",x).get(p+(d.content||""))){for(O=0;O<k.length;O++)if(v=k[O],v.getAttribute("content")===(d.content==null?null:""+d.content)&&v.getAttribute("name")===(d.name==null?null:d.name)&&v.getAttribute("property")===(d.property==null?null:d.property)&&v.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&v.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(O,1);break t}}v=x.createElement(p),Nr(v,p,d),x.head.appendChild(v);break;default:throw Error(n(468,p))}v[Oe]=o,hr(v),p=v}o.stateNode=p}else Kv(x,o.type,o.stateNode);else o.stateNode=Wv(x,p,o.memoizedProps);else v!==p?(v===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):v.count--,p===null?Kv(x,o.type,o.stateNode):Wv(x,p,o.memoizedProps)):p===null&&o.stateNode!==null&&cm(o,o.memoizedProps,d.memoizedProps)}break;case 27:qr(i,o),Wr(o),p&512&&(or||d===null||ns(d,d.return)),d!==null&&p&4&&cm(o,o.memoizedProps,d.memoizedProps);break;case 5:if(qr(i,o),Wr(o),p&512&&(or||d===null||ns(d,d.return)),o.flags&32){x=o.stateNode;try{Zo(x,"")}catch(Ve){Rt(o,o.return,Ve)}}p&4&&o.stateNode!=null&&(x=o.memoizedProps,cm(o,x,d!==null?d.memoizedProps:x)),p&1024&&(fm=!0);break;case 6:if(qr(i,o),Wr(o),p&4){if(o.stateNode===null)throw Error(n(162));p=o.memoizedProps,d=o.stateNode;try{d.nodeValue=p}catch(Ve){Rt(o,o.return,Ve)}}break;case 3:if(su=null,x=$n,$n=ru(i.containerInfo),qr(i,o),$n=x,Wr(o),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Ml(i.containerInfo)}catch(Ve){Rt(o,o.return,Ve)}fm&&(fm=!1,K1(o));break;case 4:p=$n,$n=ru(o.stateNode.containerInfo),qr(i,o),Wr(o),$n=p;break;case 12:qr(i,o),Wr(o);break;case 31:qr(i,o),Wr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Vd(o,p)));break;case 13:qr(i,o),Wr(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Fd=Nt()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Vd(o,p)));break;case 22:x=o.memoizedState!==null;var P=d!==null&&d.memoizedState!==null,re=Es,me=or;if(Es=re||x,or=me||P,qr(i,o),or=me,Es=re,Wr(o),p&8192)e:for(i=o.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(d===null||P||Es||or||mo(o)),d=null,i=o;;){if(i.tag===5||i.tag===26){if(d===null){P=d=i;try{if(v=P.stateNode,x)k=v.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{O=P.stateNode;var ve=P.memoizedProps.style,se=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;O.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ve){Rt(P,P.return,Ve)}}}else if(i.tag===6){if(d===null){P=i;try{P.stateNode.nodeValue=x?"":P.memoizedProps}catch(Ve){Rt(P,P.return,Ve)}}}else if(i.tag===18){if(d===null){P=i;try{var de=P.stateNode;x?_v(de,!0):_v(P.stateNode,!1)}catch(Ve){Rt(P,P.return,Ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===o)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;d===i&&(d=null),i=i.return}d===i&&(d=null),i.sibling.return=i.return,i=i.sibling}p&4&&(p=o.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Vd(o,d))));break;case 19:qr(i,o),Wr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Vd(o,p)));break;case 30:break;case 21:break;default:qr(i,o),Wr(o)}}function Wr(o){var i=o.flags;if(i&2){try{for(var d,p=o.return;p!==null;){if(I1(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var x=d.stateNode,v=dm(o);$d(o,v,x);break;case 5:var k=d.stateNode;d.flags&32&&(Zo(k,""),d.flags&=-33);var O=dm(o);$d(o,O,k);break;case 3:case 4:var P=d.stateNode.containerInfo,re=dm(o);um(o,re,P);break;default:throw Error(n(161))}}catch(me){Rt(o,o.return,me)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function K1(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var i=o;K1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),o=o.sibling}}function Ts(o,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)V1(o,i.alternate,i),i=i.sibling}function mo(o){for(o=o.child;o!==null;){var i=o;switch(i.tag){case 0:case 11:case 14:case 15:da(4,i,i.return),mo(i);break;case 1:ns(i,i.return);var d=i.stateNode;typeof d.componentWillUnmount=="function"&&_1(i,i.return,d),mo(i);break;case 27:qi(i.stateNode);case 26:case 5:ns(i,i.return),mo(i);break;case 22:i.memoizedState===null&&mo(i);break;case 30:mo(i);break;default:mo(i)}o=o.sibling}}function Ms(o,i,d){for(d=d&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var p=i.alternate,x=o,v=i,k=v.flags;switch(v.tag){case 0:case 11:case 15:Ms(x,v,d),Li(4,v);break;case 1:if(Ms(x,v,d),p=v,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(re){Rt(p,p.return,re)}if(p=v,x=p.updateQueue,x!==null){var O=p.stateNode;try{var P=x.shared.hiddenCallbacks;if(P!==null)for(x.shared.hiddenCallbacks=null,x=0;x<P.length;x++)Cy(P[x],O)}catch(re){Rt(p,p.return,re)}}d&&k&64&&B1(v),Bi(v,v.return);break;case 27:H1(v);case 26:case 5:Ms(x,v,d),d&&p===null&&k&4&&P1(v),Bi(v,v.return);break;case 12:Ms(x,v,d);break;case 31:Ms(x,v,d),d&&k&4&&q1(x,v);break;case 13:Ms(x,v,d),d&&k&4&&W1(x,v);break;case 22:v.memoizedState===null&&Ms(x,v,d),Bi(v,v.return);break;case 30:break;default:Ms(x,v,d)}i=i.sibling}}function hm(o,i){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&Ni(d))}function pm(o,i){o=null,i.alternate!==null&&(o=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==o&&(i.refCount++,o!=null&&Ni(o))}function Vn(o,i,d,p){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Y1(o,i,d,p),i=i.sibling}function Y1(o,i,d,p){var x=i.flags;switch(i.tag){case 0:case 11:case 15:Vn(o,i,d,p),x&2048&&Li(9,i);break;case 1:Vn(o,i,d,p);break;case 3:Vn(o,i,d,p),x&2048&&(o=null,i.alternate!==null&&(o=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==o&&(i.refCount++,o!=null&&Ni(o)));break;case 12:if(x&2048){Vn(o,i,d,p),o=i.stateNode;try{var v=i.memoizedProps,k=v.id,O=v.onPostCommit;typeof O=="function"&&O(k,i.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(P){Rt(i,i.return,P)}}else Vn(o,i,d,p);break;case 31:Vn(o,i,d,p);break;case 13:Vn(o,i,d,p);break;case 23:break;case 22:v=i.stateNode,k=i.alternate,i.memoizedState!==null?v._visibility&2?Vn(o,i,d,p):_i(o,i):v._visibility&2?Vn(o,i,d,p):(v._visibility|=2,yl(o,i,d,p,(i.subtreeFlags&10256)!==0||!1)),x&2048&&hm(k,i);break;case 24:Vn(o,i,d,p),x&2048&&pm(i.alternate,i);break;default:Vn(o,i,d,p)}}function yl(o,i,d,p,x){for(x=x&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=o,k=i,O=d,P=p,re=k.flags;switch(k.tag){case 0:case 11:case 15:yl(v,k,O,P,x),Li(8,k);break;case 23:break;case 22:var me=k.stateNode;k.memoizedState!==null?me._visibility&2?yl(v,k,O,P,x):_i(v,k):(me._visibility|=2,yl(v,k,O,P,x)),x&&re&2048&&hm(k.alternate,k);break;case 24:yl(v,k,O,P,x),x&&re&2048&&pm(k.alternate,k);break;default:yl(v,k,O,P,x)}i=i.sibling}}function _i(o,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var d=o,p=i,x=p.flags;switch(p.tag){case 22:_i(d,p),x&2048&&hm(p.alternate,p);break;case 24:_i(d,p),x&2048&&pm(p.alternate,p);break;default:_i(d,p)}i=i.sibling}}var Pi=8192;function vl(o,i,d){if(o.subtreeFlags&Pi)for(o=o.child;o!==null;)J1(o,i,d),o=o.sibling}function J1(o,i,d){switch(o.tag){case 26:vl(o,i,d),o.flags&Pi&&o.memoizedState!==null&&E5(d,$n,o.memoizedState,o.memoizedProps);break;case 5:vl(o,i,d);break;case 3:case 4:var p=$n;$n=ru(o.stateNode.containerInfo),vl(o,i,d),$n=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=Pi,Pi=16777216,vl(o,i,d),Pi=p):vl(o,i,d));break;default:vl(o,i,d)}}function Q1(o){var i=o.alternate;if(i!==null&&(o=i.child,o!==null)){i.child=null;do i=o.sibling,o.sibling=null,o=i;while(o!==null)}}function Ii(o){var i=o.deletions;if((o.flags&16)!==0){if(i!==null)for(var d=0;d<i.length;d++){var p=i[d];pr=p,Z1(p,o)}Q1(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)X1(o),o=o.sibling}function X1(o){switch(o.tag){case 0:case 11:case 15:Ii(o),o.flags&2048&&da(9,o,o.return);break;case 3:Ii(o);break;case 12:Ii(o);break;case 22:var i=o.stateNode;o.memoizedState!==null&&i._visibility&2&&(o.return===null||o.return.tag!==13)?(i._visibility&=-3,Ud(o)):Ii(o);break;default:Ii(o)}}function Ud(o){var i=o.deletions;if((o.flags&16)!==0){if(i!==null)for(var d=0;d<i.length;d++){var p=i[d];pr=p,Z1(p,o)}Q1(o)}for(o=o.child;o!==null;){switch(i=o,i.tag){case 0:case 11:case 15:da(8,i,i.return),Ud(i);break;case 22:d=i.stateNode,d._visibility&2&&(d._visibility&=-3,Ud(i));break;default:Ud(i)}o=o.sibling}}function Z1(o,i){for(;pr!==null;){var d=pr;switch(d.tag){case 0:case 11:case 15:da(8,d,i);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Ni(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,pr=p;else e:for(d=o;pr!==null;){p=pr;var x=p.sibling,v=p.return;if(U1(p),p===d){pr=null;break e}if(x!==null){x.return=v,pr=x;break e}pr=v}}}var VC={getCacheForType:function(o){var i=vr(nr),d=i.data.get(o);return d===void 0&&(d=o(),i.data.set(o,d)),d},cacheSignal:function(){return vr(nr).controller.signal}},UC=typeof WeakMap=="function"?WeakMap:Map,Et=0,Pt=null,xt=null,yt=0,Ot=0,sn=null,ua=!1,jl=!1,mm=!1,Os=0,Qt=0,fa=0,go=0,gm=0,an=0,Nl=0,Hi=null,Gr=null,xm=!1,Fd=0,ev=0,qd=1/0,Wd=null,ha=null,dr=0,pa=null,wl=null,Rs=0,bm=0,ym=null,tv=null,$i=0,vm=null;function on(){return(Et&2)!==0&&yt!==0?yt&-yt:B.T!==null?km():we()}function rv(){if(an===0)if((yt&536870912)===0||jt){var o=tt;tt<<=1,(tt&3932160)===0&&(tt=262144),an=o}else an=536870912;return o=rn.current,o!==null&&(o.flags|=32),an}function Kr(o,i,d){(o===Pt&&(Ot===2||Ot===9)||o.cancelPendingCommit!==null)&&(Sl(o,0),ma(o,yt,an,!1)),Qa(o,d),((Et&2)===0||o!==Pt)&&(o===Pt&&((Et&2)===0&&(go|=d),Qt===4&&ma(o,yt,an,!1)),ss(o))}function nv(o,i,d){if((Et&6)!==0)throw Error(n(327));var p=!d&&(i&127)===0&&(i&o.expiredLanes)===0||bn(o,i),x=p?WC(o,i):Nm(o,i,!0),v=p;do{if(x===0){jl&&!p&&ma(o,i,0,!1);break}else{if(d=o.current.alternate,v&&!FC(d)){x=Nm(o,i,!1),v=!1;continue}if(x===2){if(v=i,o.errorRecoveryDisabledLanes&v)var k=0;else k=o.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){i=k;e:{var O=o;x=Hi;var P=O.current.memoizedState.isDehydrated;if(P&&(Sl(O,k).flags|=256),k=Nm(O,k,!1),k!==2){if(mm&&!P){O.errorRecoveryDisabledLanes|=v,go|=v,x=4;break e}v=Gr,Gr=x,v!==null&&(Gr===null?Gr=v:Gr.push.apply(Gr,v))}x=k}if(v=!1,x!==2)continue}}if(x===1){Sl(o,0),ma(o,i,0,!0);break}e:{switch(p=o,v=x,v){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:ma(p,i,an,!ua);break e;case 2:Gr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(x=Fd+300-Nt(),10<x)){if(ma(p,i,an,!ua),xn(p,0,!0)!==0)break e;Rs=i,p.timeoutHandle=zv(sv.bind(null,p,d,Gr,Wd,xm,i,an,go,Nl,ua,v,"Throttled",-0,0),x);break e}sv(p,d,Gr,Wd,xm,i,an,go,Nl,ua,v,null,-0,0)}}break}while(!0);ss(o)}function sv(o,i,d,p,x,v,k,O,P,re,me,ve,se,de){if(o.timeoutHandle=-1,ve=i.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xs},J1(i,v,ve);var Ve=(v&62914560)===v?Fd-Nt():(v&4194048)===v?ev-Nt():0;if(Ve=A5(ve,Ve),Ve!==null){Rs=v,o.cancelPendingCommit=Ve(fv.bind(null,o,i,v,d,p,x,k,O,P,me,ve,null,se,de)),ma(o,v,k,!re);return}}fv(o,i,v,d,p,x,k,O,P)}function FC(o){for(var i=o;;){var d=i.tag;if((d===0||d===11||d===15)&&i.flags&16384&&(d=i.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var x=d[p],v=x.getSnapshot;x=x.value;try{if(!en(v(),x))return!1}catch{return!1}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ma(o,i,d,p){i&=~gm,i&=~go,o.suspendedLanes|=i,o.pingedLanes&=~i,p&&(o.warmLanes|=i),p=o.expirationTimes;for(var x=i;0<x;){var v=31-Le(x),k=1<<v;p[v]=-1,x&=~k}d!==0&&ee(o,d,i)}function Gd(){return(Et&6)===0?(Vi(0),!1):!0}function jm(){if(xt!==null){if(Ot===0)var o=xt.return;else o=xt,js=oo=null,_p(o),pl=null,Si=0,o=xt;for(;o!==null;)L1(o.alternate,o),o=o.return;xt=null}}function Sl(o,i){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,d5(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),Rs=0,jm(),Pt=o,xt=d=ys(o.current,null),yt=i,Ot=0,sn=null,ua=!1,jl=bn(o,i),mm=!1,Nl=an=gm=go=fa=Qt=0,Gr=Hi=null,xm=!1,(i&8)!==0&&(i|=i&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=i;0<p;){var x=31-Le(p),v=1<<x;i|=o[x],p&=~v}return Os=i,pd(),d}function av(o,i){lt=null,B.H=Ri,i===hl||i===Nd?(i=jy(),Ot=3):i===Cp?(i=jy(),Ot=4):Ot=i===Zp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,sn=i,xt===null&&(Qt=1,Bd(o,wn(i,o.current)))}function ov(){var o=rn.current;return o===null?!0:(yt&4194048)===yt?En===null:(yt&62914560)===yt||(yt&536870912)!==0?o===En:!1}function lv(){var o=B.H;return B.H=Ri,o===null?Ri:o}function iv(){var o=B.A;return B.A=VC,o}function Kd(){Qt=4,ua||(yt&4194048)!==yt&&rn.current!==null||(jl=!0),(fa&134217727)===0&&(go&134217727)===0||Pt===null||ma(Pt,yt,an,!1)}function Nm(o,i,d){var p=Et;Et|=2;var x=lv(),v=iv();(Pt!==o||yt!==i)&&(Wd=null,Sl(o,i)),i=!1;var k=Qt;e:do try{if(Ot!==0&&xt!==null){var O=xt,P=sn;switch(Ot){case 8:jm(),k=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(i=!0);var re=Ot;if(Ot=0,sn=null,Cl(o,O,P,re),d&&jl){k=0;break e}break;default:re=Ot,Ot=0,sn=null,Cl(o,O,P,re)}}qC(),k=Qt;break}catch(me){av(o,me)}while(!0);return i&&o.shellSuspendCounter++,js=oo=null,Et=p,B.H=x,B.A=v,xt===null&&(Pt=null,yt=0,pd()),k}function qC(){for(;xt!==null;)cv(xt)}function WC(o,i){var d=Et;Et|=2;var p=lv(),x=iv();Pt!==o||yt!==i?(Wd=null,qd=Nt()+500,Sl(o,i)):jl=bn(o,i);e:do try{if(Ot!==0&&xt!==null){i=xt;var v=sn;t:switch(Ot){case 1:Ot=0,sn=null,Cl(o,i,v,1);break;case 2:case 9:if(yy(v)){Ot=0,sn=null,dv(i);break}i=function(){Ot!==2&&Ot!==9||Pt!==o||(Ot=7),ss(o)},v.then(i,i);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:yy(v)?(Ot=0,sn=null,dv(i)):(Ot=0,sn=null,Cl(o,i,v,7));break;case 5:var k=null;switch(xt.tag){case 26:k=xt.memoizedState;case 5:case 27:var O=xt;if(k?Yv(k):O.stateNode.complete){Ot=0,sn=null;var P=O.sibling;if(P!==null)xt=P;else{var re=O.return;re!==null?(xt=re,Yd(re)):xt=null}break t}}Ot=0,sn=null,Cl(o,i,v,5);break;case 6:Ot=0,sn=null,Cl(o,i,v,6);break;case 8:jm(),Qt=6;break e;default:throw Error(n(462))}}GC();break}catch(me){av(o,me)}while(!0);return js=oo=null,B.H=p,B.A=x,Et=d,xt!==null?0:(Pt=null,yt=0,pd(),Qt)}function GC(){for(;xt!==null&&!gt();)cv(xt)}function cv(o){var i=D1(o.alternate,o,Os);o.memoizedProps=o.pendingProps,i===null?Yd(o):xt=i}function dv(o){var i=o,d=i.alternate;switch(i.tag){case 15:case 0:i=E1(d,i,i.pendingProps,i.type,void 0,yt);break;case 11:i=E1(d,i,i.pendingProps,i.type.render,i.ref,yt);break;case 5:_p(i);default:L1(d,i),i=xt=iy(i,Os),i=D1(d,i,Os)}o.memoizedProps=o.pendingProps,i===null?Yd(o):xt=i}function Cl(o,i,d,p){js=oo=null,_p(i),pl=null,Si=0;var x=i.return;try{if(LC(o,x,i,d,yt)){Qt=1,Bd(o,wn(d,o.current)),xt=null;return}}catch(v){if(x!==null)throw xt=x,v;Qt=1,Bd(o,wn(d,o.current)),xt=null;return}i.flags&32768?(jt||p===1?o=!0:jl||(yt&536870912)!==0?o=!1:(ua=o=!0,(p===2||p===9||p===3||p===6)&&(p=rn.current,p!==null&&p.tag===13&&(p.flags|=16384))),uv(i,o)):Yd(i)}function Yd(o){var i=o;do{if((i.flags&32768)!==0){uv(i,ua);return}o=i.return;var d=PC(i.alternate,i,Os);if(d!==null){xt=d;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=o}while(i!==null);Qt===0&&(Qt=5)}function uv(o,i){do{var d=IC(o.alternate,o);if(d!==null){d.flags&=32767,xt=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!i&&(o=o.sibling,o!==null)){xt=o;return}xt=o=d}while(o!==null);Qt=6,xt=null}function fv(o,i,d,p,x,v,k,O,P){o.cancelPendingCommit=null;do Jd();while(dr!==0);if((Et&6)!==0)throw Error(n(327));if(i!==null){if(i===o.current)throw Error(n(177));if(v=i.lanes|i.childLanes,v|=dp,$h(o,d,v,k,O,P),o===Pt&&(xt=Pt=null,yt=0),wl=i,pa=o,Rs=d,bm=v,ym=x,tv=p,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,QC(Pe,function(){return xv(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,x=Z.p,Z.p=2,k=Et,Et|=4;try{HC(o,i,d)}finally{Et=k,Z.p=x,B.T=p}}dr=1,hv(),pv(),mv()}}function hv(){if(dr===1){dr=0;var o=pa,i=wl,d=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var p=Z.p;Z.p=2;var x=Et;Et|=4;try{G1(i,o);var v=zm,k=Zb(o.containerInfo),O=v.focusedElem,P=v.selectionRange;if(k!==O&&O&&O.ownerDocument&&Xb(O.ownerDocument.documentElement,O)){if(P!==null&&ap(O)){var re=P.start,me=P.end;if(me===void 0&&(me=re),"selectionStart"in O)O.selectionStart=re,O.selectionEnd=Math.min(me,O.value.length);else{var ve=O.ownerDocument||document,se=ve&&ve.defaultView||window;if(se.getSelection){var de=se.getSelection(),Ve=O.textContent.length,Xe=Math.min(P.start,Ve),Bt=P.end===void 0?Xe:Math.min(P.end,Ve);!de.extend&&Xe>Bt&&(k=Bt,Bt=Xe,Xe=k);var Q=Qb(O,Xe),F=Qb(O,Bt);if(Q&&F&&(de.rangeCount!==1||de.anchorNode!==Q.node||de.anchorOffset!==Q.offset||de.focusNode!==F.node||de.focusOffset!==F.offset)){var te=ve.createRange();te.setStart(Q.node,Q.offset),de.removeAllRanges(),Xe>Bt?(de.addRange(te),de.extend(F.node,F.offset)):(te.setEnd(F.node,F.offset),de.addRange(te))}}}}for(ve=[],de=O;de=de.parentNode;)de.nodeType===1&&ve.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ve.length;O++){var be=ve[O];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}iu=!!Dm,zm=Dm=null}finally{Et=x,Z.p=p,B.T=d}}o.current=i,dr=2}}function pv(){if(dr===2){dr=0;var o=pa,i=wl,d=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var p=Z.p;Z.p=2;var x=Et;Et|=4;try{V1(o,i.alternate,i)}finally{Et=x,Z.p=p,B.T=d}}dr=3}}function mv(){if(dr===4||dr===3){dr=0,gn();var o=pa,i=wl,d=Rs,p=tv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dr=5:(dr=0,wl=pa=null,gv(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(ha=null),xe(d),i=i.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}if(p!==null){i=B.T,x=Z.p,Z.p=2,B.T=null;try{for(var v=o.onRecoverableError,k=0;k<p.length;k++){var O=p[k];v(O.value,{componentStack:O.stack})}}finally{B.T=i,Z.p=x}}(Rs&3)!==0&&Jd(),ss(o),x=o.pendingLanes,(d&261930)!==0&&(x&42)!==0?o===vm?$i++:($i=0,vm=o):$i=0,Vi(0)}}function gv(o,i){(o.pooledCacheLanes&=i)===0&&(i=o.pooledCache,i!=null&&(o.pooledCache=null,Ni(i)))}function Jd(){return hv(),pv(),mv(),xv()}function xv(){if(dr!==5)return!1;var o=pa,i=bm;bm=0;var d=xe(Rs),p=B.T,x=Z.p;try{Z.p=32>d?32:d,B.T=null,d=ym,ym=null;var v=pa,k=Rs;if(dr=0,wl=pa=null,Rs=0,(Et&6)!==0)throw Error(n(331));var O=Et;if(Et|=4,X1(v.current),Y1(v,v.current,k,d),Et=O,Vi(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(ae,v)}catch{}return!0}finally{Z.p=x,B.T=p,gv(o,i)}}function bv(o,i,d){i=wn(d,i),i=Xp(o.stateNode,i,2),o=la(o,i,2),o!==null&&(Qa(o,2),ss(o))}function Rt(o,i,d){if(o.tag===3)bv(o,o,d);else for(;i!==null;){if(i.tag===3){bv(i,o,d);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ha===null||!ha.has(p))){o=wn(d,o),d=y1(2),p=la(i,d,2),p!==null&&(v1(d,p,i,o),Qa(p,2),ss(p));break}}i=i.return}}function wm(o,i,d){var p=o.pingCache;if(p===null){p=o.pingCache=new UC;var x=new Set;p.set(i,x)}else x=p.get(i),x===void 0&&(x=new Set,p.set(i,x));x.has(d)||(mm=!0,x.add(d),o=KC.bind(null,o,i,d),i.then(o,o))}function KC(o,i,d){var p=o.pingCache;p!==null&&p.delete(i),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Pt===o&&(yt&d)===d&&(Qt===4||Qt===3&&(yt&62914560)===yt&&300>Nt()-Fd?(Et&2)===0&&Sl(o,0):gm|=d,Nl===yt&&(Nl=0)),ss(o)}function yv(o,i){i===0&&(i=rd()),o=no(o,i),o!==null&&(Qa(o,i),ss(o))}function YC(o){var i=o.memoizedState,d=0;i!==null&&(d=i.retryLane),yv(o,d)}function JC(o,i){var d=0;switch(o.tag){case 31:case 13:var p=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(i),yv(o,d)}function QC(o,i){return mt(o,i)}var Qd=null,kl=null,Sm=!1,Xd=!1,Cm=!1,ga=0;function ss(o){o!==kl&&o.next===null&&(kl===null?Qd=kl=o:kl=kl.next=o),Xd=!0,Sm||(Sm=!0,ZC())}function Vi(o,i){if(!Cm&&Xd){Cm=!0;do for(var d=!1,p=Qd;p!==null;){if(o!==0){var x=p.pendingLanes;if(x===0)var v=0;else{var k=p.suspendedLanes,O=p.pingedLanes;v=(1<<31-Le(42|o)+1)-1,v&=x&~(k&~O),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(d=!0,wv(p,v))}else v=yt,v=xn(p,p===Pt?v:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(v&3)===0||bn(p,v)||(d=!0,wv(p,v));p=p.next}while(d);Cm=!1}}function XC(){vv()}function vv(){Xd=Sm=!1;var o=0;ga!==0&&c5()&&(o=ga);for(var i=Nt(),d=null,p=Qd;p!==null;){var x=p.next,v=jv(p,i);v===0?(p.next=null,d===null?Qd=x:d.next=x,x===null&&(kl=d)):(d=p,(o!==0||(v&3)!==0)&&(Xd=!0)),p=x}dr!==0&&dr!==5||Vi(o),ga!==0&&(ga=0)}function jv(o,i){for(var d=o.suspendedLanes,p=o.pingedLanes,x=o.expirationTimes,v=o.pendingLanes&-62914561;0<v;){var k=31-Le(v),O=1<<k,P=x[k];P===-1?((O&d)===0||(O&p)!==0)&&(x[k]=Hh(O,i)):P<=i&&(o.expiredLanes|=O),v&=~O}if(i=Pt,d=yt,d=xn(o,o===i?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,d===0||o===i&&(Ot===2||Ot===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Mr(p),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||bn(o,d)){if(i=d&-d,i===o.callbackPriority)return i;switch(p!==null&&Mr(p),xe(d)){case 2:case 8:d=je;break;case 32:d=Pe;break;case 268435456:d=ne;break;default:d=Pe}return p=Nv.bind(null,o),d=mt(d,p),o.callbackPriority=i,o.callbackNode=d,i}return p!==null&&p!==null&&Mr(p),o.callbackPriority=2,o.callbackNode=null,2}function Nv(o,i){if(dr!==0&&dr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(Jd()&&o.callbackNode!==d)return null;var p=yt;return p=xn(o,o===Pt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(nv(o,p,i),jv(o,Nt()),o.callbackNode!=null&&o.callbackNode===d?Nv.bind(null,o):null)}function wv(o,i){if(Jd())return null;nv(o,i,!0)}function ZC(){u5(function(){(Et&6)!==0?mt(oe,XC):vv()})}function km(){if(ga===0){var o=ul;o===0&&(o=at,at<<=1,(at&261888)===0&&(at=256)),ga=o}return ga}function Sv(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:od(""+o)}function Cv(o,i){var d=i.ownerDocument.createElement("input");return d.name=i.name,d.value=i.value,o.id&&d.setAttribute("form",o.id),i.parentNode.insertBefore(d,i),o=new FormData(o),d.parentNode.removeChild(d),o}function e5(o,i,d,p,x){if(i==="submit"&&d&&d.stateNode===x){var v=Sv((x[et]||null).action),k=p.submitter;k&&(i=(i=k[et]||null)?Sv(i.formAction):k.getAttribute("formAction"),i!==null&&(v=i,k=null));var O=new dd("action","action",null,p,x);o.push({event:O,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ga!==0){var P=k?Cv(x,k):new FormData(x);Wp(d,{pending:!0,data:P,method:x.method,action:v},null,P)}}else typeof v=="function"&&(O.preventDefault(),P=k?Cv(x,k):new FormData(x),Wp(d,{pending:!0,data:P,method:x.method,action:v},v,P))},currentTarget:x}]})}}for(var Em=0;Em<cp.length;Em++){var Am=cp[Em],t5=Am.toLowerCase(),r5=Am[0].toUpperCase()+Am.slice(1);Hn(t5,"on"+r5)}Hn(ry,"onAnimationEnd"),Hn(ny,"onAnimationIteration"),Hn(sy,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(bC,"onTransitionRun"),Hn(yC,"onTransitionStart"),Hn(vC,"onTransitionCancel"),Hn(ay,"onTransitionEnd"),Qo("onMouseEnter",["mouseout","mouseover"]),Qo("onMouseLeave",["mouseout","mouseover"]),Qo("onPointerEnter",["pointerout","pointerover"]),Qo("onPointerLeave",["pointerout","pointerover"]),Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Za("onBeforeInput",["compositionend","keypress","textInput","paste"]),Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ui));function kv(o,i){i=(i&4)!==0;for(var d=0;d<o.length;d++){var p=o[d],x=p.event;p=p.listeners;e:{var v=void 0;if(i)for(var k=p.length-1;0<=k;k--){var O=p[k],P=O.instance,re=O.currentTarget;if(O=O.listener,P!==v&&x.isPropagationStopped())break e;v=O,x.currentTarget=re;try{v(x)}catch(me){hd(me)}x.currentTarget=null,v=P}else for(k=0;k<p.length;k++){if(O=p[k],P=O.instance,re=O.currentTarget,O=O.listener,P!==v&&x.isPropagationStopped())break e;v=O,x.currentTarget=re;try{v(x)}catch(me){hd(me)}x.currentTarget=null,v=P}}}}function bt(o,i){var d=i[_t];d===void 0&&(d=i[_t]=new Set);var p=o+"__bubble";d.has(p)||(Ev(i,o,2,!1),d.add(p))}function Tm(o,i,d){var p=0;i&&(p|=4),Ev(d,o,p,i)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function Mm(o){if(!o[Zd]){o[Zd]=!0,vb.forEach(function(d){d!=="selectionchange"&&(n5.has(d)||Tm(d,!1,o),Tm(d,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[Zd]||(i[Zd]=!0,Tm("selectionchange",!1,i))}}function Ev(o,i,d,p){switch(r2(i)){case 2:var x=O5;break;case 8:x=R5;break;default:x=qm}d=x.bind(null,i,d,o),x=void 0,!Jh||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),p?x!==void 0?o.addEventListener(i,d,{capture:!0,passive:x}):o.addEventListener(i,d,!0):x!==void 0?o.addEventListener(i,d,{passive:x}):o.addEventListener(i,d,!1)}function Om(o,i,d,p,x){var v=p;if((i&1)===0&&(i&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var O=p.stateNode.containerInfo;if(O===x)break;if(k===4)for(k=p.return;k!==null;){var P=k.tag;if((P===3||P===4)&&k.stateNode.containerInfo===x)return;k=k.return}for(;O!==null;){if(k=Ko(O),k===null)return;if(P=k.tag,P===5||P===6||P===26||P===27){p=v=k;continue e}O=O.parentNode}}p=p.return}Rb(function(){var re=v,me=Kh(d),ve=[];e:{var se=oy.get(o);if(se!==void 0){var de=dd,Ve=o;switch(o){case"keypress":if(id(d)===0)break e;case"keydown":case"keyup":de=JS;break;case"focusin":Ve="focus",de=ep;break;case"focusout":Ve="blur",de=ep;break;case"beforeblur":case"afterblur":de=ep;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Lb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=PS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=ZS;break;case ry:case ny:case sy:de=$S;break;case ay:de=tC;break;case"scroll":case"scrollend":de=BS;break;case"wheel":de=nC;break;case"copy":case"cut":case"paste":de=US;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=_b;break;case"toggle":case"beforetoggle":de=aC}var Xe=(i&4)!==0,Bt=!Xe&&(o==="scroll"||o==="scrollend"),Q=Xe?se!==null?se+"Capture":null:se;Xe=[];for(var F=re,te;F!==null;){var be=F;if(te=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||te===null||Q===null||(be=ui(F,Q),be!=null&&Xe.push(Fi(F,be,te))),Bt)break;F=F.return}0<Xe.length&&(se=new de(se,Ve,null,d,me),ve.push({event:se,listeners:Xe}))}}if((i&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",de=o==="mouseout"||o==="pointerout",se&&d!==Gh&&(Ve=d.relatedTarget||d.fromElement)&&(Ko(Ve)||Ve[Fe]))break e;if((de||se)&&(se=me.window===me?me:(se=me.ownerDocument)?se.defaultView||se.parentWindow:window,de?(Ve=d.relatedTarget||d.toElement,de=re,Ve=Ve?Ko(Ve):null,Ve!==null&&(Bt=l(Ve),Xe=Ve.tag,Ve!==Bt||Xe!==5&&Xe!==27&&Xe!==6)&&(Ve=null)):(de=null,Ve=re),de!==Ve)){if(Xe=Lb,be="onMouseLeave",Q="onMouseEnter",F="mouse",(o==="pointerout"||o==="pointerover")&&(Xe=_b,be="onPointerLeave",Q="onPointerEnter",F="pointer"),Bt=de==null?se:di(de),te=Ve==null?se:di(Ve),se=new Xe(be,F+"leave",de,d,me),se.target=Bt,se.relatedTarget=te,be=null,Ko(me)===re&&(Xe=new Xe(Q,F+"enter",Ve,d,me),Xe.target=te,Xe.relatedTarget=Bt,be=Xe),Bt=be,de&&Ve)t:{for(Xe=s5,Q=de,F=Ve,te=0,be=Q;be;be=Xe(be))te++;be=0;for(var Ke=F;Ke;Ke=Xe(Ke))be++;for(;0<te-be;)Q=Xe(Q),te--;for(;0<be-te;)F=Xe(F),be--;for(;te--;){if(Q===F||F!==null&&Q===F.alternate){Xe=Q;break t}Q=Xe(Q),F=Xe(F)}Xe=null}else Xe=null;de!==null&&Av(ve,se,de,Xe,!1),Ve!==null&&Bt!==null&&Av(ve,Bt,Ve,Xe,!0)}}e:{if(se=re?di(re):window,de=se.nodeName&&se.nodeName.toLowerCase(),de==="select"||de==="input"&&se.type==="file")var St=qb;else if(Ub(se))if(Wb)St=mC;else{St=hC;var qe=fC}else de=se.nodeName,!de||de.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?re&&Wh(re.elementType)&&(St=qb):St=pC;if(St&&(St=St(o,re))){Fb(ve,St,d,me);break e}qe&&qe(o,se,re),o==="focusout"&&re&&se.type==="number"&&re.memoizedProps.value!=null&&qh(se,"number",se.value)}switch(qe=re?di(re):window,o){case"focusin":(Ub(qe)||qe.contentEditable==="true")&&(nl=qe,op=re,yi=null);break;case"focusout":yi=op=nl=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,ey(ve,d,me);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":ey(ve,d,me)}var dt;if(rp)e:{switch(o){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else rl?$b(o,d)&&(vt="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(vt="onCompositionStart");vt&&(Pb&&d.locale!=="ko"&&(rl||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&rl&&(dt=Db()):(ea=me,Qh="value"in ea?ea.value:ea.textContent,rl=!0)),qe=eu(re,vt),0<qe.length&&(vt=new Bb(vt,o,null,d,me),ve.push({event:vt,listeners:qe}),dt?vt.data=dt:(dt=Vb(d),dt!==null&&(vt.data=dt)))),(dt=lC?iC(o,d):cC(o,d))&&(vt=eu(re,"onBeforeInput"),0<vt.length&&(qe=new Bb("onBeforeInput","beforeinput",null,d,me),ve.push({event:qe,listeners:vt}),qe.data=dt)),e5(ve,o,re,d,me)}kv(ve,i)})}function Fi(o,i,d){return{instance:o,listener:i,currentTarget:d}}function eu(o,i){for(var d=i+"Capture",p=[];o!==null;){var x=o,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=ui(o,d),x!=null&&p.unshift(Fi(o,x,v)),x=ui(o,i),x!=null&&p.push(Fi(o,x,v))),o.tag===3)return p;o=o.return}return[]}function s5(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Av(o,i,d,p,x){for(var v=i._reactName,k=[];d!==null&&d!==p;){var O=d,P=O.alternate,re=O.stateNode;if(O=O.tag,P!==null&&P===p)break;O!==5&&O!==26&&O!==27||re===null||(P=re,x?(re=ui(d,v),re!=null&&k.unshift(Fi(d,re,P))):x||(re=ui(d,v),re!=null&&k.push(Fi(d,re,P)))),d=d.return}k.length!==0&&o.push({event:i,listeners:k})}var a5=/\r\n?/g,o5=/\u0000|\uFFFD/g;function Tv(o){return(typeof o=="string"?o:""+o).replace(a5,`
`).replace(o5,"")}function Mv(o,i){return i=Tv(i),Tv(o)===i}function Lt(o,i,d,p,x,v){switch(d){case"children":typeof p=="string"?i==="body"||i==="textarea"&&p===""||Zo(o,p):(typeof p=="number"||typeof p=="bigint")&&i!=="body"&&Zo(o,""+p);break;case"className":sd(o,"class",p);break;case"tabIndex":sd(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":sd(o,d,p);break;case"style":Mb(o,p,v);break;case"data":if(i!=="object"){sd(o,"data",p);break}case"src":case"href":if(p===""&&(i!=="a"||d!=="href")){o.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=od(""+p),o.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(d==="formAction"?(i!=="input"&&Lt(o,i,"name",x.name,x,null),Lt(o,i,"formEncType",x.formEncType,x,null),Lt(o,i,"formMethod",x.formMethod,x,null),Lt(o,i,"formTarget",x.formTarget,x,null)):(Lt(o,i,"encType",x.encType,x,null),Lt(o,i,"method",x.method,x,null),Lt(o,i,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=od(""+p),o.setAttribute(d,p);break;case"onClick":p!=null&&(o.onclick=xs);break;case"onScroll":p!=null&&bt("scroll",o);break;case"onScrollEnd":p!=null&&bt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(x.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}d=od(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""+p):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":p===!0?o.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,p):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(d,p):o.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(d):o.setAttribute(d,p);break;case"popover":bt("beforetoggle",o),bt("toggle",o),nd(o,"popover",p);break;case"xlinkActuate":gs(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":gs(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":gs(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":gs(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":gs(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":gs(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":gs(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":gs(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":gs(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":nd(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=zS.get(d)||d,nd(o,d,p))}}function Rm(o,i,d,p,x,v){switch(d){case"style":Mb(o,p,v);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(x.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"children":typeof p=="string"?Zo(o,p):(typeof p=="number"||typeof p=="bigint")&&Zo(o,""+p);break;case"onScroll":p!=null&&bt("scroll",o);break;case"onScrollEnd":p!=null&&bt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jb.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),i=d.slice(2,x?d.length-7:void 0),v=o[et]||null,v=v!=null?v[d]:null,typeof v=="function"&&o.removeEventListener(i,v,x),typeof p=="function")){typeof v!="function"&&v!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(i,p,x);break e}d in o?o[d]=p:p===!0?o.setAttribute(d,""):nd(o,d,p)}}}function Nr(o,i,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",o),bt("load",o);var p=!1,x=!1,v;for(v in d)if(d.hasOwnProperty(v)){var k=d[v];if(k!=null)switch(v){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Lt(o,i,v,k,d,null)}}x&&Lt(o,i,"srcSet",d.srcSet,d,null),p&&Lt(o,i,"src",d.src,d,null);return;case"input":bt("invalid",o);var O=v=k=x=null,P=null,re=null;for(p in d)if(d.hasOwnProperty(p)){var me=d[p];if(me!=null)switch(p){case"name":x=me;break;case"type":k=me;break;case"checked":P=me;break;case"defaultChecked":re=me;break;case"value":v=me;break;case"defaultValue":O=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,i));break;default:Lt(o,i,p,me,d,null)}}kb(o,v,O,P,re,k,x,!1);return;case"select":bt("invalid",o),p=k=v=null;for(x in d)if(d.hasOwnProperty(x)&&(O=d[x],O!=null))switch(x){case"value":v=O;break;case"defaultValue":k=O;break;case"multiple":p=O;default:Lt(o,i,x,O,d,null)}i=v,d=k,o.multiple=!!p,i!=null?Xo(o,!!p,i,!1):d!=null&&Xo(o,!!p,d,!0);return;case"textarea":bt("invalid",o),v=x=p=null;for(k in d)if(d.hasOwnProperty(k)&&(O=d[k],O!=null))switch(k){case"value":p=O;break;case"defaultValue":x=O;break;case"children":v=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:Lt(o,i,k,O,d,null)}Ab(o,p,x,v);return;case"option":for(P in d)if(d.hasOwnProperty(P)&&(p=d[P],p!=null))switch(P){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Lt(o,i,P,p,d,null)}return;case"dialog":bt("beforetoggle",o),bt("toggle",o),bt("cancel",o),bt("close",o);break;case"iframe":case"object":bt("load",o);break;case"video":case"audio":for(p=0;p<Ui.length;p++)bt(Ui[p],o);break;case"image":bt("error",o),bt("load",o);break;case"details":bt("toggle",o);break;case"embed":case"source":case"link":bt("error",o),bt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in d)if(d.hasOwnProperty(re)&&(p=d[re],p!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Lt(o,i,re,p,d,null)}return;default:if(Wh(i)){for(me in d)d.hasOwnProperty(me)&&(p=d[me],p!==void 0&&Rm(o,i,me,p,d,void 0));return}}for(O in d)d.hasOwnProperty(O)&&(p=d[O],p!=null&&Lt(o,i,O,p,d,null))}function l5(o,i,d,p){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,k=null,O=null,P=null,re=null,me=null;for(de in d){var ve=d[de];if(d.hasOwnProperty(de)&&ve!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":P=ve;default:p.hasOwnProperty(de)||Lt(o,i,de,null,p,ve)}}for(var se in p){var de=p[se];if(ve=d[se],p.hasOwnProperty(se)&&(de!=null||ve!=null))switch(se){case"type":v=de;break;case"name":x=de;break;case"checked":re=de;break;case"defaultChecked":me=de;break;case"value":k=de;break;case"defaultValue":O=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,i));break;default:de!==ve&&Lt(o,i,se,de,p,ve)}}Fh(o,k,O,P,re,me,v,x);return;case"select":de=k=O=se=null;for(v in d)if(P=d[v],d.hasOwnProperty(v)&&P!=null)switch(v){case"value":break;case"multiple":de=P;default:p.hasOwnProperty(v)||Lt(o,i,v,null,p,P)}for(x in p)if(v=p[x],P=d[x],p.hasOwnProperty(x)&&(v!=null||P!=null))switch(x){case"value":se=v;break;case"defaultValue":O=v;break;case"multiple":k=v;default:v!==P&&Lt(o,i,x,v,p,P)}i=O,d=k,p=de,se!=null?Xo(o,!!d,se,!1):!!p!=!!d&&(i!=null?Xo(o,!!d,i,!0):Xo(o,!!d,d?[]:"",!1));return;case"textarea":de=se=null;for(O in d)if(x=d[O],d.hasOwnProperty(O)&&x!=null&&!p.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Lt(o,i,O,null,p,x)}for(k in p)if(x=p[k],v=d[k],p.hasOwnProperty(k)&&(x!=null||v!=null))switch(k){case"value":se=x;break;case"defaultValue":de=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==v&&Lt(o,i,k,x,p,v)}Eb(o,se,de);return;case"option":for(var Ve in d)if(se=d[Ve],d.hasOwnProperty(Ve)&&se!=null&&!p.hasOwnProperty(Ve))switch(Ve){case"selected":o.selected=!1;break;default:Lt(o,i,Ve,null,p,se)}for(P in p)if(se=p[P],de=d[P],p.hasOwnProperty(P)&&se!==de&&(se!=null||de!=null))switch(P){case"selected":o.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Lt(o,i,P,se,p,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in d)se=d[Xe],d.hasOwnProperty(Xe)&&se!=null&&!p.hasOwnProperty(Xe)&&Lt(o,i,Xe,null,p,se);for(re in p)if(se=p[re],de=d[re],p.hasOwnProperty(re)&&se!==de&&(se!=null||de!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,i));break;default:Lt(o,i,re,se,p,de)}return;default:if(Wh(i)){for(var Bt in d)se=d[Bt],d.hasOwnProperty(Bt)&&se!==void 0&&!p.hasOwnProperty(Bt)&&Rm(o,i,Bt,void 0,p,se);for(me in p)se=p[me],de=d[me],!p.hasOwnProperty(me)||se===de||se===void 0&&de===void 0||Rm(o,i,me,se,p,de);return}}for(var Q in d)se=d[Q],d.hasOwnProperty(Q)&&se!=null&&!p.hasOwnProperty(Q)&&Lt(o,i,Q,null,p,se);for(ve in p)se=p[ve],de=d[ve],!p.hasOwnProperty(ve)||se===de||se==null&&de==null||Lt(o,i,ve,se,p,de)}function Ov(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function i5(){if(typeof performance.getEntriesByType=="function"){for(var o=0,i=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var x=d[p],v=x.transferSize,k=x.initiatorType,O=x.duration;if(v&&O&&Ov(k)){for(k=0,O=x.responseEnd,p+=1;p<d.length;p++){var P=d[p],re=P.startTime;if(re>O)break;var me=P.transferSize,ve=P.initiatorType;me&&Ov(ve)&&(P=P.responseEnd,k+=me*(P<O?1:(O-re)/(P-re)))}if(--p,i+=8*(v+k)/(x.duration/1e3),o++,10<o)break}}if(0<o)return i/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Dm=null,zm=null;function tu(o){return o.nodeType===9?o:o.ownerDocument}function Rv(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dv(o,i){if(o===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&i==="foreignObject"?0:o}function Lm(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bm=null;function c5(){var o=window.event;return o&&o.type==="popstate"?o===Bm?!1:(Bm=o,!0):(Bm=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,d5=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,u5=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(o){return Lv.resolve(null).then(o).catch(f5)}:zv;function f5(o){setTimeout(function(){throw o})}function xa(o){return o==="head"}function Bv(o,i){var d=i,p=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(p===0){o.removeChild(x),Ml(i);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")qi(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,qi(d);for(var v=d.firstChild;v;){var k=v.nextSibling,O=v.nodeName;v[ci]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&v.rel.toLowerCase()==="stylesheet"||d.removeChild(v),v=k}}else d==="body"&&qi(o.ownerDocument.body);d=x}while(d);Ml(i)}function _v(o,i){var d=o;o=0;do{var p=d.nextSibling;if(d.nodeType===1?i?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(i?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=p}while(d)}function _m(o){var i=o.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var d=i;switch(i=i.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":_m(d),Vh(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function h5(o,i,d,p){for(;o.nodeType===1;){var x=d;if(o.nodeName.toLowerCase()!==i.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[ci])switch(i){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(v=o.getAttribute("rel"),v==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(v!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(v=o.getAttribute("src"),(v!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(i==="input"&&o.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===v)return o}else return o;if(o=An(o.nextSibling),o===null)break}return null}function p5(o,i,d){if(i==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=An(o.nextSibling),o===null))return null;return o}function Pv(o,i){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!i||(o=An(o.nextSibling),o===null))return null;return o}function Pm(o){return o.data==="$?"||o.data==="$~"}function Im(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function m5(o,i){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=i;else if(o.data!=="$?"||d.readyState!=="loading")i();else{var p=function(){i(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function An(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return o}var Hm=null;function Iv(o){o=o.nextSibling;for(var i=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(i===0)return An(o.nextSibling);i--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||i++}o=o.nextSibling}return null}function Hv(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(i===0)return o;i--}else d!=="/$"&&d!=="/&"||i++}o=o.previousSibling}return null}function $v(o,i,d){switch(i=tu(d),o){case"html":if(o=i.documentElement,!o)throw Error(n(452));return o;case"head":if(o=i.head,!o)throw Error(n(453));return o;case"body":if(o=i.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function qi(o){for(var i=o.attributes;i.length;)o.removeAttributeNode(i[0]);Vh(o)}var Tn=new Map,Vv=new Set;function ru(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ds=Z.d;Z.d={f:g5,r:x5,D:b5,C:y5,L:v5,m:j5,X:w5,S:N5,M:S5};function g5(){var o=Ds.f(),i=Gd();return o||i}function x5(o){var i=Yo(o);i!==null&&i.tag===5&&i.type==="form"?a1(i):Ds.r(o)}var El=typeof document>"u"?null:document;function Uv(o,i,d){var p=El;if(p&&typeof i=="string"&&i){var x=jn(i);x='link[rel="'+o+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),Vv.has(x)||(Vv.add(x),o={rel:o,crossOrigin:d,href:i},p.querySelector(x)===null&&(i=p.createElement("link"),Nr(i,"link",o),hr(i),p.head.appendChild(i)))}}function b5(o){Ds.D(o),Uv("dns-prefetch",o,null)}function y5(o,i){Ds.C(o,i),Uv("preconnect",o,i)}function v5(o,i,d){Ds.L(o,i,d);var p=El;if(p&&o&&i){var x='link[rel="preload"][as="'+jn(i)+'"]';i==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+jn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+jn(d.imageSizes)+'"]')):x+='[href="'+jn(o)+'"]';var v=x;switch(i){case"style":v=Al(o);break;case"script":v=Tl(o)}Tn.has(v)||(o=g({rel:"preload",href:i==="image"&&d&&d.imageSrcSet?void 0:o,as:i},d),Tn.set(v,o),p.querySelector(x)!==null||i==="style"&&p.querySelector(Wi(v))||i==="script"&&p.querySelector(Gi(v))||(i=p.createElement("link"),Nr(i,"link",o),hr(i),p.head.appendChild(i)))}}function j5(o,i){Ds.m(o,i);var d=El;if(d&&o){var p=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+jn(p)+'"][href="'+jn(o)+'"]',v=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Tl(o)}if(!Tn.has(v)&&(o=g({rel:"modulepreload",href:o},i),Tn.set(v,o),d.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Gi(v)))return}p=d.createElement("link"),Nr(p,"link",o),hr(p),d.head.appendChild(p)}}}function N5(o,i,d){Ds.S(o,i,d);var p=El;if(p&&o){var x=Jo(p).hoistableStyles,v=Al(o);i=i||"default";var k=x.get(v);if(!k){var O={loading:0,preload:null};if(k=p.querySelector(Wi(v)))O.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":i},d),(d=Tn.get(v))&&$m(o,d);var P=k=p.createElement("link");hr(P),Nr(P,"link",o),P._p=new Promise(function(re,me){P.onload=re,P.onerror=me}),P.addEventListener("load",function(){O.loading|=1}),P.addEventListener("error",function(){O.loading|=2}),O.loading|=4,nu(k,i,p)}k={type:"stylesheet",instance:k,count:1,state:O},x.set(v,k)}}}function w5(o,i){Ds.X(o,i);var d=El;if(d&&o){var p=Jo(d).hoistableScripts,x=Tl(o),v=p.get(x);v||(v=d.querySelector(Gi(x)),v||(o=g({src:o,async:!0},i),(i=Tn.get(x))&&Vm(o,i),v=d.createElement("script"),hr(v),Nr(v,"link",o),d.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(x,v))}}function S5(o,i){Ds.M(o,i);var d=El;if(d&&o){var p=Jo(d).hoistableScripts,x=Tl(o),v=p.get(x);v||(v=d.querySelector(Gi(x)),v||(o=g({src:o,async:!0,type:"module"},i),(i=Tn.get(x))&&Vm(o,i),v=d.createElement("script"),hr(v),Nr(v,"link",o),d.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(x,v))}}function Fv(o,i,d,p){var x=(x=Me.current)?ru(x):null;if(!x)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(i=Al(d.href),d=Jo(x).hoistableStyles,p=d.get(i),p||(p={type:"style",instance:null,count:0,state:null},d.set(i,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Al(d.href);var v=Jo(x).hoistableStyles,k=v.get(o);if(k||(x=x.ownerDocument||x,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(o,k),(v=x.querySelector(Wi(o)))&&!v._p&&(k.instance=v,k.state.loading=5),Tn.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Tn.set(o,d),v||C5(x,o,d,k.state))),i&&p===null)throw Error(n(528,""));return k}if(i&&p!==null)throw Error(n(529,""));return null;case"script":return i=d.async,d=d.src,typeof d=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Tl(d),d=Jo(x).hoistableScripts,p=d.get(i),p||(p={type:"script",instance:null,count:0,state:null},d.set(i,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Al(o){return'href="'+jn(o)+'"'}function Wi(o){return'link[rel="stylesheet"]['+o+"]"}function qv(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function C5(o,i,d,p){o.querySelector('link[rel="preload"][as="style"]['+i+"]")?p.loading=1:(i=o.createElement("link"),p.preload=i,i.addEventListener("load",function(){return p.loading|=1}),i.addEventListener("error",function(){return p.loading|=2}),Nr(i,"link",d),hr(i),o.head.appendChild(i))}function Tl(o){return'[src="'+jn(o)+'"]'}function Gi(o){return"script[async]"+o}function Wv(o,i,d){if(i.count++,i.instance===null)switch(i.type){case"style":var p=o.querySelector('style[data-href~="'+jn(d.href)+'"]');if(p)return i.instance=p,hr(p),p;var x=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),hr(p),Nr(p,"style",x),nu(p,d.precedence,o),i.instance=p;case"stylesheet":x=Al(d.href);var v=o.querySelector(Wi(x));if(v)return i.state.loading|=4,i.instance=v,hr(v),v;p=qv(d),(x=Tn.get(x))&&$m(p,x),v=(o.ownerDocument||o).createElement("link"),hr(v);var k=v;return k._p=new Promise(function(O,P){k.onload=O,k.onerror=P}),Nr(v,"link",p),i.state.loading|=4,nu(v,d.precedence,o),i.instance=v;case"script":return v=Tl(d.src),(x=o.querySelector(Gi(v)))?(i.instance=x,hr(x),x):(p=d,(x=Tn.get(v))&&(p=g({},d),Vm(p,x)),o=o.ownerDocument||o,x=o.createElement("script"),hr(x),Nr(x,"link",p),o.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(p=i.instance,i.state.loading|=4,nu(p,d.precedence,o));return i.instance}function nu(o,i,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,v=x,k=0;k<p.length;k++){var O=p[k];if(O.dataset.precedence===i)v=O;else if(v!==x)break}v?v.parentNode.insertBefore(o,v.nextSibling):(i=d.nodeType===9?d.head:d,i.insertBefore(o,i.firstChild))}function $m(o,i){o.crossOrigin==null&&(o.crossOrigin=i.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=i.referrerPolicy),o.title==null&&(o.title=i.title)}function Vm(o,i){o.crossOrigin==null&&(o.crossOrigin=i.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=i.referrerPolicy),o.integrity==null&&(o.integrity=i.integrity)}var su=null;function Gv(o,i,d){if(su===null){var p=new Map,x=su=new Map;x.set(d,p)}else x=su,p=x.get(d),p||(p=new Map,x.set(d,p));if(p.has(o))return p;for(p.set(o,null),d=d.getElementsByTagName(o),x=0;x<d.length;x++){var v=d[x];if(!(v[ci]||v[Oe]||o==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var k=v.getAttribute(i)||"";k=o+k;var O=p.get(k);O?O.push(v):p.set(k,[v])}}return p}function Kv(o,i,d){o=o.ownerDocument||o,o.head.insertBefore(d,i==="title"?o.querySelector("head > title"):null)}function k5(o,i,d){if(d===1||i.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return o=i.disabled,typeof i.precedence=="string"&&o==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Yv(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function E5(o,i,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=Al(p.href),v=i.querySelector(Wi(x));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(o.count++,o=au.bind(o),i.then(o,o)),d.state.loading|=4,d.instance=v,hr(v);return}v=i.ownerDocument||i,p=qv(p),(x=Tn.get(x))&&$m(p,x),v=v.createElement("link"),hr(v);var k=v;k._p=new Promise(function(O,P){k.onload=O,k.onerror=P}),Nr(v,"link",p),d.instance=v}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,i),(i=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=au.bind(o),i.addEventListener("load",d),i.addEventListener("error",d))}}var Um=0;function A5(o,i){return o.stylesheets&&o.count===0&&lu(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var p=setTimeout(function(){if(o.stylesheets&&lu(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4+i);0<o.imgBytes&&Um===0&&(Um=62500*i5());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&lu(o,o.stylesheets),o.unsuspend)){var v=o.unsuspend;o.unsuspend=null,v()}},(o.imgBytes>Um?50:800)+i);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(x)}}:null}function au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lu(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var ou=null;function lu(o,i){o.stylesheets=null,o.unsuspend!==null&&(o.count++,ou=new Map,i.forEach(T5,o),ou=null,au.call(o))}function T5(o,i){if(!(i.state.loading&4)){var d=ou.get(o);if(d)var p=d.get(null);else{d=new Map,ou.set(o,d);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var k=x[v];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),p=k)}p&&d.set(null,p)}x=i.instance,k=x.getAttribute("data-precedence"),v=d.get(k)||p,v===p&&d.set(null,x),d.set(k,x),this.count++,p=au.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),v?v.parentNode.insertBefore(x,v.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),i.state.loading|=4}}var Ki={$$typeof:E,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function M5(o,i,d,p,x,v,k,O,P){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Jv(o,i,d,p,x,v,k,O,P,re,me,ve){return o=new M5(o,i,d,k,P,re,me,ve,O),i=1,v===!0&&(i|=24),v=tn(3,null,null,i),o.current=v,v.stateNode=o,i=Np(),i.refCount++,o.pooledCache=i,i.refCount++,v.memoizedState={element:p,isDehydrated:d,cache:i},kp(v),o}function Qv(o){return o?(o=ol,o):ol}function Xv(o,i,d,p,x,v){x=Qv(x),p.context===null?p.context=x:p.pendingContext=x,p=oa(i),p.payload={element:d},v=v===void 0?null:v,v!==null&&(p.callback=v),d=la(o,p,i),d!==null&&(Kr(d,o,i),ki(d,o,i))}function Zv(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<i?d:i}}function Fm(o,i){Zv(o,i),(o=o.alternate)&&Zv(o,i)}function e2(o){if(o.tag===13||o.tag===31){var i=no(o,67108864);i!==null&&Kr(i,o,67108864),Fm(o,67108864)}}function t2(o){if(o.tag===13||o.tag===31){var i=on();i=Be(i);var d=no(o,i);d!==null&&Kr(d,o,i),Fm(o,i)}}var iu=!0;function O5(o,i,d,p){var x=B.T;B.T=null;var v=Z.p;try{Z.p=2,qm(o,i,d,p)}finally{Z.p=v,B.T=x}}function R5(o,i,d,p){var x=B.T;B.T=null;var v=Z.p;try{Z.p=8,qm(o,i,d,p)}finally{Z.p=v,B.T=x}}function qm(o,i,d,p){if(iu){var x=Wm(p);if(x===null)Om(o,i,p,cu,d),n2(o,p);else if(z5(x,o,i,d,p))p.stopPropagation();else if(n2(o,p),i&4&&-1<D5.indexOf(o)){for(;x!==null;){var v=Yo(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var k=Mt(v.pendingLanes);if(k!==0){var O=v;for(O.pendingLanes|=2,O.entangledLanes|=2;k;){var P=1<<31-Le(k);O.entanglements[1]|=P,k&=~P}ss(v),(Et&6)===0&&(qd=Nt()+500,Vi(0))}}break;case 31:case 13:O=no(v,2),O!==null&&Kr(O,v,2),Gd(),Fm(v,2)}if(v=Wm(p),v===null&&Om(o,i,p,cu,d),v===x)break;x=v}x!==null&&p.stopPropagation()}else Om(o,i,p,null,d)}}function Wm(o){return o=Kh(o),Gm(o)}var cu=null;function Gm(o){if(cu=null,o=Ko(o),o!==null){var i=l(o);if(i===null)o=null;else{var d=i.tag;if(d===13){if(o=c(i),o!==null)return o;o=null}else if(d===31){if(o=u(i),o!==null)return o;o=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return cu=o,null}function r2(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(In()){case oe:return 2;case je:return 8;case Pe:case Ze:return 32;case ne:return 268435456;default:return 32}default:return 32}}var Km=!1,ba=null,ya=null,va=null,Yi=new Map,Ji=new Map,ja=[],D5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n2(o,i){switch(o){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Yi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(i.pointerId)}}function Qi(o,i,d,p,x,v){return o===null||o.nativeEvent!==v?(o={blockedOn:i,domEventName:d,eventSystemFlags:p,nativeEvent:v,targetContainers:[x]},i!==null&&(i=Yo(i),i!==null&&e2(i)),o):(o.eventSystemFlags|=p,i=o.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),o)}function z5(o,i,d,p,x){switch(i){case"focusin":return ba=Qi(ba,o,i,d,p,x),!0;case"dragenter":return ya=Qi(ya,o,i,d,p,x),!0;case"mouseover":return va=Qi(va,o,i,d,p,x),!0;case"pointerover":var v=x.pointerId;return Yi.set(v,Qi(Yi.get(v)||null,o,i,d,p,x)),!0;case"gotpointercapture":return v=x.pointerId,Ji.set(v,Qi(Ji.get(v)||null,o,i,d,p,x)),!0}return!1}function s2(o){var i=Ko(o.target);if(i!==null){var d=l(i);if(d!==null){if(i=d.tag,i===13){if(i=c(d),i!==null){o.blockedOn=i,We(o.priority,function(){t2(d)});return}}else if(i===31){if(i=u(d),i!==null){o.blockedOn=i,We(o.priority,function(){t2(d)});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function du(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var d=Wm(o.nativeEvent);if(d===null){d=o.nativeEvent;var p=new d.constructor(d.type,d);Gh=p,d.target.dispatchEvent(p),Gh=null}else return i=Yo(d),i!==null&&e2(i),o.blockedOn=d,!1;i.shift()}return!0}function a2(o,i,d){du(o)&&d.delete(i)}function L5(){Km=!1,ba!==null&&du(ba)&&(ba=null),ya!==null&&du(ya)&&(ya=null),va!==null&&du(va)&&(va=null),Yi.forEach(a2),Ji.forEach(a2)}function uu(o,i){o.blockedOn===i&&(o.blockedOn=null,Km||(Km=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,L5)))}var fu=null;function o2(o){fu!==o&&(fu=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fu===o&&(fu=null);for(var i=0;i<o.length;i+=3){var d=o[i],p=o[i+1],x=o[i+2];if(typeof p!="function"){if(Gm(p||d)===null)continue;break}var v=Yo(d);v!==null&&(o.splice(i,3),i-=3,Wp(v,{pending:!0,data:x,method:d.method,action:p},p,x))}}))}function Ml(o){function i(P){return uu(P,o)}ba!==null&&uu(ba,o),ya!==null&&uu(ya,o),va!==null&&uu(va,o),Yi.forEach(i),Ji.forEach(i);for(var d=0;d<ja.length;d++){var p=ja[d];p.blockedOn===o&&(p.blockedOn=null)}for(;0<ja.length&&(d=ja[0],d.blockedOn===null);)s2(d),d.blockedOn===null&&ja.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var x=d[p],v=d[p+1],k=x[et]||null;if(typeof v=="function")k||o2(d);else if(k){var O=null;if(v&&v.hasAttribute("formAction")){if(x=v,k=v[et]||null)O=k.formAction;else if(Gm(x)!==null)continue}else O=k.action;typeof O=="function"?d[p+1]=O:(d.splice(p,3),p-=3),o2(d)}}}function l2(){function o(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(k){return x=k})},focusReset:"manual",scroll:"manual"})}function i(){x!==null&&(x(),x=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),x!==null&&(x(),x=null)}}}function Ym(o){this._internalRoot=o}hu.prototype.render=Ym.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(n(409));var d=i.current,p=on();Xv(d,p,o,i,null,null)},hu.prototype.unmount=Ym.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;Xv(o.current,2,null,o,null,null),Gd(),i[Fe]=null}};function hu(o){this._internalRoot=o}hu.prototype.unstable_scheduleHydration=function(o){if(o){var i=we();o={blockedOn:null,target:o,priority:i};for(var d=0;d<ja.length&&i!==0&&i<ja[d].priority;d++);ja.splice(d,0,o),d===0&&s2(o)}};var i2=t.version;if(i2!=="19.2.0")throw Error(n(527,i2,"19.2.0"));Z.findDOMNode=function(o){var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=h(i),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var B5={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{ae=pu.inject(B5),Te=pu}catch{}}return Zi.createRoot=function(o,i){if(!a(o))throw Error(n(299));var d=!1,p="",x=m1,v=g1,k=x1;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(k=i.onRecoverableError)),i=Jv(o,1,!1,null,null,d,p,null,x,v,k,l2),o[Fe]=i.current,Mm(o),new Ym(i)},Zi.hydrateRoot=function(o,i,d){if(!a(o))throw Error(n(299));var p=!1,x="",v=m1,k=g1,O=x1,P=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(v=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(O=d.onRecoverableError),d.formState!==void 0&&(P=d.formState)),i=Jv(o,1,!0,i,d??null,p,x,P,v,k,O,l2),i.context=Qv(null),d=i.current,p=on(),p=Be(p),x=oa(p),x.callback=null,la(d,x,p),d=p,i.current.lanes=d,Qa(i,d),ss(i),o[Fe]=i.current,Mm(o),new hu(i)},Zi.version="19.2.0",Zi}var b2;function q5(){if(b2)return Xm.exports;b2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xm.exports=F5(),Xm.exports}var W5=q5();function aj(e,t){return function(){return e.apply(t,arguments)}}const{toString:G5}=Object.prototype,{getPrototypeOf:t0}=Object,{iterator:sh,toStringTag:oj}=Symbol,ah=(e=>t=>{const r=G5.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=e=>(e=e.toLowerCase(),t=>ah(t)===e),oh=e=>t=>typeof t===e,{isArray:ti}=Array,Ul=oh("undefined");function Vc(e){return e!==null&&!Ul(e)&&e.constructor!==null&&!Ul(e.constructor)&&Qr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lj=Xn("ArrayBuffer");function K5(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&lj(e.buffer),t}const Y5=oh("string"),Qr=oh("function"),ij=oh("number"),Uc=e=>e!==null&&typeof e=="object",J5=e=>e===!0||e===!1,_u=e=>{if(ah(e)!=="object")return!1;const t=t0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(oj in e)&&!(sh in e)},Q5=e=>{if(!Uc(e)||Vc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},X5=Xn("Date"),Z5=Xn("File"),ek=Xn("Blob"),tk=Xn("FileList"),rk=e=>Uc(e)&&Qr(e.pipe),nk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Qr(e.append)&&((t=ah(e))==="formdata"||t==="object"&&Qr(e.toString)&&e.toString()==="[object FormData]"))},sk=Xn("URLSearchParams"),[ak,ok,lk,ik]=["ReadableStream","Request","Response","Headers"].map(Xn),ck=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),ti(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Vc(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let u;for(n=0;n<c;n++)u=l[n],t.call(null,e[u],u,e)}}function cj(e,t){if(Vc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dj=e=>!Ul(e)&&e!==jo;function Zg(){const{caseless:e,skipUndefined:t}=dj(this)&&this||{},r={},n=(a,l)=>{const c=e&&cj(r,l)||l;_u(r[c])&&_u(a)?r[c]=Zg(r[c],a):_u(a)?r[c]=Zg({},a):ti(a)?r[c]=a.slice():(!t||!Ul(a))&&(r[c]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Fc(arguments[a],n);return r}const dk=(e,t,r,{allOwnKeys:n}={})=>(Fc(t,(a,l)=>{r&&Qr(a)?e[l]=aj(a,r):e[l]=a},{allOwnKeys:n}),e),uk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fk=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},hk=(e,t,r,n)=>{let a,l,c;const u={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)c=a[l],(!n||n(c,e,t))&&!u[c]&&(t[c]=e[c],u[c]=!0);e=r!==!1&&t0(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},pk=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},mk=e=>{if(!e)return null;if(ti(e))return e;let t=e.length;if(!ij(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},gk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&t0(Uint8Array)),xk=(e,t)=>{const n=(e&&e[sh]).call(e);let a;for(;(a=n.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},bk=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},yk=Xn("HTMLFormElement"),vk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),y2=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),jk=Xn("RegExp"),uj=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Fc(r,(a,l)=>{let c;(c=t(a,l,e))!==!1&&(n[l]=c||a)}),Object.defineProperties(e,n)},Nk=e=>{uj(e,(t,r)=>{if(Qr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Qr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},wk=(e,t)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return ti(e)?n(e):n(String(e).split(t)),r},Sk=()=>{},Ck=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function kk(e){return!!(e&&Qr(e.append)&&e[oj]==="FormData"&&e[sh])}const Ek=e=>{const t=new Array(10),r=(n,a)=>{if(Uc(n)){if(t.indexOf(n)>=0)return;if(Vc(n))return n;if(!("toJSON"in n)){t[a]=n;const l=ti(n)?[]:{};return Fc(n,(c,u)=>{const f=r(c,a+1);!Ul(f)&&(l[u]=f)}),t[a]=void 0,l}}return n};return r(e,0)},Ak=Xn("AsyncFunction"),Tk=e=>e&&(Uc(e)||Qr(e))&&Qr(e.then)&&Qr(e.catch),fj=((e,t)=>e?setImmediate:t?((r,n)=>(jo.addEventListener("message",({source:a,data:l})=>{a===jo&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),jo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Qr(jo.postMessage)),Mk=typeof queueMicrotask<"u"?queueMicrotask.bind(jo):typeof process<"u"&&process.nextTick||fj,Ok=e=>e!=null&&Qr(e[sh]),le={isArray:ti,isArrayBuffer:lj,isBuffer:Vc,isFormData:nk,isArrayBufferView:K5,isString:Y5,isNumber:ij,isBoolean:J5,isObject:Uc,isPlainObject:_u,isEmptyObject:Q5,isReadableStream:ak,isRequest:ok,isResponse:lk,isHeaders:ik,isUndefined:Ul,isDate:X5,isFile:Z5,isBlob:ek,isRegExp:jk,isFunction:Qr,isStream:rk,isURLSearchParams:sk,isTypedArray:gk,isFileList:tk,forEach:Fc,merge:Zg,extend:dk,trim:ck,stripBOM:uk,inherits:fk,toFlatObject:hk,kindOf:ah,kindOfTest:Xn,endsWith:pk,toArray:mk,forEachEntry:xk,matchAll:bk,isHTMLForm:yk,hasOwnProperty:y2,hasOwnProp:y2,reduceDescriptors:uj,freezeMethods:Nk,toObjectSet:wk,toCamelCase:vk,noop:Sk,toFiniteNumber:Ck,findKey:cj,global:jo,isContextDefined:dj,isSpecCompliantForm:kk,toJSONObject:Ek,isAsyncFn:Ak,isThenable:Tk,setImmediate:fj,asap:Mk,isIterable:Ok};function it(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}le.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}});const hj=it.prototype,pj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{pj[e]={value:e}});Object.defineProperties(it,pj);Object.defineProperty(hj,"isAxiosError",{value:!0});it.from=(e,t,r,n,a,l)=>{const c=Object.create(hj);le.toFlatObject(e,c,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const u=e&&e.message?e.message:"Error",f=t==null&&e?e.code:t;return it.call(c,u,f,r,n,a),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",l&&Object.assign(c,l),c};const Rk=null;function ex(e){return le.isPlainObject(e)||le.isArray(e)}function mj(e){return le.endsWith(e,"[]")?e.slice(0,-2):e}function v2(e,t,r){return e?e.concat(t).map(function(a,l){return a=mj(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function Dk(e){return le.isArray(e)&&!e.some(ex)}const zk=le.toFlatObject(le,{},null,function(t){return/^is[A-Z]/.test(t)});function lh(e,t,r){if(!le.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=le.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!le.isUndefined(S[w])});const n=r.metaTokens,a=r.visitor||m,l=r.dots,c=r.indexes,f=(r.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(t);if(!le.isFunction(a))throw new TypeError("visitor must be a function");function h(j){if(j===null)return"";if(le.isDate(j))return j.toISOString();if(le.isBoolean(j))return j.toString();if(!f&&le.isBlob(j))throw new it("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(j)||le.isTypedArray(j)?f&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function m(j,w,S){let N=j;if(j&&!S&&typeof j=="object"){if(le.endsWith(w,"{}"))w=n?w:w.slice(0,-2),j=JSON.stringify(j);else if(le.isArray(j)&&Dk(j)||(le.isFileList(j)||le.endsWith(w,"[]"))&&(N=le.toArray(j)))return w=mj(w),N.forEach(function(E,M){!(le.isUndefined(E)||E===null)&&t.append(c===!0?v2([w],M,l):c===null?w:w+"[]",h(E))}),!1}return ex(j)?!0:(t.append(v2(S,w,l),h(j)),!1)}const g=[],b=Object.assign(zk,{defaultVisitor:m,convertValue:h,isVisitable:ex});function y(j,w){if(!le.isUndefined(j)){if(g.indexOf(j)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(j),le.forEach(j,function(N,A){(!(le.isUndefined(N)||N===null)&&a.call(t,N,le.isString(A)?A.trim():A,w,b))===!0&&y(N,w?w.concat(A):[A])}),g.pop()}}if(!le.isObject(e))throw new TypeError("data must be an object");return y(e),t}function j2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function r0(e,t){this._pairs=[],e&&lh(e,this,t)}const gj=r0.prototype;gj.append=function(t,r){this._pairs.push([t,r])};gj.toString=function(t){const r=t?function(n){return t.call(this,n,j2)}:j2;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Lk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xj(e,t,r){if(!t)return e;const n=r&&r.encode||Lk;le.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(t,r):l=le.isURLSearchParams(t)?t.toString():new r0(t,r).toString(n),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class N2{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){le.forEach(this.handlers,function(n){n!==null&&t(n)})}}const bj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bk=typeof URLSearchParams<"u"?URLSearchParams:r0,_k=typeof FormData<"u"?FormData:null,Pk=typeof Blob<"u"?Blob:null,Ik={isBrowser:!0,classes:{URLSearchParams:Bk,FormData:_k,Blob:Pk},protocols:["http","https","file","blob","url","data"]},n0=typeof window<"u"&&typeof document<"u",tx=typeof navigator=="object"&&navigator||void 0,Hk=n0&&(!tx||["ReactNative","NativeScript","NS"].indexOf(tx.product)<0),$k=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vk=n0&&window.location.href||"http://localhost",Uk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:n0,hasStandardBrowserEnv:Hk,hasStandardBrowserWebWorkerEnv:$k,navigator:tx,origin:Vk},Symbol.toStringTag,{value:"Module"})),zr={...Uk,...Ik};function Fk(e,t){return lh(e,new zr.classes.URLSearchParams,{visitor:function(r,n,a,l){return zr.isNode&&le.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function qk(e){return le.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Wk(e){const t={},r=Object.keys(e);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],t[l]=e[l];return t}function yj(e){function t(r,n,a,l){let c=r[l++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),f=l>=r.length;return c=!c&&le.isArray(a)?a.length:c,f?(le.hasOwnProp(a,c)?a[c]=[a[c],n]:a[c]=n,!u):((!a[c]||!le.isObject(a[c]))&&(a[c]=[]),t(r,n,a[c],l)&&le.isArray(a[c])&&(a[c]=Wk(a[c])),!u)}if(le.isFormData(e)&&le.isFunction(e.entries)){const r={};return le.forEachEntry(e,(n,a)=>{t(qk(n),a,r,0)}),r}return null}function Gk(e,t,r){if(le.isString(e))try{return(t||JSON.parse)(e),le.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const qc={transitional:bj,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=le.isObject(t);if(l&&le.isHTMLForm(t)&&(t=new FormData(t)),le.isFormData(t))return a?JSON.stringify(yj(t)):t;if(le.isArrayBuffer(t)||le.isBuffer(t)||le.isStream(t)||le.isFile(t)||le.isBlob(t)||le.isReadableStream(t))return t;if(le.isArrayBufferView(t))return t.buffer;if(le.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Fk(t,this.formSerializer).toString();if((u=le.isFileList(t))||n.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return lh(u?{"files[]":t}:t,f&&new f,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),Gk(t)):t}],transformResponse:[function(t){const r=this.transitional||qc.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(le.isResponse(t)||le.isReadableStream(t))return t;if(t&&le.isString(t)&&(n&&!this.responseType||a)){const c=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?it.from(u,it.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zr.classes.FormData,Blob:zr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],e=>{qc.headers[e]={}});const Kk=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yk=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(c){a=c.indexOf(":"),r=c.substring(0,a).trim().toLowerCase(),n=c.substring(a+1).trim(),!(!r||t[r]&&Kk[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},w2=Symbol("internals");function ec(e){return e&&String(e).trim().toLowerCase()}function Pu(e){return e===!1||e==null?e:le.isArray(e)?e.map(Pu):String(e)}function Jk(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Qk=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function rg(e,t,r,n,a){if(le.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!le.isString(t)){if(le.isString(n))return t.indexOf(n)!==-1;if(le.isRegExp(n))return n.test(t)}}function Xk(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Zk(e,t){const r=le.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,l,c){return this[n].call(this,t,a,l,c)},configurable:!0})})}let Xr=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function l(u,f,h){const m=ec(f);if(!m)throw new Error("header name must be a non-empty string");const g=le.findKey(a,m);(!g||a[g]===void 0||h===!0||h===void 0&&a[g]!==!1)&&(a[g||f]=Pu(u))}const c=(u,f)=>le.forEach(u,(h,m)=>l(h,m,f));if(le.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(le.isString(t)&&(t=t.trim())&&!Qk(t))c(Yk(t),r);else if(le.isObject(t)&&le.isIterable(t)){let u={},f,h;for(const m of t){if(!le.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[h=m[0]]=(f=u[h])?le.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}c(u,r)}else t!=null&&l(r,t,n);return this}get(t,r){if(t=ec(t),t){const n=le.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Jk(a);if(le.isFunction(r))return r.call(this,a,n);if(le.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ec(t),t){const n=le.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||rg(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function l(c){if(c=ec(c),c){const u=le.findKey(n,c);u&&(!r||rg(n,n[u],u,r))&&(delete n[u],a=!0)}}return le.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!t||rg(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,n={};return le.forEach(this,(a,l)=>{const c=le.findKey(n,l);if(c){r[c]=Pu(a),delete r[l];return}const u=t?Xk(l):String(l).trim();u!==l&&delete r[l],r[u]=Pu(a),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return le.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&le.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[w2]=this[w2]={accessors:{}}).accessors,a=this.prototype;function l(c){const u=ec(c);n[u]||(Zk(a,c),n[u]=!0)}return le.isArray(t)?t.forEach(l):l(t),this}};Xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(Xr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});le.freezeMethods(Xr);function ng(e,t){const r=this||qc,n=t||r,a=Xr.from(n.headers);let l=n.data;return le.forEach(e,function(u){l=u.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function vj(e){return!!(e&&e.__CANCEL__)}function ri(e,t,r){it.call(this,e??"canceled",it.ERR_CANCELED,t,r),this.name="CanceledError"}le.inherits(ri,it,{__CANCEL__:!0});function jj(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new it("Request failed with status code "+r.status,[it.ERR_BAD_REQUEST,it.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function e8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function t8(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,l=0,c;return t=t!==void 0?t:1e3,function(f){const h=Date.now(),m=n[l];c||(c=h),r[a]=f,n[a]=h;let g=l,b=0;for(;g!==a;)b+=r[g++],g=g%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),h-c<t)return;const y=m&&h-m;return y?Math.round(b*1e3/y):void 0}}function r8(e,t){let r=0,n=1e3/t,a,l;const c=(h,m=Date.now())=>{r=m,a=null,l&&(clearTimeout(l),l=null),e(...h)};return[(...h)=>{const m=Date.now(),g=m-r;g>=n?c(h,m):(a=h,l||(l=setTimeout(()=>{l=null,c(a)},n-g)))},()=>a&&c(a)]}const Xu=(e,t,r=3)=>{let n=0;const a=t8(50,250);return r8(l=>{const c=l.loaded,u=l.lengthComputable?l.total:void 0,f=c-n,h=a(f),m=c<=u;n=c;const g={loaded:c,total:u,progress:u?c/u:void 0,bytes:f,rate:h||void 0,estimated:h&&u&&m?(u-c)/h:void 0,event:l,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(g)},r)},S2=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},C2=e=>(...t)=>le.asap(()=>e(...t)),n8=zr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,zr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(zr.origin),zr.navigator&&/(msie|trident)/i.test(zr.navigator.userAgent)):()=>!0,s8=zr.hasStandardBrowserEnv?{write(e,t,r,n,a,l,c){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];le.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),le.isString(n)&&u.push(`path=${n}`),le.isString(a)&&u.push(`domain=${a}`),l===!0&&u.push("secure"),le.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function a8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function o8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Nj(e,t,r){let n=!a8(t);return e&&(n||r==!1)?o8(e,t):t}const k2=e=>e instanceof Xr?{...e}:e;function Lo(e,t){t=t||{};const r={};function n(h,m,g,b){return le.isPlainObject(h)&&le.isPlainObject(m)?le.merge.call({caseless:b},h,m):le.isPlainObject(m)?le.merge({},m):le.isArray(m)?m.slice():m}function a(h,m,g,b){if(le.isUndefined(m)){if(!le.isUndefined(h))return n(void 0,h,g,b)}else return n(h,m,g,b)}function l(h,m){if(!le.isUndefined(m))return n(void 0,m)}function c(h,m){if(le.isUndefined(m)){if(!le.isUndefined(h))return n(void 0,h)}else return n(void 0,m)}function u(h,m,g){if(g in t)return n(h,m);if(g in e)return n(void 0,h)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,m,g)=>a(k2(h),k2(m),g,!0)};return le.forEach(Object.keys({...e,...t}),function(m){const g=f[m]||a,b=g(e[m],t[m],m);le.isUndefined(b)&&g!==u||(r[m]=b)}),r}const wj=e=>{const t=Lo({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:u}=t;if(t.headers=c=Xr.from(c),t.url=xj(Nj(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),le.isFormData(r)){if(zr.hasStandardBrowserEnv||zr.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(le.isFunction(r.getHeaders)){const f=r.getHeaders(),h=["content-type","content-length"];Object.entries(f).forEach(([m,g])=>{h.includes(m.toLowerCase())&&c.set(m,g)})}}if(zr.hasStandardBrowserEnv&&(n&&le.isFunction(n)&&(n=n(t)),n||n!==!1&&n8(t.url))){const f=a&&l&&s8.read(l);f&&c.set(a,f)}return t},l8=typeof XMLHttpRequest<"u",i8=l8&&function(e){return new Promise(function(r,n){const a=wj(e);let l=a.data;const c=Xr.from(a.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:h}=a,m,g,b,y,j;function w(){y&&y(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function N(){if(!S)return;const E=Xr.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),T={data:!u||u==="text"||u==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:E,config:e,request:S};jj(function(R){r(R),w()},function(R){n(R),w()},T),S=null}"onloadend"in S?S.onloadend=N:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(N)},S.onabort=function(){S&&(n(new it("Request aborted",it.ECONNABORTED,e,S)),S=null)},S.onerror=function(M){const T=M&&M.message?M.message:"Network Error",D=new it(T,it.ERR_NETWORK,e,S);D.event=M||null,n(D),S=null},S.ontimeout=function(){let M=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const T=a.transitional||bj;a.timeoutErrorMessage&&(M=a.timeoutErrorMessage),n(new it(M,T.clarifyTimeoutError?it.ETIMEDOUT:it.ECONNABORTED,e,S)),S=null},l===void 0&&c.setContentType(null),"setRequestHeader"in S&&le.forEach(c.toJSON(),function(M,T){S.setRequestHeader(T,M)}),le.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),u&&u!=="json"&&(S.responseType=a.responseType),h&&([b,j]=Xu(h,!0),S.addEventListener("progress",b)),f&&S.upload&&([g,y]=Xu(f),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(m=E=>{S&&(n(!E||E.type?new ri(null,e,S):E),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const A=e8(a.url);if(A&&zr.protocols.indexOf(A)===-1){n(new it("Unsupported protocol "+A+":",it.ERR_BAD_REQUEST,e));return}S.send(l||null)})},c8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const l=function(h){if(!a){a=!0,u();const m=h instanceof Error?h:this.reason;n.abort(m instanceof it?m:new ri(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,l(new it(`timeout ${t} of ms exceeded`,it.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(l):h.removeEventListener("abort",l)}),e=null)};e.forEach(h=>h.addEventListener("abort",l));const{signal:f}=n;return f.unsubscribe=()=>le.asap(u),f}},d8=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},u8=async function*(e,t){for await(const r of f8(e))yield*d8(r,t)},f8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},E2=(e,t,r,n)=>{const a=u8(e,t);let l=0,c,u=f=>{c||(c=!0,n&&n(f))};return new ReadableStream({async pull(f){try{const{done:h,value:m}=await a.next();if(h){u(),f.close();return}let g=m.byteLength;if(r){let b=l+=g;r(b)}f.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(f){return u(f),a.return()}},{highWaterMark:2})},A2=64*1024,{isFunction:mu}=le,h8=(({Request:e,Response:t})=>({Request:e,Response:t}))(le.global),{ReadableStream:T2,TextEncoder:M2}=le.global,O2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},p8=e=>{e=le.merge.call({skipUndefined:!0},h8,e);const{fetch:t,Request:r,Response:n}=e,a=t?mu(t):typeof fetch=="function",l=mu(r),c=mu(n);if(!a)return!1;const u=a&&mu(T2),f=a&&(typeof M2=="function"?(j=>w=>j.encode(w))(new M2):async j=>new Uint8Array(await new r(j).arrayBuffer())),h=l&&u&&O2(()=>{let j=!1;const w=new r(zr.origin,{body:new T2,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!w}),m=c&&u&&O2(()=>le.isReadableStream(new n("").body)),g={stream:m&&(j=>j.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!g[j]&&(g[j]=(w,S)=>{let N=w&&w[j];if(N)return N.call(w);throw new it(`Response type '${j}' is not supported`,it.ERR_NOT_SUPPORT,S)})});const b=async j=>{if(j==null)return 0;if(le.isBlob(j))return j.size;if(le.isSpecCompliantForm(j))return(await new r(zr.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(le.isArrayBufferView(j)||le.isArrayBuffer(j))return j.byteLength;if(le.isURLSearchParams(j)&&(j=j+""),le.isString(j))return(await f(j)).byteLength},y=async(j,w)=>{const S=le.toFiniteNumber(j.getContentLength());return S??b(w)};return async j=>{let{url:w,method:S,data:N,signal:A,cancelToken:E,timeout:M,onDownloadProgress:T,onUploadProgress:D,responseType:R,headers:q,withCredentials:K="same-origin",fetchOptions:W}=wj(j),V=t||fetch;R=R?(R+"").toLowerCase():"text";let Y=c8([A,E&&E.toAbortSignal()],M),$=null;const I=Y&&Y.unsubscribe&&(()=>{Y.unsubscribe()});let ie;try{if(D&&h&&S!=="get"&&S!=="head"&&(ie=await y(q,N))!==0){let z=new r(w,{method:"POST",body:N,duplex:"half"}),X;if(le.isFormData(N)&&(X=z.headers.get("content-type"))&&q.setContentType(X),z.body){const[G,ce]=S2(ie,Xu(C2(D)));N=E2(z.body,A2,G,ce)}}le.isString(K)||(K=K?"include":"omit");const B=l&&"credentials"in r.prototype,Z={...W,signal:Y,method:S.toUpperCase(),headers:q.normalize().toJSON(),body:N,duplex:"half",credentials:B?K:void 0};$=l&&new r(w,Z);let ue=await(l?V($,W):V(w,Z));const _=m&&(R==="stream"||R==="response");if(m&&(T||_&&I)){const z={};["status","statusText","headers"].forEach(ke=>{z[ke]=ue[ke]});const X=le.toFiniteNumber(ue.headers.get("content-length")),[G,ce]=T&&S2(X,Xu(C2(T),!0))||[];ue=new n(E2(ue.body,A2,G,()=>{ce&&ce(),I&&I()}),z)}R=R||"text";let fe=await g[le.findKey(g,R)||"text"](ue,j);return!_&&I&&I(),await new Promise((z,X)=>{jj(z,X,{data:fe,headers:Xr.from(ue.headers),status:ue.status,statusText:ue.statusText,config:j,request:$})})}catch(B){throw I&&I(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new it("Network Error",it.ERR_NETWORK,j,$),{cause:B.cause||B}):it.from(B,B&&B.code,j,$)}}},m8=new Map,Sj=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,l=[n,a,r];let c=l.length,u=c,f,h,m=m8;for(;u--;)f=l[u],h=m.get(f),h===void 0&&m.set(f,h=u?new Map:p8(t)),m=h;return h};Sj();const s0={http:Rk,xhr:i8,fetch:{get:Sj}};le.forEach(s0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const R2=e=>`- ${e}`,g8=e=>le.isFunction(e)||e===null||e===!1;function x8(e,t){e=le.isArray(e)?e:[e];const{length:r}=e;let n,a;const l={};for(let c=0;c<r;c++){n=e[c];let u;if(a=n,!g8(n)&&(a=s0[(u=String(n)).toLowerCase()],a===void 0))throw new it(`Unknown adapter '${u}'`);if(a&&(le.isFunction(a)||(a=a.get(t))))break;l[u||"#"+c]=a}if(!a){const c=Object.entries(l).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=r?c.length>1?`since :
`+c.map(R2).join(`
`):" "+R2(c[0]):"as no adapter specified";throw new it("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return a}const Cj={getAdapter:x8,adapters:s0};function sg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ri(null,e)}function D2(e){return sg(e),e.headers=Xr.from(e.headers),e.data=ng.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Cj.getAdapter(e.adapter||qc.adapter,e)(e).then(function(n){return sg(e),n.data=ng.call(e,e.transformResponse,n),n.headers=Xr.from(n.headers),n},function(n){return vj(n)||(sg(e),n&&n.response&&(n.response.data=ng.call(e,e.transformResponse,n.response),n.response.headers=Xr.from(n.response.headers))),Promise.reject(n)})}const kj="1.13.2",ih={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ih[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const z2={};ih.transitional=function(t,r,n){function a(l,c){return"[Axios v"+kj+"] Transitional option '"+l+"'"+c+(n?". "+n:"")}return(l,c,u)=>{if(t===!1)throw new it(a(c," has been removed"+(r?" in "+r:"")),it.ERR_DEPRECATED);return r&&!z2[c]&&(z2[c]=!0,console.warn(a(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,c,u):!0}};ih.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function b8(e,t,r){if(typeof e!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const l=n[a],c=t[l];if(c){const u=e[l],f=u===void 0||c(u,l,e);if(f!==!0)throw new it("option "+l+" must be "+f,it.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new it("Unknown option "+l,it.ERR_BAD_OPTION)}}const Iu={assertOptions:b8,validators:ih},as=Iu.validators;let Eo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new N2,response:new N2}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Lo(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&Iu.assertOptions(n,{silentJSONParsing:as.transitional(as.boolean),forcedJSONParsing:as.transitional(as.boolean),clarifyTimeoutError:as.transitional(as.boolean)},!1),a!=null&&(le.isFunction(a)?r.paramsSerializer={serialize:a}:Iu.assertOptions(a,{encode:as.function,serialize:as.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Iu.assertOptions(r,{baseUrl:as.spelling("baseURL"),withXsrfToken:as.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=l&&le.merge(l.common,l[r.method]);l&&le.forEach(["delete","get","head","post","put","patch","common"],j=>{delete l[j]}),r.headers=Xr.concat(c,l);const u=[];let f=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(f=f&&w.synchronous,u.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let m,g=0,b;if(!f){const j=[D2.bind(this),void 0];for(j.unshift(...u),j.push(...h),b=j.length,m=Promise.resolve(r);g<b;)m=m.then(j[g++],j[g++]);return m}b=u.length;let y=r;for(;g<b;){const j=u[g++],w=u[g++];try{y=j(y)}catch(S){w.call(this,S);break}}try{m=D2.call(this,y)}catch(j){return Promise.reject(j)}for(g=0,b=h.length;g<b;)m=m.then(h[g++],h[g++]);return m}getUri(t){t=Lo(this.defaults,t);const r=Nj(t.baseURL,t.url,t.allowAbsoluteUrls);return xj(r,t.params,t.paramsSerializer)}};le.forEach(["delete","get","head","options"],function(t){Eo.prototype[t]=function(r,n){return this.request(Lo(n||{},{method:t,url:r,data:(n||{}).data}))}});le.forEach(["post","put","patch"],function(t){function r(n){return function(l,c,u){return this.request(Lo(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Eo.prototype[t]=r(),Eo.prototype[t+"Form"]=r(!0)});let y8=class Ej{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(u=>{n.subscribe(u),l=u}).then(a);return c.cancel=function(){n.unsubscribe(l)},c},t(function(l,c,u){n.reason||(n.reason=new ri(l,c,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Ej(function(a){t=a}),cancel:t}}};function v8(e){return function(r){return e.apply(null,r)}}function j8(e){return le.isObject(e)&&e.isAxiosError===!0}const rx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rx).forEach(([e,t])=>{rx[t]=e});function Aj(e){const t=new Eo(e),r=aj(Eo.prototype.request,t);return le.extend(r,Eo.prototype,t,{allOwnKeys:!0}),le.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return Aj(Lo(e,a))},r}const rt=Aj(qc);rt.Axios=Eo;rt.CanceledError=ri;rt.CancelToken=y8;rt.isCancel=vj;rt.VERSION=kj;rt.toFormData=lh;rt.AxiosError=it;rt.Cancel=rt.CanceledError;rt.all=function(t){return Promise.all(t)};rt.spread=v8;rt.isAxiosError=j8;rt.mergeConfig=Lo;rt.AxiosHeaders=Xr;rt.formToJSON=e=>yj(le.isHTMLForm(e)?new FormData(e):e);rt.getAdapter=Cj.getAdapter;rt.HttpStatusCode=rx;rt.default=rt;const{Axios:oH,AxiosError:lH,CanceledError:iH,isCancel:cH,CancelToken:dH,VERSION:uH,all:fH,Cancel:hH,isAxiosError:pH,spread:mH,toFormData:gH,AxiosHeaders:xH,HttpStatusCode:bH,formToJSON:yH,getAdapter:vH,mergeConfig:jH}=rt;var L2="popstate";function N8(e={}){function t(n,a){let{pathname:l,search:c,hash:u}=n.location;return nx("",{pathname:l,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Sc(a)}return S8(t,r,null,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w8(){return Math.random().toString(36).substring(2,10)}function B2(e,t){return{usr:e.state,key:e.key,idx:t}}function nx(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ni(t):t,state:r,key:t&&t.key||n||w8()}}function Sc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ni(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function S8(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,c=a.history,u="POP",f=null,h=m();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function m(){return(c.state||{idx:null}).idx}function g(){u="POP";let S=m(),N=S==null?null:S-h;h=S,f&&f({action:u,location:w.location,delta:N})}function b(S,N){u="PUSH";let A=nx(w.location,S,N);h=m()+1;let E=B2(A,h),M=w.createHref(A);try{c.pushState(E,"",M)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(M)}l&&f&&f({action:u,location:w.location,delta:1})}function y(S,N){u="REPLACE";let A=nx(w.location,S,N);h=m();let E=B2(A,h),M=w.createHref(A);c.replaceState(E,"",M),l&&f&&f({action:u,location:w.location,delta:0})}function j(S){return C8(S)}let w={get action(){return u},get location(){return e(a,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(L2,g),f=S,()=>{a.removeEventListener(L2,g),f=null}},createHref(S){return t(a,S)},createURL:j,encodeLocation(S){let N=j(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:y,go(S){return c.go(S)}};return w}function C8(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Sc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Tj(e,t,r="/"){return k8(e,t,r,!1)}function k8(e,t,r,n){let a=typeof t=="string"?ni(t):t,l=Gs(a.pathname||"/",r);if(l==null)return null;let c=Mj(e);E8(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=P8(l);u=B8(c[f],h,n)}return u}function Mj(e,t=[],r=[],n="",a=!1){let l=(c,u,f=a,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&f)return;Ft(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let g=Vs([n,m.relativePath]),b=r.concat(m);c.children&&c.children.length>0&&(Ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Mj(c.children,t,b,g,f)),!(c.path==null&&!c.index)&&t.push({path:g,score:z8(g,c.index),routesMeta:b})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let f of Oj(c.path))l(c,u,!0,f)}),t}function Oj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let c=Oj(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function E8(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:L8(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var A8=/^:[\w-]+$/,T8=3,M8=2,O8=1,R8=10,D8=-2,_2=e=>e==="*";function z8(e,t){let r=e.split("/"),n=r.length;return r.some(_2)&&(n+=D8),t&&(n+=M8),r.filter(a=>!_2(a)).reduce((a,l)=>a+(A8.test(l)?T8:l===""?O8:R8),n)}function L8(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function B8(e,t,r=!1){let{routesMeta:n}=e,a={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,m=l==="/"?t:t.slice(l.length)||"/",g=Zu({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),b=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=Zu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Vs([l,g.pathname]),pathnameBase:U8(Vs([l,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(l=Vs([l,g.pathnameBase]))}return c}function Zu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_8(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((h,{paramName:m,isOptional:g},b)=>{if(m==="*"){let j=u[b]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const y=u[b];return g&&!y?h[m]=void 0:h[m]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:e}}function _8(e,t=!1,r=!0){hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function P8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Gs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var I8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H8=e=>I8.test(e);function $8(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ni(e):e,l;if(r)if(H8(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),hn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?l=P2(r.substring(1),"/"):l=P2(r,t)}else l=t;return{pathname:l,search:F8(n),hash:q8(a)}}function P2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ag(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V8(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function a0(e){let t=V8(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function o0(e,t,r,n=!1){let a;typeof e=="string"?a=ni(e):(a={...e},Ft(!a.pathname||!a.pathname.includes("?"),ag("?","pathname","search",a)),Ft(!a.pathname||!a.pathname.includes("#"),ag("#","pathname","hash",a)),Ft(!a.search||!a.search.includes("#"),ag("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,u;if(c==null)u=r;else{let g=t.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}u=g>=0?t[g]:"/"}let f=$8(a,u),h=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var Vs=e=>e.join("/").replace(/\/\/+/g,"/"),U8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,q8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function W8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Rj=["POST","PUT","PATCH","DELETE"];new Set(Rj);var G8=["GET",...Rj];new Set(G8);var si=C.createContext(null);si.displayName="DataRouter";var ch=C.createContext(null);ch.displayName="DataRouterState";C.createContext(!1);var Dj=C.createContext({isTransitioning:!1});Dj.displayName="ViewTransition";var K8=C.createContext(new Map);K8.displayName="Fetchers";var Y8=C.createContext(null);Y8.displayName="Await";var Zn=C.createContext(null);Zn.displayName="Navigation";var Wc=C.createContext(null);Wc.displayName="Location";var es=C.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var l0=C.createContext(null);l0.displayName="RouteError";function J8(e,{relative:t}={}){Ft(ai(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=C.useContext(Zn),{hash:a,pathname:l,search:c}=Gc(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:Vs([r,l])),n.createHref({pathname:u,search:c,hash:a})}function ai(){return C.useContext(Wc)!=null}function pn(){return Ft(ai(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Wc).location}var zj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lj(e){C.useContext(Zn).static||C.useLayoutEffect(e)}function Ar(){let{isDataRoute:e}=C.useContext(es);return e?c9():Q8()}function Q8(){Ft(ai(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(si),{basename:t,navigator:r}=C.useContext(Zn),{matches:n}=C.useContext(es),{pathname:a}=pn(),l=JSON.stringify(a0(n)),c=C.useRef(!1);return Lj(()=>{c.current=!0}),C.useCallback((f,h={})=>{if(hn(c.current,zj),!c.current)return;if(typeof f=="number"){r.go(f);return}let m=o0(f,JSON.parse(l),a,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Vs([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,l,a,e])}C.createContext(null);function dh(){let{matches:e}=C.useContext(es),t=e[e.length-1];return t?t.params:{}}function Gc(e,{relative:t}={}){let{matches:r}=C.useContext(es),{pathname:n}=pn(),a=JSON.stringify(a0(r));return C.useMemo(()=>o0(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function X8(e,t){return Bj(e,t)}function Bj(e,t,r,n,a){Ft(ai(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=C.useContext(Zn),{matches:c}=C.useContext(es),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let A=g&&g.path||"";_j(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=pn(),y;if(t){let A=typeof t=="string"?ni(t):t;Ft(m==="/"||A.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),y=A}else y=b;let j=y.pathname||"/",w=j;if(m!=="/"){let A=m.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=Tj(e,{pathname:w});hn(g||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),hn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=n9(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:Vs([m,l.encodeLocation?l.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:Vs([m,l.encodeLocation?l.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,r,n,a);return t&&N?C.createElement(Wc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},N):N}function Z8(){let e=i9(),t=W8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:a},r):null,c)}var e9=C.createElement(Z8,null),t9=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(es.Provider,{value:this.props.routeContext},C.createElement(l0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r9({routeContext:e,match:t,children:r}){let n=C.useContext(si);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(es.Provider,{value:e},r)}function n9(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r?.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,f=-1;if(r)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:b,errors:y}=r,j=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||j){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let h=r&&n?(m,g)=>{n(m,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:g})}:void 0;return l.reduceRight((m,g,b)=>{let y,j=!1,w=null,S=null;r&&(y=c&&g.route.id?c[g.route.id]:void 0,w=g.route.errorElement||e9,u&&(f<0&&b===0?(_j("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,S=null):f===b&&(j=!0,S=g.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,b+1)),A=()=>{let E;return y?E=w:j?E=S:g.route.Component?E=C.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=m,C.createElement(r9,{match:g,routeContext:{outlet:m,matches:N,isDataRoute:r!=null},children:E})};return r&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?C.createElement(t9,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):A()},null)}function i0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s9(e){let t=C.useContext(si);return Ft(t,i0(e)),t}function a9(e){let t=C.useContext(ch);return Ft(t,i0(e)),t}function o9(e){let t=C.useContext(es);return Ft(t,i0(e)),t}function c0(e){let t=o9(e),r=t.matches[t.matches.length-1];return Ft(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function l9(){return c0("useRouteId")}function i9(){let e=C.useContext(l0),t=a9("useRouteError"),r=c0("useRouteError");return e!==void 0?e:t.errors?.[r]}function c9(){let{router:e}=s9("useNavigate"),t=c0("useNavigate"),r=C.useRef(!1);return Lj(()=>{r.current=!0}),C.useCallback(async(a,l={})=>{hn(r.current,zj),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var I2={};function _j(e,t,r){!t&&!I2[e]&&(I2[e]=!0,hn(!1,r))}C.memo(d9);function d9({routes:e,future:t,state:r,unstable_onError:n}){return Bj(e,void 0,r,n,t)}function u9({to:e,replace:t,state:r,relative:n}){Ft(ai(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(Zn);hn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(es),{pathname:c}=pn(),u=Ar(),f=o0(e,a0(l),c,n==="path"),h=JSON.stringify(f);return C.useEffect(()=>{u(JSON.parse(h),{replace:t,state:r,relative:n})},[u,h,n,t,r]),null}function kt(e){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f9({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:l=!1}){Ft(!ai(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof r=="string"&&(r=ni(r));let{pathname:f="/",search:h="",hash:m="",state:g=null,key:b="default"}=r,y=C.useMemo(()=>{let j=Gs(f,c);return j==null?null:{location:{pathname:j,search:h,hash:m,state:g,key:b},navigationType:n}},[c,f,h,m,g,b,n]);return hn(y!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:C.createElement(Zn.Provider,{value:u},C.createElement(Wc.Provider,{children:t,value:y}))}function h9({children:e,location:t}){return X8(sx(e),t)}function sx(e,t=[]){let r=[];return C.Children.forEach(e,(n,a)=>{if(!C.isValidElement(n))return;let l=[...t,a];if(n.type===C.Fragment){r.push.apply(r,sx(n.props.children,l));return}Ft(n.type===kt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=sx(n.props.children,l)),r.push(c)}),r}var Hu="get",$u="application/x-www-form-urlencoded";function uh(e){return e!=null&&typeof e.tagName=="string"}function p9(e){return uh(e)&&e.tagName.toLowerCase()==="button"}function m9(e){return uh(e)&&e.tagName.toLowerCase()==="form"}function g9(e){return uh(e)&&e.tagName.toLowerCase()==="input"}function x9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function b9(e,t){return e.button===0&&(!t||t==="_self")&&!x9(e)}function ax(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function y9(e,t){let r=ax(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(l=>{r.append(a,l)})}),r}var gu=null;function v9(){if(gu===null)try{new FormData(document.createElement("form"),0),gu=!1}catch{gu=!0}return gu}var j9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function og(e){return e!=null&&!j9.has(e)?(hn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$u}"`),null):e}function N9(e,t){let r,n,a,l,c;if(m9(e)){let u=e.getAttribute("action");n=u?Gs(u,t):null,r=e.getAttribute("method")||Hu,a=og(e.getAttribute("enctype"))||$u,l=new FormData(e)}else if(p9(e)||g9(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?Gs(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Hu,a=og(e.getAttribute("formenctype"))||og(u.getAttribute("enctype"))||$u,l=new FormData(u,e),!v9()){let{name:h,type:m,value:g}=e;if(m==="image"){let b=h?`${h}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else h&&l.append(h,g)}}else{if(uh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Hu,n=null,a=$u,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function d0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function w9(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Gs(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function S9(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C9(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function k9(e,t,r){let n=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await S9(l,r);return c.links?c.links():[]}return[]}));return M9(n.flat(1).filter(C9).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function H2(e,t,r,n,a,l){let c=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,u=(f,h)=>r[h].pathname!==f.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,h)=>c(f,h)||u(f,h)):l==="data"?t.filter((f,h)=>{let m=n.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function E9(e,t,{includeHydrateFallback:r}={}){return A9(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function A9(e){return[...new Set(e)]}function T9(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function M9(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let l=JSON.stringify(T9(a));return r.has(l)||(r.add(l),n.push({key:l,link:a})),n},[])}function Pj(){let e=C.useContext(si);return d0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function O9(){let e=C.useContext(ch);return d0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var u0=C.createContext(void 0);u0.displayName="FrameworkContext";function Ij(){let e=C.useContext(u0);return d0(e,"You must render this element inside a <HydratedRouter> element"),e}function R9(e,t){let r=C.useContext(u0),[n,a]=C.useState(!1),[l,c]=C.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=t,b=C.useRef(null);C.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=N=>{N.forEach(A=>{c(A.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),C.useEffect(()=>{if(n){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[n]);let y=()=>{a(!0)},j=()=>{a(!1),c(!1)};return r?e!=="intent"?[l,b,{}]:[l,b,{onFocus:tc(u,y),onBlur:tc(f,j),onMouseEnter:tc(h,y),onMouseLeave:tc(m,j),onTouchStart:tc(g,y)}]:[!1,b,{}]}function tc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function D9({page:e,...t}){let{router:r}=Pj(),n=C.useMemo(()=>Tj(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?C.createElement(L9,{page:e,matches:n,...t}):null}function z9(e){let{manifest:t,routeModules:r}=Ij(),[n,a]=C.useState([]);return C.useEffect(()=>{let l=!1;return k9(e,t,r).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,r]),n}function L9({page:e,matches:t,...r}){let n=pn(),{manifest:a,routeModules:l}=Ij(),{basename:c}=Pj(),{loaderData:u,matches:f}=O9(),h=C.useMemo(()=>H2(e,t,f,a,n,"data"),[e,t,f,a,n]),m=C.useMemo(()=>H2(e,t,f,a,n,"assets"),[e,t,f,a,n]),g=C.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let j=new Set,w=!1;if(t.forEach(N=>{let A=a.routes[N.route.id];!A||!A.hasLoader||(!h.some(E=>E.route.id===N.route.id)&&N.route.id in u&&l[N.route.id]?.shouldRevalidate||A.hasClientLoader?w=!0:j.add(N.route.id))}),j.size===0)return[];let S=w9(e,c,"data");return w&&j.size>0&&S.searchParams.set("_routes",t.filter(N=>j.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[c,u,n,a,h,t,e,l]),b=C.useMemo(()=>E9(m,a),[m,a]),y=z9(m);return C.createElement(C.Fragment,null,g.map(j=>C.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),b.map(j=>C.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),y.map(({key:j,link:w})=>C.createElement("link",{key:j,nonce:r.nonce,...w})))}function B9(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Hj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hj&&(window.__reactRouterVersion="7.9.6")}catch{}function _9({basename:e,children:t,window:r}){let n=C.useRef();n.current==null&&(n.current=N8({window:r,v5Compat:!0}));let a=n.current,[l,c]=C.useState({action:a.action,location:a.location}),u=C.useCallback(f=>{C.startTransition(()=>c(f))},[c]);return C.useLayoutEffect(()=>a.listen(u),[a,u]),C.createElement(f9,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var $j=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ze=C.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:l,replace:c,state:u,target:f,to:h,preventScrollReset:m,viewTransition:g,...b},y){let{basename:j}=C.useContext(Zn),w=typeof h=="string"&&$j.test(h),S,N=!1;if(typeof h=="string"&&w&&(S=h,Hj))try{let K=new URL(window.location.href),W=h.startsWith("//")?new URL(K.protocol+h):new URL(h),V=Gs(W.pathname,j);W.origin===K.origin&&V!=null?h=V+W.search+W.hash:N=!0}catch{hn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=J8(h,{relative:a}),[E,M,T]=R9(n,b),D=$9(h,{replace:c,state:u,target:f,preventScrollReset:m,relative:a,viewTransition:g});function R(K){t&&t(K),K.defaultPrevented||D(K)}let q=C.createElement("a",{...b,...T,href:S||A,onClick:N||l?t:R,ref:B9(y,M),target:f,"data-discover":!w&&r==="render"?"true":void 0});return E&&!w?C.createElement(C.Fragment,null,q,C.createElement(D9,{page:A})):q});ze.displayName="Link";var P9=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:l,to:c,viewTransition:u,children:f,...h},m){let g=Gc(c,{relative:h.relative}),b=pn(),y=C.useContext(ch),{navigator:j,basename:w}=C.useContext(Zn),S=y!=null&&G9(g)&&u===!0,N=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,A=b.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(A=A.toLowerCase(),E=E?E.toLowerCase():null,N=N.toLowerCase()),E&&w&&(E=Gs(E,w)||E);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=A===N||!a&&A.startsWith(N)&&A.charAt(M)==="/",D=E!=null&&(E===N||!a&&E.startsWith(N)&&E.charAt(N.length)==="/"),R={isActive:T,isPending:D,isTransitioning:S},q=T?t:void 0,K;typeof n=="function"?K=n(R):K=[n,T?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(R):l;return C.createElement(ze,{...h,"aria-current":q,className:K,ref:m,style:W,to:c,viewTransition:u},typeof f=="function"?f(R):f)});P9.displayName="NavLink";var I9=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:l,method:c=Hu,action:u,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:g,...b},y)=>{let j=q9(),w=W9(u,{relative:h}),S=c.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&$j.test(u),A=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let M=E.nativeEvent.submitter,T=M?.getAttribute("formmethod")||c;j(M||E.currentTarget,{fetcherKey:t,method:T,navigate:r,replace:a,state:l,relative:h,preventScrollReset:m,viewTransition:g})};return C.createElement("form",{ref:y,method:S,action:w,onSubmit:n?f:A,...b,"data-discover":!N&&e==="render"?"true":void 0})});I9.displayName="Form";function H9(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vj(e){let t=C.useContext(si);return Ft(t,H9(e)),t}function $9(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:l,viewTransition:c}={}){let u=Ar(),f=pn(),h=Gc(e,{relative:l});return C.useCallback(m=>{if(b9(m,t)){m.preventDefault();let g=r!==void 0?r:Sc(f)===Sc(h);u(e,{replace:g,state:n,preventScrollReset:a,relative:l,viewTransition:c})}},[f,u,h,r,n,t,e,a,l,c])}function V9(e){hn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=C.useRef(ax(e)),r=C.useRef(!1),n=pn(),a=C.useMemo(()=>y9(n.search,r.current?null:t.current),[n.search]),l=Ar(),c=C.useCallback((u,f)=>{const h=ax(typeof u=="function"?u(new URLSearchParams(a)):u);r.current=!0,l("?"+h,f)},[l,a]);return[a,c]}var U9=0,F9=()=>`__${String(++U9)}__`;function q9(){let{router:e}=Vj("useSubmit"),{basename:t}=C.useContext(Zn),r=l9();return C.useCallback(async(n,a={})=>{let{action:l,method:c,encType:u,formData:f,body:h}=N9(n,t);if(a.navigate===!1){let m=a.fetcherKey||F9();await e.fetch(m,r,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function W9(e,{relative:t}={}){let{basename:r}=C.useContext(Zn),n=C.useContext(es);Ft(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...Gc(e||".",{relative:t})},c=pn();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();l.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Vs([r,l.pathname])),Sc(l)}function G9(e,{relative:t}={}){let r=C.useContext(Dj);Ft(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Vj("useViewTransitionState"),a=Gc(e,{relative:t});if(!r.isTransitioning)return!1;let l=Gs(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Gs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zu(a.pathname,c)!=null||Zu(a.pathname,l)!=null}var K9=sj();const Y9=nj(K9);var lg={exports:{}},ig={};var $2;function J9(){if($2)return ig;$2=1;var e=ei();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return ig.useSyncExternalStoreWithSelector=function(f,h,m,g,b){var y=a(null);if(y.current===null){var j={hasValue:!1,value:null};y.current=j}else j=y.current;y=c(function(){function S(T){if(!N){if(N=!0,A=T,T=g(T),b!==void 0&&j.hasValue){var D=j.value;if(b(D,T))return E=D}return E=T}if(D=E,r(A,T))return D;var R=g(T);return b!==void 0&&b(D,R)?(A=T,D):(A=T,E=R)}var N=!1,A,E,M=m===void 0?null:m;return[function(){return S(h())},M===null?void 0:function(){return S(M())}]},[h,m,g,b]);var w=n(f,y[0],y[1]);return l(function(){j.hasValue=!0,j.value=w},[w]),u(w),w},ig}var V2;function Q9(){return V2||(V2=1,lg.exports=J9()),lg.exports}var X9=Q9();function Z9(e){e()}function e7(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Z9(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var U2={notify(){},get:()=>[]};function t7(e,t){let r,n=U2,a=0,l=!1;function c(w){m();const S=n.subscribe(w);let N=!1;return()=>{N||(N=!0,S(),g())}}function u(){n.notify()}function f(){j.onStateChange&&j.onStateChange()}function h(){return l}function m(){a++,r||(r=e.subscribe(f),n=e7())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=U2)}function b(){l||(l=!0,m())}function y(){l&&(l=!1,g())}const j={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>n};return j}var r7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n7=r7(),s7=()=>typeof navigator<"u"&&navigator.product==="ReactNative",a7=s7(),o7=()=>n7||a7?C.useLayoutEffect:C.useEffect,l7=o7(),i7=Symbol.for("react-redux-context"),c7=typeof globalThis<"u"?globalThis:{};function d7(){if(!C.createContext)return{};const e=c7[i7]??=new Map;let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var $a=d7();function u7(e){const{children:t,context:r,serverState:n,store:a}=e,l=C.useMemo(()=>{const f=t7(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),c=C.useMemo(()=>a.getState(),[a]);l7(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const u=r||$a;return C.createElement(u.Provider,{value:l},t)}var f7=u7;function f0(e=$a){return function(){return C.useContext(e)}}var Uj=f0();function Fj(e=$a){const t=e===$a?Uj:f0(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var h7=Fj();function p7(e=$a){const t=e===$a?h7:Fj(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var qt=p7(),m7=(e,t)=>e===t;function g7(e=$a){const t=e===$a?Uj:f0(e),r=(n,a={})=>{const{equalityFn:l=m7}=typeof a=="function"?{equalityFn:a}:a,c=t(),{store:u,subscription:f,getServerState:h}=c;C.useRef(!0);const m=C.useCallback({[n.name](b){return n(b)}}[n.name],[n]),g=X9.useSyncExternalStoreWithSelector(f.addNestedSub,u.getState,h||u.getState,m,l);return C.useDebugValue(g),g};return Object.assign(r,{withTypes:()=>r}),r}var At=g7();function wr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var x7=typeof Symbol=="function"&&Symbol.observable||"@@observable",F2=x7,cg=()=>Math.random().toString(36).substring(7).split("").join("."),b7={INIT:`@@redux/INIT${cg()}`,REPLACE:`@@redux/REPLACE${cg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cg()}`},ef=b7;function h0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function qj(e,t,r){if(typeof e!="function")throw new Error(wr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(wr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(wr(1));return r(qj)(e,t)}let n=e,a=t,l=new Map,c=l,u=0,f=!1;function h(){c===l&&(c=new Map,l.forEach((S,N)=>{c.set(N,S)}))}function m(){if(f)throw new Error(wr(3));return a}function g(S){if(typeof S!="function")throw new Error(wr(4));if(f)throw new Error(wr(5));let N=!0;h();const A=u++;return c.set(A,S),function(){if(N){if(f)throw new Error(wr(6));N=!1,h(),c.delete(A),l=null}}}function b(S){if(!h0(S))throw new Error(wr(7));if(typeof S.type>"u")throw new Error(wr(8));if(typeof S.type!="string")throw new Error(wr(17));if(f)throw new Error(wr(9));try{f=!0,a=n(a,S)}finally{f=!1}return(l=c).forEach(A=>{A()}),S}function y(S){if(typeof S!="function")throw new Error(wr(10));n=S,b({type:ef.REPLACE})}function j(){const S=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(wr(11));function A(){const M=N;M.next&&M.next(m())}return A(),{unsubscribe:S(A)}},[F2](){return this}}}return b({type:ef.INIT}),{dispatch:b,subscribe:g,getState:m,replaceReducer:y,[F2]:j}}function y7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ef.INIT})>"u")throw new Error(wr(12));if(typeof r(void 0,{type:ef.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wr(13))})}function v7(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let a;try{y7(r)}catch(l){a=l}return function(c={},u){if(a)throw a;let f=!1;const h={};for(let m=0;m<n.length;m++){const g=n[m],b=r[g],y=c[g],j=b(y,u);if(typeof j>"u")throw u&&u.type,new Error(wr(14));h[g]=j,f=f||j!==y}return f=f||n.length!==Object.keys(c).length,f?h:c}}function tf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function j7(...e){return t=>(r,n)=>{const a=t(r,n);let l=()=>{throw new Error(wr(15))};const c={getState:a.getState,dispatch:(f,...h)=>l(f,...h)},u=e.map(f=>f(c));return l=tf(...u)(a.dispatch),{...a,dispatch:l}}}function N7(e){return h0(e)&&"type"in e&&typeof e.type=="string"}var Wj=Symbol.for("immer-nothing"),q2=Symbol.for("immer-draftable"),Hr=Symbol.for("immer-state");function qn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var dn=Object,Fl=dn.getPrototypeOf,rf="constructor",fh="prototype",ox="configurable",nf="enumerable",Vu="writable",Cc="value",Ks=e=>!!e&&!!e[Hr];function Qn(e){return e?Gj(e)||hh(e)||!!e[q2]||!!e[rf]?.[q2]||ph(e)||mh(e):!1}var w7=dn[fh][rf].toString(),W2=new WeakMap;function Gj(e){if(!e||!p0(e))return!1;const t=Fl(e);if(t===null||t===dn[fh])return!0;const r=dn.hasOwnProperty.call(t,rf)&&t[rf];if(r===Object)return!0;if(!Dl(r))return!1;let n=W2.get(r);return n===void 0&&(n=Function.toString.call(r),W2.set(r,n)),n===w7}function Kc(e,t,r=!0){Yc(e)===0?(r?Reflect.ownKeys(e):dn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Yc(e){const t=e[Hr];return t?t.type_:hh(e)?1:ph(e)?2:mh(e)?3:0}var G2=(e,t,r=Yc(e))=>r===2?e.has(t):dn[fh].hasOwnProperty.call(e,t),lx=(e,t,r=Yc(e))=>r===2?e.get(t):e[t],sf=(e,t,r,n=Yc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function S7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var hh=Array.isArray,ph=e=>e instanceof Map,mh=e=>e instanceof Set,p0=e=>typeof e=="object",Dl=e=>typeof e=="function",dg=e=>typeof e=="boolean",Hs=e=>e.copy_||e.base_,m0=e=>e.modified_?e.copy_:e.base_;function ix(e,t){if(ph(e))return new Map(e);if(mh(e))return new Set(e);if(hh(e))return Array[fh].slice.call(e);const r=Gj(e);if(t===!0||t==="class_only"&&!r){const n=dn.getOwnPropertyDescriptors(e);delete n[Hr];let a=Reflect.ownKeys(n);for(let l=0;l<a.length;l++){const c=a[l],u=n[c];u[Vu]===!1&&(u[Vu]=!0,u[ox]=!0),(u.get||u.set)&&(n[c]={[ox]:!0,[Vu]:!0,[nf]:u[nf],[Cc]:e[c]})}return dn.create(Fl(e),n)}else{const n=Fl(e);if(n!==null&&r)return{...e};const a=dn.create(n);return dn.assign(a,e)}}function g0(e,t=!1){return gh(e)||Ks(e)||!Qn(e)||(Yc(e)>1&&dn.defineProperties(e,{set:xu,add:xu,clear:xu,delete:xu}),dn.freeze(e),t&&Kc(e,(r,n)=>{g0(n,!0)},!1)),e}function C7(){qn(2)}var xu={[Cc]:C7};function gh(e){return e===null||!p0(e)?!0:dn.isFrozen(e)}var af="MapSet",cx="Patches",Kj={};function ql(e){const t=Kj[e];return t||qn(0,e),t}var k7=e=>!!Kj[e],kc,Yj=()=>kc,E7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:k7(af)?ql(af):void 0});function K2(e,t){t&&(e.patchPlugin_=ql(cx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dx(e){ux(e),e.drafts_.forEach(A7),e.drafts_=null}function ux(e){e===kc&&(kc=e.parent_)}var Y2=e=>kc=E7(kc,e);function A7(e){const t=e[Hr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function J2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Hr].modified_&&(dx(t),qn(4)),Qn(e)&&(e=Q2(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Hr].base_,e,t)}else e=Q2(t,r);return T7(t,e,!0),dx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Wj?e:void 0}function Q2(e,t){if(gh(t))return t;const r=t[Hr];if(!r)return x0(t,e.handledSet_,e);if(!xh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Xj(r,e)}return r.copy_}function T7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&g0(t,r)}function Jj(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var xh=(e,t)=>e.scope_===t,M7=[];function Qj(e,t,r,n){const a=Hs(e),l=e.type_;if(n!==void 0&&lx(a,n,l)===t){sf(a,n,r,l);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Kc(a,(f,h)=>{if(Ks(h)){const m=u.get(h)||[];m.push(f),u.set(h,m)}})}const c=e.draftLocations_.get(t)??M7;for(const u of c)sf(a,u,r,l)}function O7(e,t,r){e.callbacks_.push(function(a){const l=t;if(!l||!xh(l,a))return;a.mapSetPlugin_?.fixSetContents(l);const c=m0(l);Qj(e,l.draft_??l,c,r),Xj(l,a)})}function Xj(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}Jj(e)}}function R7(e,t,r){const{scope_:n}=e;if(Ks(r)){const a=r[Hr];xh(a,n)&&a.callbacks_.push(function(){Uu(e);const c=m0(a);Qj(e,r,c,t)})}else Qn(r)&&e.callbacks_.push(function(){const l=Hs(e);lx(l,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&x0(lx(e.copy_,t,e.type_),n.handledSet_,n)})}function x0(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ks(e)||t.has(e)||!Qn(e)||gh(e)||(t.add(e),Kc(e,(n,a)=>{if(Ks(a)){const l=a[Hr];if(xh(l,r)){const c=m0(l);sf(e,n,c,e.type_),Jj(l)}}else Qn(a)&&x0(a,t,r)})),e}function D7(e,t){const r=hh(e),n={type_:r?1:0,scope_:t?t.scope_:Yj(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,l=b0;r&&(a=[n],l=Ec);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return n.draft_=u,n.revoke_=c,[u,n]}var b0={get(e,t){if(t===Hr)return e;const r=Hs(e);if(!G2(r,t,e.type_))return z7(e,r,t);const n=r[t];if(e.finalized_||!Qn(n))return n;if(n===ug(e.base_,t)){Uu(e);const a=e.type_===1?+t:t,l=hx(e.scope_,n,e,a);return e.copy_[a]=l}return n},has(e,t){return t in Hs(e)},ownKeys(e){return Reflect.ownKeys(Hs(e))},set(e,t,r){const n=Zj(Hs(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=ug(Hs(e),t),l=a?.[Hr];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(S7(r,a)&&(r!==void 0||G2(e.base_,t,e.type_)))return!0;Uu(e),fx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),R7(e,t,r)),!0},deleteProperty(e,t){return Uu(e),ug(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),fx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Hs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Vu]:!0,[ox]:e.type_!==1||t!=="length",[nf]:n[nf],[Cc]:r[t]}},defineProperty(){qn(11)},getPrototypeOf(e){return Fl(e.base_)},setPrototypeOf(){qn(12)}},Ec={};Kc(b0,(e,t)=>{Ec[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Ec.deleteProperty=function(e,t){return Ec.set.call(this,e,t,void 0)};Ec.set=function(e,t,r){return b0.set.call(this,e[0],t,r,e[0])};function ug(e,t){const r=e[Hr];return(r?Hs(r):e)[t]}function z7(e,t,r){const n=Zj(t,r);return n?Cc in n?n[Cc]:n.get?.call(e.draft_):void 0}function Zj(e,t){if(!(t in e))return;let r=Fl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Fl(r)}}function fx(e){e.modified_||(e.modified_=!0,e.parent_&&fx(e.parent_))}function Uu(e){e.copy_||(e.assigned_=new Map,e.copy_=ix(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var L7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,n)=>{if(Dl(t)&&!Dl(r)){const l=r;r=t;const c=this;return function(f=l,...h){return c.produce(f,m=>r.call(this,m,...h))}}Dl(r)||qn(6),n!==void 0&&!Dl(n)&&qn(7);let a;if(Qn(t)){const l=Y2(this),c=hx(l,t,void 0);let u=!0;try{a=r(c),u=!1}finally{u?dx(l):ux(l)}return K2(l,n),J2(a,l)}else if(!t||!p0(t)){if(a=r(t),a===void 0&&(a=t),a===Wj&&(a=void 0),this.autoFreeze_&&g0(a,!0),n){const l=[],c=[];ql(cx).generateReplacementPatches_(t,a,{patches_:l,inversePatches_:c}),n(l,c)}return a}else qn(1,t)},this.produceWithPatches=(t,r)=>{if(Dl(t))return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let n,a;return[this.produce(t,r,(c,u)=>{n=c,a=u}),n,a]},dg(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),dg(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),dg(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Qn(e)||qn(8),Ks(e)&&(e=B7(e));const t=Y2(this),r=hx(t,e,void 0);return r[Hr].isManual_=!0,ux(t),r}finishDraft(e,t){const r=e&&e[Hr];(!r||!r.isManual_)&&qn(9);const{scope_:n}=r;return K2(n,t),J2(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ql(cx).applyPatches_;return Ks(e)?n(e,t):this.produce(e,a=>n(a,t))}};function hx(e,t,r,n){const[a,l]=ph(t)?ql(af).proxyMap_(t,r):mh(t)?ql(af).proxySet_(t,r):D7(t,r);return(r?.scope_??Yj()).drafts_.push(a),l.callbacks_=r?.callbacks_??[],l.key_=n,r&&n!==void 0?O7(r,l,n):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:h}=f;l.modified_&&h&&h.generatePatches_(l,[],f)}),a}function B7(e){return Ks(e)||qn(10,e),e6(e)}function e6(e){if(!Qn(e)||gh(e))return e;const t=e[Hr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ix(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ix(e,!0);return Kc(r,(a,l)=>{sf(r,a,e6(l))},n),t&&(t.finalized_=!1),r}var _7=new L7,t6=_7.produce;function r6(e){return({dispatch:r,getState:n})=>a=>l=>typeof l=="function"?l(r,n,e):a(l)}var P7=r6(),I7=r6,H7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tf:tf.apply(null,arguments)},$7=e=>e&&typeof e.match=="function";function fc(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Us(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>N7(n)&&n.type===e,r}var n6=class lc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,lc.prototype)}static get[Symbol.species](){return lc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new lc(...t[0].concat(this)):new lc(...t.concat(this))}};function X2(e){return Qn(e)?t6(e,()=>{}):e}function bu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function V7(e){return typeof e=="boolean"}var U7=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=t??{};let c=new n6;return r&&(V7(r)?c.push(P7):c.push(I7(r.extraArgument))),c},F7="RTK_autoBatch",Z2=e=>t=>{setTimeout(t,e)},q7=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,l=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Z2(10):e.type==="callback"?e.queueNotification:Z2(e.timeout),h=()=>{c=!1,l&&(l=!1,u.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const g=()=>a&&m(),b=n.subscribe(g);return u.add(m),()=>{b(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[F7],l=!a,l&&(c||(c=!0,f(h))),n.dispatch(m)}finally{a=!0}}})},W7=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new n6(e);return n&&a.push(q7(typeof n=="object"?n:void 0)),a};function G7(e){const t=U7(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(h0(r))u=v7(r);else throw new Error(Us(1));let f;typeof n=="function"?f=n(t):f=t();let h=tf;a&&(h=H7({trace:!1,...typeof a=="object"&&a}));const m=j7(...f),g=W7(m);let b=typeof c=="function"?c(g):g();const y=h(...b);return qj(u,l,y)}function s6(e){const t={},r=[];let n;const a={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(Us(28));if(u in t)throw new Error(Us(29));return t[u]=c,a},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return r.push({matcher:l,reducer:c}),a},addDefaultCase(l){return n=l,a}};return e(a),[t,r,n]}function K7(e){return typeof e=="function"}function Y7(e,t){let[r,n,a]=s6(t),l;if(K7(e))l=()=>X2(e());else{const u=X2(e);l=()=>u}function c(u=l(),f){let h=[r[f.type],...n.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[a]),h.reduce((m,g)=>{if(g)if(Ks(m)){const y=g(m,f);return y===void 0?m:y}else{if(Qn(m))return t6(m,b=>g(b,f));{const b=g(m,f);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},u)}return c.getInitialState=l,c}var J7=(e,t)=>$7(e)?e.match(t):e(t);function Q7(...e){return t=>e.some(r=>J7(r,t))}var X7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Z7=(e=21)=>{let t="",r=e;for(;r--;)t+=X7[Math.random()*64|0];return t},eE=["name","message","stack","code"],fg=class{constructor(e,t){this.payload=e,this.meta=t}_type},e4=class{constructor(e,t){this.payload=e,this.meta=t}_type},tE=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of eE)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},t4="External signal was aborted",Tr=(()=>{function e(t,r,n){const a=fc(t+"/fulfilled",(f,h,m,g)=>({payload:f,meta:{...g||{},arg:m,requestId:h,requestStatus:"fulfilled"}})),l=fc(t+"/pending",(f,h,m)=>({payload:void 0,meta:{...m||{},arg:h,requestId:f,requestStatus:"pending"}})),c=fc(t+"/rejected",(f,h,m,g,b)=>({payload:g,error:(n&&n.serializeError||tE)(f||"Rejected"),meta:{...b||{},arg:m,requestId:h,rejectedWithValue:!!g,requestStatus:"rejected",aborted:f?.name==="AbortError",condition:f?.name==="ConditionError"}}));function u(f,{signal:h}={}){return(m,g,b)=>{const y=n?.idGenerator?n.idGenerator(f):Z7(),j=new AbortController;let w,S;function N(E){S=E,j.abort()}h&&(h.aborted?N(t4):h.addEventListener("abort",()=>N(t4),{once:!0}));const A=(async function(){let E;try{let T=n?.condition?.(f,{getState:g,extra:b});if(nE(T)&&(T=await T),T===!1||j.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const D=new Promise((R,q)=>{w=()=>{q({name:"AbortError",message:S||"Aborted"})},j.signal.addEventListener("abort",w)});m(l(y,f,n?.getPendingMeta?.({requestId:y,arg:f},{getState:g,extra:b}))),E=await Promise.race([D,Promise.resolve(r(f,{dispatch:m,getState:g,extra:b,requestId:y,signal:j.signal,abort:N,rejectWithValue:(R,q)=>new fg(R,q),fulfillWithValue:(R,q)=>new e4(R,q)})).then(R=>{if(R instanceof fg)throw R;return R instanceof e4?a(R.payload,y,f,R.meta):a(R,y,f)})])}catch(T){E=T instanceof fg?c(null,y,f,T.payload,T.meta):c(T,y,f)}finally{w&&j.signal.removeEventListener("abort",w)}return n&&!n.dispatchConditionRejection&&c.match(E)&&E.meta.condition||m(E),E})();return Object.assign(A,{abort:N,requestId:y,arg:f,unwrap(){return A.then(rE)}})}}return Object.assign(u,{pending:l,rejected:c,fulfilled:a,settled:Q7(c,a),typePrefix:t})}return e.withTypes=()=>e,e})();function rE(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function nE(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var sE=Symbol.for("rtk-slice-createasyncthunk");function aE(e,t){return`${e}/${t}`}function oE({creators:e}={}){const t=e?.asyncThunk?.[sE];return function(n){const{name:a,reducerPath:l=a}=n;if(!a)throw new Error(Us(11));const c=(typeof n.reducers=="function"?n.reducers(iE()):n.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,M){const T=typeof E=="string"?E:E.type;if(!T)throw new Error(Us(12));if(T in f.sliceCaseReducersByType)throw new Error(Us(13));return f.sliceCaseReducersByType[T]=M,h},addMatcher(E,M){return f.sliceMatchers.push({matcher:E,reducer:M}),h},exposeAction(E,M){return f.actionCreators[E]=M,h},exposeCaseReducer(E,M){return f.sliceCaseReducersByName[E]=M,h}};u.forEach(E=>{const M=c[E],T={reducerName:E,type:aE(a,E),createNotation:typeof n.reducers=="function"};dE(M)?fE(T,M,h,t):cE(T,M,h)});function m(){const[E={},M=[],T=void 0]=typeof n.extraReducers=="function"?s6(n.extraReducers):[n.extraReducers],D={...E,...f.sliceCaseReducersByType};return Y7(n.initialState,R=>{for(let q in D)R.addCase(q,D[q]);for(let q of f.sliceMatchers)R.addMatcher(q.matcher,q.reducer);for(let q of M)R.addMatcher(q.matcher,q.reducer);T&&R.addDefaultCase(T)})}const g=E=>E,b=new Map,y=new WeakMap;let j;function w(E,M){return j||(j=m()),j(E,M)}function S(){return j||(j=m()),j.getInitialState()}function N(E,M=!1){function T(R){let q=R[E];return typeof q>"u"&&M&&(q=bu(y,T,S)),q}function D(R=g){const q=bu(b,M,()=>new WeakMap);return bu(q,R,()=>{const K={};for(const[W,V]of Object.entries(n.selectors??{}))K[W]=lE(V,R,()=>bu(y,R,S),M);return K})}return{reducerPath:E,getSelectors:D,get selectors(){return D(T)},selectSlice:T}}const A={name:a,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...N(l),injectInto(E,{reducerPath:M,...T}={}){const D=M??l;return E.inject({reducerPath:D,reducer:w},T),{...A,...N(D,!0)}}};return A}}function lE(e,t,r,n){function a(l,...c){let u=t(l);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return a.unwrapped=e,a}var oi=oE();function iE(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function cE({type:e,reducerName:t,createNotation:r},n,a){let l,c;if("reducer"in n){if(r&&!uE(n))throw new Error(Us(17));l=n.reducer,c=n.prepare}else l=n;a.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?fc(e,c):fc(e))}function dE(e){return e._reducerDefinitionType==="asyncThunk"}function uE(e){return e._reducerDefinitionType==="reducerWithPrepare"}function fE({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Us(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:f,settled:h,options:m}=r,g=a(e,l,m);n.exposeAction(t,g),c&&n.addCase(g.fulfilled,c),u&&n.addCase(g.pending,u),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:c||yu,pending:u||yu,rejected:f||yu,settled:h||yu})}function yu(){}function Us(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const of="http://localhost:5000",hE={products:[],product:null,loading:!1,error:null,filters:{category:"",price:{min:0,max:1e4},search:""}},un=Tr("product/fetchProducts",async(e,{rejectWithValue:t})=>{try{return(await rt.get(`${of}/api/products`)).data}catch(r){return t(r.response?.data?.message||r.message)}}),Il=Tr("product/fetchProductById",async(e,{rejectWithValue:t,getState:r})=>{try{return(await rt.get(`${of}/api/products/${e}`)).data}catch(n){return t(n.response?.data?.message||n.message)}}),Fu=Tr("product/fetchProductBySlug",async(e,{rejectWithValue:t})=>{try{try{return(await rt.get(`${of}/api/products/slug/${e}`)).data}catch(r){if(r.response?.status===404)return(await rt.get(`${of}/api/products/${encodeURIComponent(e)}`)).data;throw r}}catch(r){return t(r.response?.data?.message||r.message)}}),a6=oi({name:"product",initialState:hE,reducers:{setFilter:(e,t)=>{e.filters={...e.filters,...t.payload}},clearFilters:e=>{e.filters={category:"",price:{min:0,max:1e4},search:""}}},extraReducers:e=>{e.addCase(un.pending,t=>{t.loading=!0,t.error=null}).addCase(un.fulfilled,(t,r)=>{t.loading=!1,t.products=r.payload.products||r.payload||[]}).addCase(un.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Il.pending,t=>{t.loading=!0,t.error=null}).addCase(Il.fulfilled,(t,r)=>{t.loading=!1,t.product=r.payload}).addCase(Il.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}),e.addCase(Fu.pending,t=>{t.loading=!0,t.error=null}).addCase(Fu.fulfilled,(t,r)=>{t.loading=!1,t.product=r.payload}).addCase(Fu.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{setFilter:hc,clearFilters:NH}=a6.actions,pE=a6.reducer,y0="http://localhost:5000",Ac=Tr("cart/fetchCart",async(e,t)=>{console.log("==== fetchCart thunk called ====");const r=localStorage.getItem("token");console.log("Token in fetchCart:",!!r);try{const n=r?{Authorization:`Bearer ${r}`}:{},a=await rt.get(`${y0}/api/cart`,{headers:n});return console.log("fetchCart response:",a.data),(a.data.items||[]).map(u=>{const f=u.product||null;return{_id:u._id||f&&(f._id||f.id)||u.product||"",product:f&&(f._id||f.id)||u.product||"",name:u.name||f&&f.name||"",price:Number(u.price??(f&&f.price)??0),image:u.image||f&&(f.image||f.images&&f.images[0])||"",variantImage:u.variantImage||null,quantity:u.quantity||1,selectedVariants:u.selectedVariants||{},selectedSize:u.selectedSize||null,selectedColor:u.selectedColor||null,variant:u.variant||null,sku:u.sku||null,colorCode:u.colorCode||null}})}catch(n){return console.error("fetchCart error:",n),[]}}),Va=Tr("cart/syncCart",async(e,t)=>{const r=localStorage.getItem("token");try{const n=g=>{if(g){if(g.product)return g.product;if(typeof g._id=="string")return g._id.includes("|")?g._id.split("|")[0]:g._id}},a={};for(const g of e||[]){const b=n(g),y=JSON.stringify({product:b,size:g.selectedSize||"",color:g.selectedColor||"",variants:g.selectedVariants||{}});a[y]?a[y].quantity+=g.quantity||1:a[y]={product:b||void 0,name:g.name,quantity:g.quantity||1,price:g.price,selectedVariants:g.selectedVariants||{},selectedSize:g.selectedSize||null,selectedColor:g.selectedColor||null,image:g.image||"",variantImage:g.variantImage||null,variant:g.variant||null,sku:g.sku||null,colorCode:g.colorCode||null}}const l=Object.values(a),c=r?{Authorization:`Bearer ${r}`}:{},u={items:l};return((await rt.post(`${y0}/api/cart`,u,{headers:c})).data.items||[]).map(g=>{const b=g.product||null;return{_id:g._id||b&&(b._id||b.id)||g.product||"",product:b&&(b._id||b.id)||g.product||"",name:g.name||b&&b.name||"",price:Number(g.price??(b&&b.price)??0),image:g.image||b&&(b.image||b.images&&b.images[0])||"",variantImage:g.variantImage||null,quantity:g.quantity||1,selectedVariants:g.selectedVariants||{},selectedSize:g.selectedSize||null,selectedColor:g.selectedColor||null,variant:g.variant||null,sku:g.sku||null,colorCode:g.colorCode||null}})}catch(n){return console.error("syncCart error",n),e}}),o6=Tr("cart/clearServerCart",async(e,t)=>{const r=localStorage.getItem("token");try{const n=r?{Authorization:`Bearer ${r}`}:{};return(await rt.delete(`${y0}/api/cart`,{headers:n})).data.items||[]}catch(n){return console.error("clearServerCart error",n),[]}}),mE={items:[],totalPrice:0,totalQuantity:0},l6=oi({name:"cart",initialState:mE,reducers:{setCart:(e,t)=>{const r=Array.isArray(t.payload)?t.payload:[];e.items=r.map(n=>({...n,quantity:n.quantity||1})),e.totalQuantity=e.items.reduce((n,a)=>n+a.quantity,0),e.totalPrice=e.items.reduce((n,a)=>n+(Number(a.price)||0)*a.quantity,0)},addToCart:(e,t)=>{const r=t.payload,n=(l,c)=>{if(!l||!c||(l.product||l._id)!==(c.product||c._id)||(l.selectedSize||"")!==(c.selectedSize||"")||(l.selectedColor||"")!==(c.selectedColor||""))return!1;const u=l.selectedVariants||{},f=c.selectedVariants||{},h=Object.keys(u).sort(),m=Object.keys(f).sort();if(h.length!==m.length)return!1;for(let g=0;g<h.length;g++)if(h[g]!==m[g]||String(u[h[g]])!==String(f[m[g]]))return!1;return!0},a=e.items.find(l=>n(l,r));a?a.quantity+=r.quantity||1:e.items.push({...r,quantity:r.quantity||1}),e.totalQuantity=e.items.reduce((l,c)=>l+c.quantity,0),e.totalPrice=e.items.reduce((l,c)=>l+c.price*c.quantity,0)},removeFromCart:(e,t)=>{e.items=e.items.filter(r=>r._id!==t.payload),e.totalQuantity=e.items.reduce((r,n)=>r+n.quantity,0),e.totalPrice=e.items.reduce((r,n)=>r+n.price*n.quantity,0)},updateCartItem:(e,t)=>{const{id:r,quantity:n}=t.payload,a=e.items.find(l=>l._id===r);a&&(n<=0?e.items=e.items.filter(l=>l._id!==r):a.quantity=n),e.totalQuantity=e.items.reduce((l,c)=>l+c.quantity,0),e.totalPrice=e.items.reduce((l,c)=>l+c.price*c.quantity,0)},clearCart:e=>{e.items=[],e.totalPrice=0,e.totalQuantity=0}},extraReducers:e=>{e.addCase(Ac.fulfilled,(t,r)=>{const n=Array.isArray(r.payload)?r.payload:[];t.items=n.map(a=>({...a,quantity:a.quantity||1})),t.totalQuantity=t.items.reduce((a,l)=>a+l.quantity,0),t.totalPrice=t.items.reduce((a,l)=>a+(Number(l.price)||0)*l.quantity,0)}).addCase(Va.fulfilled,(t,r)=>{const n=Array.isArray(r.payload)?r.payload:[];t.items=n.map(a=>({...a,quantity:a.quantity||1})),t.totalQuantity=t.items.reduce((a,l)=>a+l.quantity,0),t.totalPrice=t.items.reduce((a,l)=>a+(Number(l.price)||0)*l.quantity,0)}).addCase(o6.fulfilled,(t,r)=>{t.items=[],t.totalPrice=0,t.totalQuantity=0})}}),{setCart:wH,addToCart:lf,removeFromCart:gE,updateCartItem:xE,clearCart:v0}=l6.actions,bE=l6.reducer,yE="http://localhost:5000",vE={user:null,token:localStorage.getItem("token")||null,loading:!1,error:null,isAuthenticated:!!localStorage.getItem("token")},hg=Tr("auth/loginUser",async(e,{rejectWithValue:t,dispatch:r})=>{try{const a=(await rt.post(`${yE}/api/users/login`,e)).data;return localStorage.setItem("token",a.token),r(Ac()),a}catch(n){return t(n.response?.data?.message||n.message)}}),pg=Tr("auth/registerUser",async(e,{rejectWithValue:t})=>t("User registration is disabled. Only admin login is available.")),i6=oi({name:"auth",initialState:vE,reducers:{logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,localStorage.removeItem("token")}},extraReducers:e=>{e.addCase(hg.pending,t=>{t.loading=!0,t.error=null}).addCase(hg.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload.user,t.token=r.payload.token,t.isAuthenticated=!0}).addCase(hg.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(pg.pending,t=>{t.loading=!0,t.error=null}).addCase(pg.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload.user,t.token=r.payload.token,t.isAuthenticated=!0}).addCase(pg.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{logout:jE}=i6.actions,NE=i6.reducer,j0="http://localhost:5000",wE={orders:[],order:null,loading:!1,error:null},Pr=Tr("order/fetchOrders",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token"),n=r?{headers:{Authorization:`Bearer ${r}`}}:{};return(await rt.get(`${j0}/api/orders`,n)).data}catch(r){return t(r.response?.data?.message||r.message)}}),mg=Tr("order/fetchUserOrders",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token"),n=r?{headers:{Authorization:`Bearer ${r}`}}:{};return(await rt.get(`${j0}/api/orders/user/my-orders`,n)).data}catch(r){return t(r.response?.data?.message||r.message)}}),gg=Tr("order/createOrder",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token"),n={headers:r?{Authorization:`Bearer ${r}`}:{}};return(await rt.post(`${j0}/api/orders`,e,n)).data}catch(r){return t(r.response?.data?.message||r.message)}}),SE=oi({name:"order",initialState:wE,reducers:{},extraReducers:e=>{e.addCase(Pr.pending,t=>{t.loading=!0,t.error=null}).addCase(Pr.fulfilled,(t,r)=>{t.loading=!1,t.orders=r.payload}).addCase(Pr.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(mg.pending,t=>{t.loading=!0,t.error=null}).addCase(mg.fulfilled,(t,r)=>{t.loading=!1,t.orders=r.payload}).addCase(mg.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(gg.pending,t=>{t.loading=!0,t.error=null}).addCase(gg.fulfilled,(t,r)=>{t.loading=!1,t.order=r.payload,t.orders.push(r.payload)}).addCase(gg.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),CE=SE.reducer,Tc="http://localhost:5000",kE={items:[],totalItems:0,loading:!1,error:null},Hl=Tr("wishlist/fetchWishlist",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token"),n=r?{Authorization:`Bearer ${r}`}:{},l=(await rt.get(`${Tc}/api/wishlist`,{headers:n})).data;console.log("fetchWishlist response:",{itemCount:l.items?.length});const c=(l.items||[]).map(u=>{if(u.snapshot){const f=u.product&&u.product._id||u.snapshot._id||null;return console.log("Fetched snapshot item: pid =",f),{...u.snapshot,_id:f||u.snapshot._id,__isSnapshot:!0,product:u.product||null}}return u.product?(console.log("Fetched product item: _id =",u.product._id),{...u.product,__isSnapshot:!1}):u});return console.log("Fetched wishlist items count:",c.length),c}catch(r){return t(r.message)}}),cf=Tr("wishlist/addItemToServer",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token");let n={};typeof e=="string"?n.productId=e:n=e||{};const a=r?{Authorization:`Bearer ${r}`}:{},l=await rt.post(`${Tc}/api/wishlist`,n,{headers:a});return console.log("addItemToServer response:",l.data),(l.data.items||[]).map(f=>{if(f.snapshot){const h=f.product&&f.product._id||f.snapshot._id||null;return console.log("Added snapshot item: pid =",h),{...f.snapshot,_id:h||f.snapshot._id,__isSnapshot:!0,product:f.product||null}}return f.product?(console.log("Added product item: _id =",f.product._id),{...f.product,__isSnapshot:!1}):f})}catch(r){return t(r.message)}}),Ao=Tr("wishlist/removeItemFromServer",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token");let n=null,a=null;if(typeof e=="string"?n=e:e&&typeof e=="object"&&(n=e.productId,a=e.variantId),!n)throw new Error("productId is required to remove wishlist item");console.log("=== removeItemFromServer ==="),console.log("productId:",n),console.log("productId type:",typeof n),console.log("variantId:",a);let l=a?`${Tc}/api/wishlist/${n}?variantId=${encodeURIComponent(a)}`:`${Tc}/api/wishlist/${n}`;console.log("DELETE URL:",l);const c=r?{Authorization:`Bearer ${r}`}:{},u=await rt.delete(l,{headers:c});console.log("=== removeItemFromServer Response ==="),console.log("Status:",u.status),console.log("Items count:",u.data.items?.length||0),console.log("Response:",u.data);const h=(u.data.items||[]).map(m=>{if(console.log("Normalizing item:",{hasProduct:!!m.product,hasSnapshot:!!m.snapshot,productId:m.product?._id}),m.snapshot){const g=m.product&&m.product._id||m.snapshot._id||null;return console.log("Snapshot item: using pid =",g),{...m.snapshot,_id:g||m.snapshot._id,__isSnapshot:!0,product:m.product||null}}return m.product?(console.log("Regular product item: _id =",m.product._id),{...m.product,__isSnapshot:!1}):m});return console.log("Normalized items count:",h.length),h}catch(r){return console.error("=== removeItemFromServer ERROR ==="),console.error("Error message:",r.message),console.error("Error response:",r.response?.data),t(r.message)}}),df=Tr("wishlist/clearWishlistServer",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("token"),n=r?{Authorization:`Bearer ${r}`}:{},a=await rt.delete(`${Tc}/api/wishlist`,{headers:n});return[]}catch(r){return t(r.message)}}),c6=oi({name:"wishlist",initialState:kE,reducers:{addToWishlist:(e,t)=>{let r=t.payload;if(!r)return;if(r.snapshot){const a=r.productId||r._id||r.product&&r.product._id||null;if(!e.items.find(c=>c._id===a&&c.__isSnapshot&&c.variantId&&r.snapshot.variantId&&String(c.variantId)===String(r.snapshot.variantId))){const c={...r.snapshot,_id:a||r.snapshot._id,__isSnapshot:!0};r.snapshot.variantId&&(c.variantId=r.snapshot.variantId),e.items.push(c),e.totalItems=e.items.length}return}if(r.product&&(r=r.product),typeof r=="string"){e.items.find(l=>l._id===r)||(e.items.push({_id:r}),e.totalItems=e.items.length);return}e.items.find(a=>a._id===r._id&&!a.__isSnapshot)||(e.items.push({...r,__isSnapshot:!1}),e.totalItems=e.items.length)},removeFromWishlist:(e,t)=>{const r=t.payload;if(r){if(typeof r=="string")e.items=e.items.filter(n=>n._id!==r);else if(typeof r=="object"&&r.productId){const{productId:n,variantId:a}=r;a?e.items=e.items.filter(l=>{if(!(l.__isSnapshot||!!l.variantId||!!l.snapshot))return!0;const u=l.productId||l.product&&(l.product._id||l.product)||l._id,f=l.variantId||l.snapshot&&l.snapshot.variantId||null;return!(String(u)===String(n)&&String(f)===String(a))}):e.items=e.items.filter(l=>{const c=l.productId||l.product&&(l.product._id||l.product)||l._id;return String(c)!==String(n)})}e.totalItems=e.items.length}},clearWishlist:e=>{e.items=[],e.totalItems=0},setWishlist:(e,t)=>{e.items=t.payload||[],e.totalItems=e.items.length},isInWishlist:(e,t)=>e.items.some(r=>r._id===t.payload)},extraReducers:e=>{e.addCase(Hl.pending,t=>{t.loading=!0,t.error=null}).addCase(Hl.fulfilled,(t,r)=>{t.loading=!1,t.items=r.payload,t.totalItems=t.items.length}).addCase(Hl.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(cf.fulfilled,(t,r)=>{t.items=r.payload,t.totalItems=t.items.length,t.loading=!1}).addCase(cf.rejected,(t,r)=>{t.error=r.payload,t.loading=!1}).addCase(Ao.fulfilled,(t,r)=>{t.items=r.payload,t.totalItems=t.items.length,t.loading=!1}).addCase(Ao.rejected,(t,r)=>{t.error=r.payload,t.loading=!1}).addCase(df.fulfilled,t=>{t.items=[],t.totalItems=0,t.loading=!1}).addCase(df.rejected,(t,r)=>{t.error=r.payload,t.loading=!1})}}),{addToWishlist:EE,removeFromWishlist:AE,clearWishlist:TE,setWishlist:ME,isInWishlist:OE}=c6.actions,d6=c6.reducer,RE=Object.freeze(Object.defineProperty({__proto__:null,addItemToServer:cf,addToWishlist:EE,clearWishlist:TE,clearWishlistServer:df,default:d6,fetchWishlist:Hl,isInWishlist:OE,removeFromWishlist:AE,removeItemFromServer:Ao,setWishlist:ME},Symbol.toStringTag,{value:"Module"})),u6="http://localhost:5000",DE={categories:[],selectedCategory:null,loading:!1,error:null,searchQuery:"",mainCategories:[]},ln=Tr("category/fetchCategories",async(e,{rejectWithValue:t})=>{try{return(await rt.get(`${u6}/api/categories`)).data}catch(r){return t(r.response?.data?.message||r.message)}}),qu=Tr("category/fetchCategoryBySlug",async(e,{rejectWithValue:t,getState:r})=>{try{return(await rt.get(`${u6}/api/categories/slug/${e}`)).data}catch(n){return t(n.response?.data?.message||n.message)}}),f6=oi({name:"category",initialState:DE,reducers:{setSearchQuery:(e,t)=>{e.searchQuery=t.payload},clearSearchQuery:e=>{e.searchQuery=""}},extraReducers:e=>{e.addCase(ln.pending,t=>{t.loading=!0,t.error=null}).addCase(ln.fulfilled,(t,r)=>{t.loading=!1,t.categories=r.payload}).addCase(ln.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(qu.pending,t=>{t.loading=!0,t.error=null}).addCase(qu.fulfilled,(t,r)=>{t.loading=!1,t.selectedCategory=r.payload}).addCase(qu.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{setSearchQuery:zE,clearSearchQuery:LE}=f6.actions,BE=f6.reducer,_E=G7({reducer:{product:pE,cart:bE,auth:NE,order:CE,wishlist:d6,category:BE}});let PE={data:""},IE=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||PE},HE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$E=/\/\*[^]*?\*\/|  +/g,r4=/\n+/g,Aa=(e,t)=>{let r="",n="",a="";for(let l in e){let c=e[l];l[0]=="@"?l[1]=="i"?r=l+" "+c+";":n+=l[1]=="f"?Aa(c,l):l+"{"+Aa(c,l[1]=="k"?"":t)+"}":typeof c=="object"?n+=Aa(c,t?t.replace(/([^,])+/g,u=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,u):u?u+" "+f:f)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Aa.p?Aa.p(l,c):l+":"+c+";")}return r+(t&&a?t+"{"+a+"}":a)+n},zs={},h6=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+h6(e[r]);return t}return e},VE=(e,t,r,n,a)=>{let l=h6(e),c=zs[l]||(zs[l]=(f=>{let h=0,m=11;for(;h<f.length;)m=101*m+f.charCodeAt(h++)>>>0;return"go"+m})(l));if(!zs[c]){let f=l!==e?e:(h=>{let m,g,b=[{}];for(;m=HE.exec(h.replace($E,""));)m[4]?b.shift():m[3]?(g=m[3].replace(r4," ").trim(),b.unshift(b[0][g]=b[0][g]||{})):b[0][m[1]]=m[2].replace(r4," ").trim();return b[0]})(e);zs[c]=Aa(a?{["@keyframes "+c]:f}:f,r?"":"."+c)}let u=r&&zs.g?zs.g:null;return r&&(zs.g=zs[c]),((f,h,m,g)=>{g?h.data=h.data.replace(g,f):h.data.indexOf(f)===-1&&(h.data=m?f+h.data:h.data+f)})(zs[c],t,n,u),c},UE=(e,t,r)=>e.reduce((n,a,l)=>{let c=t[l];if(c&&c.call){let u=c(r),f=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=f?"."+f:u&&typeof u=="object"?u.props?"":Aa(u,""):u===!1?"":u}return n+a+(c??"")},"");function bh(e){let t=this||{},r=e.call?e(t.p):e;return VE(r.unshift?r.raw?UE(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,IE(t.target),t.g,t.o,t.k)}let p6,px,mx;bh.bind({g:1});let Ys=bh.bind({k:1});function FE(e,t,r,n){Aa.p=t,p6=e,px=r,mx=n}function qa(e,t){let r=this||{};return function(){let n=arguments;function a(l,c){let u=Object.assign({},l),f=u.className||a.className;r.p=Object.assign({theme:px&&px()},u),r.o=/ *go\d+/.test(f),u.className=bh.apply(r,n)+(f?" "+f:"");let h=e;return e[0]&&(h=u.as||e,delete u.as),mx&&h[0]&&mx(u),p6(h,u)}return a}}var qE=e=>typeof e=="function",uf=(e,t)=>qE(e)?e(t):e,WE=(()=>{let e=0;return()=>(++e).toString()})(),m6=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),GE=20,N0="default",g6=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:n}=t;return g6(e,{type:e.toasts.find(c=>c.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(c=>c.id===a||a===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},Wu=[],x6={toasts:[],pausedAt:void 0,settings:{toastLimit:GE}},us={},b6=(e,t=N0)=>{us[t]=g6(us[t]||x6,e),Wu.forEach(([r,n])=>{r===t&&n(us[t])})},y6=e=>Object.keys(us).forEach(t=>b6(e,t)),KE=e=>Object.keys(us).find(t=>us[t].toasts.some(r=>r.id===e)),yh=(e=N0)=>t=>{b6(t,e)},YE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},JE=(e={},t=N0)=>{let[r,n]=C.useState(us[t]||x6),a=C.useRef(us[t]);C.useEffect(()=>(a.current!==us[t]&&n(us[t]),Wu.push([t,n]),()=>{let c=Wu.findIndex(([u])=>u===t);c>-1&&Wu.splice(c,1)}),[t]);let l=r.toasts.map(c=>{var u,f,h;return{...e,...e[c.type],...c,removeDelay:c.removeDelay||((u=e[c.type])==null?void 0:u.removeDelay)||e?.removeDelay,duration:c.duration||((f=e[c.type])==null?void 0:f.duration)||e?.duration||YE[c.type],style:{...e.style,...(h=e[c.type])==null?void 0:h.style,...c.style}}});return{...r,toasts:l}},QE=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||WE()}),Jc=e=>(t,r)=>{let n=QE(t,e,r);return yh(n.toasterId||KE(n.id))({type:2,toast:n}),n.id},ur=(e,t)=>Jc("blank")(e,t);ur.error=Jc("error");ur.success=Jc("success");ur.loading=Jc("loading");ur.custom=Jc("custom");ur.dismiss=(e,t)=>{let r={type:3,toastId:e};t?yh(t)(r):y6(r)};ur.dismissAll=e=>ur.dismiss(void 0,e);ur.remove=(e,t)=>{let r={type:4,toastId:e};t?yh(t)(r):y6(r)};ur.removeAll=e=>ur.remove(void 0,e);ur.promise=(e,t,r)=>{let n=ur.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?uf(t.success,a):void 0;return l?ur.success(l,{id:n,...r,...r?.success}):ur.dismiss(n),a}).catch(a=>{let l=t.error?uf(t.error,a):void 0;l?ur.error(l,{id:n,...r,...r?.error}):ur.dismiss(n)}),e};var XE=1e3,ZE=(e,t="default")=>{let{toasts:r,pausedAt:n}=JE(e,t),a=C.useRef(new Map).current,l=C.useCallback((g,b=XE)=>{if(a.has(g))return;let y=setTimeout(()=>{a.delete(g),c({type:4,toastId:g})},b);a.set(g,y)},[]);C.useEffect(()=>{if(n)return;let g=Date.now(),b=r.map(y=>{if(y.duration===1/0)return;let j=(y.duration||0)+y.pauseDuration-(g-y.createdAt);if(j<0){y.visible&&ur.dismiss(y.id);return}return setTimeout(()=>ur.dismiss(y.id,t),j)});return()=>{b.forEach(y=>y&&clearTimeout(y))}},[r,n,t]);let c=C.useCallback(yh(t),[t]),u=C.useCallback(()=>{c({type:5,time:Date.now()})},[c]),f=C.useCallback((g,b)=>{c({type:1,toast:{id:g,height:b}})},[c]),h=C.useCallback(()=>{n&&c({type:6,time:Date.now()})},[n,c]),m=C.useCallback((g,b)=>{let{reverseOrder:y=!1,gutter:j=8,defaultPosition:w}=b||{},S=r.filter(E=>(E.position||w)===(g.position||w)&&E.height),N=S.findIndex(E=>E.id===g.id),A=S.filter((E,M)=>M<N&&E.visible).length;return S.filter(E=>E.visible).slice(...y?[A+1]:[0,A]).reduce((E,M)=>E+(M.height||0)+j,0)},[r]);return C.useEffect(()=>{r.forEach(g=>{if(g.dismissed)l(g.id,g.removeDelay);else{let b=a.get(g.id);b&&(clearTimeout(b),a.delete(g.id))}})},[r,l]),{toasts:r,handlers:{updateHeight:f,startPause:u,endPause:h,calculateOffset:m}}},eA=Ys`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,tA=Ys`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rA=Ys`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nA=qa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${eA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${tA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,sA=Ys`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,aA=qa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${sA} 1s linear infinite;
`,oA=Ys`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lA=Ys`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,iA=qa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cA=qa("div")`
  position: absolute;
`,dA=qa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,uA=Ys`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fA=qa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${uA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,hA=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?C.createElement(fA,null,t):t:r==="blank"?null:C.createElement(dA,null,C.createElement(aA,{...n}),r!=="loading"&&C.createElement(cA,null,r==="error"?C.createElement(nA,{...n}):C.createElement(iA,{...n})))},pA=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,mA=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,gA="0%{opacity:0;} 100%{opacity:1;}",xA="0%{opacity:1;} 100%{opacity:0;}",bA=qa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,yA=qa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,vA=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=m6()?[gA,xA]:[pA(r),mA(r)];return{animation:t?`${Ys(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ys(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},jA=C.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?vA(e.position||t||"top-center",e.visible):{opacity:0},l=C.createElement(hA,{toast:e}),c=C.createElement(yA,{...e.ariaProps},uf(e.message,e));return C.createElement(bA,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:l,message:c}):C.createElement(C.Fragment,null,l,c))});FE(C.createElement);var NA=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let l=C.useCallback(c=>{if(c){let u=()=>{let f=c.getBoundingClientRect().height;n(e,f)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return C.createElement("div",{ref:l,className:t,style:r},a)},wA=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:m6()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},SA=bh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,vu=16,CA=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:l,containerStyle:c,containerClassName:u})=>{let{toasts:f,handlers:h}=ZE(r,l);return C.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:vu,left:vu,right:vu,bottom:vu,pointerEvents:"none",...c},className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},f.map(m=>{let g=m.position||t,b=h.calculateOffset(m,{reverseOrder:e,gutter:n,defaultPosition:t}),y=wA(g,b);return C.createElement(NA,{id:m.id,key:m.id,onHeightUpdate:h.updateHeight,className:m.visible?SA:"",style:y},m.type==="custom"?uf(m.message,m):a?a(m):C.createElement(jA,{toast:m,position:g}))}))},he=ur;const v6=C.createContext(),xg="http://localhost:5000",kA=({children:e})=>{const[t,r]=C.useState(null),[n,a]=C.useState(localStorage.getItem("token")||null),[l,c]=C.useState(!0),[u,f]=C.useState(!1),h=qt();C.useEffect(()=>{(async()=>{const S=localStorage.getItem("token");if(S)try{const A=(await rt.get(`${xg}/api/users/profile`,{headers:{Authorization:`Bearer ${S}`}})).data;r(A),a(S),f(A.role==="admin");try{h(Ac())}catch(E){console.error("Failed to dispatch fetchCart",E)}}catch(N){console.error("Token verification failed:",N),localStorage.removeItem("token"),a(null),r(null),f(!1)}c(!1)})()},[]);const j={user:t,token:n,loading:l,isAdmin:u,login:async(w,S)=>{try{c(!0);const A=(await rt.post(`${xg}/api/users/login`,{email:w,password:S})).data;localStorage.setItem("token",A.token),a(A.token),r(A.user||A),f(A.user?.role==="admin"||A.role==="admin");try{h(Ac())}catch(E){console.error("Failed to dispatch fetchCart after login",E)}return he.success("Login successful!"),{success:!0,user:A.user||A}}catch(N){const A=N.response?.data?.message||N.message||"Login failed";return he.error(A),{success:!1,error:A}}finally{c(!1)}},register:async(w,S,N)=>(he.error("User registration is disabled. Only admin login is available."),{success:!1,error:"Registration is not available"}),logout:()=>{localStorage.removeItem("token"),a(null),r(null),f(!1),h(v0()),he.success("Logged out successfully!")},updateProfile:async w=>{try{c(!0);const N=(await rt.put(`${xg}/api/users/profile`,w,{headers:{Authorization:`Bearer ${n}`}})).data;return r(N),he.success("Profile updated successfully!"),{success:!0,user:N}}catch(S){const N=S.response?.data?.message||S.message||"Profile update failed";return he.error(N),{success:!1,error:N}}finally{c(!1)}},isAuthenticated:!!n};return s.jsx(v6.Provider,{value:j,children:e})},Wa=()=>{const e=C.useContext(v6);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Ta=(e,t,r={},n={},a=[],l=null)=>({id:e,kind:t,widgetType:l,props:r,style:n,advanced:{},children:a}),ls=(e,t)=>{if(e.id===t)return e;if(e.children&&e.children.length>0)for(const r of e.children){const n=ls(r,t);if(n)return n}return null},Uo=(e,t,r=[])=>{const n=[...r,e];if(e.id===t)return{node:e,path:n};if(e.children&&e.children.length>0)for(const a of e.children){const l=Uo(a,t,n);if(l)return l}return null},j6=(e,t,r,n=-1)=>{const a=Uo(e,t);if(!a)return e;const{path:l}=a;return Qc(e,l,c=>{const u=[...c.children||[]];return n===-1||n>=u.length?u.push(r):u.splice(n,0,r),{...c,children:u}})},N6=(e,t)=>{const r=Uo(e,t);if(!r)return e;const{path:n}=r;if(n.length===1)return e;const a=n.slice(0,-1);return Qc(e,a,l=>({...l,children:(l.children||[]).filter(c=>c.id!==t)}))},xo=(e,t,r)=>{const n=Uo(e,t);if(!n)return e;const{path:a}=n;return Qc(e,a,l=>{const{props:c,style:u,responsive:f,advanced:h,...m}=r;return{...l,...m,props:c!==void 0?c:l.props,style:u!==void 0?u:l.style,responsive:f!==void 0?f:l.responsive,advanced:h!==void 0?h:l.advanced}})},EA=(e,t,r,n=-1)=>{const a=Uo(e,t);if(!a)return e;const l=a.node;let c=N6(e,t);return c=j6(c,r,l,n),c},AA=(e,t,r,n)=>{const a=Uo(e,t);return a?Qc(e,[...a.path],l=>{const c=[...l.children||[]];if(r<0||n<0||r>=c.length||n>=c.length)return l;const[u]=c.splice(r,1);return c.splice(n,0,u),{...l,children:c}}):e},Qc=(e,t,r)=>{if(t.length===0)return e;if(t.length===1)return r(e);const[n,...a]=t;return{...n,children:n.children.map(l=>l.id===a[0].id?Qc(l,a,r):l)}},w6=(e,t=[])=>{if(t.push(e),e.children&&e.children.length>0)for(const r of e.children)w6(r,t);return t},TA=(e,t)=>{const r=Uo(e,t);return r?r.path:[]},MA=e=>{if(!e)return Ta("root","root",{},{},[]);if(e.kind==="root")return e;const r=(e.sections||[]).sort((n,a)=>(n.order||0)-(a.order||0)).map(n=>Ta(n.id,n.kind||n.type||"section",{...n.content,visible:n.visible!==!1},n.style||{},n.children||[]));return Ta("root","root",{},{},r)},OA=e=>e&&(e.kind==="root"||e.type==="root"),Fo=C.createContext(),RA=({children:e})=>{const t=Wa(),[r,n]=C.useState(()=>({id:"root",kind:"root",props:{},style:{},advanced:{},children:[]})),[a,l]=C.useState(null),[c,u]=C.useState(!1),[f,h]=C.useState("home"),[m,g]=C.useState(!1),[b,y]=C.useState("idle"),[j,w]=C.useState("desktop"),S=C.useRef([Ta("root","root",{},{},[])]),N=C.useRef(0),A=C.useRef(null),E=C.useCallback(L=>{S.current=S.current.slice(0,N.current+1),S.current.push(L),N.current=S.current.length-1},[]),M=C.useCallback((L,H,J={},pe={},Se=-1)=>{let ye;if(typeof H=="object"&&H!==null&&H.id)ye=H;else{const Ue=H,nt=`${Ue}_${Date.now()}_${Math.random().toString(36).slice(2)}`;ye=Ta(nt,Ue,J,pe,[])}return n(Ue=>{const nt=j6(Ue,L,ye,Se);return E(nt),nt}),l(ye.id),ye.id},[E]),T=C.useCallback(L=>{L!=="root"&&(n(H=>{const J=N6(H,L);return E(J),J}),l(null))},[E]),D=C.useCallback(L=>{L!=="root"&&n(H=>{const J=ls(H,L);if(!J)return H;const pe=nt=>{const ht=`${nt.id}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return{...nt,id:ht,children:nt.children?nt.children.map(pe):[]}},Se=pe(J);let ye=H;if(L==="root")return H;const Ue=nt=>{if(!nt.children)return!1;const ht=nt.children.findIndex(wt=>wt.id===L);return ht!==-1?(nt.children.splice(ht+1,0,Se),!0):nt.children.some(wt=>Ue(wt))};return Ue(ye),E(ye),l(Se.id),ye})},[E]),R=C.useCallback((L,H)=>{n(J=>{const pe=xo(J,L,H);return E(pe),pe})},[E]),q=C.useCallback((L,H)=>{n(J=>{const pe=ls(J,L);if(!pe)return J;const Se=xo(J,L,{style:{...pe.style,...H}});return E(Se),Se})},[E]),K=C.useCallback((L,H)=>{n(J=>{const pe=ls(J,L);if(!pe)return J;const Se=xo(J,L,{advanced:{...pe.advanced,...H}});return E(Se),Se})},[E]),W=C.useCallback((L,H,J,pe)=>{n(Se=>{const ye=ls(Se,L);if(!ye)return Se;const Ue=ye.responsive||{},nt=Ue[H]||{},ht=nt.style||{},wt=xo(Se,L,{responsive:{...Ue,[H]:{...nt,style:{...ht,[J]:pe}}}});return E(wt),wt})},[E]),V=C.useCallback((L,H,J,pe)=>{n(Se=>{const ye=ls(Se,L);if(!ye)return Se;const Ue=ye.responsive||{},nt=Ue[H]||{},ht=nt.advanced||{},wt=xo(Se,L,{responsive:{...Ue,[H]:{...nt,advanced:{...ht,[J]:pe}}}});return E(wt),wt})},[E]),Y=C.useCallback((L,H,J)=>{H!=="desktop"&&n(pe=>{const Se=ls(pe,L);if(!Se)return pe;const ye=Se.responsive||{},Ue=ye[H]||{},ht={...Ue.style||{}};delete ht[J];const wt=xo(pe,L,{responsive:{...ye,[H]:{...Ue,style:ht}}});return E(wt),wt})},[E]),$=C.useCallback((L,H,J)=>{H!=="desktop"&&n(pe=>{const Se=ls(pe,L);if(!Se)return pe;const ye=Se.responsive||{},Ue=ye[H]||{},ht={...Ue.advanced||{}};delete ht[J];const wt=xo(pe,L,{responsive:{...ye,[H]:{...Ue,advanced:ht}}});return E(wt),wt})},[E]),I=C.useCallback((L,H,J=-1)=>{n(pe=>{const Se=EA(pe,L,H,J);return E(Se),Se})},[E]),ie=C.useCallback((L,H,J)=>{n(pe=>{const Se=AA(pe,L,H,J);return E(Se),Se})},[E]),B=C.useCallback(()=>{N.current>0&&(N.current-=1,n(S.current[N.current]),l(null))},[]),Z=C.useCallback(()=>{N.current<S.current.length-1&&(N.current+=1,n(S.current[N.current]),l(null))},[]),ue=N.current>0,_=N.current<S.current.length-1,fe=C.useCallback(L=>Array.isArray(L)?L.map(H=>(H&&typeof H=="object"&&(typeof H.children=="string"?H.children=[]:Array.isArray(H.children)&&(H.children=fe(H.children))),H)):L,[]),z=C.useCallback(async L=>{try{const H=await fetch(`/api/page-config/${L}`);if(H.ok){const J=await H.json();let pe;if(J.sections&&Array.isArray(J.sections)){const Se=fe(J.sections);Se.length>0?pe={id:"root",kind:"root",props:{},style:{},advanced:{},children:Se}:pe=Ta("root","root",{},{},[])}else pe=J.kind?J:Ta("root","root",{},{},[]);return OA(pe)||(pe=MA(pe)),n(pe),S.current=[pe],N.current=0,l(null),pe}else if(H.status===404){const J=Ta("root","root",{},{},[]);return n(J),S.current=[J],N.current=0,J}}catch(H){console.error("loadPage error:",H),y("error")}},[fe]),X=C.useCallback(async(L=!1)=>new Promise((H,J)=>{const pe=async()=>{y("saving");try{if(!t?.token&&!t?.user)throw new Error("Save failed: You must be logged in to save. Please login with your admin account.");if(!t?.isAdmin)throw new Error("Save failed: Only admins can save pages. Please login with an admin account.");const Se=localStorage.getItem("token")||localStorage.getItem("adminToken")||localStorage.getItem("authToken");if(!Se)throw new Error("Save failed: No authentication token found. Please login again.");const ye={sections:r.children||[],meta:{title:f,description:"",layout:"default"}},Ue=wt=>{if(!Array.isArray(wt))return[];const Yt=[];for(const mt of wt)mt.responsive&&Yt.push({id:mt.id,responsive:mt.responsive}),mt.children&&Yt.push(...Ue(mt.children));return Yt},nt=Ue(ye.sections),ht=await fetch(`/api/page-config/${f}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Se}`},body:JSON.stringify(ye)});if(!ht.ok){const Yt=(await ht.json().catch(()=>({}))).message||ht.statusText;throw ht.status===401?new Error(`Save failed: Unauthorized - ${Yt}. Your session may have expired. Please login again.`):ht.status===403?new Error(`Save failed: Forbidden - ${Yt}. Admin access required.`):new Error(`Save failed: ${Yt}`)}y("saved"),setTimeout(()=>y("idle"),2e3),H({success:!0})}catch(Se){y("error"),J(Se)}};L?pe():(A.current&&clearTimeout(A.current),A.current=setTimeout(pe,2e3))}),[f,r]),G=C.useCallback(async(L="home")=>{c||(h(L),await z(L)),u(!c)},[c,z]),ce=C.useCallback(L=>{l(L)},[]),ke=C.useCallback(()=>ls(r,a||""),[r,a]),Me=C.useCallback(()=>TA(r,a||""),[r,a]),$e=w6(r);C.useEffect(()=>(c&&r&&(A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{X(!1)},2e3)),()=>{A.current&&clearTimeout(A.current)}),[r,c,X]);const Ae={rootNode:r,selectedNodeId:a,isEditing:c,currentPage:f,isSaving:m,saveStatus:b,currentDevice:j,setCurrentDevice:w,canUndo:ue,canRedo:_,flattenedNodes:$e,insertNewNode:M,deleteNode:T,updateNodeProps:R,updateNodeStyle:q,updateNodeAdvanced:K,updateNodeResponsiveStyle:W,updateNodeResponsiveAdvanced:V,clearResponsiveStyle:Y,clearResponsiveAdvanced:$,moveNodeToParent:I,duplicateNodeAction:D,reorderChildrenAction:ie,undo:B,redo:Z,loadPage:z,savePage:X,toggleEditMode:G,selectNode:ce,getSelectedNode:ke,getBreadcrumbPath:Me,findNode:L=>ls(r,L),setRootNode:n};return s.jsx(Fo.Provider,{value:Ae,children:e})},w0=()=>{const e=C.useContext(Fo);if(!e)throw new Error("useElementorBuilder must be used within ElementorBuilderProvider");return e},DA=()=>{const e=qt(),t=At(a=>a.cart?.items||[]),r=C.useRef(t),n=C.useRef(null);C.useEffect(()=>(JSON.stringify(r.current)!==JSON.stringify(t)&&(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{console.log("Auto-syncing cart items:",t.length),e(Va(t))},500),r.current=t),()=>{n.current&&clearTimeout(n.current)}),[t,e])},zA=()=>{const e=qt(),t=At(a=>a.wishlist?.items||[]),r=C.useRef(t),n=C.useRef(!1);C.useEffect(()=>{if(!n.current){n.current=!0,r.current=t,console.log("useWishlistSync: Initial load, baseline:",t.length,"items");return}JSON.stringify(r.current)!==JSON.stringify(t)&&(console.log("useWishlistSync: Wishlist changed from",r.current.length,"to",t.length,"items"),r.current=t)},[t,e])},S6="guestId",LA=()=>{const e=localStorage.getItem(S6);return console.log("Retrieved guestId from localStorage:",e),e},BA=e=>{e&&(localStorage.setItem(S6,e),console.log("Saved guestId to localStorage:",e))},_A=()=>{const e=LA();return e&&console.log("Restored guestId from localStorage:",e),e},PA=()=>{const e=window.fetch.bind(window);return function(r,n={}){const a={...n,credentials:"include"};return e(r,a).then(l=>{const c=l.headers.get("X-Guest-ID");return c&&(console.log("Captured guestId from X-Guest-ID header:",c),BA(c)),l}).catch(l=>{throw console.error("Fetch error:",l),l})}},IA=()=>{window.fetch=PA(),console.log("Enhanced fetch installed")},HA="modulepreload",$A=function(e){return"/"+e},n4={},VA=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let h=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=h;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=h(r.map(m=>{if(m=$A(m),m in n4)return;n4[m]=!0;const g=m.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":HA,g||(y.as="script"),y.crossOrigin="",y.href=m,f&&y.setAttribute("nonce",f),document.head.appendChild(y),g)return new Promise((j,w)=>{y.addEventListener("load",j),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return t().catch(l)})},S0="/assets/Wolf%20Supplies%20LTD-CqEoOxlM.png",UA=Object.freeze(Object.defineProperty({__proto__:null,default:S0},Symbol.toStringTag,{value:"Module"}));var C6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s4=pt.createContext&&pt.createContext(C6),FA=["attr","size","title"];function qA(e,t){if(e==null)return{};var r=WA(e,t),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WA(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(this,arguments)}function a4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(r),!0).forEach(function(n){GA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GA(e,t,r){return t=KA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KA(e){var t=YA(e,"string");return typeof t=="symbol"?t:t+""}function YA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k6(e){return e&&e.map((t,r)=>pt.createElement(t.tag,hf({key:r},t.attr),k6(t.child)))}function Ce(e){return t=>pt.createElement(JA,ff({attr:hf({},e.attr)},t),k6(e.child))}function JA(e){var t=r=>{var{attr:n,size:a,title:l}=e,c=qA(e,FA),u=a||r.size||"1em",f;return r.className&&(f=r.className),e.className&&(f=(f?f+" ":"")+e.className),pt.createElement("svg",ff({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,c,{className:f,style:hf(hf({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&pt.createElement("title",null,l),e.children)};return s4!==void 0?pt.createElement(s4.Consumer,null,r=>t(r)):t(C6)}function QA(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function XA(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function ZA(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function eT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function tT(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"},child:[]}]})(e)}function rT(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function nT(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function sT(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 224h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm416 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 44.83v38.34A12.82 12.82 0 0 0 172.83 96h262.34A12.82 12.82 0 0 0 448 83.17V44.83A12.82 12.82 0 0 0 435.17 32zm0 256H172.83A12.82 12.82 0 0 0 160 300.83v38.34A12.82 12.82 0 0 0 172.83 352h262.34A12.82 12.82 0 0 0 448 339.17v-38.34A12.82 12.82 0 0 0 435.17 288z"},child:[]}]})(e)}function aT(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function Er(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function o4(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function oT(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function lT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"},child:[]}]})(e)}function iT(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function cT(e){return Ce({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"},child:[]}]})(e)}function Pn(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function l4(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function i4(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function dT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function No(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Yr(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Gn(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function C0(e){return Ce({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Yn(e){return Ce({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function uT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(e)}function fT(e){return Ce({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function hT(e){return Ce({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(e)}function k0(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function E0(e){return Ce({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function pT(e){return Ce({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function mT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function gT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(e)}function xT(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function bT(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function yT(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function vT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function vh(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function ms(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function E6(e){return Ce({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function A0(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function jT(e){return Ce({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function NT(e){return Ce({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function wT(e){return Ce({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function ST(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function CT(e){return Ce({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm200 248c0 22.5-3.9 44.2-10.8 64.4h-20.3c-4.3 0-8.4-1.7-11.4-4.8l-32-32.6c-4.5-4.6-4.5-12.1.1-16.7l12.5-12.5v-8.7c0-3-1.2-5.9-3.3-8l-9.4-9.4c-2.1-2.1-5-3.3-8-3.3h-16c-6.2 0-11.3-5.1-11.3-11.3 0-3 1.2-5.9 3.3-8l9.4-9.4c2.1-2.1 5-3.3 8-3.3h32c6.2 0 11.3-5.1 11.3-11.3v-9.4c0-6.2-5.1-11.3-11.3-11.3h-36.7c-8.8 0-16 7.2-16 16v4.5c0 6.9-4.4 13-10.9 15.2l-31.6 10.5c-3.3 1.1-5.5 4.1-5.5 7.6v2.2c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8s-3.6-8-8-8H247c-3 0-5.8 1.7-7.2 4.4l-9.4 18.7c-2.7 5.4-8.2 8.8-14.3 8.8H194c-8.8 0-16-7.2-16-16V199c0-4.2 1.7-8.3 4.7-11.3l20.1-20.1c4.6-4.6 7.2-10.9 7.2-17.5 0-3.4 2.2-6.5 5.5-7.6l40-13.3c1.7-.6 3.2-1.5 4.4-2.7l26.8-26.8c2.1-2.1 3.3-5 3.3-8 0-6.2-5.1-11.3-11.3-11.3H258l-16 16v8c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8v-20c0-2.5 1.2-4.9 3.2-6.4l28.9-21.7c1.9-.1 3.8-.3 5.7-.3C358.3 56 448 145.7 448 256zM130.1 149.1c0-3 1.2-5.9 3.3-8l25.4-25.4c2.1-2.1 5-3.3 8-3.3 6.2 0 11.3 5.1 11.3 11.3v16c0 3-1.2 5.9-3.3 8l-9.4 9.4c-2.1 2.1-5 3.3-8 3.3h-16c-6.2 0-11.3-5.1-11.3-11.3zm128 306.4v-7.1c0-8.8-7.2-16-16-16h-20.2c-10.8 0-26.7-5.3-35.4-11.8l-22.2-16.7c-11.5-8.6-18.2-22.1-18.2-36.4v-23.9c0-16 8.4-30.8 22.1-39l42.9-25.7c7.1-4.2 15.2-6.5 23.4-6.5h31.2c10.9 0 21.4 3.9 29.6 10.9l43.2 37.1h18.3c8.5 0 16.6 3.4 22.6 9.4l17.3 17.3c3.4 3.4 8.1 5.3 12.9 5.3H423c-32.4 58.9-93.8 99.5-164.9 103.1z"},child:[]}]})(e)}function kT(e){return Ce({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function ET(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256H48a48 48 0 0 0 0 96h416a48 48 0 0 0 0-96zm16 128H32a16 16 0 0 0-16 16v16a64 64 0 0 0 64 64h352a64 64 0 0 0 64-64v-16a16 16 0 0 0-16-16zM58.64 224h394.72c34.57 0 54.62-43.9 34.82-75.88C448 83.2 359.55 32.1 256 32c-103.54.1-192 51.2-232.18 116.11C4 180.09 24.07 224 58.64 224zM384 112a16 16 0 1 1-16 16 16 16 0 0 1 16-16zM256 80a16 16 0 1 1-16 16 16 16 0 0 1 16-16zm-128 32a16 16 0 1 1-16 16 16 16 0 0 1 16-16z"},child:[]}]})(e)}function c4(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"},child:[]}]})(e)}function A6(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(e)}function jh(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function AT(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function T6(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function TT(e){return Ce({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"},child:[]}]})(e)}function Mc(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(e)}function MT(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"},child:[]}]})(e)}function OT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function RT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"},child:[]}]})(e)}function T0(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function To(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function M6(e){return Ce({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function d4(e){return Ce({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function O6(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function DT(e){return Ce({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function zT(e){return Ce({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"},child:[]}]})(e)}function Oc(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function Ga(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Js(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function LT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}function BT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},child:[]}]})(e)}function Ba(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function _T(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function u4(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function Bo(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function gx(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Qs(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function M0(e){return Ce({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(e)}function _o(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function PT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function IT(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function xx(e){return Ce({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function Wt(e){return Ce({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function f4(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Fs(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function HT(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(e)}function Nh(e){return Ce({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function R6(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},child:[]}]})(e)}function $T(e){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304.083 405.907c4.686 4.686 4.686 12.284 0 16.971l-44.674 44.674c-59.263 59.262-155.693 59.266-214.961 0-59.264-59.265-59.264-155.696 0-214.96l44.675-44.675c4.686-4.686 12.284-4.686 16.971 0l39.598 39.598c4.686 4.686 4.686 12.284 0 16.971l-44.675 44.674c-28.072 28.073-28.072 73.75 0 101.823 28.072 28.072 73.75 28.073 101.824 0l44.674-44.674c4.686-4.686 12.284-4.686 16.971 0l39.597 39.598zm-56.568-260.216c4.686 4.686 12.284 4.686 16.971 0l44.674-44.674c28.072-28.075 73.75-28.073 101.824 0 28.072 28.073 28.072 73.75 0 101.823l-44.675 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.598 39.598c4.686 4.686 12.284 4.686 16.971 0l44.675-44.675c59.265-59.265 59.265-155.695 0-214.96-59.266-59.264-155.695-59.264-214.961 0l-44.674 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.597 39.598zm234.828 359.28l22.627-22.627c9.373-9.373 9.373-24.569 0-33.941L63.598 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 29.657c-9.373 9.373-9.373 24.569 0 33.941l441.373 441.373c9.373 9.372 24.569 9.372 33.941 0z"},child:[]}]})(e)}function bx(e){return Ce({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function h4(e){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function yx(e){return Ce({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function VT(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}function pf(e){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(e)}const UT=({hideMenu:e=!1})=>{const[t,r]=C.useState(!1),[n,a]=C.useState(!1),[l,c]=C.useState(""),[u,f]=C.useState(""),[h,m]=C.useState(!1),[g,b]=C.useState(!1),y=Ar(),{logout:j,isAuthenticated:w,user:S,isAdmin:N}=Wa(),{toggleEditMode:A}=w0(),{totalQuantity:E}=At(Ae=>Ae.cart),{totalItems:M}=At(Ae=>Ae.wishlist),{categories:T}=At(Ae=>Ae.category),D=qt(),R=C.useRef(null),q=C.useRef(null),[K,W]=C.useState([]),V=T.filter(Ae=>Ae.level==="main"),Y=K&&K.length>0?K:V,[$,I]=C.useState([0]),[ie,B]=C.useState(!1),[Z,ue]=C.useState({}),_=()=>{j(),y("/"),r(!1)},fe=Ae=>{Ae?.preventDefault();const L=l?.trim();a(!1),y(L?`/products?search=${encodeURIComponent(L)}`:"/products")},z=Ae=>{Ae?.preventDefault();const L=u?.trim();y(L?`/products?search=${encodeURIComponent(L)}`:"/products")},X=(Ae=!1)=>{const L=window.SpeechRecognition||window.webkitSpeechRecognition;if(!L){he.error("Voice search is not supported in your browser");return}const H=new L;H.lang="en-US",H.continuous=!1,H.interimResults=!0,Ae?b(!0):m(!0),H.onstart=()=>{console.log("Voice search started...")},H.onresult=J=>{let pe="",Se="";for(let ye=J.resultIndex;ye<J.results.length;ye++){const Ue=J.results[ye][0].transcript;J.results[ye].isFinal?Se+=Ue+" ":pe+=Ue}Ae?c(Se||pe):f(Se||pe)},H.onerror=J=>{console.error("Voice search error:",J.error),J.error!=="no-speech"&&he.error("Error in voice search. Please try again."),Ae?b(!1):m(!1)},H.onend=()=>{Ae?b(!1):m(!1)},H.start()},G=C.useRef(null),ce=C.useRef(null);C.useEffect(()=>{const Ae=L=>{L.key==="Escape"&&(t&&r(!1),n&&a(!1))};return document.addEventListener("keydown",Ae),t||n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.removeEventListener("keydown",Ae),document.body.style.overflow=""}},[t,n]),C.useEffect(()=>{n&&ce.current&&setTimeout(()=>ce.current.focus(),80)},[n]);const ke=(Ae,L="root")=>{!Ae||!Array.isArray(Ae)||Ae.forEach((H,J)=>{const pe=`${L}[${J}]`,Se=H.url||H.link,ye=H.url||H.link;console.log(` ${pe}: "${H.label||H.name}"  ${Se?`"${ye}"`:" NO LINK"}`);const Ue=H.submenu||H.sub||[];Ue.length>0&&ke(Ue,pe)})};C.useEffect(()=>{(async()=>{try{const H=await fetch("http://localhost:5000/api/settings/menu");if(!H.ok)return;const J=await H.json();J&&Array.isArray(J.browseMenu)&&(console.log("=== MENU LOADED FROM API ==="),console.log("Menu data:",J.browseMenu),console.log("=== VALIDATING MENU LINKS ==="),ke(J.browseMenu),console.log("=== VALIDATION COMPLETE ==="),W(J.browseMenu))}catch(L){console.warn("Could not load browse menu",L)}})()},[]),C.useEffect(()=>{localStorage.getItem("token")&&VA(()=>Promise.resolve().then(()=>RE),[]).then(L=>{L.fetchWishlist&&D(L.fetchWishlist())}).catch(()=>{})},[D]);const Me=Ae=>{ue(L=>({...L,[Ae]:!L[Ae]}))},$e=(Ae,L="root")=>!Ae||Ae.length===0?null:s.jsx("div",{className:"space-y-1",children:Ae.map((H,J)=>{const pe=`${L}_${H.id||J}`,Se=H.submenu||H.sub||[],ye=Se&&Se.length>0,Ue=Z[pe];return s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ze,{to:H.url||H.link||"#",className:"flex-1 px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg text-sm font-semibold transition duration-150",onClick:()=>r(!1),children:H.label||H.name}),ye&&s.jsx("button",{onClick:()=>Me(pe),className:"px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] rounded-lg transition duration-150","aria-label":Ue?"Collapse":"Expand",children:Ue?"":""})]}),ye&&Ue&&$e(Se,pe)]},pe)})});return s.jsxs("header",{className:"w-full bg-[var(--color-bg-primary)] z-50",children:[s.jsx("div",{className:"bg-[var(--color-accent-primary)] text-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2.5",children:s.jsxs("div",{className:"flex justify-between items-center text-xs sm:text-sm md:text-base",children:[s.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[s.jsx(ze,{to:"/about",className:"hover:text-[var(--color-bg-section)] transition duration-300 font-semibold whitespace-nowrap",children:"About Us"}),s.jsx("div",{className:"hidden sm:block text-white text-opacity-60",children:"|"}),s.jsx(ze,{to:"/policies/shipping",className:"hidden sm:block hover:text-[var(--color-bg-section)] transition duration-300 font-semibold",children:"Shipping"}),s.jsx("div",{className:"hidden sm:block text-white text-opacity-60",children:"|"}),s.jsx(ze,{to:"/policies/returns-refund",className:"hidden md:block hover:text-[var(--color-bg-section)] transition duration-300 font-semibold",children:"Return & Refunds"})]}),s.jsxs("div",{className:"flex items-center gap-3 sm:gap-5",children:[s.jsxs("a",{href:"mailto:sales@wolfsuppliesltd.co.uk",className:"hover:text-[var(--color-bg-section)] transition duration-300 font-semibold whitespace-nowrap flex items-center gap-1.5",children:[s.jsx(ms,{})," sales@wolfsuppliesltd.co.uk"]}),w?s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"relative group hidden sm:block",children:[s.jsxs("button",{className:"hover:text-[var(--color-bg-section)] transition duration-300 font-semibold flex items-center gap-1.5 whitespace-nowrap",children:[s.jsx(h4,{})," ",S?.name||"User"," ",s.jsx(Gn,{className:"text-xs"})]}),s.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition duration-300 z-50",children:[s.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--color-border-light)] text-xs text-[var(--color-text-light)]",children:S?.email}),N&&s.jsxs(s.Fragment,{children:[s.jsxs(ze,{to:"/admin/dashboard",className:"px-4 py-2.5 hover:bg-[var(--color-bg-section)] text-sm flex items-center gap-2",children:[s.jsx(bx,{className:"text-[var(--color-accent-primary)]"})," Admin Dashboard"]}),s.jsx("div",{className:"border-b border-[var(--color-border-light)]"})]}),s.jsxs("button",{onClick:_,className:"w-full text-left px-4 py-2.5 hover:bg-[var(--color-border-light)] text-sm rounded-b-lg flex items-center gap-2 text-[var(--color-text-primary)] font-semibold",children:[s.jsx(gx,{})," Logout"]})]})]})}):null]})]})})}),s.jsx("div",{className:"bg-[var(--color-bg-primary)] border-b border-[var(--color-border-light)]",children:s.jsxs("div",{className:"max-w-7xl mx-auto sm:px-2 lg:px-2 pt-3",children:[s.jsx("div",{className:"px-2 py-4 border-b border-[var(--color-border-light)]",children:s.jsxs("div",{className:"flex items-center justify-between gap-3 md:gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[s.jsx("button",{onClick:()=>{a(!1),r(!t)},className:"md:hidden text-2xl text-gray-700 hover:text-gray-400 transition duration-300","aria-label":"Toggle menu",children:t?s.jsx(Wt,{}):s.jsx(iT,{})}),s.jsx(ze,{to:"/",className:"flex items-center gap-2 flex-shrink-0",children:s.jsx("img",{src:S0,alt:"Wolf Supplies LTD",className:"h-24 w-auto object-contain"})})]}),s.jsx("div",{className:"flex-1 mx-4 md:mx-6 hidden lg:block",children:s.jsxs("form",{onSubmit:z,className:"relative w-full flex items-center",children:[s.jsx("input",{ref:R,type:"text",value:u,onChange:Ae=>f(Ae.target.value),placeholder:"Search for a product or brand",className:"w-full h-12 md:h-14 px-6 rounded-l-full border border-[var(--color-border-light)] placeholder-[var(--color-text-muted)] text-[var(--color-text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)] transition duration-200 bg-[var(--color-bg-primary)]"}),s.jsx("button",{type:"button",onClick:()=>X(!1),className:`h-12 md:h-14 px-4 flex items-center justify-center transition duration-300 ${h?"bg-[var(--color-error)] text-white":"bg-[var(--color-bg-section)] text-[var(--color-text-primary)] hover:bg-[var(--color-border)]"}`,title:"Voice Search","aria-label":"Voice search",children:s.jsx(d4,{className:"text-lg"})}),s.jsx("button",{type:"submit",className:"h-12 md:h-14 bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white px-5 rounded-r-full flex items-center justify-center shadow-md transition duration-300",children:s.jsx(Ba,{className:"text-lg md:text-xl"})})]})}),s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-shrink-0",children:[s.jsx("button",{onClick:()=>{r(!1),a(!0),c("")},className:"md:hidden ml-2 text-lg text-gray-700 hover:text-gray-400 transition duration-300","aria-label":"Open search",children:s.jsx(Ba,{})}),s.jsxs(ze,{to:"/wishlist",className:"relative text-[var(--color-text-light)] hidden lg:block hover:text-[var(--color-accent-primary)] transition duration-300 p-2 hover:bg-[var(--color-bg-section)] rounded-lg",children:[s.jsx(jh,{className:"text-lg  md:text-xl"}),M>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-[var(--color-error)] text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center",children:M})]}),s.jsx(ze,{to:"/order-lookup",className:"text-[var(--color-text-light)] hidden lg:block hover:text-[var(--color-accent-primary)] transition duration-300 p-2 hover:bg-[var(--color-bg-section)] rounded-lg",title:"Order Lookup",children:s.jsx(Pn,{className:"text-lg md:text-xl"})}),s.jsxs(ze,{to:"/cart",className:"relative text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 p-2 hover:bg-[var(--color-bg-section)] rounded-lg",children:[s.jsx(Bo,{className:"text-lg md:text-xl"}),E>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-[var(--color-error)] text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center",children:E})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-[var(--color-accent-primary)] text-white px-3 md:px-4 py-2 rounded-lg whitespace-nowrap",children:[s.jsx(Ga,{className:"text-base md:text-lg"}),s.jsx("span",{className:"font-bold text-sm md:text-base",children:s.jsx("a",{href:"tel:+447398998101",children:"+447398998101"})})]})]})]})}),!e&&s.jsxs("div",{className:"hidden md:block sticky top-0 w-full bg-white border-b border-[var(--color-border-light)] z-30",onMouseEnter:()=>B(!0),onMouseLeave:()=>{B(!1),I([0])},children:[s.jsxs("div",{className:"flex items-center h-16 gap-0",children:[s.jsxs("button",{className:"flex items-center gap-2 px-6 py-4  text-black hover:opacity-90 transition duration-300 font-bold text-lg whitespace-nowrap min-w-fit",children:[s.jsxs("svg",{viewBox:"0 0 16 12",width:"22",height:"22",fill:"none",stroke:"currentColor",strokeWidth:"1.4",children:[s.jsx("line",{x1:"1",y1:"2",x2:"15",y2:"2"}),s.jsx("line",{x1:"1",y1:"6",x2:"12",y2:"6"}),s.jsx("line",{x1:"1",y1:"10",x2:"8",y2:"10"})]}),s.jsx("span",{children:"Browse Categories"})]}),s.jsx("div",{className:"h-10 w-px bg-[var(--color-border-light)] mx-4"}),s.jsxs("nav",{className:"flex items-center gap-0 flex-1",children:[s.jsx(ze,{to:"/",className:"px-5 py-4 font-semibold text-sm transition duration-300 whitespace-nowrap text-[var(--color-text-primary)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)]",children:"Home"}),s.jsx(ze,{to:"/products",className:"px-5 py-4 font-semibold text-sm transition duration-300 whitespace-nowrap text-[var(--color-text-primary)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)]",children:"Shop"}),s.jsx(ze,{to:"/about",className:"px-5 py-4 font-semibold text-sm transition duration-300 whitespace-nowrap text-[var(--color-text-primary)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)]",children:"About"}),s.jsx(ze,{to:"/contact",className:"px-5 py-4 font-semibold text-sm transition duration-300 whitespace-nowrap text-[var(--color-text-primary)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)]",children:"Contact"})]})]}),ie&&s.jsx("div",{className:"absolute left-0 right-0 top-full z-40 opacity-100 visible translate-y-0",onMouseLeave:()=>{B(!1),I([0])},children:s.jsxs("div",{className:"w-full bg-white shadow-2xl border-t border-[var(--color-border-light)] flex h-96 overflow-x-auto",children:[s.jsx("div",{className:"w-56 bg-[var(--color-bg-primary)] border-r border-[var(--color-border-light)] overflow-y-auto p-0 flex flex-col flex-shrink-0",children:Y.map((Ae,L)=>{Ae.url||Ae.link;const H=Ae.url||Ae.link||"#",J=Ae.submenu&&Ae.submenu.length>0||Ae.sub&&Ae.sub.length>0,pe=$[0]===L;return s.jsxs(ze,{to:H,onMouseEnter:()=>I([L]),onClick:()=>{B(!1),I([0])},className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${pe?"bg-white text-[var(--color-accent-primary)]":"bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] hover:bg-white hover:text-[var(--color-accent-primary)]"}`,children:[s.jsx("span",{children:Ae.label||Ae.name||"Menu Item"}),J&&s.jsx(Gn,{className:"text-xs text-[var(--color-text-light)]"})]},Ae.id||`m_${L}`)})}),(()=>{const Ae=[];let L=Y,H=[...$];if(H.length>0){const J=H[0];if(J>=0&&J<L.length){const pe=L[J],Se=pe?.submenu||pe?.sub||[];Se.length>0&&(Ae.push(s.jsx("div",{className:"w-56 bg-white border-r border-[var(--color-border-light)] overflow-y-auto p-0 flex flex-col flex-shrink-0",children:Se.map((ye,Ue)=>{const nt=ye.submenu&&ye.submenu.length>0||ye.sub&&ye.sub.length>0,ht=Ue===H[1];return s.jsxs(ze,{to:ye.url||ye.link||"#",onClick:()=>{B(!1),I([0])},onMouseEnter:()=>I([H[0],Ue]),className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${ht?"bg-[var(--color-bg-section)] text-[var(--color-accent-primary)]":"bg-white text-[var(--color-text-primary)] hover:bg-[var(--color-bg-section)] hover:text-[var(--color-accent-primary)]"}`,children:[s.jsx("span",{children:ye.label||ye.name}),nt&&s.jsx(Gn,{className:"text-xs text-[var(--color-text-light)]"})]},ye.id||`sub_${Ue}`)})},"col_1")),L=Se)}}for(let J=1;J<H.length&&L&&L.length>0;J++){const pe=H[J];if(pe>=0&&pe<L.length){const Se=L[pe],ye=Se?.submenu||Se?.sub||[];ye.length>0&&(Ae.push(s.jsx("div",{className:"w-56 bg-white border-r border-[var(--color-border-light)] overflow-y-auto p-0 flex flex-col flex-shrink-0",children:ye.map((Ue,nt)=>{const ht=Ue.submenu&&Ue.submenu.length>0||Ue.sub&&Ue.sub.length>0,wt=nt===H[J+1];return s.jsxs(ze,{to:Ue.url||Ue.link||"#",onClick:()=>{B(!1),I([0])},onMouseEnter:()=>I([...H.slice(0,J+1),nt]),className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${wt?"bg-[var(--color-bg-section)] text-[var(--color-accent-primary)]":"bg-white text-[var(--color-text-primary)] hover:bg-[var(--color-bg-section)] hover:text-[var(--color-accent-primary)]"}`,children:[s.jsx("span",{children:Ue.label||Ue.name}),ht&&s.jsx(Gn,{className:"text-xs text-[var(--color-text-light)]"})]},Ue.id||`item_${J}_${nt}`)})},`col_${J+1}`)),L=ye)}}return Ae})()]})})]})]})}),s.jsxs("div",{ref:G,"aria-hidden":!t,className:`fixed inset-0 z-50 md:hidden transition-all duration-300 ${t?"visible":"invisible"}`,children:[s.jsx("button",{"aria-label":"Close menu",onClick:()=>r(!1),className:`absolute inset-0 bg-black bg-opacity-40 transition-opacity ${t?"opacity-100":"opacity-0"}`}),s.jsx("nav",{className:`absolute left-0 top-0 bottom-0 w-full sm:w-4/5 bg-[var(--color-bg-primary)] shadow-2xl overflow-auto transform transition-transform duration-300 ${t?"translate-x-0":"-translate-x-full"}`,children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ze,{to:"/",className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-3xl",children:""}),s.jsx("span",{className:"text-lg font-bold text-[var(--color-accent-primary)]",children:"Wolf Supplies"})]}),s.jsx("button",{onClick:()=>r(!1),className:"text-2xl p-2 rounded-md hover:bg-[var(--color-bg-section)]",children:s.jsx(Wt,{})})]}),s.jsxs("div",{className:"border-t border-[var(--color-border-light)] pt-4",children:[s.jsxs(ze,{to:"/categories",className:"font-bold text-[var(--color-text-primary)] mb-3 text-sm flex items-center gap-2 px-3 py-2 hover:bg-[var(--color-bg-section)] hover:text-[var(--color-accent-primary)] rounded-lg",onClick:()=>r(!1),children:[s.jsx(T0,{className:"text-[var(--color-accent-primary)]"})," Browse All Categories"]}),$e(Y)]}),s.jsxs("div",{className:"border-t border-[var(--color-border-light)] pt-4 space-y-2",children:[s.jsx(ze,{to:"/",className:"block px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm",onClick:()=>r(!1),children:"Home"}),s.jsx(ze,{to:"/products",className:"block px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm",onClick:()=>r(!1),children:"Shop"}),s.jsx(ze,{to:"/about",className:"block px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm",onClick:()=>r(!1),children:"About Us"}),s.jsx(ze,{to:"/contact",className:"block px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm",onClick:()=>r(!1),children:"Contact Us"}),s.jsxs(ze,{to:"/order-lookup",className:"block px-3 py-2 text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm flex items-center gap-2",onClick:()=>r(!1),children:[s.jsx(Pn,{className:"text-[var(--color-accent-primary)]"})," Order Lookup"]}),N&&s.jsxs(ze,{to:"/admin/dashboard",className:"px-3 py-2 text-white bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] rounded-lg font-semibold text-sm flex items-center gap-2",onClick:()=>r(!1),children:[s.jsx(bx,{})," Admin Panel"]})]}),s.jsx("div",{className:"border-t border-[var(--color-border-light)] pt-4",children:w?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-[var(--color-text-primary)] font-semibold py-2 px-3 text-sm",children:[s.jsx(h4,{className:"text-[var(--color-accent-primary)]"}),s.jsx("span",{children:S?.name||"User"})]}),s.jsx("p",{className:"text-xs text-[var(--color-text-light)] px-3 py-1",children:S?.email}),s.jsxs("button",{onClick:_,className:"w-full text-left px-3 py-2 text-[var(--color-text-primary)] hover:text-[var(--color-accent-primary)] hover:bg-[var(--color-bg-section)] rounded-lg font-semibold text-sm mt-2 flex items-center gap-2",children:[s.jsx(gx,{})," Logout"]})]}):null})]})})]}),s.jsxs("div",{"aria-hidden":!n,role:"dialog","aria-modal":n,"aria-labelledby":"mobile-search-title",className:`fixed inset-0 md:hidden transition-all duration-200 ${n?"visible":"invisible"}`,style:{zIndex:9999},children:[s.jsx("button",{"aria-label":"Close search",onClick:()=>a(!1),className:`absolute inset-0 bg-black bg-opacity-40 transition-opacity ${n?"opacity-100":"opacity-0"}`}),s.jsx("div",{className:`absolute left-1/2 top-20 transform -translate-x-1/2 w-11/12 max-w-xl bg-[var(--color-bg-primary)] rounded-lg shadow-2xl p-4 transition-all duration-200 ${n?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-6"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsxs("form",{onSubmit:fe,className:"flex-1 w-full",children:[s.jsx("label",{id:"mobile-search-title",className:"sr-only",children:"Search products"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{ref:q,type:"text",value:l,onChange:Ae=>c(Ae.target.value),placeholder:"Search products, brands...",className:"flex-1 h-12 px-4 rounded-l-full border border-[var(--color-border-light)] placeholder-[var(--color-text-muted)] text-[var(--color-text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)] text-sm"}),l.length>0&&s.jsx("button",{type:"button",onClick:()=>{c(""),q.current&&q.current.focus()},"aria-label":"Clear search",className:"text-[var(--color-text-primary)] hover:text-[var(--color-text-light)] p-2 hidden sm:block",children:""}),s.jsx("button",{type:"button",onClick:()=>X(!0),className:`h-12 px-3 flex items-center justify-center transition duration-300 rounded-full ${g?"bg-[var(--color-error)] text-white":"bg-[var(--color-bg-section)] text-[var(--color-text-primary)] hover:bg-[var(--color-border)]"}`,title:"Voice Search","aria-label":"Voice search",children:s.jsx(d4,{})}),s.jsx("button",{type:"submit",className:"h-12 bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white px-4 rounded-r-full flex items-center justify-center",children:s.jsx(Ba,{})})]})]}),s.jsx("button",{onClick:()=>a(!1),"aria-label":"Close search",className:"text-2xl text-[var(--color-text-light)] p-2 hover:bg-[var(--color-bg-section)] rounded-md",children:s.jsx(Wt,{})})]})})]})]})};function D6(e){return Ce({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.15 4.318a42.16 42.16 0 0 0-.454.003c-.15.005-.303.013-.452.04a1.44 1.44 0 0 0-1.06.772c-.07.138-.114.278-.14.43-.028.148-.037.3-.04.45A10.2 10.2 0 0 0 0 6.222v11.557c0 .07.002.138.003.207.004.15.013.303.04.452.027.15.072.291.142.429a1.436 1.436 0 0 0 .63.63c.138.07.278.115.43.142.148.027.3.036.45.04l.208.003h20.194l.207-.003c.15-.004.303-.013.452-.04.15-.027.291-.071.428-.141a1.432 1.432 0 0 0 .631-.631c.07-.138.115-.278.141-.43.027-.148.036-.3.04-.45.002-.07.003-.138.003-.208l.001-.246V6.221c0-.07-.002-.138-.004-.207a2.995 2.995 0 0 0-.04-.452 1.446 1.446 0 0 0-1.2-1.201 3.022 3.022 0 0 0-.452-.04 10.448 10.448 0 0 0-.453-.003zm0 .512h19.942c.066 0 .131.002.197.003.115.004.25.01.375.032.109.02.2.05.287.094a.927.927 0 0 1 .407.407.997.997 0 0 1 .094.288c.022.123.028.258.031.374.002.065.003.13.003.197v11.552c0 .065 0 .13-.003.196-.003.115-.009.25-.032.375a.927.927 0 0 1-.5.693 1.002 1.002 0 0 1-.286.094 2.598 2.598 0 0 1-.373.032l-.2.003H1.906c-.066 0-.133-.002-.196-.003a2.61 2.61 0 0 1-.375-.032c-.109-.02-.2-.05-.288-.094a.918.918 0 0 1-.406-.407 1.006 1.006 0 0 1-.094-.288 2.531 2.531 0 0 1-.032-.373 9.588 9.588 0 0 1-.002-.197V6.224c0-.065 0-.131.002-.197.004-.114.01-.248.032-.375.02-.108.05-.199.094-.287a.925.925 0 0 1 .407-.406 1.03 1.03 0 0 1 .287-.094c.125-.022.26-.029.375-.032.065-.002.131-.002.196-.003zm4.71 3.7c-.3.016-.668.199-.88.456-.191.22-.36.58-.316.918.338.03.675-.169.888-.418.205-.258.345-.603.308-.955zm2.207.42v5.493h.852v-1.877h1.18c1.078 0 1.835-.739 1.835-1.812 0-1.07-.742-1.805-1.808-1.805zm.852.719h.982c.739 0 1.161.396 1.161 1.089 0 .692-.422 1.092-1.164 1.092h-.979zm-3.154.3c-.45.01-.83.28-1.05.28-.235 0-.593-.264-.981-.257a1.446 1.446 0 0 0-1.23.747c-.527.908-.139 2.255.374 2.995.249.366.549.769.944.754.373-.014.52-.242.973-.242.454 0 .586.242.98.235.41-.007.667-.366.915-.733.286-.417.403-.82.41-.841-.007-.008-.79-.308-.797-1.209-.008-.754.615-1.113.644-1.135-.352-.52-.9-.578-1.09-.593a1.123 1.123 0 0 0-.092-.002zm8.204.397c-.99 0-1.606.533-1.652 1.256h.777c.072-.358.369-.586.845-.586.502 0 .803.266.803.711v.309l-1.097.064c-.951.054-1.488.484-1.488 1.184 0 .72.548 1.207 1.332 1.207.526 0 1.032-.281 1.264-.727h.019v.659h.788v-2.76c0-.803-.62-1.317-1.591-1.317zm1.94.072l1.446 4.009c0 .003-.073.24-.073.247-.125.41-.33.571-.711.571-.069 0-.206 0-.267-.015v.666c.06.011.267.019.335.019.83 0 1.226-.312 1.568-1.283l1.5-4.214h-.868l-1.012 3.259h-.015l-1.013-3.26zm-1.167 2.189v.316c0 .521-.45.917-1.024.917-.442 0-.731-.228-.731-.579 0-.342.278-.56.769-.593z"},child:[]}]})(e)}function z6(e){return Ce({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.58 12a2.023 2.023 0 1 1-2.025-2.023h.002c1.118 0 2.023.906 2.023 2.023zm-5.2-2.001c-1.124 0-2.025.884-2.025 1.99 0 1.118.878 1.984 2.007 1.984.319 0 .593-.063.93-.221v-.873c-.296.297-.559.416-.895.416-.747 0-1.277-.542-1.277-1.312 0-.73.547-1.306 1.243-1.306.354 0 .622.126.93.428v-.873a1.898 1.898 0 0 0-.913-.233zm-3.352 1.545c-.445-.165-.576-.273-.576-.479 0-.239.233-.422.553-.422.222 0 .405.091.598.308l.388-.508a1.665 1.665 0 0 0-1.117-.422c-.673 0-1.186.467-1.186 1.089 0 .524.239.792.936 1.043.291.103.438.171.513.217a.456.456 0 0 1 .222.394c0 .308-.245.536-.576.536-.354 0-.639-.177-.809-.507l-.479.461c.342.502.752.724 1.317.724.771 0 1.311-.513 1.311-1.249-.002-.603-.252-.876-1.095-1.185zM24 10.3a.29.29 0 0 1-.288.291.29.29 0 0 1-.291-.291v-.003A.29.29 0 1 1 24 10.3zm-.059.001a.235.235 0 0 0-.231-.239.234.234 0 0 0-.232.239c0 .132.104.239.232.239a.235.235 0 0 0 .231-.239zM3.472 13.887h.742v-3.803h-.742v3.803zm12.702-1.248l-1.014-2.554h-.81l1.614 3.9h.399l1.643-3.9h-.804l-1.028 2.554zm2.166 1.248h2.104v-.644h-1.362v-1.027h1.312v-.644h-1.312v-.844h1.362v-.644H18.34v3.803zm5.409-3.557l.11.138h-.097l-.094-.13v.13h-.08v-.334h.107c.081 0 .126.036.126.103.001.046-.025.08-.072.093zm-.006-.092c0-.029-.021-.043-.06-.043h-.014v.087h.014c.039 0 .06-.014.06-.044zm-1.228 2.047l1.197 1.602H22.8l-1.027-1.528h-.097v1.528h-.741v-3.803h1.1c.855 0 1.346.411 1.346 1.123 0 .583-.308.965-.866 1.078zm.103-1.038c0-.37-.251-.563-.713-.563h-.228v1.152h.217c.473-.001.724-.207.724-.589zm-19.487.742a1.91 1.91 0 0 1-.69 1.46c-.365.303-.781.439-1.357.439H.001v-3.803H1.09c1.202 0 2.041.781 2.041 1.904zm-.764-.006c0-.364-.154-.718-.411-.947-.245-.222-.536-.308-1.015-.308H.742v2.515h.199c.479 0 .782-.092 1.015-.302.256-.228.411-.593.411-.958z"},child:[]}]})(e)}function L6(e){return Ce({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3.963 7.235A3.963 3.963 0 00.422 9.419a3.963 3.963 0 000 3.559 3.963 3.963 0 003.541 2.184c1.07 0 1.97-.352 2.627-.957.748-.69 1.18-1.71 1.18-2.916a4.722 4.722 0 00-.07-.806H3.964v1.526h2.14a1.835 1.835 0 01-.79 1.205c-.356.241-.814.379-1.35.379-1.034 0-1.911-.697-2.225-1.636a2.375 2.375 0 010-1.517c.314-.94 1.191-1.636 2.225-1.636a2.152 2.152 0 011.52.594l1.132-1.13a3.808 3.808 0 00-2.652-1.033zm6.501.55v6.9h.886V11.89h1.465c.603 0 1.11-.196 1.522-.588a1.911 1.911 0 00.635-1.464 1.92 1.92 0 00-.635-1.456 2.125 2.125 0 00-1.522-.598zm2.427.85a1.156 1.156 0 01.823.365 1.176 1.176 0 010 1.686 1.171 1.171 0 01-.877.357H11.35V8.635h1.487a1.156 1.156 0 01.054 0zm4.124 1.175c-.842 0-1.477.308-1.907.925l.781.491c.288-.417.68-.626 1.175-.626a1.255 1.255 0 01.856.323 1.009 1.009 0 01.366.785v.202c-.34-.193-.774-.289-1.3-.289-.617 0-1.11.145-1.479.434-.37.288-.554.677-.554 1.165a1.476 1.476 0 00.525 1.156c.35.308.785.463 1.305.463.61 0 1.098-.27 1.465-.81h.038v.655h.848v-2.909c0-.61-.19-1.09-.568-1.44-.38-.35-.896-.525-1.551-.525zm2.263.154l1.946 4.422-1.098 2.38h.915L24 9.963h-.965l-1.368 3.391h-.02l-1.406-3.39zm-2.146 2.368c.494 0 .88.11 1.156.33 0 .372-.147.696-.44.973a1.413 1.413 0 01-.997.414 1.081 1.081 0 01-.69-.232.708.708 0 01-.293-.578c0-.257.12-.47.363-.647.24-.173.54-.26.9-.26Z"},child:[]}]})(e)}function B6(e){return Ce({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.343 18.031c.058.049.12.098.181.146-1.177.783-2.59 1.238-4.107 1.238C3.32 19.416 0 16.096 0 12c0-4.095 3.32-7.416 7.416-7.416 1.518 0 2.931.456 4.105 1.238-.06.051-.12.098-.165.15C9.6 7.489 8.595 9.688 8.595 12c0 2.311 1.001 4.51 2.748 6.031zm5.241-13.447c-1.52 0-2.931.456-4.105 1.238.06.051.12.098.165.15C14.4 7.489 15.405 9.688 15.405 12c0 2.31-1.001 4.507-2.748 6.031-.058.049-.12.098-.181.146 1.177.783 2.588 1.238 4.107 1.238C20.68 19.416 24 16.096 24 12c0-4.094-3.32-7.416-7.416-7.416zM12 6.174c-.096.075-.189.15-.28.231C10.156 7.764 9.169 9.765 9.169 12c0 2.236.987 4.236 2.551 5.595.09.08.185.158.28.232.096-.074.189-.152.28-.232 1.563-1.359 2.551-3.359 2.551-5.595 0-2.235-.987-4.236-2.551-5.595-.09-.08-.184-.156-.28-.231z"},child:[]}]})(e)}function vx(e){return Ce({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.112 8.262L5.97 15.758H3.92L2.374 9.775c-.094-.368-.175-.503-.461-.658C1.447 8.864.677 8.627 0 8.479l.046-.217h3.3a.904.904 0 01.894.764l.817 4.338 2.018-5.102zm8.033 5.049c.008-1.979-2.736-2.088-2.717-2.972.006-.269.262-.555.822-.628a3.66 3.66 0 011.913.336l.34-1.59a5.207 5.207 0 00-1.814-.333c-1.917 0-3.266 1.02-3.278 2.479-.012 1.079.963 1.68 1.698 2.04.756.367 1.01.603 1.006.931-.005.504-.602.725-1.16.734-.975.015-1.54-.263-1.992-.473l-.351 1.642c.453.208 1.289.39 2.156.398 2.037 0 3.37-1.006 3.377-2.564m5.061 2.447H24l-1.565-7.496h-1.656a.883.883 0 00-.826.55l-2.909 6.946h2.036l.405-1.12h2.488zm-2.163-2.656l1.02-2.815.588 2.815zm-8.16-4.84l-1.603 7.496H8.34l1.605-7.496z"},child:[]}]})(e)}const FT=()=>{const e=new Date().getFullYear();return s.jsx("footer",{className:"bg-[var(--color-bg-secondary)] text-[var(--color-text-primary)] mt-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:s.jsx("img",{src:S0,alt:"Wolf Supplies LTD",className:"h-auto w-auto object-cover"})}),s.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"Wolf Supplies LTD is a company registered in the United Kingdom. Your trusted UK online shopping destination for quality products at competitive prices."}),s.jsxs("p",{className:"text-[var(--color-text-primary)] text-sm mb-2",children:[s.jsx("strong",{children:"Company Number:"})," ",s.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)]",children:"16070029"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("a",{href:"#",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:s.jsx(QA,{className:"text-lg text-[var(--color-text-light)]"})}),s.jsx("a",{href:"#",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:s.jsx(eT,{className:"text-lg text-[var(--color-text-light)]"})}),s.jsx("a",{href:"#",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:s.jsx(XA,{className:"text-lg text-[var(--color-text-light)]"})}),s.jsx("a",{href:"#",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:s.jsx(ZA,{className:"text-lg text-[var(--color-text-light)]"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-bold text-[var(--color-text-primary)] mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(ze,{to:"/",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Home"})}),s.jsx("li",{children:s.jsx(ze,{to:"/products",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Products"})}),s.jsx("li",{children:s.jsx(ze,{to:"/about",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"About Us"})}),s.jsx("li",{children:s.jsx(ze,{to:"/contact",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Contact Us"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-bold text-[var(--color-text-primary)] mb-4",children:"Policies & Info"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(ze,{to:"/policies/shipping",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Shipping Policy"})}),s.jsx("li",{children:s.jsx(ze,{to:"/policies/returns-refund",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Return & Refunds"})}),s.jsx("li",{children:s.jsx(ze,{to:"/policies/privacy",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(ze,{to:"/policies/terms",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"Terms of Service"})}),s.jsx("li",{children:s.jsx(ze,{to:"/policies/faq",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300",children:"FAQ"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-bold text-[var(--color-text-primary)] mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-center gap-3 text-[var(--color-text-light)]",children:[s.jsx(Ga,{className:"text-black"}),s.jsx("a",{href:"tel:+447398998101",className:"hover:text-black",children:"+44 7398 998101"})]}),s.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[s.jsx(ms,{className:"text-black"}),s.jsx("a",{href:"mailto:support@wolfsuppliesltd.co.uk",className:"hover:text-black",children:"support@WolfSuppliesLTD.co.uk"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[s.jsx(M6,{className:"text-black mt-1"}),s.jsxs("div",{children:[s.jsx("p",{children:"Unit 4 Atlas Estates"}),s.jsx("p",{children:"Colebrook Road, Birmingham"}),s.jsx("p",{children:"West Midlands, B11 2NT"}),s.jsx("p",{children:"United Kingdom"})]})]}),s.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[s.jsx(kT,{className:"text-black"}),s.jsx("a",{href:"https://wolfsuppliesltd.co.uk",className:"hover:text-black",children:"wolfsuppliesltd.co.uk"})]})]})]})]}),s.jsxs("div",{className:"border-t border-gray-300 py-8 mb-8",children:[s.jsx("h4",{className:"text-lg font-bold mb-6 text-center",children:"We Accept"}),s.jsxs("div",{className:"flex justify-center items-center gap-8 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",title:"Visa",children:[s.jsx(vx,{className:"text-2xl text-blue-600"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Visa"})]}),s.jsxs("div",{className:"flex items-center gap-2",title:"Mastercard",children:[s.jsx(B6,{className:"text-2xl text-red-600"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Mastercard"})]}),s.jsxs("div",{className:"flex items-center gap-2",title:"Discover",children:[s.jsx(z6,{className:"text-2xl text-orange-500"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Discover"})]}),s.jsxs("div",{className:"flex items-center gap-2",title:"Apple Pay",children:[s.jsx(D6,{className:"text-2xl text-black"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Apple Pay"})]}),s.jsxs("div",{className:"flex items-center gap-2",title:"Google Pay",children:[s.jsx(L6,{className:"text-2xl text-blue-500"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Google Pay"})]})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx(ze,{to:"/payment-options",className:"text-[var(--color-accent-primary)] hover:text-[var(--color-accent-light)] transition duration-300 text-sm font-semibold",children:"View All Payment Options"})})]}),s.jsx("div",{className:"border-t border-[var(--color-border-light)] pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("p",{className:"text-[var(--color-text-light)]",children:[" ",e," Wolf Supplies LTD. All rights reserved. Company Number: ",s.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)]",children:"16070029"})]}),s.jsxs("div",{className:"flex gap-4 flex-wrap justify-center",children:[s.jsx(ze,{to:"/policies/privacy",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 text-sm",children:"Privacy Policy"}),s.jsx("span",{className:"text-[var(--color-text-muted)]",children:"|"}),s.jsx(ze,{to:"/policies/terms",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 text-sm",children:"Terms of Service"}),s.jsx("span",{className:"text-[var(--color-text-muted)]",children:"|"}),s.jsx(ze,{to:"/policies/shipping",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 text-sm",children:"Shipping Policy"}),s.jsx("span",{className:"text-[var(--color-text-muted)]",children:"|"}),s.jsx(ze,{to:"/policies/returns-refund",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 text-sm",children:"Return & Refunds"}),s.jsx("span",{className:"text-[var(--color-text-muted)]",children:"|"}),s.jsx(ze,{to:"/policies/faq",className:"text-[var(--color-text-light)] hover:text-[var(--color-accent-primary)] transition duration-300 text-sm",children:"FAQ"})]})]})})]})})},qT=({children:e,showMenuSlider:t=!1})=>{Ar();const[r,n]=C.useState([]),[a,l]=C.useState([0]),[c,u]=C.useState(!1),[f,h]=C.useState(0),m=(b,y="root")=>{!b||!Array.isArray(b)||b.forEach((j,w)=>{const S=`${y}[${w}]`,N=j.url||j.link,A=j.url||j.link;console.log(` ${S}: "${j.label||j.name}"  ${N?`"${A}"`:" NO LINK"}`);const E=j.submenu||j.sub||[];E.length>0&&m(E,S)})};C.useEffect(()=>{(async()=>{try{const j=await fetch("http://localhost:5000/api/settings/menu");if(!j.ok)return;const w=await j.json();w&&Array.isArray(w.browseMenu)&&(console.log("=== LAYOUT MENU LOADED FROM API ==="),console.log("Menu data:",w.browseMenu),console.log("=== VALIDATING MENU LINKS ==="),m(w.browseMenu),console.log("=== VALIDATION COMPLETE ==="),n(w.browseMenu))}catch(y){console.warn("Could not load browse menu",y)}})()},[]);const g=[{id:1,title:"Premium Safety Equipment",description:"Discover our wide range of high-quality safety equipment designed to keep you protected.",buttonText:"Shop Now",buttonLink:"/products",bgImage:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=1400&h=600&fit=crop",icon:""},{id:2,title:"Professional Tools & Gear",description:"Everything you need for your professional work with durability and reliability.",buttonText:"Explore Tools",buttonLink:"/products?category=tools",bgImage:"https://images.unsplash.com/photo-1761062176693-74ea7c9f1278?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",icon:""},{id:3,title:"Protective Clothing",description:"Stay safe with our comprehensive collection of protective wear and apparel.",buttonText:"View Collection",buttonLink:"/products?category=clothing",bgImage:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=1400&h=600&fit=crop",icon:""},{id:4,title:"Exclusive Offers",description:"Limited time deals on premium products. Don't miss out on amazing savings!",buttonText:"See Deals",buttonLink:"/products?featured=deals",bgImage:"https://images.unsplash.com/photo-1557821552-17105176677c?w=1400&h=600&fit=crop",icon:""}];return C.useEffect(()=>{const b=setInterval(()=>{h(y=>(y+1)%g.length)},5e3);return()=>clearInterval(b)},[]),t?s.jsxs("div",{className:"w-full bg-[var(--color-bg-primary)] pb-10 md:pb-0",children:[s.jsx("div",{className:"w-full hidden md:block bg-[var(--color-bg-primary)] border-b border-[var(--color-border-light)] sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center gap-4 px-4 py-2 overflow-x-auto",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold text-[var(--color-text-primary)] text-lg whitespace-nowrap",children:[s.jsx(ET,{})," Shop By Category"]}),s.jsx("div",{className:"h-6 w-px bg-[var(--color-border-light)]"}),s.jsx(ze,{to:"/",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"Home"}),s.jsx(ze,{to:"/about",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"About Us"}),s.jsx(ze,{to:"/products",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"Shop"}),s.jsx(ze,{to:"/contact",className:"px-4 py-2 hover:text-[var(--color-accent-primary)] font-semibold text-[var(--color-text-light)] whitespace-nowrap",children:"Contact Us"})]})}),s.jsx("div",{className:"w-full bg-white relative",onMouseLeave:()=>{u(!1),l([0])},children:s.jsxs("div",{className:"flex w-full h-auto",children:[s.jsxs("div",{className:"hidden md:flex md:flex-col w-72 border-r-4 border-[var(--color-border-light)] bg-[var(--color-bg-primary)] shadow-lg relative",children:[s.jsx("div",{className:"border-b border-[var(--color-border-light)] overflow-y-auto flex-1",children:r.map((b,y)=>{b.url||b.link;const j=b.url||b.link||"#",w=b.submenu&&b.submenu.length>0||b.sub&&b.sub.length>0;return s.jsxs(ze,{to:j,onMouseEnter:()=>{u(!0),l([y])},onClick:()=>{u(!1),l([0])},className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${a[0]===y?"bg-[var(--color-bg-section)] text-[var(--color-text-primary)]":"bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] hover:bg-[var(--color-bg-section)]"}`,children:[s.jsx("span",{children:b.label||b.name||"Menu Item"}),w&&s.jsx(Gn,{className:"text-xs text-[var(--color-text-light)]"})]},b.id||`m_${y}`)})}),c&&s.jsx("div",{className:"absolute left-72  top-0 z-50 bg-white overflow-x-auto flex h-96 border border-[var(--color-border-light)] shadow-2xl",style:{width:"calc(100vw - 310px)"},children:(()=>{const b=[];let y=r,j=[...a];if(j.length>0){const w=j[0];if(w>=0&&w<y.length){const S=y[w],N=S?.submenu||S?.sub||[];N.length>0&&(b.push(s.jsx("div",{className:"w-56 bg-white border-r border-[var(--color-border-light)] overflow-y-auto p-0 flex flex-col flex-shrink-0",children:N.map((A,E)=>{const M=A.submenu&&A.submenu.length>0||A.sub&&A.sub.length>0,T=E===j[1];return s.jsxs(ze,{to:A.url||A.link||"#",onClick:()=>{u(!1),l([0])},onMouseEnter:()=>l([j[0],E]),className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${T?"bg-[var(--color-bg-section)] text-[var(--color-accent-primary)]":"bg-white text-[var(--color-text-primary)] hover:bg-[var(--color-bg-section)] hover:text-[var(--color-accent-primary)]"}`,children:[s.jsx("span",{children:A.label||A.name}),M&&s.jsx(Gn,{className:"text-xs text-[var(--color-text-light)]"})]},A.id||`sub_${E}`)})},"col_1")),y=N)}}for(let w=1;w<j.length&&y&&y.length>0;w++){const S=j[w];if(S>=0&&S<y.length){const N=y[S],A=N?.submenu||N?.sub||[];A.length>0&&(b.push(s.jsx("div",{className:"w-56 bg-white border-r border-[var(--color-border-light)] overflow-y-auto p-0 flex flex-col flex-shrink-0",children:A.map((E,M)=>{const T=E.submenu&&E.submenu.length>0||E.sub&&E.sub.length>0,D=M===j[w+1];return s.jsxs(ze,{to:E.url||E.link||"#",onClick:()=>{u(!1),l([0])},onMouseEnter:()=>l([...j.slice(0,w+1),M]),className:`w-full text-left px-6 py-4 border-b border-[var(--color-border-light)] transition duration-150 font-semibold text-base flex items-center justify-between no-underline ${D?"bg-[var(--color-bg-section)] text-[var(--color-accent-primary)]":"bg-white text-[var(--color-text-primary)] hover:bg-[var(--color-bg-section)] hover:text-[var(--color-accent-primary)]"}`,children:[s.jsx("span",{children:E.label||E.name}),T&&s.jsx(Gn,{className:"text-xs text-[var(--color-text-light)]"})]},E.id||`item_${w}_${M}`)})},`col_${w+1}`)),y=A)}}return b})()})]}),s.jsx("div",{className:"flex-1 bg-[var(--color-bg-primary)] relative h-96",children:s.jsxs("div",{className:"w-full h-full relative overflow-hidden ",children:[g.map((b,y)=>s.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${y===f?"opacity-100":"opacity-0"}`,style:{backgroundImage:`linear-gradient(135deg, rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('${b.bgImage}')`,backgroundSize:"cover",backgroundPosition:"right center",backgroundRepeat:"no-repeat"},children:s.jsx("div",{className:"flex items-center justify-between h-full px-6 relative",children:s.jsxs("div",{className:"flex-1 text-white z-10",children:[s.jsx("div",{className:"text-6xl mb-4",children:b.icon}),s.jsx("h2",{className:"text-4xl font-bold mb-4",children:b.title}),s.jsx("p",{className:"text-lg mb-8 leading-relaxed max-w-md",children:b.description}),s.jsx(ze,{to:b.buttonLink,className:"inline-block bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white font-bold px-8 py-3 rounded-lg transition duration-300 shadow-lg",children:b.buttonText})]})})},b.id)),s.jsx("button",{onClick:()=>h(b=>(b-1+g.length)%g.length),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-[var(--color-bg-primary)] bg-opacity-70 hover:bg-opacity-100 text-[var(--color-accent-primary)] p-3 rounded-full z-20 transition duration-300","aria-label":"Previous slide",children:s.jsx(C0,{className:"text-xl"})}),s.jsx("button",{onClick:()=>h(b=>(b+1)%g.length),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-[var(--color-bg-primary)] bg-opacity-70 hover:bg-opacity-100 text-[var(--color-accent-primary)] p-3 rounded-full z-20 transition duration-300","aria-label":"Next slide",children:s.jsx(Yn,{className:"text-xl"})}),s.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-3 z-20",children:g.map((b,y)=>s.jsx("button",{onClick:()=>h(y),className:`w-3 h-3 rounded-full transition-all duration-300 ${y===f?"bg-[var(--color-accent-primary)] w-8":"bg-white bg-opacity-50 hover:bg-opacity-75"}`,"aria-label":`Go to slide ${y+1}`},y))})]})})]})}),s.jsx("main",{className:"w-full",children:e})]}):s.jsx(s.Fragment,{children:e})},WT="http://localhost:5000",GT=e=>!e||typeof e!="string"?"":e.startsWith("http")?e:`${WT}${e}`,mf=({category:e})=>{const t=e?.image||"";return s.jsx(ze,{to:`/category/${e?.slug}`,"aria-label":`View category ${e?.name}`,className:"block",children:s.jsxs("div",{className:"group text-center",children:[s.jsxs("div",{className:"relative w-32 h-32 md:w-40 md:h-40 mx-auto mb-4 rounded-full overflow-hidden shadow-md hover:shadow-lg transition duration-300 bg-white border-2 border-gray-300 flex items-center justify-center",children:[t?s.jsx("img",{src:GT(t),alt:e?.name||"Category image",loading:"lazy",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):s.jsx("div",{className:"text-6xl md:text-7xl",children:e?.icon}),s.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-5 transition duration-300"})]}),s.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800 mb-2 group-hover:text-gray-600 transition duration-300",children:e?.name})]})})},KT=({categoryNames:e=[],limit:t=8,title:r="Featured Categories",showAllIfEmpty:n=!0,layout:a="grid",columns:l=5,spacing:c="md",imageBorderRadius:u="md",titleFontSize:f="lg",descFontSize:h="sm",editorContent:m,editorStyle:g})=>{m&&(r=m.title||r,e=Array.isArray(m.categoryNames)&&m.categoryNames.length>0?m.categoryNames:e,t=m.limit||t,a=m.layout||a,l=m.columns||l,c=m.spacing||c,u=m.imageBorderRadius||u,f=m.titleFontSize||f,h=m.descFontSize||h),qt();const[b,y]=C.useState([]),[j,w]=C.useState(0),[S,N]=C.useState("lg"),{categories:A,loading:E}=At(K=>K.category),T=S==="sm"?1:S==="md"?2:5,D=K=>({2:"lg:grid-cols-2",3:"lg:grid-cols-3",4:"lg:grid-cols-4",5:"lg:grid-cols-4",6:"lg:grid-cols-6"})[K]||"lg:grid-cols-4";C.useEffect(()=>{const K=()=>{const W=window.innerWidth;W<768?N("sm"):W<1024?N("md"):N("lg")};return K(),window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]),C.useEffect(()=>{const K=W=>{let V=[];if(!W||!Array.isArray(W))return V;for(const Y of W)V.push(Y),Y.subcategories&&Array.isArray(Y.subcategories)&&(V=V.concat(K(Y.subcategories)));return V};if(A&&A.length>0){let W=K(A);e&&e.length>0?W=W.filter(V=>e.some(Y=>V.name.toLowerCase()===Y.toLowerCase()||V.slug.toLowerCase()===Y.toLowerCase())):n&&(W=K(A)),y(V=>{if(V.length!==W.length||V.length===0)return W;const Y=V.map(I=>I._id).join(","),$=W.map(I=>I._id).join(",");return Y===$?V:W})}},[A,e,n]);const R=()=>{w(K=>Math.max(0,K-1))},q=()=>{w(K=>Math.min(K+1,Math.max(0,b.length-T)))};return E&&A.length===0?s.jsx("section",{className:"py-4 px-4 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-4",children:r}),s.jsx("div",{className:"h-1 w-20 bg-gray-900 rounded-full"})]}),a==="grid"?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 md:gap-10",children:[...Array(t)].map((K,W)=>s.jsxs("div",{className:"flex flex-col items-center gap-6 py-8",children:[s.jsx("div",{className:"w-48 h-48 bg-gradient-to-br from-gray-200 to-black-300 rounded-full animate-pulse"}),s.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded-lg animate-pulse"})]},W))}):s.jsx("div",{className:"bg-gradient-to-br from-gray-200 to-black-300 rounded-full h-48 w-48 animate-pulse"})]})}):b.length===0?s.jsx("section",{className:"py-4 px-4 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-4",children:e.length>0?r:"Featured Categories"}),s.jsx("div",{className:"h-1 w-20 bg-gray-900 rounded-full"})]}),s.jsx("div",{className:"text-center py-20 bg-white rounded-2xl border-2 border-dashed border-gray-300",children:s.jsx("p",{className:"text-gray-600 text-xl font-medium",children:e.length>0?`No categories found matching: ${e.join(", ")}`:"No categories available"})})]})}):s.jsx("section",{className:"py-4 px-4 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-4",children:r}),s.jsx("div",{className:"h-1 w-20 bg-gray-900 rounded-full"})]}),a==="grid"?s.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 ${D(l)} gap-1 sm:gap-2 md:gap-4 lg:gap-8`,children:b.map(K=>s.jsx("div",{className:"transform hover:scale-105 transition duration-300",children:s.jsx(mf,{category:K})},K._id))}):s.jsxs("div",{className:"relative py-6",children:[s.jsx("button",{onClick:R,disabled:j===0,className:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-black disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-full transition duration-300 shadow-xl hover:shadow-2xl hover:scale-110 z-20","aria-label":"Previous categories",children:s.jsx(C0,{className:"text-lg"})}),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${j*(100/b.length)}%)`,width:`${b.length/T*100}%`},children:b.map(K=>s.jsx("div",{className:"transform hover:scale-105 transition duration-300 flex-shrink-0 px-2 md:px-3",style:{width:`${100/b.length}%`},children:s.jsx(mf,{category:K})},K._id))})}),s.jsx("button",{onClick:q,disabled:j>=b.length-T,className:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-black disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-full transition duration-300 shadow-xl hover:shadow-2xl hover:scale-110 z-20","aria-label":"Next categories",children:s.jsx(Yn,{className:"text-lg"})}),s.jsx("div",{className:"flex justify-center items-center gap-3 mt-10",children:Array.from({length:Math.ceil(b.length/T)}).map((K,W)=>s.jsx("button",{onClick:()=>w(W*T),className:`h-3 rounded-full transition-all duration-300 cursor-pointer ${Math.floor(j/T)===W?"bg-black w-10 shadow-lg":"bg-gray-300 w-3 hover:bg-black"}`,"aria-label":`Go to slide ${W+1}`},W))})]}),b.length<A.length&&s.jsx("div",{className:"text-center mt-12 pt-8 border-t border-gray-200",children:s.jsxs("p",{className:"text-gray-600 text-base font-medium",children:["Showing ",b.length," of ",A.length," categories"]})})]})})},YT=pt.memo(KT);function JT(e){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 18v-6a9 9 0 0 1 18 0v6"},child:[]},{tag:"path",attr:{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"},child:[]}]})(e)}function QT(e){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function XT(e){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(e)}function ZT(e){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function eM(e){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}const tM="http://localhost:5000",Wl=({product:e})=>{const t=qt(),[r,n]=pt.useState(!1),[a,l]=pt.useState(0);if(e.isDraft)return null;const c=e.variantCombinations&&e.variantCombinations.length>0,u=e.images&&e.images.length>0?e.images:e.image?[e.image]:[],f=y=>!y||typeof y!="string"?"":y.startsWith("http")?y:`${tM}${y}`,{token:h}=Wa(),m=At(y=>y.cart.items),g=async y=>{y.preventDefault();const j=u&&u.length>0?u[0]:"";let w="";typeof j=="string"?w=j:j&&typeof j=="object"&&(w=j.url||j.src||j.path||j.secure_url||j.secureUrl||j.public_url||j.publicUrl||"");const S={_id:e._id,product:e._id,name:e.name,image:w,price:Number(e.price||0),category:e.category,discount:e.discount,quantity:1,selectedVariants:{}};t(lf(S));const N=m.find(E=>E._id===S._id);let A=[];N?A=m.map(E=>E._id===S._id?{...E,quantity:(E.quantity||0)+1}:E):A=[...m,S];try{await t(Va(A))}catch(E){console.error("ProductCard: syncCart failed",E),he.error("Failed to save cart to server")}he.success("Added to cart!")},b=e.slug||e._id;return s.jsx(ze,{to:`/product/${b}`,children:s.jsxs("div",{className:"md:hover:shadow-xl transition-all duration-300 overflow-hidden group h-full flex flex-col p-2 sm:p-4 rounded-lg bg-white shadow-md md:shadow-none",children:[s.jsx("div",{className:"w-full h-48 bg-[var(--color-bg-section)] rounded-lg overflow-hidden mb-4 flex items-center justify-center border border-[var(--color-border-light)]",children:s.jsx("img",{src:f(u[a]),alt:e.name,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-105 transition duration-300",onError:y=>{y.target.style.display="none"}})}),s.jsxs("div",{className:"flex flex-col flex-grow",children:[s.jsx("h3",{className:"font-bold text-[var(--color-text-light)] mb-2 line-clamp-2 text-sm group-hover:text-[var(--color-accent-primary)] transition duration-300",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((y,j)=>s.jsx(ZT,{size:14,className:`${j<Math.floor(e.rating||0)?"fill-yellow-400 text-yellow-400":"text-[var(--color-border-light)]"}`},j))}),s.jsxs("span",{className:"text-xs text-[var(--color-text-light)]",children:[e.rating?`${e.rating.toFixed(1)}`:"0"," (",e.reviewCount||0,")"]})]}),s.jsx("div",{className:"mb-4 flex items-baseline gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-[var(--color-text-light)]",children:"From"}),s.jsxs("span",{className:"text-lg font-bold text-[var(--color-text-primary)]",children:["",e.variantCombinations[0].price?.toFixed(2)||e.price?.toFixed(2)||"0.00"]})]}):s.jsxs("span",{className:"text-lg font-bold text-[var(--color-text-primary)]",children:["",e.price?.toFixed(2)||"0.00"]})}),c?s.jsx(ze,{to:`/product/${b}`,className:"w-full bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white py-2 rounded font-bold text-sm transition-all duration-300 text-center mt-auto opacity-100 md:opacity-0 md:group-hover:opacity-100 transform md:translate-y-2 md:group-hover:translate-y-0 shadow-md",children:"Select Options"}):s.jsx("button",{onClick:g,className:"w-full bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white py-2 rounded font-bold text-sm transition-all duration-300 mt-auto opacity-100 md:opacity-0 md:group-hover:opacity-100 transform md:translate-y-2 md:group-hover:translate-y-0 shadow-md",children:"Add to Cart"})]})]})})},p4=({category:e="",limit:t=8,title:r="Featured Products",layout:n="grid",columns:a=5,spacing:l="md",imageBorderRadius:c="md",titleFontSize:u="lg",descFontSize:f="sm",editorContent:h,editorStyle:m})=>{h&&(r=h.title||r,e=h.category||e,t=h.limit||t,n=h.layout||n,a=h.columns||a,l=h.spacing||l,c=h.imageBorderRadius||c,u=h.titleFontSize||u,f=h.descFontSize||f);const g=qt(),b=Ar(),[y,j]=C.useState([]),[w,S]=C.useState(0),[N,A]=C.useState("lg"),{products:E,loading:M}=At(W=>W.product),T=W=>({2:"md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",3:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3",4:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",5:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",6:"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6"})[W]||"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",R=N==="sm"?1:N==="md"?2:5;C.useEffect(()=>{const W=()=>{const V=window.innerWidth;V<768?A("sm"):V<1024?A("md"):A("lg")};return W(),window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]),C.useEffect(()=>{E.length===0&&g(un())},[g,E.length]),C.useEffect(()=>{if(E&&E.length>0){let W=E;e&&e.trim()&&(W=W.filter(V=>V.categories&&Array.isArray(V.categories)?V.categories.some(Y=>(typeof Y=="string"?Y:Y.name||Y.slug).toLowerCase()===e.toLowerCase()):V.category?V.category.toLowerCase()===e.toLowerCase():!1)),j(V=>{if(V.length!==W.length||V.length===0)return W;const Y=V.map(I=>I._id).join(","),$=W.map(I=>I._id).join(",");return Y===$?V:W})}},[E,e]);const q=()=>{S(W=>Math.max(0,W-1))},K=()=>{S(W=>Math.min(W+1,Math.max(0,y.length-R)))};return M&&E.length===0?s.jsx("section",{className:"py-4 px-4 bg-[var(--color-bg-primary)]",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-12 flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:r}),e&&s.jsx("button",{onClick:()=>b(`/products?category=${e}`),className:"px-8 py-3 bg-[var(--color-accent-primary)] rounded-lg text-white font-bold text-xs sm:text-sm uppercase tracking-wider hover:bg-[var(--color-accent-light)] transition duration-300",children:"Shop All"})]}),n==="grid"?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 md:gap-10",children:[...Array(t)].map((W,V)=>s.jsx("div",{className:"bg-gradient-to-br from-gray-200 to-black-300 rounded-3xl h-96 animate-pulse"},V))}):s.jsx("div",{className:"bg-gradient-to-br from-gray-200 to-black-300 rounded-3xl h-96 animate-pulse"})]})}):y.length===0?s.jsx("section",{className:"py-4 px-4  bg-[var(--color-bg-primary)]",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-12 flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:r}),e&&s.jsx("button",{onClick:()=>b(`/products?category=${e}`),className:"px-8 py-3 bg-[var(--color-accent-primary)] text-white rounded-lg font-bold text-xs sm:text-sm uppercase tracking-wider hover:bg-[var(--color-accent-light)] transition duration-300",children:"Shop All"})]}),s.jsx("div",{className:"text-center py-20 bg-[var(--color-bg-primary)] rounded-2xl border-2 border-dashed border-[var(--color-border-light)]",children:s.jsx("p",{className:"text-[var(--color-text-light)] text-base sm:text-lg md:text-xl font-medium",children:e?`No products found in ${e}`:"No products available"})})]})}):s.jsx("section",{className:"py-4 px-4  bg-[var(--color-bg-primary)]",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-12 flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:r})}),s.jsx("button",{onClick:()=>b(e?`/products?category=${e}`:"/products"),className:"px-8 py-3 bg-[var(--color-accent-primary)] text-white font-bold rounded-lg text-xs sm:text-sm uppercase tracking-wider hover:bg-gray-900 transition duration-300",children:"Shop All"})]}),n==="grid"?s.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 ${T(a)} gap-2 sm:gap-3 md:gap-4 lg:gap-6 xl:gap-8`,children:y.slice(0,t).map(W=>s.jsx("div",{className:"w-full transform hover:scale-105 transition duration-300",children:s.jsx(Wl,{product:W})},W._id))}):s.jsxs("div",{className:"relative py-6",children:[s.jsx("button",{onClick:q,disabled:w===0,className:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-black disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-full transition duration-300 shadow-xl hover:shadow-2xl hover:scale-110 z-20","aria-label":"Previous products",children:s.jsx(C0,{className:"text-lg"})}),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${w*(100/Math.min(y.length,t))}%)`,width:`${Math.min(y.length,t)/R*100}%`},children:y.slice(0,t).map(W=>s.jsx("div",{className:"transform hover:scale-105 my-4 transition duration-300 flex-shrink-0 px-2 md:px-3",style:{width:`${100/Math.min(y.length,t)}%`},children:s.jsx(Wl,{product:W})},W._id))})}),s.jsx("button",{onClick:K,disabled:w>=Math.min(y.length,t)-R,className:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-black disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-full transition duration-300 shadow-xl hover:shadow-2xl hover:scale-110 z-20","aria-label":"Next products",children:s.jsx(Yn,{className:"text-lg"})})]})]})})},rM=({content:e={}})=>{const[t,r]=C.useState(""),[n,a]=C.useState(!1),[l,c]=C.useState(!1),u=e.layout||"layout1",f=e.title||"Get the best deals in your inbox",h=e.subtitle||"",m=e.description||"Sign up for exclusive offers, new arrivals, and seasonal sales.",g=e.inputPlaceholder||"you@domain.com",b=e.buttonText||"Subscribe",y=e.successTitle||"You're subscribed!",j=e.successMessage||"Thanks  check your email for the welcome offer.",w=e.bgColor||"var(--color-bg-section)",S=e.accentColor||"var(--color-accent-primary)",N=e.textColor||"var(--color-text-primary)",A=e.padding||64,E=e.borderRadius||16,M=e.benefits||[{id:"1",title:"No Spam",description:"Only curated deals"},{id:"2",title:"Early Access",description:"Subscriber-only previews"},{id:"3",title:"Easy Opt-out",description:"One click to unsubscribe"}],T=e.stats||[{id:"1",value:"500K+",label:"Subscribers"},{id:"2",value:"50+",label:"Weekly Deals"},{id:"3",value:"30%",label:"Average Savings"}],D=async R=>{if(R.preventDefault(),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){he.error("Please enter a valid email address");return}a(!0);try{const K=await fetch("/api/forms/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),W=await K.json();if(!K.ok){he.error(W.message||"Failed to subscribe"),a(!1);return}a(!1),c(!0),r(""),he.success("Successfully subscribed to our newsletter!"),setTimeout(()=>{c(!1)},3e3)}catch(K){console.error("Error subscribing to newsletter:",K),a(!1),he.error("Failed to subscribe. Please try again.")}};if(u==="layout1")return s.jsx("section",{style:{padding:`${A}px 16px`,background:"var(--color-bg-primary)",backgroundColor:"var(--color-bg-primary)"},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{style:{backgroundColor:"var(--color-bg-secondary)",padding:"16px",borderRadius:"9999px"},children:s.jsx(ms,{style:{fontSize:"36px",color:"var(--color-accent-primary)"}})})}),s.jsx("h2",{style:{fontSize:"32px",fontWeight:"bold",color:"var(--color-text-primary)",marginBottom:"8px"},children:f}),h&&s.jsx("p",{style:{color:"var(--color-text-secondary)",marginBottom:"12px",fontSize:"18px"},children:h}),s.jsx("p",{style:{color:"var(--color-text-secondary)",maxWidth:"512px",margin:"0 auto"},children:m})]}),s.jsx("div",{style:{backgroundColor:"var(--color-bg-primary)",borderRadius:`${E}px`,border:"1px solid var(--color-border-light)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",padding:"40px"},children:l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsx("div",{style:{backgroundColor:"var(--color-bg-secondary)",padding:"12px",borderRadius:"9999px"},children:s.jsx(No,{style:{fontSize:"32px",color:"var(--color-success)"}})})}),s.jsx("h3",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--color-text-primary)",marginBottom:"8px"},children:y}),s.jsx("p",{style:{color:"var(--color-text-secondary)"},children:j})]}):s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"flex-1 w-full",children:[s.jsx("label",{className:"sr-only",children:"Email address"}),s.jsx("input",{type:"email",value:t,onChange:R=>r(R.target.value),placeholder:g,style:{width:"100%",padding:"12px 20px",border:"2px solid var(--color-border-light)",borderRadius:"8px",fontSize:"16px",outline:"none",color:"var(--color-text-primary)"},onFocus:R=>R.target.style.borderColor="var(--color-accent-primary)",onBlur:R=>R.target.style.borderColor="var(--color-border-light)",disabled:n})]}),s.jsx("button",{type:"submit",disabled:n,style:{backgroundColor:"var(--color-accent-primary)",color:"white",padding:"12px 24px",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:n?"not-allowed":"pointer",opacity:n?.6:1,display:"flex",alignItems:"center",gap:"12px",justifyContent:"center",whiteSpace:"nowrap"},children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Subscribing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Oc,{}),b]})})]}),s.jsx("div",{className:"flex flex-wrap gap-6 pt-6 border-t justify-between border-[var(--color-border-light)]",children:M.map(R=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{style:{backgroundColor:"var(--color-bg-secondary)",padding:"12px",borderRadius:"9999px"},children:s.jsx(No,{style:{color:"var(--color-accent-primary)",fontSize:"18px"}})}),s.jsxs("div",{children:[s.jsx("p",{style:{fontWeight:"600",color:"var(--color-text-primary)"},children:R.title}),s.jsx("p",{style:{fontSize:"14px",color:"var(--color-text-secondary)"},children:R.description})]})]},R.id))})]})}),T&&T.length>0&&s.jsx("div",{className:"grid sm:grid-cols-3 gap-6 mt-8 text-center",children:T.map(R=>s.jsxs("div",{children:[s.jsx("p",{style:{fontSize:"32px",fontWeight:"bold",color:"var(--color-text-secondary)"},children:R.value}),s.jsx("p",{style:{fontSize:"14px",color:"var(--color-text-secondary)"},children:R.label})]},R.id))})]})});if(u==="layout2"){const R=e.imageColWidth||35,q=100-R;return s.jsx("section",{style:{padding:`${A}px 16px`,backgroundColor:w},children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{style:{display:"flex",gap:"0",backgroundColor:"var(--color-bg-primary)",borderRadius:`${E}px`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid var(--color-border-light)",overflow:"hidden",minHeight:"320px"},children:[s.jsx("div",{style:{flex:`0 0 ${R}%`,display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",backgroundColor:"var(--color-bg-section)",borderRight:"1px solid var(--color-border-light)"},children:e.logoImage?s.jsx(s.Fragment,{children:s.jsx("img",{src:e.logoImage,alt:"Newsletter Logo",style:{maxWidth:"100%",maxHeight:"240px",height:"auto",objectFit:"contain",width:"100%"},onError:K=>{console.error(" Image load error for URL:",K.target.src),console.error("Error event:",K)},onLoad:()=>{}})}):s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",backgroundColor:"var(--color-border-light)",borderRadius:"8px",color:"var(--color-text-light)",fontSize:"14px",fontWeight:"500",minHeight:"240px"},children:"No Image"})}),s.jsxs("div",{style:{flex:`0 0 ${q}%`,display:"flex",flexDirection:"column",padding:"40px",justifyContent:"center",gap:"20px"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{fontSize:"26px",fontWeight:"bold",color:N,marginBottom:"12px",lineHeight:"1.3"},children:f}),s.jsx("p",{style:{color:"var(--color-text-light)",margin:"0",fontSize:"15px",lineHeight:"1.6"},children:m})]}),l?s.jsxs("div",{style:{textAlign:"center",paddingTop:"12px"},children:[s.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"8px"},children:s.jsx("div",{style:{backgroundColor:`${S}20`,padding:"10px",borderRadius:"9999px"},children:s.jsx(No,{style:{fontSize:"24px",color:S}})})}),s.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",color:N,margin:"0 0 4px 0"},children:y}),s.jsx("p",{style:{fontSize:"12px",color:"var(--color-text-light)",margin:"0"},children:j})]}):s.jsxs("form",{onSubmit:D,style:{display:"flex",gap:"12px",alignItems:"center"},children:[s.jsx("input",{type:"email",value:t,onChange:K=>r(K.target.value),placeholder:g,style:{flex:1,padding:"12px 16px",border:"1px solid var(--color-border-light)",borderRadius:"6px",fontSize:"14px",outline:"none"},onFocus:K=>K.target.style.borderColor="var(--color-accent-primary)",onBlur:K=>K.target.style.borderColor="var(--color-border-light)",disabled:n}),s.jsx("button",{type:"submit",disabled:n,style:{backgroundColor:S,color:"white",padding:"12px 24px",borderRadius:"6px",fontWeight:"600",border:"none",cursor:n?"not-allowed":"pointer",opacity:n?.6:1,fontSize:"14px",whiteSpace:"nowrap",minWidth:"110px"},children:n?"Subscribing...":b})]})]})]})})})}return u==="layout3"?s.jsx("section",{style:{padding:`${A}px 16px`,backgroundColor:w},children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{style:{backgroundColor:"var(--color-bg-primary)",borderRadius:`${E}px`,padding:"40px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[s.jsx("h2",{style:{fontSize:"28px",fontWeight:"bold",color:N,marginBottom:"12px",textAlign:"center"},children:f}),s.jsx("p",{style:{fontSize:"16px",color:"var(--color-text-light)",marginBottom:"24px",textAlign:"center",margin:"0 0 24px 0"},children:m}),l?s.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[s.jsx("div",{className:"mb-3 flex justify-center",children:s.jsx("div",{style:{backgroundColor:`${S}20`,padding:"12px",borderRadius:"9999px"},children:s.jsx(No,{style:{fontSize:"28px",color:S}})})}),s.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",color:N,marginBottom:"8px"},children:y}),s.jsx("p",{style:{fontSize:"14px",color:"var(--color-text-light)"},children:j})]}):s.jsxs("form",{onSubmit:D,className:"space-y-3",children:[s.jsx("input",{type:"email",value:t,onChange:R=>r(R.target.value),placeholder:g,style:{width:"100%",padding:"14px 16px",border:"2px solid var(--color-border-light)",borderRadius:"8px",fontSize:"16px",outline:"none",boxSizing:"border-box"},onFocus:R=>R.target.style.borderColor="var(--color-accent-primary)",onBlur:R=>R.target.style.borderColor="var(--color-border-light)",disabled:n}),s.jsx("button",{type:"submit",disabled:n,style:{width:"100%",backgroundColor:S,color:"white",padding:"14px 20px",borderRadius:"8px",fontWeight:"600",border:"none",cursor:n?"not-allowed":"pointer",opacity:n?.6:1,fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Subscribing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Oc,{}),b]})})]})]})})}):null},nM=()=>s.jsx("section",{className:"pt-4 px-4 md:px-8 bg-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",style:{color:"var(--color-text-primary)"},children:"Welcome to Wolf Supplies Ltd - Premium E-Commerce Solutions"}),s.jsxs("p",{className:"text-lg leading-relaxed",style:{color:"var(--color-text-secondary)"},children:["At ",s.jsx("span",{style:{color:"var(--color-text-primary)",fontWeight:"bold"},children:"Wolf Supplies Ltd"}),", we're your trusted one-stop destination for premium products and services. Whether you're a homeowner, business professional, or contractor, we deliver reliable solutions and superior quality products to help you complete every project with confidence."]})]}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h3",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-text-primary)"},children:"Wide Range of Products for Every Need"}),s.jsx("p",{className:"text-lg leading-relaxed mb-8",style:{color:"var(--color-text-secondary)"},children:"We offer a carefully curated selection of premium products and services designed for quality, performance, and reliability."}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Premium Home & Garden Solutions"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",style:{color:"var(--color-text-secondary)"},children:[s.jsxs("li",{children:[s.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Home Improvement Essentials"})," - Premium materials and fixtures ideal for home maintenance, repairs, and creative projects"]}),s.jsxs("li",{children:[s.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Garden & Outdoor Solutions"})," - Durable products and accessories designed for outdoor living and landscaping needs"]}),s.jsxs("li",{children:[s.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Quality Home Accessories"})," - Stylish and functional items to enhance your living spaces"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Professional & Commercial Products"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",style:{color:"var(--color-text-secondary)"},children:[s.jsxs("li",{children:[s.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Premium Materials & Components"})," - High-quality products sourced from trusted manufacturers for professional applications"]}),s.jsxs("li",{children:[s.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Tools & Equipment"})," - Durable professional-grade tools designed for reliability and long-lasting performance"]}),s.jsxs("li",{children:[s.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Workspace Essentials"})," - Everything you need to create efficient and productive work environments"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Safety & Quality Standards"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",style:{color:"var(--color-text-secondary)"},children:[s.jsxs("li",{children:[s.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Safety Certified Products"})," - All products meet rigorous safety and quality standards for peace of mind"]}),s.jsxs("li",{children:[s.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Reliable Performance"})," - Tested and verified for durability, longevity, and superior performance"]}),s.jsxs("li",{children:[s.jsx("span",{style:{color:"var(----color-text-primary)",fontWeight:"bold"},children:"Quality Assurance"})," - Every item undergoes strict quality control before reaching our customers"]})]})]})]})]}),s.jsxs("div",{className:"mb-12 p-8 rounded-lg",style:{backgroundColor:"var(--color-desert-200)"},children:[s.jsx("h3",{className:"text-3xl font-bold mb-8",style:{color:"var(--color-accent-secondary)"},children:"Why Choose Wolf Supplies LTD?"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"Trusted by Professionals & Homeowners"}),s.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Products designed for efficiency, quality, and long-lasting results"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"Premium Quality & Tested Materials"}),s.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"All products are performance-tested for durability and reliability"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"Competitive Pricing"}),s.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Great value without compromising on product quality and integrity"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"Fast & Reliable Delivery"}),s.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Quick shipping and delivery with transparent tracking and updates"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"Secure & Easy Online Ordering"}),s.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Shop with confidence through our secure, easy-to-use platform"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg mb-2",style:{color:"var(--color-accent-secondary)"},children:"Dedicated Customer Support"}),s.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Our team is ready to help with any questions or special requests"})]})]})]})]}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h3",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-text-primary)"},children:"Your One-Stop Source for Premium Products"}),s.jsxs("p",{className:"text-lg leading-relaxed",style:{color:"var(--color-text-secondary)"},children:["From home improvement essentials to professional-grade materials, ",s.jsx("span",{style:{color:"var(--color-text-primary)",fontWeight:"bold"},children:"Wolf Supplies Ltd"})," simplifies shopping with curated categories that meet your exact needs. Whether you're upgrading your home, undertaking renovation projects, or sourcing materials for contractors, we have the quality products and expert support to help you succeed."]})]}),s.jsxs("div",{className:"p-8 rounded-lg",style:{backgroundColor:"var(--color-accent-primary)"},children:[s.jsx("h3",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-bg-primary)"},children:"Get Started Today"}),s.jsxs("p",{className:"text-lg leading-relaxed mb-6",style:{color:"var(--color-bg-primary)"},children:["Browse our categories, discover top-rated products, and take advantage of exclusive customer service and",s.jsx("span",{style:{color:"#FFFFFF",fontWeight:"bold"},children:" fast delivery on all UK orders"}),". At ",s.jsx("span",{style:{color:"#FFFFFF",fontWeight:"bold"},children:"Wolf Supplies Ltd"}),", we are committed to supplying products that you can rely on, install easily, and enjoy for years to come."]}),s.jsx("button",{className:"px-8 py-3 text-lg font-bold rounded-lg transition-all hover:opacity-90",style:{backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"},children:"Shop Now"})]})]})}),sM=()=>{const e=[{id:1,title:"Return & Refund",subtitle:"31 Days Return & Refund",icon:XT,color:"text-[var(--color-accent-primary)]",link:"/policies/returns-refund"},{id:2,title:"Free Shipping",subtitle:"2 - 4 business Days",icon:eM,color:"text-[var(--color-accent-primary)]",link:"/policies/shipping"},{id:3,title:"Secure Payment",subtitle:"We Ensure Secure Payment",icon:QT,color:"text-[var(--color-accent-primary)]",link:"/payment-options"},{id:4,title:"Customer Support",subtitle:"Mon - Fri 9:00 AM To 6:00 PM",icon:JT,color:"text-[var(--color-accent-primary)]",link:"/contact"}];return s.jsx("section",{className:"py-16 px-4 bg-[var(--color-bg-primary)]",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(t=>{const r=t.icon;return s.jsx(ze,{to:t.link,className:"no-underline",children:s.jsxs("div",{className:"flex flex-row items-center gap-6 hover:scale-105 transition-transform duration-300 p-4 border border-[var(--color-accent-primary)] rounded-lg bg-[var(--color-bg-secondary)] cursor-pointer h-full",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-4 bg-[var(--color-bg-section)] rounded-lg flex items-center justify-center w-16 h-16",children:s.jsx(r,{className:`${t.color} text-3xl`})})}),s.jsxs("div",{className:"flex-1 pt-1",children:[s.jsx("h3",{className:"text-base font-bold text-[var(--color-text-primary)] mb-1",children:t.title}),s.jsx("p",{className:"text-sm text-[var(--color-text-light)] leading-relaxed",children:t.subtitle})]})]})},t.id)})})})})},aM=()=>{const e=qt();pn();const[t,r]=C.useState(null),[n,a]=C.useState([]);return C.useEffect(()=>{e(ln()),e(un()),window.scrollTo(0,0)},[e]),C.useEffect(()=>{(async()=>{try{const u=await(await fetch("/api/settings/featured-collections")).json();r(u?.featuredCategories||null),a(Array.isArray(u?.featuredProducts)?u.featuredProducts:[])}catch(c){console.error("Error loading featured collections:",c)}})()},[]),s.jsx(qT,{showMenuSlider:!0,children:s.jsxs("div",{className:"w-full bg-white",children:[s.jsx(sM,{}),s.jsx("section",{className:"py-4 px-4",children:s.jsx(YT,{editorContent:t})}),n&&n.length>0?n.map((l,c)=>s.jsx("section",{className:"py-4 px-4",children:s.jsx(p4,{editorContent:l})},`prod-${c}`)):s.jsx("section",{className:"py-4 px-4",children:s.jsx(p4,{})}),s.jsx("section",{className:"py-4 px-4",children:s.jsx(rM,{})}),s.jsx("section",{children:s.jsx(nM,{})})]})})},_6=({filters:e,onFilterChange:t})=>{const r=qt(),{categories:n=[]}=At(l=>l.category||{});C.useEffect(()=>{(!n||n.length===0)&&r(ln())},[n,r]);const a=[{min:0,max:50,label:"Under 50"},{min:50,max:100,label:"50 - 100"},{min:100,max:500,label:"100 - 500"},{min:500,max:1e4,label:"Above 500"}];return s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 space-y-8",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-6 border-b-2 border-gray-200",children:[s.jsx(ST,{className:"text-2xl text-gray-400"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Filters"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Search Products"}),s.jsx("input",{type:"text",value:e.search,onChange:l=>t({search:l.target.value}),placeholder:"Search...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent outline-none transition text-lg"})]}),s.jsxs("div",{className:"space-y-4 pb-8 border-b-2 border-gray-200",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Category"}),s.jsxs("div",{className:"space-y-3",children:[(n&&n.length>0?n:[]).map(l=>s.jsxs("label",{className:"flex items-center cursor-pointer group",children:[s.jsx("input",{type:"radio",name:"category",value:l.name,checked:e.category===l.name,onChange:c=>t({category:c.target.value}),className:"w-5 h-5 text-gray-400 rounded focus:ring-2 focus:ring-gray-400 transition duration-300"}),s.jsx("span",{className:"ml-3 text-gray-700 group-hover:text-gray-400 transition duration-300 font-medium",children:l.name})]},l._id||l.name)),s.jsxs("label",{className:"flex items-center cursor-pointer group",children:[s.jsx("input",{type:"radio",name:"category",value:"",checked:e.category==="",onChange:l=>t({category:""}),className:"w-5 h-5 text-gray-400 rounded focus:ring-2 focus:ring-gray-400 transition duration-300"}),s.jsx("span",{className:"ml-3 text-gray-700 group-hover:text-gray-400 transition duration-300 font-medium",children:"All Categories"})]})]})]}),s.jsxs("div",{className:"space-y-4 pb-8 border-b-2 border-gray-200",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Price Range"}),s.jsx("div",{className:"space-y-3",children:a.map(l=>s.jsxs("label",{className:"flex items-center cursor-pointer group",children:[s.jsx("input",{type:"radio",name:"price",value:JSON.stringify(l),checked:e.price.min===l.min&&e.price.max===l.max,onChange:c=>{const{min:u,max:f}=JSON.parse(c.target.value);t({price:{min:u,max:f}})},className:"w-5 h-5 text-gray-400 rounded focus:ring-2 focus:ring-gray-400 transition duration-300"}),s.jsx("span",{className:"ml-3 text-gray-700 group-hover:text-gray-400 transition duration-300 font-medium",children:l.label})]},l.label))})]}),s.jsxs("button",{onClick:()=>t({search:"",category:"",price:{min:0,max:1e4}}),className:"w-full bg-linear-to-r bg-black hover:bg-gray-700 text-white py-3 rounded-lg font-bold transition duration-300 flex items-center justify-center gap-2 transform hover:scale-105",children:[s.jsx(Wt,{className:"text-[10px]"})," Clear All Filters"]})]})},oM=()=>{const e=qt(),t=pn(),{products:r,loading:n,filters:a}=At(g=>g.product),[l,c]=C.useState([]),[u,f]=C.useState("");C.useEffect(()=>{const b=new URLSearchParams(t.search).get("search")||"";f(b),b&&e(hc({...a,search:b}))},[t.search,e]),C.useEffect(()=>{e(un())},[e]),C.useEffect(()=>{let g=r;const b=a.search?.toLowerCase()||"";g=g.filter(N=>!N.isDraft);let y=[],j=[],w=[];g.forEach(N=>{const A=N.name.toLowerCase(),E=Array.isArray(N.categories)?N.categories.map(T=>(T.name||T).toLowerCase()).join(" "):(N.category||"").toLowerCase();b&&(A.includes(b)||E.includes(b))?A.startsWith(b)?y.push(N):j.push(N):w.push(N)});let S=[...y,...j,...w];a.category&&(S=S.filter(N=>Array.isArray(N.categories)?N.categories.some(A=>A._id===a.category||A.name===a.category):N.category===a.category)),S=S.filter(N=>N.price>=a.price.min&&N.price<=a.price.max),c(S)},[r,a]);const h=u&&l.length>0,m=C.useMemo(()=>u?l.filter(g=>g.name.toLowerCase().startsWith(u.toLowerCase())).length:0,[l,u]);return s.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] py-16 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-16",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:"Our Products"}),u?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xl text-[var(--color-text-light)]",children:["Search results for: ",s.jsxs("span",{className:"font-bold text-[var(--color-text-primary)]",children:['"',u,'"']})]}),h&&s.jsxs("p",{className:"text-sm text-green-600 font-semibold",children:[" Found ",l.length," matching product",l.length!==1?"s":""," (Showing best matches first)"]})]}):s.jsx("p",{className:"text-xl text-[var(--color-text-light)]",children:"Browse our amazing collection of products"})]}),s.jsxs("div",{className:"grid lg:grid-cols-6 gap-10",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx("div",{className:"sticky top-24",children:s.jsx(_6,{filters:a,onFilterChange:g=>e(hc(g))})})}),s.jsx("div",{className:"lg:col-span-4 space-y-8",children:n?s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Qs,{className:"text-6xl text-[var(--color-text-light)] animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-xl text-[var(--color-text-light)]",children:"Loading products..."})]})}):l.length>0?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8 p-4 bg-gradient-to-r from-[var(--color-bg-section)] to-[var(--color-bg-section)] rounded-lg border border-[var(--color-border-light)]",children:[s.jsxs("p",{className:"text-[var(--color-text-light)]",children:["Showing ",s.jsx("span",{className:"font-bold text-[var(--color-text-primary)]",children:l.length})," product",l.length!==1?"s":"",u&&s.jsxs("span",{children:[' matching "',s.jsx("span",{className:"font-bold text-[var(--color-accent-primary)]",children:u}),'"']})]}),u&&m>0&&s.jsxs("p",{className:"text-sm text-green-700 mt-2",children:[" ",m," exact match",m!==1?"es":""," shown first"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(g=>s.jsx(Wl,{product:g},g._id))})]}):s.jsxs("div",{className:"text-center py-24 bg-gradient-to-br from-[var(--color-bg-section)] to-[var(--color-bg-section)] rounded-2xl shadow-lg border border-[var(--color-border-light)]",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("p",{className:"text-2xl text-[var(--color-text-light)] font-semibold mb-2",children:"No products found"}),u?s.jsxs("div",{children:[s.jsxs("p",{className:"text-[var(--color-text-light)] text-lg mb-4",children:[`We couldn't find any products matching "`,s.jsx("span",{className:"font-bold",children:u}),'"']}),s.jsx("button",{onClick:()=>{e(hc({...a,search:""})),f("")},className:"inline-block px-6 py-2 bg-[var(--color-accent-primary)] text-white font-bold rounded-lg hover:bg-[var(--color-accent-light)] transition duration-300",children:"View All Products"})]}):s.jsx("p",{className:"text-[var(--color-text-light)] text-lg",children:"Try adjusting your filters"})]})})]})]})})},P6=({currentProductId:e,currentCategory:t})=>{const r=Ar(),{products:n}=At(c=>c.product),a=5,l=C.useMemo(()=>n.filter(c=>c.category===t&&c._id!==e).slice(0,a),[n,t,e,a]);return l.length===0?null:s.jsxs("div",{className:"mt-20 py-12 bg-white rounded-3xl p-8 md:p-12",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"h-1 w-12 rounded-full",style:{backgroundColor:"var(--color-accent-primary)"}}),s.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:"More Products"})]}),s.jsx("h3",{className:"text-4xl md:text-5xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Related Products"}),s.jsxs("p",{className:"text-xl",style:{color:"var(--color-text-light)"},children:["You might also like these ",t," items"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6",children:l.map(c=>s.jsx("div",{className:"h-full",children:s.jsx(Wl,{product:c})},c._id))}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("button",{onClick:()=>r(`/products?category=${t}`),className:"inline-flex items-center gap-3 text-white px-10 py-4 rounded-xl font-bold text-lg transition duration-300 transform hover:scale-105 shadow-lg",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:c=>c.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:c=>c.target.style.backgroundColor="var(--color-accent-primary)",children:["View All ",t," Products",s.jsx(Yn,{className:"text-sm"})]})})]})},lM=({product:e,token:t,user:r,onSubmitReview:n,requireReviewApproval:a,API:l})=>{const[c,u]=C.useState(!1),[f,h]=C.useState(5),[m,g]=C.useState(""),[b,y]=C.useState(!1),[j,w]=C.useState(0),[S,N]=C.useState(!1),A=(W=0,V="text-lg")=>{const Y=[];for(let $=1;$<=5;$++)W>=$?Y.push(s.jsx(_o,{className:`${V} text-yellow-400`},$)):W>=$-.5?Y.push(s.jsx(M0,{className:`${V} text-yellow-400`},$)):Y.push(s.jsx(pf,{className:`${V} text-yellow-400`},$));return Y},E=async W=>{if(W.preventDefault(),!t){he.error("Please log in to submit a review");return}try{await n({rating:f,comment:m,name:r?.name,email:r?.email}),u(!1),h(5),g(""),y(!0),setTimeout(()=>y(!1),3500)}catch(V){console.error("submitReview error",V),he.error(V.message||"Failed to submit review")}},M=Array.isArray(e?.reviews)?e.reviews:[],T=M.length>0?a?M.filter(W=>W&&W.isApproved===!0):M:[],D=T.slice().sort((W,V)=>{const Y=new Date(W?.createdAt||W?.updatedAt||0).getTime();return new Date(V?.createdAt||V?.updatedAt||0).getTime()-Y}),R=S?D:D.slice(0,8),q=T.length,K=q>8;return s.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-lg",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Customer Reviews & Ratings"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-linear-to-br from-gray-100 to-gray-200 p-8 rounded-xl border-2 border-gray-400 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-4",children:e?.rating||4.6}),s.jsx("div",{className:"flex justify-center mb-4 text-3xl",children:A(e?.rating||0,"text-3xl")}),s.jsxs("p",{className:"text-gray-700 font-semibold",children:["Based on ",q," verified reviews"]})]}),s.jsx("div",{className:"col-span-2 space-y-4",children:(()=>{const W=T.length||0,V=[5,4,3,2,1].map(Y=>T.filter($=>Math.round(Number($?.rating||0))===Y).length);return[5,4,3,2,1].map((Y,$)=>{const I=V[$],ie=W?Math.round(I/W*100):0;return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"font-semibold text-gray-700 w-16",children:[Y," Star"]}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-gray-800 h-full transition-all",style:{width:`${ie}%`}})}),s.jsxs("span",{className:"text-gray-600 font-semibold w-12",children:[ie,"%"]})]},Y)})})()})]}),s.jsxs("div",{className:"border-t pt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Recent Reviews"}),s.jsx("button",{onClick:()=>{if(!t){he("Please log in to leave a review",{icon:""});return}u(W=>!W)},className:"py-2 px-4 bg-black text-white rounded-lg font-semibold hover:bg-black transition",children:c?"Cancel":"Write a review"})]}),b&&s.jsx("div",{className:"mb-4 p-4 rounded-lg bg-gray-50 border border-gray-200 text-gray-800",children:"Thank you  your review has been submitted."}),c&&s.jsxs("form",{onSubmit:E,className:"bg-gray-50 p-6 rounded-lg mb-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Your Rating"}),s.jsx("div",{className:"mt-2 flex items-center gap-2",role:"radiogroup","aria-label":"Your rating",children:[1,2,3,4,5].map(W=>{const V=W<=(j||f);return s.jsx("button",{type:"button",onClick:()=>h(W),onMouseEnter:()=>w(W),onMouseLeave:()=>w(0),onKeyDown:Y=>{(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),h(W))},"aria-checked":f===W,role:"radio","aria-label":`${W} star${W>1?"s":""}`,className:`focus:outline-none ${V?"text-gray-800":"text-gray-300"} text-2xl transition cursor-pointer`,children:V?s.jsx(_o,{}):s.jsx(pf,{})},W)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Your Name"}),s.jsx("input",{value:r?.name||"",disabled:!0,className:"w-full mt-2 p-3 border rounded-lg bg-white text-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Your Email"}),s.jsx("input",{value:r?.email||"",disabled:!0,className:"w-full mt-2 p-3 border rounded-lg bg-white text-gray-700"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Your Review"}),s.jsx("textarea",{value:m,onChange:W=>g(W.target.value),rows:4,placeholder:"Share your experience with this product...",className:"w-full mt-2 p-3 border rounded-lg focus:border-gray-400 focus:outline-none"})]}),s.jsx("div",{className:"text-right",children:s.jsx("button",{type:"submit",className:"py-3 px-6 bg-black text-white rounded-lg font-semibold hover:bg-black transition",children:"Submit Review"})})]}),s.jsxs("div",{className:"space-y-6",children:[R.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:R.map(W=>{const V=W?._id?`review-${W._id}`:`review-${Math.random()}`,Y=W?.name||W?.user?.name||"Customer",$=W?.user?.email||"",I=Number(W?.rating||0),ie=W?.comment||"",B=W?.isApproved===!0;return new Date(W?.createdAt||W?.updatedAt||Date.now()).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),s.jsxs("div",{className:"p-6 rounded-lg border transition-all hover:shadow-md bg-gray-50 border-gray-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-gray-900 text-sm",children:Y}),$&&s.jsx("p",{className:"text-xs text-gray-900",children:$}),B&&s.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-gray-100 text-gray-800 text-xs font-semibold rounded",children:" Verified"})]}),s.jsx("div",{className:"flex text-gray-800",children:A(I,"text-xs")})]}),s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed line-clamp-3 mb-3",children:ie})]},V)})}):s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 font-semibold mb-2",children:"No reviews yet"}),s.jsx("p",{className:"text-gray-900 text-sm",children:"Be the first to share your experience with this product!"})]}),K&&s.jsx("div",{className:"flex justify-center pt-6 border-t",children:s.jsx("button",{onClick:()=>N(W=>!W),className:"py-2 px-6 bg-black text-white rounded-lg font-semibold hover:bg-black transition-colors",children:S?"Show fewer reviews":`Show all ${q} reviews`})})]})]})]})},I6="/assets/Strip%20Logos-gVdXTu1U.png",iM=Object.freeze(Object.defineProperty({__proto__:null,default:I6},Symbol.toStringTag,{value:"Module"})),cM=()=>{const{id:e,slug:t}=dh(),r=Ar(),n=qt(),{product:a,loading:l}=At(oe=>oe.product),c=At(oe=>oe.wishlist.items),[u,f]=C.useState(1),[h,m]=C.useState(!1),[g,b]=C.useState(null),[y,j]=C.useState(!1),[w,S]=C.useState(null),[N,A]=C.useState(null),[E,M]=C.useState({}),[T,D]=C.useState(0),[R,q]=C.useState(0),K=7,W=C.useRef(null),[V,Y]=C.useState(!1),[$,I]=C.useState(!1),[ie,B]=C.useState("description"),[Z,ue]=C.useState(!1),[_,fe]=C.useState(0),[z,X]=C.useState({x:0,y:0}),G=C.useRef(null),ce=C.useRef(0),[ke,Me]=C.useState(!0),{token:$e,user:Ae}=Wa(),L=At(oe=>oe.cart.items),H="http://localhost:5000",J=oe=>{if(!oe)return"";if(typeof oe=="string")return oe.trim()?oe.startsWith("http")?oe:`${H}${oe}`:"";if(typeof oe=="object"){const je=oe.url||oe.secure_url||oe.public_url||oe.path||oe.src||"";if(!je)return"";if(typeof je=="string")return je.startsWith("http")?je:`${H}${je}`}return""};C.useEffect(()=>{(async()=>{try{const je=await fetch(`${H}/api/settings`);if(!je.ok)throw new Error("Failed to fetch settings");const Pe=await je.json();Me(Pe.requireReviewApproval!==!1)}catch(je){console.error("Failed to fetch settings:",je)}})()},[H]),C.useEffect(()=>{f(1),S(null),A(null),M({}),D(0),m(!1),b(null),j(!1),(t||e)&&n(t?Fu(t):Il(e))},[e,t,n]),C.useEffect(()=>{ce.current>0&&!l&&requestAnimationFrame(()=>{window.scrollTo(0,ce.current),ce.current=0})},[a,l]),C.useEffect(()=>{const oe=window.scrollY,je=requestAnimationFrame(()=>{window.scrollTo(0,oe)});return()=>cancelAnimationFrame(je)},[ie]),C.useEffect(()=>{if(!a)return;let oe=null;if(a.variantCombinations&&a.variantCombinations.length>0){const ne={...E||{}};w&&(ne.Size=w),N&&(ne.Color=N);for(const Ie of a.variantCombinations){const U=Ie.variantValues||{},ae=U instanceof Map?Object.fromEntries(U):U,Te=Object.keys(ae);let De=!0;for(const Le of Te){const Qe=ae[Le],ct=ne[Le];if(Qe!==void 0&&(ct===void 0||String(ct)!==String(Qe))){De=!1;break}}if(De){oe=Ie._id||Ie.id||null;break}}}const je={variantId:oe||null,selectedSize:w||null,selectedColor:N||null,selectedVariants:E||{}},Pe=ne=>{if(!ne)return!1;if(ne.variantId&&je.variantId&&String(ne.variantId)===String(je.variantId))return!0;const Ie=ne.selectedSize||null,U=ne.selectedColor||null,ae=ne.selectedVariants||{};if(Ie&&je.selectedSize&&String(Ie)===String(je.selectedSize)&&U&&je.selectedColor&&String(U)===String(je.selectedColor))return!0;const Te=Object.keys(ae||{}).sort(),De=Object.keys(je.selectedVariants||{}).sort();if(Te.length&&Te.length===De.length){for(let Le=0;Le<Te.length;Le++){const Qe=Te[Le];if(String(ae[Qe])!==String(je.selectedVariants[Qe]))return!1}return!0}return!1};let Ze=!1;for(const ne of c){const Ie=ne.productId||ne.product&&(ne.product._id||ne.product)||ne._id||ne.product;if(String(Ie)!==String(a._id))continue;if(!(ne.__isSnapshot||ne.snapshot!==void 0||!!ne.variantId)&&(!a.variantCombinations||a.variantCombinations.length===0)){Ze=!0;break}const ae=ne.snapshot?ne.snapshot:ne,Te=ne.variantId||ae.variantId||null,De={...ae,variantId:Te};if(Pe(De)){Ze=!0;break}}Ze||(je.variantId?g&&String(g)===String(je.variantId)&&(Ze=!0):y&&(Ze=!0)),m(!!Ze),a.variantCombinations&&a.variantCombinations.length>0&&y&&j(!1),g&&je.variantId&&String(g)!==String(je.variantId)&&b(null)},[a,c,E,w,N]),C.useEffect(()=>{if(a&&a.variants&&a.variants.length>0&&a.variantCombinations&&a.variantCombinations.length>0&&Object.keys(E).length===0){const je={};for(const Ze of a.variantCombinations){const ne=Ze.variantValues||{};for(const[Ie,U]of Object.entries(ne))je[Ie]||(je[Ie]=new Set),je[Ie].add(String(U))}const Pe={};for(const[Ze,ne]of Object.entries(je)){const Ie=Array.from(ne).sort();Pe[Ze]=Ie[0]}Object.keys(Pe).length>0&&M(Pe)}},[a]),C.useEffect(()=>{D(0),q(0)},[E,w,N]);const pe=()=>{if(!a)return[];const oe={...E||{}};w&&(oe.Size=w),N&&(oe.Color=N);let je=null;for(const Ie of a.variantCombinations||[]){const U=Ie.variantValues||{},ae=U instanceof Map?Object.fromEntries(U):U,Te=Object.keys(ae);let De=!0;for(const Le of Te){const Qe=ae[Le],ct=oe[Le];if(Qe!==void 0&&(ct===void 0||String(ct)!==String(Qe))){De=!1;break}}if(De){je=Ie;break}}const Pe=Ie=>Ie?typeof Ie=="string"?Ie:typeof Ie=="object"&&(Ie.url||Ie.secure_url||Ie.public_url||Ie.path||Ie.src)||"":"",ne=(a?.images||[]).map(Pe).filter(Boolean);if(je&&je.image){const Ie=Pe(je.image);if(Ie){const U=ne.filter(ae=>ae!==Ie);return[Ie,...U]}}return ne.length===0&&a.image?[Pe(a.image)]:ne},Se=(oe=0,je="text-lg")=>{const Pe=[];for(let Ze=1;Ze<=5;Ze++)oe>=Ze?Pe.push(s.jsx(_o,{className:`${je} text-yellow-400`},Ze)):oe>=Ze-.5?Pe.push(s.jsx(M0,{className:`${je} text-yellow-400`},Ze)):Pe.push(s.jsx(pf,{className:`${je} text-yellow-400`},Ze));return Pe},ye=pe(),Ue=ye&&ye.length>0?ye[T]:a?.image||"";C.useEffect(()=>{if(!ye||ye.length===0){q(0);return}q(oe=>Math.max(0,Math.min(Math.max(0,ye.length-K),oe)))},[T,ye]),C.useEffect(()=>{const oe=W.current;if(!oe)return;const je=oe.querySelectorAll("button")[T];je&&je.scrollIntoView&&je.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"});const Pe=()=>{oe&&(Y(oe.scrollLeft>8),I(oe.scrollWidth-oe.clientWidth-oe.scrollLeft>8))},Ze=setTimeout(Pe,120);return Pe(),()=>clearTimeout(Ze)},[T,ye]),C.useEffect(()=>{const oe=W.current;if(!oe)return;const je=()=>{Y(oe.scrollLeft>8),I(oe.scrollWidth-oe.clientWidth-oe.scrollLeft>8)};return oe.addEventListener("scroll",je),je(),()=>oe.removeEventListener("scroll",je)},[ye]);const nt=async()=>{if(a){if(!gt){he.error("This item is out of stock");return}if(a.specifications?.sizes&&!w){he.error("Please select a size");return}if(a.specifications?.colors&&!N){he.error("Please select a color");return}if(a.variants&&Object.keys(a.variants).length>0){for(const[Le,Qe]of Object.entries(a.variants))if(Qe.required&&!E[Le]){he.error(`Please select ${Le}`);return}}const oe=ye&&ye.length>0?ye[0]:a.image||a.images&&a.images[0]||"";let je="";typeof oe=="string"?je=oe:oe&&typeof oe=="object"&&(je=oe.url||oe.src||oe.path||"");let Pe=null;mt&&mt.image&&(Pe=J(mt.image));const Ie={_id:((Le,Qe,ct,Tt)=>{const at=[Le||""];if(at.push(`size:${Qe||""}`),at.push(`color:${ct||""}`),Tt&&typeof Tt=="object"){const Ge=Object.keys(Tt).sort().map(Mt=>`${Mt}:${Tt[Mt]}`);at.push(`vars:${Ge.join(",")}`)}else at.push("vars:");return at.join("|")})(a._id,w,N,E),product:a._id,name:a.name,image:je,variantImage:Pe||je,price:Number(mt?.price??a.price??0),category:a.category,discount:a.discount,quantity:u,selectedSize:w,selectedColor:N,selectedVariants:a.variants&&a.variants.length>0?E:{},variant:a.variants&&a.variants.length>0&&Object.values(E).join(" - ")||null,sku:mt?.sku||a.sku||null,colorCode:E?.Color?"#cccccc":null};n(lf(Ie));const U=(Le,Qe)=>{if(!Le||!Qe||(Le.product||"")!==(Qe.product||"")||(Le.selectedSize||"")!==(Qe.selectedSize||"")||(Le.selectedColor||"")!==(Qe.selectedColor||""))return!1;const ct=Le.selectedVariants||{},Tt=Qe.selectedVariants||{},at=Object.keys(ct).sort(),tt=Object.keys(Tt).sort();if(at.length!==tt.length)return!1;for(let Ge=0;Ge<at.length;Ge++){const Mt=at[Ge];if(Mt!==tt[Ge]||String(ct[Mt])!==String(Tt[Mt]))return!1}return!0},ae=L.find(Le=>U(Le,Ie));let Te=[];ae?Te=L.map(Le=>U(Le,Ie)?{...Le,quantity:(Le.quantity||0)+(Ie.quantity||1)}:Le):Te=[...L,Ie];try{const Le=await n(Va(Te))}catch(Le){console.error("ProductDetail: syncCart failed",Le),he.error("Failed to save cart to server")}const De=Object.entries(E).map(([Le,Qe])=>`${Le}: ${Qe}`).join(", ");he.success(`${u} item(s) added to cart! ${De}`)}},ht=()=>{if(a){localStorage.getItem("token");const oe=mt||null,je=oe?._id||oe?.id||null,Pe=ye&&ye.length>0?ye[0]:a.image||a.images&&a.images[0]||"";let Ze="";typeof Pe=="string"?Ze=Pe:Pe&&typeof Pe=="object"&&(Ze=Pe.url||Pe.src||Pe.path||"");const ne={productId:a._id,name:a.name,price:Number(mt?.price??a.price??0),image:Ze,selectedVariants:E||{},selectedSize:w||null,selectedColor:N||null,variantId:je||null};h?(m(!1),b(null),j(!1),n(Ao({productId:a._id,variantId:je}))):(m(!0),je?(b(je),j(!1)):(b(null),j(!0)),n(cf({productId:a._id,snapshot:ne}))),he.success(h?"Removed from wishlist":"Added to wishlist!")}},wt=()=>{navigator.share&&a?navigator.share({title:a.name,text:`Check out this amazing product: ${a.name}`,url:window.location.href}):he.success("Link copied to clipboard!")};if(l)return s.jsx("div",{className:"min-h-screen flex justify-center items-center bg-[var(--color-bg-section)]",children:s.jsx(Qs,{className:"text-6xl text-[var(--color-text-light)] animate-spin"})});if(!a)return s.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center bg-[var(--color-bg-section)]",children:[s.jsx("p",{className:"text-3xl text-[var(--color-text-light)] mb-6",children:"Product not found"}),s.jsx("button",{onClick:()=>r("/products"),className:"bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white px-8 py-3 rounded-lg font-bold transition duration-300",children:"Browse Products"})]});const mt=(()=>{if(!a||!a.variantCombinations||a.variantCombinations.length===0)return null;const oe={...E||{}};w&&(oe.Size=w),N&&(oe.Color=N);for(const je of a.variantCombinations){const Pe=je.variantValues||{},Ze=Pe instanceof Map?Object.fromEntries(Pe):Pe,ne=Object.keys(Ze);let Ie=!0;for(const U of ne){const ae=Ze[U],Te=oe[U];if(ae!==void 0&&(Te===void 0||String(Te)!==String(ae))){Ie=!1;break}}if(Ie)return je}return null})();let Mr=null;mt?Mr=Number(mt.stock||0):a.variantCombinations&&a.variantCombinations.length>0?Mr=null:Mr=Number(a.stock||0);const gt=Mr!==null?Mr>0:!!a.inStock,Nt=(()=>{if(!a.variantCombinations||a.variantCombinations.length===0)return{};const oe={};for(const Pe of a.variantCombinations){const Ze=Pe.variantValues||{};for(const[ne,Ie]of Object.entries(Ze))oe[ne]||(oe[ne]=new Set),oe[ne].add(String(Ie))}const je={};for(const[Pe,Ze]of Object.entries(oe))je[Pe]=Array.from(Ze).sort();return je})(),In=async oe=>{if(!$e)throw he.error("Please log in to submit a review"),new Error("Not authenticated");try{ce.current=window.scrollY;const je=a?._id||e||t;if(!je)throw new Error("Product identifier missing");const Pe=await fetch(`${H}/api/products/${je}/reviews`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$e}`},body:JSON.stringify(oe)}),Ze=await Pe.json();if(!Pe.ok)throw new Error(Ze.message||"Failed to submit review");he.success("Review submitted successfully"),a&&a._id?n(Il(a._id)):n(Il(je))}catch(je){throw console.error("submitReview error",je),ce.current=0,je}};return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("div",{className:"bg-[var(--color-bg-primary)] border-b border-[var(--color-border-light)]",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-[var(--color-text-light)]",children:[s.jsx("button",{onClick:()=>r("/"),className:"hover:text-[var(--color-accent-primary)] transition",children:"Home"}),s.jsx("span",{children:"/"}),s.jsx("button",{onClick:()=>r("/products"),className:"hover:text-[var(--color-accent-primary)] transition",children:"Products"}),s.jsx("span",{children:"/"}),s.jsx("span",{className:"text-[var(--color-accent-primary)] font-semibold",children:a.name})]})})}),s.jsxs("div",{className:"max-w-full mx-auto px-2 sm:px-2 lg:px-2 py-8",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 gap-5 mb-16",children:[s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:" rounded-2xl  overflow-hidden p-2 sticky",style:{top:"var(--pdp-sticky-offset, 0px)"},children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 w-full",children:[ye.length>1&&s.jsx("div",{className:"w-full lg:flex-shrink-0 lg:w-auto",children:s.jsx("div",{ref:W,className:"flex lg:flex-col gap-2 lg:gap-3 overflow-x-auto lg:overflow-y-auto lg:overflow-x-hidden px-1 rounded-lg hide-scrollbar",style:{height:"auto",minHeight:"auto",scrollBehavior:"smooth",maxWidth:"400px",maxHeight:"500px",lg:{maxHeight:"500px",maxWidth:"none",minWidth:"120px",minHeight:"400px"}},children:ye&&ye.length>0?ye.map((oe,je)=>s.jsx("button",{onClick:()=>D(je),className:`flex-shrink-0 w-16 h-16 lg:w-20 lg:h-20 rounded-lg overflow-hidden border-3 transition-all duration-300 hover:scale-105 ${T===je?"border-[var(--color-accent-primary)] shadow-lg":"border-[var(--color-border-light)] hover:border-[var(--color-accent-primary)] shadow-sm"}`,children:s.jsx("img",{src:J(oe),alt:`Thumbnail ${je+1}`,className:"w-full h-full object-contain",onError:Pe=>{console.warn(`Thumbnail ${je} failed to load:`,J(oe)),Pe.target.style.opacity="0"}},`thumb-${je}`)},je)):s.jsx("div",{className:"w-20 h-20 bg-[var(--color-bg-section)] rounded-lg flex items-center justify-center text-[var(--color-text-light)]",children:s.jsx("span",{className:"text-xs text-center",children:"No Images"})})})}),s.jsx("div",{className:"flex-1 flex flex-col w-full",children:s.jsxs("div",{className:"relative rounded-xl overflow-hidden group cursor-zoom-in flex items-center justify-center mx-auto lg:mx-0",style:{aspectRatio:"1/1",width:"100%",maxWidth:"100%",height:"auto"},onClick:()=>{fe(T),ue(!0)},children:[ye&&ye.length>0?s.jsx("img",{src:J(Ue),alt:a.name,className:"w-full h-full object-contain group-hover:scale-105 transition duration-500",onError:oe=>{console.warn("Image failed to load:",J(Ue)),oe.target.style.opacity="0"}},T):s.jsx("div",{className:"text-[var(--color-text-light)] text-center",children:s.jsx("p",{className:"text-lg font-semibold",children:"No Images Available"})}),ye&&ye.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:oe=>{oe.stopPropagation(),D(je=>{const Pe=(je-1+ye.length)%ye.length;return q(Ze=>Math.max(0,Math.min(Math.max(0,ye.length-K),Ze-1))),Pe})},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-[var(--color-accent-primary)] bg-opacity-70 hover:bg-opacity-100 text-white p-3 rounded-full transition-all z-10 shadow-lg flex items-center justify-center","aria-label":"Previous image",children:s.jsx(Er,{className:"text-lg"})}),s.jsx("button",{onClick:oe=>{oe.stopPropagation(),D(je=>{const Pe=(je+1)%ye.length;return q(Ze=>Math.min(Math.max(0,ye.length-K),Ze+1)),Pe})},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-[var(--color-accent-primary)] bg-opacity-70 hover:bg-opacity-100 text-white p-3 rounded-full transition-all z-10 shadow-lg flex items-center justify-center","aria-label":"Next image",children:s.jsx(o4,{className:"text-lg"})})]})]})})]})})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"m-0",children:[(mt?.sku||a.sku)&&s.jsxs("div",{className:"text-sm text-[var(--color-text-light)] mb-3 font-semibold",children:["SKU: ",mt?.sku||a.sku]}),s.jsx("h1",{className:"text-3xl font-bold text-[var(--color-text-primary)] leading-tight",children:a.name}),(a.numReviews||a.reviews?.length||0)>0&&s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex",children:Se(a.rating||0,"text-lg")}),s.jsx("span",{className:"text-lg font-bold text-[var(--color-text-primary)]",children:(a.rating||0).toFixed(1)})]}),s.jsxs("span",{className:"text-[var(--color-text-light)]",children:["(",a.numReviews||a.reviews?.length||0," verified reviews)"]})]})]}),s.jsxs("div",{className:"bg-white p-4",children:[s.jsxs("div",{className:"flex items-baseline gap-4 mb-4",children:[s.jsxs("span",{className:"text-2xl font-bold text-[var(--color-accent-primary)]",children:["",mt?.price||a.price]}),a.originalPrice&&s.jsx(s.Fragment,{children:s.jsxs("span",{className:"text-3xl text-[var(--color-text-light)] line-through",children:["",a.originalPrice]})})]}),s.jsx("p",{className:"text-[var(--color-text-light)] font-semibold",children:" Great Price  Free Shipping In UK Everywhere"}),s.jsx("p",{className:"text-[var(--color-text-light)] text-sm mt-2",children:"VAT 0 - We don't claim VAT"})]}),s.jsx("div",{className:"p-4 bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`text-2xl ${gt?"text-green-400":"text-red-600"}`,children:gt?"":""}),s.jsxs("div",{children:[s.jsx("p",{className:`font-bold text-lg ${gt?"text-[var(--color-text-primary)]":"text-red-600"}`,children:gt?"In Stock - Ships Today!":"Out of Stock"}),s.jsx("p",{className:"text-[var(--color-text-light)] text-sm",children:gt?"Available for immediate dispatch":"This item is currently unavailable"})]})]})}),s.jsxs("div",{className:"space-y-6",children:[a.specifications?.sizes&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-bold text-[var(--color-text-primary)] uppercase tracking-wide",children:["Size ",w&&s.jsxs("span",{className:"text-[var(--color-text-light)]",children:["- ",w]})]}),s.jsx("select",{value:w||"",onChange:oe=>S(oe.target.value||null),className:"w-full px-4 py-3 border-2 border-[var(--color-border-light)] rounded-lg font-semibold text-[var(--color-text-primary)] bg-[var(--color-bg-primary)] cursor-pointer hover:border-[var(--color-accent-primary)] transition focus:outline-none focus:border-[var(--color-accent-primary)]",children:a.specifications.sizes.map(oe=>s.jsx("option",{value:oe,children:oe},oe))})]}),a.specifications?.colors&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-bold text-[var(--color-text-primary)] uppercase tracking-wide",children:["Color ",N&&s.jsxs("span",{className:"text-[var(--color-text-light)]",children:["- ",N]})]}),s.jsx("select",{value:N||"",onChange:oe=>A(oe.target.value||null),className:"w-full px-4 py-3 border-2 border-[var(--color-border-light)] rounded-lg font-semibold text-[var(--color-text-primary)] bg-[var(--color-bg-primary)] cursor-pointer hover:border-[var(--color-accent-primary)] transition focus:outline-none focus:border-[var(--color-accent-primary)]",children:a.specifications.colors.map(oe=>s.jsx("option",{value:oe,children:oe},oe))})]}),Object.keys(Nt).length>0&&Object.entries(Nt).map(([oe,je])=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-bold text-[var(--color-text-primary)] uppercase tracking-wide",children:[oe," ",E[oe]&&s.jsxs("span",{className:"text-[var(--color-text-light)]",children:["- ",E[oe]]})]}),s.jsx("select",{value:E[oe]||"",onChange:Pe=>M({...E,[oe]:Pe.target.value||null}),className:"w-full px-4 py-3 border-2 border-[var(--color-border-light)] rounded-lg font-semibold text-[var(--color-text-primary)] bg-[var(--color-bg-primary)] cursor-pointer hover:border-[var(--color-accent-primary)] transition focus:outline-none focus:border-[var(--color-accent-primary)]",children:je.map(Pe=>s.jsx("option",{value:Pe,children:Pe},Pe))})]},oe)),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center border-2 border-[var(--color-border-light)] rounded-lg overflow-hidden bg-[var(--color-bg-primary)]",children:[s.jsx("button",{onClick:()=>f(Math.max(1,u-1)),className:"px-6 py-3 hover:bg-[var(--color-bg-section)] font-bold text-lg text-[var(--color-text-primary)] transition",children:""}),s.jsx("span",{className:"px-8 py-3 border-l-2 border-r-2 border-[var(--color-border-light)] font-bold text-xl text-[var(--color-text-primary)]",children:u}),s.jsx("button",{onClick:()=>f(u+1),className:"px-6 py-3 hover:bg-[var(--color-bg-section)] font-bold text-lg text-[var(--color-text-primary)] transition",children:"+"})]}),s.jsxs("button",{onClick:nt,disabled:!gt,className:`flex-1 px-8 py-4 rounded-lg font-bold transition duration-300 flex items-center justify-center gap-3 text-lg shadow-lg ${gt?"bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white":"bg-[var(--color-border-light)] text-[var(--color-text-light)] cursor-not-allowed"}`,children:[s.jsx(Bo,{})," ",gt?"Add to Cart":"Sold Out"]})]}),s.jsxs("button",{onClick:()=>{gt&&(nt(),r("/checkout"))},disabled:!gt,className:`w-full px-8 py-4 rounded-lg font-bold transition duration-300 flex items-center justify-center gap-3 text-lg shadow-lg ${gt?"bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white":"bg-[var(--color-border-light)] text-[var(--color-text-light)] cursor-not-allowed"}`,children:[s.jsx(Yr,{})," ",gt?"Buy Now":"Sold Out"]}),(w&&a.specifications?.sizes||N&&a.specifications?.colors||Object.values(E).some(oe=>oe)&&Object.keys(Nt).length>0)&&s.jsxs("div",{className:"bg-[var(--color-bg-section)] p-6 rounded-lg border-2 border-[var(--color-accent-primary)]",children:[s.jsxs("h4",{className:"font-bold text-lg text-[var(--color-text-primary)] mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"bg-[var(--color-accent-primary)] text-white px-3 py-1 rounded-full text-sm",children:""}),"Your Selection Summary"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w&&s.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-[var(--color-text-light)] font-semibold uppercase",children:"Size"}),s.jsx("p",{className:"text-lg font-bold text-[var(--color-accent-primary)]",children:w})]}),N&&s.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-[var(--color-text-light)] font-semibold uppercase",children:"Color"}),s.jsx("p",{className:"text-lg font-bold text-[var(--color-accent-primary)]",children:N})]}),Object.entries(E).filter(([oe,je])=>je).map(([oe,je])=>s.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-[var(--color-text-light)] font-semibold uppercase",children:oe}),s.jsx("p",{className:"text-lg font-bold text-[var(--color-accent-primary)]",children:je})]},oe)),s.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-[var(--color-text-light)] font-semibold uppercase",children:"Quantity"}),s.jsxs("p",{className:"text-lg font-bold text-[var(--color-accent-primary)]",children:["x",u]})]}),s.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-3 rounded-lg col-span-2",children:[s.jsx("p",{className:"text-xs text-[var(--color-text-light)] font-semibold uppercase",children:"Total Price"}),s.jsxs("p",{className:"text-2xl font-bold text-[var(--color-accent-primary)]",children:["",((mt?.price||a.price)*u).toFixed(2)]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:ht,className:`py-3 px-4 rounded-lg font-bold transition duration-300 flex items-center justify-center gap-2 ${h?"bg-red-600 text-white hover:bg-red-700":"bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white"}`,children:[s.jsx(jh,{})," ",h?"Saved":"Save"]}),s.jsxs("button",{onClick:wt,className:"py-3 px-4 rounded-lg font-bold bg-[var(--color-accent-primary)] text-white hover:bg-[var(--color-accent-light)] transition duration-300 flex items-center justify-center gap-2",children:[s.jsx(_T,{})," Share"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-0 bg-[var(--color-bg-primary)] border border-[var(--color-border-light)] rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex gap-4 items-center p-6 border-b border-[var(--color-border-light)]",children:[s.jsx("div",{className:"text-3xl text-[var(--color-accent-primary)] flex-shrink-0",children:s.jsx(Nh,{})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-[var(--color-text-primary)] text-sm leading-tight",children:"Free Shipping: 2-4 Business Days"}),s.jsxs("p",{className:"text-[var(--color-text-light)] text-xs mt-1",children:["Ships within the United Kingdom only. ",s.jsx(ze,{to:"/policies/shipping",className:"text-[var(--color-accent-primary)] hover:underline font-semibold",children:"See details "})]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center p-6 border-b border-[var(--color-border-light)]",children:[s.jsx("div",{className:"text-3xl text-[var(--color-accent-primary)] flex-shrink-0",children:s.jsx(Pn,{})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-[var(--color-text-primary)] text-sm leading-tight",children:"31 Days Return & Refunds Policy"}),s.jsxs("p",{className:"text-[var(--color-text-light)] text-xs mt-1",children:["Full refund within 31 days of purchase.",s.jsx(ze,{to:"/policies/returns-refund",className:"text-[var(--color-accent-primary)] hover:underline font-semibold",children:" See details "})]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center p-6",children:[s.jsx("div",{className:"text-3xl text-[var(--color-accent-primary)] flex-shrink-0",children:s.jsx(To,{})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"",children:s.jsx("img",{src:I6,alt:"Payment methods",className:"h-8 object-contain"})}),s.jsx("p",{className:"text-[var(--color-text-light)] text-xs leading-relaxed",children:"All payments are processed securely in  ()."})]})]})]}),s.jsxs("div",{className:"bg-[var(--color-bg-section)] p-6 rounded-xl border-l-4 border-[var(--color-accent-primary)]",children:[s.jsx("h3",{className:"font-bold text-lg text-[var(--color-text-primary)] mb-4",children:a.benefitsHeading||"Why Buy This Product?"}),a.benefits&&typeof a.benefits=="string"&&a.benefits.trim()?s.jsx("div",{className:"prose prose-sm max-w-none text-[var(--color-text-light)]",dangerouslySetInnerHTML:{__html:a.benefits}}):a.benefits&&Array.isArray(a.benefits)&&a.benefits.length>0?s.jsx("ul",{className:"space-y-2 text-[var(--color-text-light)]",children:a.benefits.map((oe,je)=>s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx(Yr,{className:"text-[var(--color-accent-primary)]"})," ",oe]},je))}):s.jsxs("ul",{className:"space-y-2 text-[var(--color-text-light)]",children:[s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx(Yr,{className:"text-[var(--color-accent-primary)]"})," Premium quality & authentic products"]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx(Yr,{className:"text-[var(--color-accent-primary)]"})," Competitive pricing with great value"]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx(Yr,{className:"text-[var(--color-accent-primary)]"})," Trusted by 100K+ customers"]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx(Yr,{className:"text-[var(--color-accent-primary)]"})," Expert customer support team"]})]})]})]})]}),s.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-6 rounded-2xl shadow-lg mb-16",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:oe=>{oe.preventDefault(),B("description")},className:`px-4 py-2 rounded-lg font-semibold transition ${ie==="description"?"bg-[var(--color-accent-primary)] text-white":"bg-[var(--color-bg-section)] text-[var(--color-text-primary)] hover:bg-[var(--color-border-light)]"}`,children:"Product Description"}),s.jsxs("button",{onClick:oe=>{oe.preventDefault(),B("reviews")},className:`px-4 py-2 rounded-lg font-semibold transition ${ie==="reviews"?"bg-[var(--color-accent-primary)] text-white":"bg-[var(--color-bg-section)] text-[var(--color-text-primary)] hover:bg-[var(--color-border-light)]"}`,children:["Reviews (",a.numReviews||a.reviews?.length||0,")"]})]})}),ie==="description"?s.jsx("div",{children:s.jsx("div",{className:"prose prose-sm max-w-none text-[var(--color-text-light)] leading-relaxed mb-8",dangerouslySetInnerHTML:{__html:a.description||""}})}):s.jsx("div",{className:"p-0",children:s.jsx(lM,{product:a,token:$e,user:Ae,onSubmitReview:In,requireReviewApproval:ke,API:H})})]}),a&&s.jsx(P6,{currentProductId:a._id,currentCategory:a.category,limit:5}),Z&&ye.length>0&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:()=>ue(!1),children:s.jsxs("div",{className:"relative w-full max-w-5xl flex items-center justify-center gap-6",onClick:oe=>oe.stopPropagation(),children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[s.jsxs("div",{ref:G,className:"relative bg-white rounded-lg overflow-hidden shadow-2xl cursor-crosshair",onMouseMove:oe=>{if(!G.current)return;const je=G.current.getBoundingClientRect(),Pe=oe.clientX-je.left,Ze=oe.clientY-je.top;X({x:Pe,y:Ze})},onMouseLeave:()=>X({x:0,y:0}),style:{maxWidth:"500px",maxHeight:"500px"},children:[s.jsx("img",{src:J(ye[_]),alt:`${a.name} zoom`,className:"w-full h-full object-contain",onError:oe=>{console.warn("Zoom image failed to load:",J(ye[_])),oe.target.style.opacity="0"}},`zoom-main-${_}`),s.jsx("div",{className:"absolute w-20 h-20 border-4 border-yellow-400 rounded-full pointer-events-none shadow-lg",style:{left:`${z.x-40}px`,top:`${z.y-40}px`,opacity:z.x>0||z.y>0?1:0,transition:"opacity 0.2s"}})]}),ye.length>1&&s.jsxs("div",{className:"flex gap-3 m-5 justify-center",children:[s.jsx("button",{onClick:oe=>{oe.stopPropagation(),fe(je=>(je-1+ye.length)%ye.length)},className:"bg-[var(--color-bg-primary)] hover:bg-[var(--color-bg-section)] text-[var(--color-text-primary)] rounded-full p-3 shadow-lg transition","aria-label":"Previous image",children:s.jsx(Er,{size:18})}),s.jsx("div",{className:"bg-[var(--color-accent-primary)] bg-opacity-60 text-white px-4 py-2 rounded-full flex items-center justify-center min-w-20",children:s.jsxs("span",{className:"font-semibold",children:[_+1," / ",ye.length]})}),s.jsx("button",{onClick:oe=>{oe.stopPropagation(),fe(je=>(je+1)%ye.length)},className:"bg-[var(--color-bg-primary)] hover:bg-[var(--color-bg-section)] text-[var(--color-text-primary)] rounded-full p-3 shadow-lg transition","aria-label":"Next image",children:s.jsx(o4,{size:18})})]})]}),s.jsx("div",{className:"flex-1 flex flex-col justify-center items-center gap-4",children:s.jsxs("div",{className:"relative bg-[var(--color-bg-primary)] rounded-lg overflow-hidden shadow-2xl border-4 border-[var(--color-border-light)]",style:{width:"300px",height:"300px"},children:[s.jsx("img",{src:J(ye[_]),alt:`${a.name} magnified`,className:"absolute w-full h-full object-contain",style:{transform:"scale(2.5)",transformOrigin:`${z.x/(G.current?.offsetWidth||1)*100}% ${z.y/(G.current?.offsetHeight||1)*100}%`,transition:"transform 0.1s ease-out"},onError:oe=>{console.warn("Zoom magnified image failed to load:",J(ye[_])),oe.target.style.opacity="0"}},`zoom-magnified-${_}`),z.x===0&&z.y===0&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[var(--color-bg-section)] bg-opacity-50",children:s.jsx("p",{className:"text-[var(--color-text-light)] text-center font-semibold",children:"Move mouse over image to zoom"})})]})}),s.jsx("button",{onClick:()=>ue(!1),className:"absolute top-4 right-4 bg-[var(--color-bg-primary)] bg-opacity-80 hover:bg-opacity-100 text-[var(--color-text-primary)] rounded-full p-3 shadow-lg transition","aria-label":"Close zoom",children:s.jsx("span",{className:"text-xl font-bold",children:""})})]})})]})]})},dM=({searchQuery:e,onSearchChange:t,onClearSearch:r})=>s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ba,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{type:"text",placeholder:"Search categories...",value:e,onChange:n=>t(n.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-gray-800 transition duration-300 text-gray-700 font-medium"})]}),e&&s.jsx("button",{onClick:r,className:"bg-black hover:bg-gray-900 text-white p-3 rounded-lg transition duration-300 transform hover:scale-105",children:s.jsx(Wt,{className:"text-lg"})})]})})}),uM=()=>{const e=qt(),{categories:t,loading:r,error:n,searchQuery:a}=At(h=>h.category),[l,c]=C.useState([]);C.useEffect(()=>{e(ln())},[e]),C.useEffect(()=>{const h=g=>{let b=[];return g.forEach(y=>{b.push(y),y.subcategories&&Array.isArray(y.subcategories)&&y.subcategories.length>0&&(b=b.concat(h(y.subcategories)))}),b};let m=h(t);a&&(m=m.filter(g=>g.name.toLowerCase().includes(a.toLowerCase())||g.description?.toLowerCase().includes(a.toLowerCase()))),c(m)},[t,a]);const u=h=>{e(zE(h))},f=()=>{e(LE())};return s.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] py-16 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-16",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-xl text-[var(--color-text-light)] max-w-2xl",children:"Explore our wide range of products organized by category. Find exactly what you're looking for."})]}),s.jsx(dM,{searchQuery:a,onSearchChange:u,onClearSearch:f}),r?s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Qs,{className:"text-6xl text-[var(--color-text-light)] animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-xl text-[var(--color-text-light)]",children:"Loading categories..."})]})}):n?s.jsxs("div",{className:"text-center py-24 bg-[var(--color-bg-primary)] rounded-2xl shadow-lg",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("p",{className:"text-2xl text-red-600 font-semibold mb-2",children:"Error Loading Categories"}),s.jsx("p",{className:"text-[var(--color-text-primary)] text-lg",children:n})]}):l.length>0?s.jsxs("div",{children:[s.jsxs("p",{className:"text-[var(--color-text-light)] mb-8 text-lg",children:["Showing ",s.jsx("span",{className:"font-bold text-[var(--color-accent-primary)]",children:l.length})," categor",l.length===1?"y":"ies"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8",children:l.map(h=>s.jsx(mf,{category:h},h._id))})]}):s.jsxs("div",{className:"text-center py-24 bg-[var(--color-bg-primary)] rounded-2xl shadow-lg",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("p",{className:"text-2xl text-[var(--color-text-light)] font-semibold mb-2",children:"No categories found"}),s.jsx("p",{className:"text-[var(--color-text-primary)] text-lg",children:"Try adjusting your search query"})]})]})})},fM=()=>{const{slug:e}=dh(),t=Ar(),r=qt(),{categories:n,selectedCategory:a,loading:l,error:c}=At(y=>y.category),{products:u,filters:f}=At(y=>y.product),[h,m]=pt.useState([]),[g,b]=pt.useState([]);return C.useEffect(()=>{m([]),b([]),r(qu(e)),r(un()),window.scrollTo(0,0)},[e,r]),C.useEffect(()=>{if(a&&a.subcategories&&a.subcategories.length>0){const y=Array.isArray(a.subcategories)?a.subcategories:n.filter(j=>a.subcategories.includes(j._id));b(y)}else b([])},[a,n]),C.useEffect(()=>{a&&r(hc({category:a.name}))},[a,r]),C.useEffect(()=>{let y=u;a&&(y=y.filter(j=>Array.isArray(j.categories)?j.categories.some(w=>w._id===a._id):j.category===a._id||j.category===a.name)),f.search&&(y=y.filter(j=>j.name.toLowerCase().includes(f.search.toLowerCase()))),y=y.filter(j=>j.price>=f.price.min&&j.price<=f.price.max),m(y)},[u,f,a]),l?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-black-100 py-16 px-4 sm:px-6 lg:px-8 flex justify-center items-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Qs,{className:"text-6xl text-gray-400 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Loading category..."})]})}):c||!a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-black-100 py-16 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("button",{onClick:()=>t("/categories"),className:"flex items-center gap-2 text-gray-400 hover:text-gray-700 font-semibold mb-8 transition duration-300",children:[s.jsx(Er,{})," Back to Categories"]}),s.jsxs("div",{className:"text-center py-24 bg-white rounded-2xl shadow-lg",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("p",{className:"text-2xl text-red-600 font-semibold mb-2",children:"Category Not Found"}),s.jsx("p",{className:"text-gray-900 text-lg",children:"The category you're looking for doesn't exist."})]})]})}):s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsxs("div",{className:"relative h-80 md:h-96 overflow-hidden bg-gradient-to-br from-gray-700 to-grey-700",children:[a.image&&s.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover opacity-80"}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${a.color||"from-gray-700/70 to-grey-700/70"}`}),s.jsx("div",{className:"absolute inset-0 flex flex-col justify-center",children:s.jsx("div",{className:"max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-white",children:[s.jsx("div",{className:"text-6xl md:text-7xl mb-6",children:a.icon}),s.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:a.name}),s.jsx("p",{className:"text-white text-opacity-95 text-lg md:text-xl max-w-3xl leading-relaxed",children:a.description})]})})})]}),s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("button",{onClick:()=>t("/categories"),className:"flex items-center gap-2 text-gray-400 hover:text-gray-700 font-semibold transition duration-300 transform hover:-translate-x-1",children:[s.jsx(Er,{})," Back to Categories"]})})}),s.jsx("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:g.length>0?s.jsxs("div",{className:"mb-16",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:a.parent?"Sub-Subcategories":"Subcategories"}),s.jsxs("p",{className:"text-gray-600 text-lg",children:["Browse all ",a.parent?"sub-subcategories":"subcategories"," under ",s.jsx("span",{className:"font-semibold text-gray-400",children:a.name})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8",children:g.map(y=>s.jsx(mf,{category:y},y._id))})]}):h.length>0?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:a.level==="main"?`All ${a.name} Products`:`${a.name} Products`}),s.jsxs("p",{className:"text-gray-600 text-lg",children:["Showing ",s.jsx("span",{className:"font-semibold text-gray-400",children:h.length})," product",h.length!==1?"s":""]})]}),s.jsxs("div",{className:"grid lg:grid-cols-6 gap-10",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx("div",{className:"sticky top-32",children:s.jsx(_6,{filters:f,onFilterChange:y=>r(hc(y))})})}),s.jsx("div",{className:"lg:col-span-4",children:s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(y=>s.jsx(Wl,{product:y},y._id))})})]})]}):s.jsxs("div",{className:"text-center py-24 bg-white rounded-2xl shadow-lg",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("p",{className:"text-2xl text-gray-600 font-semibold mb-2",children:"Nothing Found"}),s.jsx("p",{className:"text-gray-900 text-lg mb-8",children:"This category has no subcategories or products yet"}),s.jsxs("button",{onClick:()=>t("/categories"),className:"inline-flex items-center gap-2 text-gray-400 hover:text-gray-700 font-semibold transition duration-300",children:[s.jsx(Er,{})," Back to Categories"]})]})})}),a.level==="main"&&s.jsx("div",{className:"bg-white py-16 px-4 sm:px-6 lg:px-8 mt-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Explore More Categories"}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.filter(y=>y.level==="main"&&y._id!==a._id).slice(0,4).map(y=>s.jsxs("button",{onClick:()=>t(`/category/${y.slug}`),className:`bg-gradient-to-br ${y.color} rounded-xl p-6 text-white text-center hover:shadow-lg transition duration-300 transform hover:scale-105`,children:[s.jsx("div",{className:"text-4xl mb-2",children:y.icon}),s.jsx("p",{className:"font-bold text-lg",children:y.name})]},y._id))})]})})]})},m4="http://localhost:5000",jx=e=>{if(!e)return null;if(Array.isArray(e)){const t=e.find(r=>!!r);return jx(t)}if(typeof e=="object"){const t=e.url||e.secure_url||e.path||e.src||e.public_id||e.location;return t&&typeof t=="string"?t.startsWith("http")?t:`${m4}${t}`:null}return typeof e=="string"?e.startsWith("http")?e:`${m4}${e}`:null},hM=({item:e,onRemove:t,onUpdateQuantity:r,index:n,isLast:a})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-6 sm:p-8 transition duration-300",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 mb-4",children:[s.jsx("div",{className:"relative w-32 h-32 rounded-xl flex-shrink-0 overflow-hidden group flex items-center justify-center",style:{backgroundColor:"var(--color-bg-section)",borderColor:"var(--color-border-light)"},children:jx(e.image)?s.jsx("img",{src:jx(e.image),alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition duration-300 rounded-xl"}):s.jsx("div",{className:"text-4xl",children:""})}),s.jsxs("div",{className:"grow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-xl mb-1",style:{color:"var(--color-text-primary)"},children:e.name}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:"var(--color-accent-primary)",color:"white"},children:"VAT 0%"})})]}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:"var(--color-accent-primary)"},children:["",Number(e.price).toFixed(2)]})]}),(e.selectedSize||e.selectedColor||e.selectedVariants&&Object.keys(e.selectedVariants).length>0)&&s.jsx("div",{className:"mt-4 pt-4",style:{borderColor:"var(--color-border-light)",borderTopWidth:"1px"},children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.selectedSize&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"text-sm",style:{color:"var(--color-accent-primary)"}}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:"Size:"}),s.jsx("span",{className:"ml-1",style:{color:"var(--color-text-secondary)"},children:e.selectedSize})]})]}),e.selectedColor&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(IT,{className:"text-sm",style:{color:"var(--color-accent-primary)"}}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:"Color:"}),s.jsx("span",{className:"ml-1",style:{color:"var(--color-text-secondary)"},children:e.selectedColor})]})]}),e.selectedVariants&&Object.entries(e.selectedVariants).filter(([l,c])=>c).map(([l,c])=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yr,{className:"text-sm",style:{color:"var(--color-accent-primary)"}}),s.jsxs("span",{className:"text-sm",children:[s.jsxs("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:[l,":"]}),s.jsx("span",{className:"ml-1",style:{color:"var(--color-text-secondary)"},children:c})]})]},l))]})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 pt-4",style:{borderColor:"var(--color-border-light)",borderTopWidth:"1px"},children:[s.jsxs("div",{className:"flex items-center rounded-lg w-fit",style:{borderWidth:"2px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-primary)"},children:[s.jsx("button",{onClick:()=>r(e._id,e.quantity-1),className:"px-5 py-2 font-bold text-lg transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed",style:{color:"var(--color-accent-primary)"},onMouseEnter:l=>l.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:l=>l.target.style.backgroundColor="transparent",disabled:e.quantity<=1,children:""}),s.jsx("span",{className:"px-8 py-2 font-bold text-lg w-16 text-center",style:{borderLeftWidth:"2px",borderRightWidth:"2px",borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},children:e.quantity}),s.jsx("button",{onClick:()=>r(e._id,e.quantity+1),className:"px-5 py-2 font-bold text-lg transition duration-300",style:{color:"var(--color-accent-primary)"},onMouseEnter:l=>l.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:l=>l.target.style.backgroundColor="transparent",children:"+"})]}),s.jsx("div",{className:"flex items-center justify-between sm:justify-end gap-8",children:s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Subtotal"}),s.jsxs("p",{className:"font-bold text-2xl",style:{color:"var(--color-accent-primary)"},children:["",(Number(e.price)*e.quantity).toFixed(2)]})]})}),s.jsx("button",{onClick:()=>{try{typeof t=="function"&&t(e._id)}catch(l){console.error("CartItem remove handler error",l)}},className:"w-full sm:w-auto px-4 py-2 font-semibold flex items-center justify-center gap-2 transition duration-300 rounded-lg",style:{borderWidth:"2px",borderColor:"var(--color-border-light)",color:"var(--color-accent-primary)"},onMouseEnter:l=>l.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:l=>l.target.style.backgroundColor="transparent",children:s.jsx(Fs,{className:"text-sm"})})]})]}),!a&&s.jsx("div",{style:{borderBottomColor:"var(--color-border-light)",borderBottomWidth:"1px"}})]}),pM=({totalPrice:e,totalQuantity:t,onCheckout:r,onClearCart:n,shippingCost:a,taxCost:l,finalTotal:c})=>s.jsxs("div",{className:"rounded-2xl shadow-lg border p-8 sticky top-24 space-y-8",style:{backgroundColor:"var(--color-bg-section)",borderColor:"var(--color-border-light)"},children:[s.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[s.jsx(Pn,{style:{color:"var(--color-accent-primary)"}})," Order Summary"]}),s.jsxs("div",{className:"border-l-4 p-6 rounded-xl",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-accent-primary)"},children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Nh,{className:"text-xl",style:{color:"var(--color-accent-primary)"}}),s.jsx("p",{className:"font-bold text-lg",style:{color:"var(--color-text-primary)"},children:"Free Shipping"})]}),s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Shipping is free for all orders"})]}),s.jsxs("div",{className:"space-y-4 pb-8",style:{borderBottomColor:"var(--color-border-light)"},children:[s.jsxs("div",{className:"flex justify-between text-base",style:{borderColor:"var(--color-border-light)"},children:[s.jsx("span",{className:"font-medium",style:{color:"var(--color-text-secondary)"},children:"Subtotal"}),s.jsxs("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:["",e.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"font-medium",style:{color:"var(--color-text-secondary)"},children:"Shipping"}),s.jsx("span",{className:"font-semibold",style:{color:a===0?"var(--color-text-light)":"var(--color-text-primary)"},children:a===0?"FREE":`${a.toFixed(2)}`})]}),s.jsxs("div",{className:"flex justify-between text-base items-center",children:[s.jsx("span",{className:"font-medium",style:{color:"var(--color-text-secondary)"},children:"VAT"}),s.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold rounded",style:{backgroundColor:"var(--color-accent-primary)",color:"white"},children:"0%"})]})]}),s.jsxs("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--color-bg-secondary)"},children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"font-medium",style:{color:"var(--color-text-secondary)"},children:"Total Items"}),s.jsx("span",{className:"font-bold text-lg",style:{color:"var(--color-text-primary)"},children:t})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-bold",style:{color:"var(--color-text-primary)"},children:"Total Amount"}),s.jsxs("span",{className:"text-2xl font-bold",style:{color:"var(--color-accent-primary)"},children:["",c.toFixed(2)]})]})]}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("button",{onClick:r,className:"w-full text-white py-4 rounded-xl font-bold transition duration-300 text-lg transform hover:scale-105 shadow-lg flex items-center justify-center gap-2",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:u=>u.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:u=>u.target.style.backgroundColor="var(--color-accent-primary)",children:[s.jsx(Yr,{})," Proceed to Checkout"]}),s.jsx("button",{onClick:n,className:"w-full py-4 rounded-xl font-bold transition duration-300 text-lg",style:{borderColor:"var(--color-accent-primary)",color:"var(--color-accent-primary)",borderWidth:"2px",backgroundColor:"transparent"},onMouseEnter:u=>u.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:u=>u.target.style.backgroundColor="transparent",children:"Clear Cart"})]})]}),mM=()=>{const e=qt(),t=Ar(),{token:r}=Wa(),{items:n,totalPrice:a,totalQuantity:l}=At(y=>y.cart),c=y=>{(async()=>{try{const j=n.filter(w=>w._id!==y);if(e(gE(y)),he.success("Item removed from cart"),r)try{await e(Va(j)).unwrap()}catch(w){console.error("syncCart failed on remove:",w),await u(j)}}catch(j){console.error("handleRemove error",j)}})()},u=async y=>{const j="http://localhost:5000";if(r)try{await fetch(`${j}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({items:y})})}catch(w){console.error("Failed to persist cart",w)}},f=(y,j)=>{if(j<1)return;e(xE({id:y,quantity:j}));const w=n.map(S=>S._id===y?{...S,quantity:j}:S);r&&e(Va(w))},h=()=>{if(n.length===0){he.error("Your cart is empty");return}t("/checkout")},m=0,g=0,b=a;return s.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] py-16 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Bo,{className:"text-4xl text-[var(--color-accent-primary)]"}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-[var(--color-text-primary)]",children:"Shopping Cart"})]}),s.jsx("p",{className:"text-xl text-[var(--color-text-light)]",children:n.length===0?"Your cart is empty":`You have ${l} item${l!==1?"s":""} in your cart`})]}),n.length===0?s.jsxs("div",{className:"text-center py-24 bg-[var(--color-bg-secondary)] rounded-3xl shadow-lg border-2 border-[var(--color-border-light)]",children:[s.jsx(Bo,{className:"text-8xl text-[var(--color-text-muted)] mx-auto mb-6"}),s.jsx("p",{className:"text-3xl font-bold text-[var(--color-text-primary)] mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-xl text-[var(--color-text-light)] mb-12",children:"Add some items to your cart to get started!"}),s.jsxs(ze,{to:"/products",className:"inline-flex items-center gap-3 bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white px-10 py-4 rounded-lg font-bold text-lg transition duration-300 shadow-lg",children:[s.jsx(Er,{})," Continue Shopping"]})]}):s.jsxs("div",{className:"grid lg:grid-cols-3 gap-10",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx("div",{className:"bg-[var(--color-bg-primary)] rounded-2xl shadow-lg overflow-hidden border border-[var(--color-border-light)]",children:n.map((y,j)=>s.jsx(hM,{item:y,onRemove:w=>{c(w)},onUpdateQuantity:(w,S)=>{f(w,S)},index:j,isLast:j===n.length-1},y._id))})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(pM,{totalPrice:a,totalQuantity:l,onCheckout:h,onClearCart:async()=>{e(v0()),he.success("Cart cleared"),r&&e(o6())},shippingCost:m,taxCost:g,finalTotal:b})})]}),n.length>0&&s.jsx("div",{className:"mt-20",children:s.jsx(P6,{currentProductId:"",currentCategory:n[0]?.category||"Electronics",limit:4})})]})})};var H6="clover",gM=function(t){return t===3?"v3":t},$6="https://js.stripe.com",xM="".concat($6,"/").concat(H6,"/stripe.js"),bM=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,yM=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var vM=function(t){return bM.test(t)||yM.test(t)},jM=function(){for(var t=document.querySelectorAll('script[src^="'.concat($6,'"]')),r=0;r<t.length;r++){var n=t[r];if(vM(n.src))return n}return null},g4=function(t){var r="",n=document.createElement("script");n.src="".concat(xM).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},NM=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.5.3",startTime:r})},rc=null,ju=null,Nu=null,wM=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},SM=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},CM=function(t){return rc!==null?rc:(rc=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var a=jM();if(!(a&&t)){if(!a)a=g4(t);else if(a&&Nu!==null&&ju!==null){var l;a.removeEventListener("load",Nu),a.removeEventListener("error",ju),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=g4(t)}}Nu=SM(r,n),ju=wM(n),a.addEventListener("load",Nu),a.addEventListener("error",ju)}catch(c){n(c);return}}),rc.catch(function(r){return rc=null,Promise.reject(r)}))},kM=function(t,r,n){if(t===null)return null;var a=r[0],l=a.match(/^pk_test/),c=gM(t.version),u=H6;l&&c!==u&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.5.3"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=t.apply(void 0,r);return NM(f,n),f},nc,V6=!1,U6=function(){return nc||(nc=CM(null).catch(function(t){return nc=null,Promise.reject(t)}),nc)};Promise.resolve().then(function(){return U6()}).catch(function(e){V6||console.warn(e)});var EM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];V6=!0;var a=Date.now();return U6().then(function(l){return kM(l,r,a)})};let wu=null;const bg=()=>wu||(wu=EM("pk_test_51Sd8pH4JIXs43X9UA34kzcfvXzky3k5wvksXMTbho5WHiWr9lYXgf1xZYW85jSwvc7bUv3SuN9TMGmc1TMsDRMID000AhcpMal"),wu),AM=()=>{const e=qt(),t=Ar(),{items:r,totalPrice:n,totalQuantity:a}=At(ne=>ne.cart),l=0,c=n,u="http://localhost:5000",f=ne=>{if(!ne)return"https://via.placeholder.com/150";if(Array.isArray(ne)){const Ie=ne.find(U=>!!U);return f(Ie)}if(typeof ne=="object"){const Ie=ne.url||ne.secure_url||ne.path||ne.src||ne.public_id||ne.location;return Ie&&typeof Ie=="string"?Ie.startsWith("http")?Ie:`${u}${Ie}`:"https://via.placeholder.com/150"}return typeof ne=="string"?ne.startsWith("http")?ne:`${u}${ne}`:"https://via.placeholder.com/150"},h=ne=>{if(!ne)return null;const Ie=[];return ne.selectedSize&&Ie.push(`Size: ${ne.selectedSize}`),ne.selectedColor&&Ie.push(`Color: ${ne.selectedColor}`),ne.selectedVariants&&typeof ne.selectedVariants=="object"&&Object.entries(ne.selectedVariants).forEach(([U,ae])=>{ae&&Ie.push(`${U}: ${ae}`)}),Ie.length===0?null:s.jsx("div",{className:"text-sm text-gray-900",children:Ie.join(" / ")})},[m,g]=C.useState(""),[b,y]=C.useState(""),[j,w]=C.useState(""),[S,N]=C.useState(""),[A,E]=C.useState(""),[M,T]=C.useState(""),[D,R]=C.useState(""),[q,K]=C.useState(""),[W,V]=C.useState(""),[Y,$]=C.useState(""),[I,ie]=C.useState(""),[B,Z]=C.useState(!1),[ue,_]=C.useState(""),[fe,z]=C.useState(""),[X,G]=C.useState(""),[ce,ke]=C.useState(""),[Me,$e]=C.useState(""),[Ae,L]=C.useState(""),[H,J]=C.useState(""),[pe,Se]=C.useState(""),[ye,Ue]=C.useState(""),[nt,ht]=C.useState(!1),[wt,Yt]=C.useState(!1),[mt,Mr]=C.useState("card"),[gt,gn]=C.useState(!1),Nt=C.useRef(null),In=C.useRef(null),oe=C.useRef(null),je=C.useRef(!1);C.useEffect(()=>{try{const ne=JSON.parse(localStorage.getItem("checkoutSavedInfo")||"null");ne&&(g(ne.firstName||""),y(ne.lastName||""),w(ne.email||""),N(ne.phone||""),E(ne.address||""),T(ne.apartment||""),R(ne.city||""),K(ne.stateRegion||""),V(ne.postalCode||""),$(ne.country||""),Yt(!0))}catch(ne){console.error("load saved checkout error",ne)}},[]),C.useEffect(()=>((async()=>{try{const Ie="pk_test_51Sd8pH4JIXs43X9UA34kzcfvXzky3k5wvksXMTbho5WHiWr9lYXgf1xZYW85jSwvc7bUv3SuN9TMGmc1TMsDRMID000AhcpMal",U=await bg();Nt.current=U;const ae=Nt.current.elements();if(In.current=ae,!je.current){const Te=ae.create("card",{hidePostalCode:!0});Te.mount("#card-element"),oe.current=Te,je.current=!0,Te.on("change",De=>{const Le=document.getElementById("card-errors");Le&&(Le.textContent=De.error?De.error.message:"")})}}catch(Ie){console.error("Stripe init error",Ie)}})(),()=>{try{oe.current&&oe.current.unmount()}catch{}}),[]);const Pe=async()=>{if(Nt.current&&oe.current)return!0;try{const ne=await bg();if(Nt.current=ne,!oe.current){const Ie=Nt.current.elements();In.current=Ie;const U=Ie.create("card",{hidePostalCode:!0});U.mount("#card-element"),oe.current=U,je.current=!0,U.on("change",ae=>{const Te=document.getElementById("card-errors");Te&&(Te.textContent=ae.error?ae.error.message:"")})}return!0}catch(ne){return console.error("Stripe re-init error",ne),!1}},Ze=async()=>{if(r.length===0){he.error("Cart is empty");return}if(!m||!b||!j||!S||!A||!D||!W||!q){he.error("Please complete all required fields");return}r.map(ne=>({product:ne._id,qty:ne.quantity,price:ne.price,name:ne.name,image:ne.image})),Number(c.toFixed(2));try{if(gn(!0),wt){const tt={firstName:m,lastName:b,email:j,phone:S,address:A,apartment:M,city:D,stateRegion:q,postalCode:W,country:Y};localStorage.setItem("checkoutSavedInfo",JSON.stringify(tt))}else localStorage.removeItem("checkoutSavedInfo");const ne={orderItems:r.map(tt=>({name:tt.name,price:tt.price,qty:tt.quantity,product:tt.product||tt._id,image:tt.image,variantImage:tt.variantImage||null,selectedVariants:tt.selectedVariants||null,selectedSize:tt.selectedSize||null,selectedColor:tt.selectedColor||null,colorCode:tt.colorCode||null,variant:tt.variant||null,sku:tt.sku||null,variantId:tt.variantId||tt.snapshot?.variantId||null})),shippingAddress:{address:A,apartment:M,city:D,stateRegion:q,postalCode:W,country:Y,firstName:m,lastName:b,email:j,phone:S},billingAddress:B?{address:ue,apartment:fe,city:X,stateRegion:ce,postalCode:Me,country:Ae}:null,paymentMethod:mt,itemsPrice:n,taxPrice:0,shippingPrice:Number(l.toFixed(2)),totalAmount:Number(c.toFixed(2))};if(!await Pe()){const tt=localStorage.getItem("token"),Ge=await fetch("http://localhost:5000/api/payments/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",...tt?{Authorization:`Bearer ${tt}`}:{}},credentials:"include",body:JSON.stringify(ne)}),Mt=await Ge.json();if(!Ge.ok)throw new Error(Mt.error||Mt.message||"Failed to create checkout session");if(Mt&&Mt.url){window.location.href=Mt.url;return}throw new Error("No checkout URL from server")}const U=localStorage.getItem("token"),ae=await fetch("http://localhost:5000/api/payments/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",...U?{Authorization:`Bearer ${U}`}:{}},credentials:"include",body:JSON.stringify(ne)}),Te=await ae.json();if(!ae.ok){const tt=Te.error||Te.message||"Failed to create payment intent";throw new Error(tt)}const De=Te.clientSecret;if(!De)throw new Error("Missing clientSecret from payment API");const Le=await bg();if(!Nt.current||Nt.current!==Le){console.warn("Stripe instance mismatch detected; reinitializing Elements with singleton instance");try{oe.current&&(oe.current.unmount(),oe.current=null,je.current=!1)}catch{}Nt.current=Le;const tt=Nt.current.elements();In.current=tt;const Ge=tt.create("card",{hidePostalCode:!0});Ge.mount("#card-element"),oe.current=Ge,je.current=!0,Ge.on("change",Mt=>{const xn=document.getElementById("card-errors");xn&&(xn.textContent=Mt.error?Mt.error.message:"")})}const Qe=Nt.current,ct=oe.current;if(!Qe||!ct)throw new Error("Stripe Elements not initialized");const Tt=I||`${m} ${b}`.trim(),at=await Qe.confirmCardPayment(De,{payment_method:{card:ct,billing_details:{name:Tt||void 0,email:j||void 0,phone:S||void 0}}});if(at.error)throw new Error(at.error.message||"Payment confirmation failed");if(at.paymentIntent&&at.paymentIntent.status==="succeeded"){const tt=Te.orderId;e(v0()),ht(!0),setTimeout(()=>{he.success("Payment successful"),t(`/order/${tt}`)},1800)}else throw new Error("Payment not completed")}catch(ne){console.error(ne),he.error(ne.message||"Error creating Stripe session")}finally{gn(!1)}};return s.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-section)] py-12 px-4 sm:px-6 lg:px-8",children:[nt&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:s.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg p-6 shadow-lg max-w-md w-full text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-2",children:"Thank you!"}),s.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"Your order has been placed successfully."})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-2xl shadow p-8 space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Contact "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{placeholder:"First name",value:m,onChange:ne=>g(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),s.jsx("input",{placeholder:"Last name",value:b,onChange:ne=>y(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),s.jsx("input",{placeholder:"Email",value:j,onChange:ne=>w(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] md:col-span-2"}),s.jsx("input",{placeholder:"Phone",value:S,onChange:ne=>N(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] md:col-span-2"})]}),s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Shipping Address"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{placeholder:"Address (street)",value:A,onChange:ne=>E(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] md:col-span-2"}),s.jsx("input",{placeholder:"Apt, suite (optional)",value:M,onChange:ne=>T(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),s.jsx("input",{placeholder:"City",value:D,onChange:ne=>R(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),s.jsx("input",{placeholder:"State / Region",value:q,onChange:ne=>K(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),s.jsx("input",{placeholder:"Postal Code",value:W,onChange:ne=>V(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),s.jsx("input",{placeholder:"Country",value:Y,onChange:ne=>$(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:B,onChange:ne=>Z(ne.target.checked)}),s.jsx("span",{className:"text-sm text-[var(--color-text-light)]",children:"Add separate billing address"})]})}),B&&s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[s.jsx("input",{placeholder:"Billing address (street)",value:ue,onChange:ne=>_(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),s.jsx("input",{placeholder:"Apt, suite (optional)",value:fe,onChange:ne=>z(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("input",{placeholder:"City",value:X,onChange:ne=>G(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),s.jsx("input",{placeholder:"State / Region",value:ce,onChange:ne=>ke(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),s.jsx("input",{placeholder:"Postal Code",value:Me,onChange:ne=>$e(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"}),s.jsx("input",{placeholder:"Country",value:Ae,onChange:ne=>L(ne.target.value),className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"})]})]}),s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Payment"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"",children:s.jsx("input",{placeholder:"Name on card",value:I,onChange:ne=>ie(ne.target.value),className:"border border-[var(--color-border-light)] p-3 w-full rounded bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]"})}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-[var(--color-text-light)] mb-2",children:"Card details"}),s.jsx("div",{id:"card-element",className:"border border-[var(--color-border-light)] p-3 rounded bg-[var(--color-bg-primary)]"}),s.jsx("div",{id:"card-errors",role:"alert",className:"text-[var(--color-error)] text-sm mt-2"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{id:"saveDetails",type:"checkbox",checked:wt,onChange:ne=>Yt(ne.target.checked)}),s.jsx("label",{htmlFor:"saveDetails",className:"text-sm text-[var(--color-text-light)]",children:"Save my details for future purchases"})]})]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-2xl shadow p-6 space-y-6 sticky top-24",children:[s.jsx("h3",{className:"text-xl font-bold text-[var(--color-text-primary)]",children:"Order Summary"}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:r.map(ne=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:f(ne.image),alt:ne.name,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ne.name}),h(ne),s.jsxs("div",{className:"text-sm text-gray-900 mt-1",children:["Qty: ",ne.quantity]})]})]}),s.jsxs("div",{className:"font-semibold",children:["",(ne.price*ne.quantity).toFixed(2)]})]},ne._id))}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Items"}),s.jsxs("span",{children:["",n.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{children:"0.00"})]}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"VAT"}),s.jsx("span",{children:"0.00"})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg text-[var(--color-text-primary)]",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["",c.toFixed(2)]})]})]}),s.jsx("button",{onClick:Ze,disabled:gt,className:"w-full bg-[var(--color-accent-primary)] hover:bg-[var(--color-accent-light)] text-white py-3 rounded-lg font-bold shadow transition duration-300",children:gt?"Placing Order":`Place Order  ${c.toFixed(2)}`}),s.jsx("p",{className:"text-xs text-[var(--color-text-light)]",children:"We do not store your CVV. Saved details are stored locally in your browser."})]})})]})]})},TM=()=>{const e=qt(),t=At(N=>N.wishlist.items),[r,n]=C.useState("newest"),a="http://localhost:5000",l=N=>!N||typeof N!="string"?"":N.startsWith("http")?N:`${a}${N}`,c=N=>String(N||"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-"),u=N=>N?N.slug?N.slug:N.product&&N.product.slug?N.product.slug:N.snapshot&&N.snapshot.slug?N.snapshot.slug:N.name?c(N.name):"":"",f=At(N=>N.cart.items),h=N=>{if(!N)return null;const A=N.product&&(N.product._id||N.product)||N.productId||N.snapshot?.productId||N._id||"",E=N.variantId||N.snapshot&&N.snapshot.variantId||"",M=typeof A=="string"&&A.includes("|")?A.split("|")[0]:A,D=typeof M=="string"&&/^[0-9a-fA-F]{24}$/.test(M)?M:"",R=N.selectedVariants||N.snapshot?.selectedVariants||{};return N.selectedSize&&(R.Size=N.selectedSize),N.selectedColor&&(R.Color=N.selectedColor),{_id:E?`${D||"unknown"}|variant:${E}`:`${D||"unknown"}`,product:D||void 0,name:N.name||N.product&&N.product.name||"",price:Number(N.price??N.snapshot?.price??(N.product&&N.product.price)??0),image:N.image||N.snapshot?.image||N.product&&(N.product.image||N.product.images&&N.product.images[0])||"",quantity:1,selectedVariants:R||{}}},m=N=>{if(!N)return!0;if(N.__isSnapshot){const A=N.product||null;if(A&&A.variantCombinations&&N.variantId){const E=A.variantCombinations.find(M=>String(M._id||M.id)===String(N.variantId));if(E)return Number(E.stock||0)>0}if(A&&A.variantCombinations){const E={...N.selectedVariants||{}};N.selectedSize&&(E.Size=N.selectedSize),N.selectedColor&&(E.Color=N.selectedColor);for(const M of A.variantCombinations){const T=M.variantValues||{},D=T instanceof Map?Object.fromEntries(T):T,R=Object.keys(D);let q=!0;for(const K of R){const W=D[K],V=E[K];if(W!==void 0&&(V===void 0||String(V)!==String(W))){q=!1;break}}if(q)return Number(M.stock||0)>0}}return N.inStock!==void 0?!!N.inStock:N.stock!==void 0?Number(N.stock)>0:!0}return N.variantCombinations&&N.variantCombinations.length>0?N.stock!==void 0?Number(N.stock)>0:N.inStock!==void 0?!!N.inStock:!0:N.inStock!==void 0?!!N.inStock:N.stock!==void 0?Number(N.stock)>0:!0},g=()=>{let N=[...t];return r==="priceLow"?N.sort((A,E)=>A.price-E.price):r==="priceHigh"?N.sort((A,E)=>E.price-A.price):r==="name"&&N.sort((A,E)=>A.name.localeCompare(E.name)),N},b=N=>{if(console.log("=== handleRemoveFromWishlist ==="),console.log("itemOrId:",N),typeof N=="string")console.log("Removing by string ID:",N),e(Ao(N)).then(()=>{he.success("Removed from wishlist")}).catch(A=>{console.error("Remove failed:",A),he.error("Failed to remove from wishlist")});else if(N&&typeof N=="object"){let A=null;N.__isSnapshot?(A=N._id,console.log("Snapshot item detected, productId from _id:",A)):(A=N.productId||N._id||N.product&&(N.product._id||N.product),console.log("Regular item, productId:",A));const E=N.variantId||N.snapshot&&N.snapshot.variantId||null;console.log("variantId:",E),console.log("Sending to backend:",{productId:A,variantId:E}),e(Ao({productId:A,variantId:E})).then(()=>{he.success("Removed from wishlist")}).catch(M=>{console.error("Remove failed:",M),he.error("Failed to remove from wishlist")})}},y=N=>{if(!m(N)){he.error("This item is out of stock and cannot be added to cart");return}const E=h(N);if(!E)return;e(lf(E));const M=[...f||[],E];e(Va(M)),he.success("Added to cart")},j=()=>{const N=[],A=[];for(const T of t)m(T)?N.push(T):A.push(T);if(N.length===0){he.error("No available items to move to cart");return}const E=[];N.forEach(T=>{const D=h(T);D&&(E.push(D),e(lf(D)))});const M=[...f||[],...E];e(Va(M)),N.forEach(T=>{const D=T.productId||T._id||T.product&&(T.product._id||T.product),R=T.variantId||null;e(Ao({productId:D,variantId:R}))}),he.success(`Moved ${N.length} item(s) to cart${A.length?`  ${A.length} out-of-stock skipped`:""}`)},w=()=>{t.length>0&&window.confirm("Are you sure you want to clear your entire wishlist?")&&e(df()).then(()=>{he.success("Wishlist cleared")}).catch(A=>{console.error("Clear failed:",A),he.error("Failed to clear wishlist")})};pt.useEffect(()=>{localStorage.getItem("token")&&(console.log("WishlistPage mounted: Fetching wishlist from server"),e(Hl()))},[e]),pt.useEffect(()=>{console.log("=== WishlistPage Items Update ==="),console.log("Total items:",t.length),t.forEach((N,A)=>{console.log(`Item ${A}:`,{_id:N._id,name:N.name,productId:N.productId,variantId:N.variantId,isSnapshot:N.__isSnapshot,hasProduct:!!N.product})})},[t]);const S=g();return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsx("div",{className:"text-white py-12 md:py-16",style:{backgroundColor:"var(--color-accent-primary)"},children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-6 hover:opacity-80 w-fit",children:[s.jsx(Er,{})," Back to Home"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jh,{className:"text-3xl"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold",children:"My Wishlist"}),s.jsxs("p",{className:"text-xl mt-2",children:[t.length," ",t.length===1?"item":"items"," saved"]})]})]})]})}),s.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:t.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"inline-block",children:s.jsx("div",{className:"text-8xl mb-6 opacity-50",children:""})}),s.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Your Wishlist is Empty"}),s.jsx("p",{className:"text-lg mb-8",style:{color:"var(--color-text-light)"},children:"Start adding products to your wishlist and save them for later!"}),s.jsx(ze,{to:"/products",className:"inline-block text-white px-8 py-3 rounded-lg font-bold transition duration-300",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:N=>N.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:N=>N.target.style.backgroundColor="var(--color-accent-primary)",children:"Browse Products"})]}):s.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx("div",{className:"rounded-lg shadow-md p-6 mb-8",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:"Sort by:"}),s.jsxs("select",{value:r,onChange:N=>n(N.target.value),className:"px-4 py-2 rounded-lg focus:outline-none focus:ring-2",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",color:"var(--color-text-primary)"},onFocus:N=>(N.target.style.outline="none",N.target.style.ringColor="var(--color-accent-primary)"),children:[s.jsx("option",{value:"newest",children:"Newest"}),s.jsx("option",{value:"priceLow",children:"Price: Low to High"}),s.jsx("option",{value:"priceHigh",children:"Price: High to Low"}),s.jsx("option",{value:"name",children:"Name: A to Z"})]})]}),s.jsxs("button",{onClick:w,className:"font-semibold flex items-center gap-2 transition duration-300",style:{color:"var(--color-accent-primary)"},onMouseEnter:N=>N.target.style.opacity="0.8",onMouseLeave:N=>N.target.style.opacity="1",children:[s.jsx(Fs,{})," Clear All"]})]})}),s.jsx("div",{className:"space-y-6",children:S.map(N=>(m(N),s.jsx("div",{className:"relative rounded-lg shadow-md hover:shadow-xl transition duration-300 overflow-hidden",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:N.__isSnapshot?s.jsxs("div",{className:"flex items-stretch md:items-start",children:[s.jsx("div",{className:"w-36 shrink-0 overflow-hidden",style:{backgroundColor:"var(--color-bg-section)"},children:s.jsx("img",{src:l(N.image)||"https://via.placeholder.com/300",alt:N.name,className:"w-full h-full object-cover",onError:A=>{A.target.src="https://via.placeholder.com/300"}})}),s.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ze,{to:`/product/${u(N)}`,className:"hover:underline",children:s.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-text-primary)"},children:N.name})}),s.jsx("div",{className:"mt-1 text-sm",style:{color:"var(--color-text-secondary)"},children:Object.entries(N.selectedVariants||{}).map(([A,E])=>`${A}: ${E}`).join(", ")})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-xl font-bold",style:{color:"var(--color-accent-primary)"},children:["",(N.price||0).toFixed(2)]}),s.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Variant"})]})]}),s.jsxs("div",{className:"mt-4 flex gap-3",children:[!m(N)&&s.jsx("div",{className:"absolute top-3 left-3 text-white px-2 py-1 rounded text-xs font-bold",style:{backgroundColor:"var(--color-accent-primary)"},children:"Out of stock"}),m(N)?s.jsxs("button",{onClick:()=>y(N),className:"py-2 px-4 rounded-lg font-semibold transition duration-300 flex items-center gap-2 text-white",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:A=>A.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:A=>A.target.style.backgroundColor="var(--color-accent-primary)",children:[s.jsx(Bo,{})," Add to Cart"]}):s.jsx("button",{disabled:!0,className:"py-2 px-4 rounded-lg font-semibold transition duration-300 flex items-center gap-2 text-white cursor-not-allowed",style:{backgroundColor:"var(--color-text-light)",opacity:"0.6"},children:"Sold Out"}),s.jsxs("button",{onClick:()=>b(N),className:"py-2 px-4 rounded-lg font-semibold transition duration-300 flex items-center gap-2",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-accent-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},onMouseEnter:A=>A.target.style.backgroundColor="var(--color-border-light)",onMouseLeave:A=>A.target.style.backgroundColor="var(--color-bg-section)",children:[s.jsx(Fs,{})," Remove"]}),s.jsx(ze,{to:`/product/${u(N)}`,className:"ml-auto inline-flex items-center justify-center gap-2 rounded-lg px-3 py-2",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",color:"var(--color-text-primary)"},onMouseEnter:A=>A.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:A=>A.target.style.backgroundColor="transparent",children:"View Product"})]})]})]}):s.jsxs("div",{className:"relative",children:[s.jsx(Wl,{product:N}),s.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),b(N)},className:"absolute top-3 right-3 z-50 p-2 rounded-full shadow transition duration-300",style:{backgroundColor:"white",color:"var(--color-accent-primary)"},onMouseEnter:A=>A.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:A=>A.target.style.backgroundColor="white","aria-label":`Remove ${N.name} from wishlist`,children:s.jsx(Fs,{})})]})},(N.productId||N._id)+(N.variantId?`-${N.variantId}`:""))))})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("aside",{className:"rounded-lg shadow-lg p-6 sticky top-24",style:{backgroundColor:"var(--color-bg-section)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Wishlist Summary"}),s.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Items"}),s.jsx("p",{className:"text-3xl font-extrabold",style:{color:"var(--color-accent-primary)"},children:t.length})]}),s.jsxs("div",{className:"col-span-1 text-right",children:[s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:""}),s.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:""})]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("button",{onClick:j,disabled:t.filter(m).length===0,className:"w-full text-white py-3 px-4 rounded-lg font-bold transition duration-300 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:N=>!N.target.disabled&&(N.target.style.backgroundColor="var(--color-accent-light)"),onMouseLeave:N=>N.target.style.backgroundColor="var(--color-accent-primary)",children:[s.jsx(Bo,{})," Move All to Cart"]})}),s.jsx("div",{className:"flex gap-3 mb-4",children:s.jsx(ze,{to:"/products",className:"flex-1 inline-flex items-center bg-white justify-center gap-2 rounded-lg px-3 py-2",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",color:"var(--color-text-primary)"},onMouseEnter:N=>N.target.style.backgroundColor="var(--color-bg-secondary)",onMouseLeave:N=>N.target.style.backgroundColor="white",children:"Continue Shopping"})})]})})]})})]})},MM=()=>{const e=Ar(),{login:t,loading:r}=Wa(),[n,a]=C.useState({email:"",password:""}),[l,c]=C.useState(!1),u=h=>{const{name:m,value:g}=h.target;a(b=>({...b,[m]:g}))},f=async h=>{if(h.preventDefault(),!n.email||!n.password){he.error("Please fill all fields");return}const m=await t(n.email,n.password);if(m.success){if(m.user.role!=="admin"){he.error("You do not have admin privileges");return}e("/admin/dashboard")}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gray-1000 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),s.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-black rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),s.jsx("div",{className:"absolute -bottom-8 left-20 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"}),s.jsxs("div",{className:"max-w-lg w-full relative z-10",children:[s.jsxs(ze,{to:"/",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition duration-300 mb-8 font-semibold",children:[s.jsx(Er,{className:"text-lg"}),"Back to Home"]}),s.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl rounded-3xl shadow-2xl p-10 sm:p-12 space-y-8 border border-slate-700/50",children:[s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"inline-block bg-gradient-to-br from-blue-500 to-purple-600 p-5 rounded-2xl shadow-xl",children:s.jsx(bx,{className:"text-4xl text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"Admin Portal"}),s.jsx("p",{className:"text-lg text-gray-400",children:"Secure Access for Administrators"})]})]}),s.jsx("div",{className:"bg-gray-1000/10 border border-gray-600/30 p-4 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-300",children:" This portal is exclusively for authorized administrators. Unauthorized access attempts are logged and monitored."})}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-200",children:"Admin Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:u,className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border-2 border-slate-600 rounded-lg focus:ring-2 focus:ring-gray-600 focus:border-transparent outline-none transition text-lg text-white placeholder-gray-900",placeholder:"admin@example.com",disabled:r})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-200",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(To,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{type:l?"text":"password",name:"password",value:n.password,onChange:u,className:"w-full pl-12 pr-12 py-3 bg-slate-700/50 border-2 border-slate-600 rounded-lg focus:ring-2 focus:ring-gray-600 focus:border-transparent outline-none transition text-lg text-white placeholder-gray-900",placeholder:"",disabled:r}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition text-lg",disabled:r,children:l?s.jsx(E6,{}):s.jsx(A0,{})})]})]}),s.jsx("button",{type:"submit",disabled:r,className:"w-full text-white py-3 rounded-lg font-bold transition duration-300 disabled:opacity-50 text-lg mt-8 transform hover:scale-105 shadow-lg",style:{backgroundColor:"var(--color-accent-primary)",boxShadow:"0 0 20px rgba(165, 99, 42, 0.5)"},onMouseEnter:h=>{h.target.style.backgroundColor="var(--color-accent-light)",h.target.style.boxShadow="0 0 25px rgba(165, 99, 42, 0.7)"},onMouseLeave:h=>{h.target.style.backgroundColor="var(--color-accent-primary)",h.target.style.boxShadow="0 0 20px rgba(165, 99, 42, 0.5)"},children:r?"Verifying Admin Credentials...":"Sign In as Administrator"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-slate-600"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-slate-800/50 text-gray-400 font-semibold",children:"Need Help?"})})]}),s.jsxs("div",{className:"space-y-3 text-center",children:[s.jsx("p",{className:"text-gray-400",children:s.jsx(ze,{to:"/",className:"text-black hover:text-gray-700 font-bold",children:" Back to Home"})}),s.jsx("p",{className:"text-gray-400",children:s.jsx(ze,{to:"/contact",className:"text-purple-400 hover:text-purple-300 font-bold",children:"Contact Support"})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-slate-700/30 to-slate-600/30 border border-slate-600/50 p-6 rounded-lg space-y-3",children:[s.jsxs("p",{className:"text-sm text-gray-300 font-bold flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:""})," Admin Demo Credentials"]}),s.jsxs("div",{className:"space-y-2 bg-slate-900/50 p-3 rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-900",children:"Email:"}),s.jsx("p",{className:"text-sm text-gray-200 font-mono",children:"admin@ecommerce.com"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-900",children:"Password:"}),s.jsx("p",{className:"text-sm text-gray-200 font-mono",children:"Admin@123"})]})]})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-700",children:s.jsx("p",{className:"text-xs text-gray-900",children:"Last login attempt will be logged for security purposes"})})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsx("p",{className:"text-sm text-gray-900",children:" SSL Secured  Admin Access Only  Monitored Access"})})]}),s.jsx("style",{children:`
        @keyframes blob {
          0%, 100% { transform: translate(0, 0) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})},OM="/assets/Wolf%20Supplies%20LTD%20(2)-D1JKq_4e.png",RM=Object.freeze(Object.defineProperty({__proto__:null,default:OM},Symbol.toStringTag,{value:"Module"})),DM="/assets/transition-c_6hvWZ-.png",zM=Object.freeze(Object.defineProperty({__proto__:null,default:DM},Symbol.toStringTag,{value:"Module"})),LM="/assets/warehouse%20images%20(1)-DmUQH2fn.webp",BM=Object.freeze(Object.defineProperty({__proto__:null,default:LM},Symbol.toStringTag,{value:"Module"})),_M="/assets/warehouse%20images%20(2)-BvYBzbuJ.webp",PM=Object.freeze(Object.defineProperty({__proto__:null,default:_M},Symbol.toStringTag,{value:"Module"})),IM="/assets/warehouse%20images%20(3)-DBrY2oAN.webp",HM=Object.freeze(Object.defineProperty({__proto__:null,default:IM},Symbol.toStringTag,{value:"Module"})),$M="/assets/warehouse%20images%20(4)-Dlc1Q83M.webp",VM=Object.freeze(Object.defineProperty({__proto__:null,default:$M},Symbol.toStringTag,{value:"Module"})),UM="/assets/warehouse%20images%20(5)-B6YS2qee.webp",FM=Object.freeze(Object.defineProperty({__proto__:null,default:UM},Symbol.toStringTag,{value:"Module"})),x4=Object.assign({"/src/assets/Strip Logos.png":iM,"/src/assets/Wolf Supplies LTD (2).png":RM,"/src/assets/Wolf Supplies LTD.png":UA,"/src/assets/transition.png":zM,"/src/assets/warehouse images (1).webp":BM,"/src/assets/warehouse images (2).webp":PM,"/src/assets/warehouse images (3).webp":HM,"/src/assets/warehouse images (4).webp":VM,"/src/assets/warehouse images (5).webp":FM}),Su=Object.keys(x4).filter(e=>e.split("/").pop().toLowerCase().includes("warehouse")).map(e=>({path:e,file:e.split("/").pop()})).sort((e,t)=>{const r=e.file.match(/(\d+)/),n=t.file.match(/(\d+)/),a=r?parseInt(r[1],10):0,l=n?parseInt(n[1],10):0;return a===l?e.file.localeCompare(t.file):a-l}).map(e=>{const t=x4[e.path];return t&&(t.default||t)}),qM=()=>s.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-section)]",children:[s.jsx("div",{className:"bg-[var(--color-accent-primary)] text-white py-12 md:py-16",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-6 hover:text-gray-100 w-fit",children:[s.jsx(Er,{})," Back to Home"]}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"About Wolf Supplies LTD"}),s.jsx("p",{className:"text-xl text-gray-100",children:"Your Trusted Online Shopping Destination"})]})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsx("section",{className:"mb-16",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold text-[var(--color-text-primary)] mb-6",children:"Our Story"}),s.jsx("p",{className:"text-[var(--color-text-light)] text-lg leading-relaxed mb-4",children:"Wolf Supplies LTD was founded with a simple mission: to revolutionize online shopping in the United Kingdom. We believe everyone deserves access to quality products at competitive prices, delivered with exceptional customer service."}),s.jsx("p",{className:"text-[var(--color-text-light)] text-lg leading-relaxed mb-4",children:"What started as a small venture has grown into a trusted marketplace serving thousands of satisfied customers across the UK. We pride ourselves on our commitment to excellence, innovation, and customer satisfaction."}),s.jsx("p",{className:"text-[var(--color-text-light)] text-lg leading-relaxed",children:"Today, Wolf Supplies LTD continues to expand its product range and improve its services, always keeping our customers at the heart of everything we do."})]}),s.jsx("div",{className:"bg-[var(--color-bg-section)] rounded-lg p-8 border-2 border-[var(--color-border-light)]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-2",children:"Wolf Supplies LTD"}),s.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"Your trusted online shopping partner since 2024"}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("p",{children:s.jsx("strong",{children:"Wolf Supplies Ltd"})}),s.jsxs("p",{children:["Company Number: ",s.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:underline",children:"16070029"})]}),s.jsx("p",{children:"Registered in United Kingdom"})]})]})})]})}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-[var(--color-text-primary)] mb-12 text-center",children:"Our Mission & Vision"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-lg p-8 border-l-4 border-[var(--color-accent-primary)]",children:[s.jsxs("h3",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-4 flex items-center gap-3",children:[s.jsx(Yr,{className:"text-[var(--color-accent-primary)] text-2xl"}),"Our Mission"]}),s.jsx("p",{className:"text-[var(--color-text-light)] leading-relaxed",children:"To provide customers with a seamless, trustworthy, and enjoyable shopping experience by offering a curated selection of quality products, competitive pricing, and exceptional customer service across the United Kingdom."})]}),s.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-lg p-8 border-l-4 border-[var(--color-accent-primary)]",children:[s.jsxs("h3",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-4 flex items-center gap-3",children:[s.jsx(HT,{className:"text-[var(--color-accent-primary)] text-2xl"}),"Our Vision"]}),s.jsx("p",{className:"text-[var(--color-text-light)] leading-relaxed",children:"To become the leading UK online marketplace trusted by millions, known for innovation, customer-centricity, sustainability, and creating a positive impact on communities we serve."})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-12 text-center",children:"Our Core Values"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:yx,title:"Customer First",desc:"We put our customers at the center of everything we do, listening to feedback and continuously improving."},{icon:Yr,title:"Quality & Integrity",desc:"We maintain the highest standards of quality products and honest business practices."},{icon:MT,title:"Sustainability",desc:"We are committed to environmentally responsible practices and ethical sourcing."}].map((e,t)=>{const r=e.icon;return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center hover:shadow-xl transition duration-300",children:[s.jsx(r,{className:"text-4xl text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),s.jsx("p",{className:"text-gray-700",children:e.desc})]},t)})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-12 text-center",children:"By The Numbers"}),s.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:[{number:"50K+",label:"Products Available",icon:_o},{number:"100K+",label:"Happy Customers",icon:yx},{number:"2-4",label:"Day Shipping",icon:CT},{number:"31",label:"Day Returns",icon:Yr}].map((e,t)=>{const r=e.icon;return s.jsxs("div",{className:"bg-white rounded-lg p-6 text-center border-2 border-gray-200",children:[s.jsx(r,{className:"text-3xl text-gray-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.number}),s.jsx("p",{className:"text-gray-700 font-semibold",children:e.label})]},t)})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-12 text-center",children:"Why Choose Wolf Supplies?"}),s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-12",children:s.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[" Wide Selection of Quality Products"," Competitive Pricing & Regular Discounts"," Fast UK Delivery (2-4 Business Days)"," 30-Day Money-Back Guarantee"," 24/7 Customer Support"," Secure Payment Processing"," UK GDPR Compliant Data Protection"," Easy Return & Refunds"].map((e,t)=>s.jsxs("p",{className:"text-lg text-gray-700 font-semibold flex items-center gap-3",children:[s.jsx("span",{className:"text-gray-400 text-2xl",children:""}),e.replace(" ","")]},t))})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4 text-center",children:"Our Warehouse & Facilities"}),s.jsx("p",{className:"text-center text-gray-600 text-lg mb-12",children:"Based in Birmingham, United Kingdom - State-of-the-art facilities ensuring fast and reliable service to customers across the UK"}),s.jsxs("div",{className:"bg-white rounded-lg p-6 mb-8 border-l-4 border-gray-400",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Our Location"}),s.jsx("p",{className:"text-gray-700 mb-2",children:s.jsx("strong",{children:"Unit 4 Atlas Estates"})}),s.jsx("p",{className:"text-gray-700 mb-2",children:"Colebrook Road"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Birmingham, West Midlands, B11 2NT"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"United Kingdom"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"group rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition duration-300 lg:col-span-2 lg:row-span-2",children:s.jsxs("div",{className:"relative overflow-hidden h-64 md:h-80 lg:h-full",children:[Su[0]?s.jsx("img",{src:Su[0],alt:"Main Warehouse",className:"object-cover w-full h-full"}):s.jsx("div",{className:"h-full w-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center",children:s.jsx("div",{className:"text-6xl",children:""})}),s.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition duration-300"})]})}),[1,2,3,4].map(e=>s.jsx("div",{className:"group rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition duration-300",children:s.jsxs("div",{className:"relative overflow-hidden h-40 md:h-48",children:[Su[e]?s.jsx("img",{src:Su[e],alt:`Warehouse ${e+1}`,className:"object-cover w-full h-full"}):s.jsx("div",{className:`h-full w-full flex items-center justify-center ${e===1?"bg-gray-700":e===2?"bg-purple-600":e===3?"bg-gray-700":"bg-red-600"}`,children:s.jsx("div",{className:"text-5xl",children:e===1?"":e===2?"":e===3?"":""})}),s.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition duration-300"})]})},e))]}),s.jsx("div",{className:"mt-12 bg-gray-50 rounded-lg p-8 border-2 border-gray-300",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-700 mb-2",children:"50,000+"}),s.jsx("p",{className:"text-gray-700",children:"Square Feet of Warehouse Space"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-400 mb-2",children:"24/7"}),s.jsx("p",{className:"text-gray-700",children:"Operational for Customer Fulfillment"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-purple-600 mb-2",children:"99.9%"}),s.jsx("p",{className:"text-gray-700",children:"Order Accuracy Rate"})]})]})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-12 text-center",children:"Our Team"}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-grey-100 rounded-lg p-12 border-2 border-gray-200 text-center",children:[s.jsx("p",{className:"text-xl text-gray-700 mb-4",children:"Our dedicated team of professionals is committed to bringing you the best online shopping experience."}),s.jsx("p",{className:"text-lg text-gray-600",children:"From product curation to customer service, logistics to technology, every member of our team works tirelessly to ensure your satisfaction."})]})]}),s.jsxs("section",{className:"bg-gray-900 text-white rounded-lg p-12 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Have Questions About Wolf Supplies?"}),s.jsx("p",{className:"text-lg text-gray-100 mb-8",children:"Get in touch with our team. We'd love to hear from you!"}),s.jsx(ze,{to:"/contact",className:"inline-block bg-white text-gray-900 px-8 py-3 rounded-lg font-bold hover:bg-gray-100 transition duration-300 shadow-lg",children:"Contact Us"})]})]})]}),WM=()=>{const[e,t]=C.useState({name:"",email:"",subject:"",message:""}),r=a=>{const{name:l,value:c}=a.target;t(u=>({...u,[l]:c}))},n=async a=>{if(a.preventDefault(),!e.name||!e.email||!e.subject||!e.message){he.error("Please fill in all fields");return}try{const l=await fetch("/api/forms/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),c=await l.json();if(!l.ok){he.error(c.message||"Failed to send message");return}he.success("Message sent successfully! We will get back to you soon."),t({name:"",email:"",subject:"",message:""})}catch(l){console.error("Error submitting contact form:",l),he.error("Failed to send message. Please try again.")}};return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-primary, #ffffff)"},children:[s.jsx("div",{className:"text-white py-12 md:py-16",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-6 hover:opacity-80 w-fit transition duration-300",children:[s.jsx(Er,{})," Back to Home"]}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-xl text-white",children:"We're Here to Help - Get in Touch"})]})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[s.jsxs("div",{className:"rounded-lg shadow-lg p-8 text-center hover:shadow-xl transition duration-300",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx(Ga,{className:"text-4xl mx-auto mb-4",style:{color:"var(--color-accent-primary, #a5632a)"}}),s.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Call Us"}),s.jsx("p",{className:"mb-2",style:{color:"var(--color-text-light, #6B6B6B)"},children:s.jsx("a",{href:"tel:+447398998101",className:"hover:opacity-75 transition duration-300",style:{color:"var(--color-accent-primary, #a5632a)"},children:"+44 7398 998101"})}),s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Monday - Friday, 9 AM - 6 PM GMT"})]}),s.jsxs("div",{className:"rounded-lg shadow-lg p-8 text-center hover:shadow-xl transition duration-300",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx(ms,{className:"text-4xl mx-auto mb-4",style:{color:"var(--color-accent-primary, #a5632a)"}}),s.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Email Us"}),s.jsx("p",{className:"mb-2",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:s.jsx("a",{href:"mailto:support@wolfsuppliesltd.co.uk",className:"hover:opacity-75 transition duration-300",style:{color:"var(--color-accent-primary, #a5632a)"},children:"support@wolfsuppliesltd.co.uk"})}),s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light, #6B6B6B)"},children:"We'll respond within 24 hours"})]}),s.jsxs("div",{className:"rounded-lg shadow-lg p-8 text-center hover:shadow-xl transition duration-300",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx(M6,{className:"text-4xl mx-auto mb-4",style:{color:"var(--color-accent-primary, #a5632a)"}}),s.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Visit Us"}),s.jsx("p",{className:"mb-2 font-semibold",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Unit 4 Atlas Estates"}),s.jsx("p",{className:"mb-2",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Colebrook Road, Birmingham"}),s.jsx("p",{className:"mb-2",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"West Midlands, B11 2NT"}),s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light, #6B6B6B)"},children:"United Kingdom"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[s.jsxs("div",{className:"rounded-lg shadow-lg p-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsxs("h2",{className:"text-3xl font-bold mb-8 flex items-center gap-3",style:{color:"var(--color-text-primary, #000000)"},children:[s.jsx(Oc,{style:{color:"var(--color-accent-primary, #a5632a)"}}),"Send us a Message"]}),s.jsxs("form",{onSubmit:n,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Your Name"}),s.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:r,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition duration-300",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"},onFocus:a=>a.target.style.borderColor="var(--color-accent-primary, #a5632a)",onBlur:a=>a.target.style.borderColor="var(--color-border-light, #e5e5e5)",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Email Address"}),s.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:r,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition duration-300",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"},onFocus:a=>a.target.style.borderColor="var(--color-accent-primary, #a5632a)",onBlur:a=>a.target.style.borderColor="var(--color-border-light, #e5e5e5)",placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Subject"}),s.jsx("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:r,className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition duration-300",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"},onFocus:a=>a.target.style.borderColor="var(--color-accent-primary, #a5632a)",onBlur:a=>a.target.style.borderColor="var(--color-border-light, #e5e5e5)",placeholder:"How can we help?"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Message"}),s.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:r,rows:"6",className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition duration-300 resize-none",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"},onFocus:a=>a.target.style.borderColor="var(--color-accent-primary, #a5632a)",onBlur:a=>a.target.style.borderColor="var(--color-border-light, #e5e5e5)",placeholder:"Tell us more about your inquiry..."})]}),s.jsxs("button",{type:"submit",className:"w-full text-white font-bold py-3 rounded-lg transition duration-300 flex items-center justify-center gap-2 shadow-lg hover:opacity-90",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:[s.jsx(Oc,{})," Send Message"]})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"rounded-lg shadow-lg p-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",style:{color:"var(--color-text-primary, #000000)"},children:[s.jsx(k0,{style:{color:"var(--color-accent-primary, #a5632a)"}}),"Support Hours"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"pl-4 p-3 rounded",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)",backgroundColor:"rgba(165, 99, 42, 0.1)"},children:[s.jsx("p",{className:"font-bold",style:{color:"var(--color-text-primary, #000000)"},children:"Monday - Friday"}),s.jsx("p",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"9:00 AM - 6:00 PM GMT"})]}),s.jsxs("div",{className:"pl-4 p-3 rounded",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)",backgroundColor:"rgba(165, 99, 42, 0.1)"},children:[s.jsx("p",{className:"font-bold",style:{color:"var(--color-text-primary, #000000)"},children:"Saturday - Sunday"}),s.jsx("p",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"10:00 AM - 4:00 PM GMT"})]}),s.jsxs("div",{className:"pl-4 p-3 rounded",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)",backgroundColor:"rgba(165, 99, 42, 0.1)"},children:[s.jsx("p",{className:"font-bold",style:{color:"var(--color-text-primary, #000000)"},children:"Bank Holidays"}),s.jsx("p",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Closed"})]})]})]}),s.jsxs("div",{className:"rounded-lg shadow-lg p-8 border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",style:{color:"var(--color-text-primary, #000000)"},children:[s.jsx(A6,{style:{color:"var(--color-accent-primary, #a5632a)"}}),"Quick Support"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ze,{to:"/policies/shipping",className:"block p-3 rounded hover:opacity-80 transition duration-300 font-semibold",style:{backgroundColor:"var(--color-bg-primary, #ffffff)",color:"var(--color-accent-primary, #a5632a)"},children:" Shipping Policy"}),s.jsx(ze,{to:"/policies/returns-refund",className:"block p-3 rounded hover:opacity-80 transition duration-300 font-semibold",style:{backgroundColor:"var(--color-bg-primary, #ffffff)",color:"var(--color-accent-primary, #a5632a)"},children:" Return & Refunds"}),s.jsx(ze,{to:"/policies/privacy",className:"block p-3 rounded hover:opacity-80 transition duration-300 font-semibold",style:{backgroundColor:"var(--color-bg-primary, #ffffff)",color:"var(--color-accent-primary, #a5632a)"},children:" Privacy Policy"}),s.jsx(ze,{to:"/policies/faq",className:"block p-3 rounded hover:opacity-80 transition duration-300 font-semibold",style:{backgroundColor:"var(--color-bg-primary, #ffffff)",color:"var(--color-accent-primary, #a5632a)"},children:" FAQ"})]})]})]})]})]})]})},Nx="http://localhost:5000",GM=e=>{if(!e)return"";if(typeof e=="string")return e.trim()?e.startsWith("http")?e:`${Nx}${e}`:"";if(typeof e=="object"){const t=e.url||e.secure_url||e.public_url||e.path||e.src||"";if(!t)return"";if(typeof t=="string")return t.startsWith("http")?t:`${Nx}${t}`}return""},KM=()=>{const{id:e}=dh(),[t]=V9(),{token:r,user:n}=Wa(),[a,l]=C.useState(null),[c,u]=C.useState(!0);C.useEffect(()=>{(async()=>{u(!0);try{const g=await fetch(`${Nx}/api/orders/${e}`,{headers:r?{Authorization:`Bearer ${r}`}:{}});if(!g.ok){const y=await g.json().catch(()=>({}));throw new Error(y.message||"Failed to load order")}const b=await g.json();l(b)}catch(g){console.error("Order fetch failed",g)}finally{u(!1)}})()},[e,r,t]);const f=()=>{if(!a)return;const m=a.orderId||`ORD-${new Date(a.createdAt).toISOString().slice(0,10).replace(/-/g,"")}-${a._id?.slice(-6)}`,g=new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),b=document.documentElement,y=getComputedStyle(b).getPropertyValue("--color-bg-primary")?.trim()||"#ffffff",j=getComputedStyle(b).getPropertyValue("--color-bg-section")?.trim()||"#f5f5f5",w=getComputedStyle(b).getPropertyValue("--color-accent-primary")?.trim()||"#a5632a",S=getComputedStyle(b).getPropertyValue("--color-text-primary")?.trim()||"#333333",N=getComputedStyle(b).getPropertyValue("--color-text-light")?.trim()||"#666666",A=getComputedStyle(b).getPropertyValue("--color-border-light")?.trim()||"#dddddd",E=`
      <!DOCTYPE html>
      <html>
      <head>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap');
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background-color: ${j};
            color: ${S};
            line-height: 1.6;
          }
          .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: ${y};
            padding: 40px 30px;
          }
          .header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 3px solid ${w};
            padding-bottom: 20px;
          }
          .header h1 {
            font-size: 32px;
            color: ${S};
            margin-bottom: 10px;
            font-weight: 700;
          }
          .order-info {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            font-size: 13px;
            color: ${N};
            margin-top: 10px;
          }
          .order-info-item {
            font-family: 'Courier New', monospace;
          }
          .order-info-label {
            font-weight: 600;
            color: ${S};
          }
          .important-banner {
            background-color: ${j};
            border: 2px solid ${w};
            border-left: 5px solid ${w};
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 4px;
          }
          .important-banner h3 {
            font-size: 14px;
            color: ${w};
            margin-bottom: 8px;
            font-weight: 700;
          }
          .important-banner p {
            font-size: 13px;
            color: ${S};
            margin: 5px 0;
            font-weight: 500;
          }
          .section {
            margin-bottom: 30px;
          }
          .section-title {
            font-size: 16px;
            font-weight: 700;
            color: ${S};
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid ${w};
          }
          .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
          }
          .info-card {
            background-color: ${j};
            border: 1px solid ${A};
            padding: 15px;
            border-radius: 4px;
          }
          .info-card-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            font-size: 14px;
            font-weight: 700;
            color: ${S};
          }
          .info-card-icon {
            display: inline-block;
            width: 24px;
            height: 24px;
            background-color: ${w};
            color: white;
            border-radius: 3px;
            text-align: center;
            line-height: 24px;
            font-size: 12px;
            font-weight: bold;
          }
          .items-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 13px;
          }
          .items-table thead {
            background-color: ${j};
            border-bottom: 2px solid ${w};
          }
          .items-table th {
            padding: 12px 10px;
            text-align: left;
            font-weight: 700;
            color: ${S};
          }
          .items-table td {
            padding: 12px 10px;
            border-bottom: 1px solid ${A};
          }
          .items-table tr:last-child td {
            border-bottom: none;
          }
          .totals-section {
            background-color: ${j};
            border: 1px solid ${A};
            padding: 20px;
            border-radius: 4px;
            margin-top: 20px;
          }
          .total-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            font-size: 13px;
            border-bottom: 1px solid ${A};
          }
          .total-row:last-child {
            border-bottom: none;
          }
          .total-row.grand-total {
            background-color: ${w};
            color: white;
            padding: 15px;
            margin: 0 -20px -20px -20px;
            padding-left: 20px;
            padding-right: 20px;
            border-radius: 0 0 4px 4px;
            font-weight: 700;
            font-size: 14px;
          }
          .status-section {
            margin-top: 20px;
          }
          .badges {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
          }
          .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            display: inline-block;
          }
          .badge.paid {
            background-color: #d4edda;
            color: #155724;
          }
          .badge.processing {
            background-color: #e2e3e5;
            color: #383d41;
          }
          .badge.completed {
            background-color: #d1ecf1;
            color: #0c5460;
          }
          .badge.shipped {
            background-color: #fff3cd;
            color: #856404;
          }
          .badge.delivered {
            background-color: #d4edda;
            color: #155724;
          }
          .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
          }
          .contact-field {
            background-color: ${j};
            border: 1px solid ${A};
            padding: 10px;
            border-radius: 4px;
          }
          .contact-field-label {
            font-size: 11px;
            font-weight: 600;
            color: ${N};
            margin-bottom: 4px;
            text-transform: uppercase;
          }
          .contact-field-value {
            font-size: 13px;
            color: ${S};
            font-weight: 500;
          }
          .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid ${A};
            text-align: center;
            font-size: 11px;
            color: ${N};
          }
          .footer p {
            margin: 5px 0;
          }
        </style>
      </head>
      <body>
        <div class="container">
          <!-- Header -->
          <div class="header">
            <h1>Order Confirmation</h1>
            <div class="order-info">
              <div class="order-info-item"><span class="order-info-label">Order ID:</span> ${m}</div>
              <div class="order-info-item"><span class="order-info-label">Date:</span> ${g}</div>
            </div>
          </div>

          <!-- Important Banner -->
          <div class="important-banner">
            <h3> Keep This For Your Records</h3>
            <p><strong>Order ID: ${m}</strong></p>
            <p>Use this ID to track and look up your order status anytime at our website.</p>
          </div>

          <!-- Contact Details Section -->
          <div class="section">
            <h2 class="section-title">Contact Details</h2>
            <div class="grid-4">
              <div class="contact-field">
                <div class="contact-field-label">First Name</div>
                <div class="contact-field-value">${a.contactDetails?.firstName||a.user?.name?.split(" ")[0]||"N/A"}</div>
              </div>
              <div class="contact-field">
                <div class="contact-field-label">Last Name</div>
                <div class="contact-field-value">${a.contactDetails?.lastName||a.user?.name?.split(" ")[1]||"N/A"}</div>
              </div>
              <div class="contact-field">
                <div class="contact-field-label">Email</div>
                <div class="contact-field-value">${a.contactDetails?.email||a.user?.email||"N/A"}</div>
              </div>
              <div class="contact-field">
                <div class="contact-field-label">Phone</div>
                <div class="contact-field-value">${a.contactDetails?.phone||"N/A"}</div>
              </div>
            </div>
          </div>

          <!-- Addresses Section -->
          <div class="section">
            <h2 class="section-title">Delivery Information</h2>
            <div class="grid-2">
              <div class="info-card">
                <div class="info-card-title">
                  <span class="info-card-icon"></span>
                  Shipping Address
                </div>
                ${a.shippingAddress?`
                  <p style="font-size: 13px; color: ${S}; margin-bottom: 8px;">
                    <strong>${a.shippingAddress.address}</strong><br/>
                    ${a.shippingAddress.apartment||""}<br/>
                    ${a.shippingAddress.city}, ${a.shippingAddress.stateRegion} ${a.shippingAddress.postalCode}<br/>
                    ${a.shippingAddress.country}
                  </p>
                `:`<p style="color: ${N}; font-size: 13px;">No shipping address provided</p>`}
              </div>
              <div class="info-card">
                <div class="info-card-title">
                  <span class="info-card-icon"></span>
                  Billing Address
                </div>
                ${a.billingAddress?`
                  <p style="font-size: 13px; color: ${S}; margin-bottom: 8px;">
                    <strong>${a.billingAddress.address}</strong><br/>
                    ${a.billingAddress.apartment||""}<br/>
                    ${a.billingAddress.city}, ${a.billingAddress.stateRegion} ${a.billingAddress.postalCode}<br/>
                    ${a.billingAddress.country}
                  </p>
                `:`<p style="color: ${N}; font-size: 13px;">Same as shipping address</p>`}
              </div>
            </div>
          </div>

          <!-- Order Items Section -->
          <div class="section">
            <h2 class="section-title">Order Items</h2>
            <table class="items-table">
              <thead>
                <tr>
                  <th>Product</th>
                  <th>Variants</th>
                  <th style="text-align: center;">Qty</th>
                  <th style="text-align: right;">Price</th>
                  <th style="text-align: right;">Total</th>
                </tr>
              </thead>
              <tbody>
                ${a.orderItems?.map(R=>{const q=[];R.selectedSize&&q.push(`Size: ${R.selectedSize}`),R.selectedColor&&q.push(`Color: ${R.selectedColor}`),R.selectedVariants&&typeof R.selectedVariants=="object"&&Object.entries(R.selectedVariants).forEach(([W,V])=>{V&&q.push(`${W}: ${V}`)}),R.sku&&q.push(`SKU: ${R.sku}`);const K=q.length>0?q.join(", "):"None";return`
                    <tr>
                      <td><strong>${R.name}</strong></td>
                      <td style="font-size: 12px; color: ${N};">${K}</td>
                      <td style="text-align: center;">${R.qty||R.quantity||1}</td>
                      <td style="text-align: right;">${(R.price||0).toFixed(2)}</td>
                      <td style="text-align: right;"><strong>${((R.price||0)*(R.qty||R.quantity||1)).toFixed(2)}</strong></td>
                    </tr>
                  `}).join("")||""}
              </tbody>
            </table>
          </div>

          <!-- Order Summary Section -->
          <div class="section">
            <h2 class="section-title">Order Summary</h2>
            <div class="totals-section">
              <div class="total-row">
                <span>Items Total:</span>
                <span>${(a.itemsPrice||0).toFixed(2)}</span>
              </div>
              <div class="total-row">
                <span>Shipping Cost:</span>
                <span>${(a.shippingPrice||0).toFixed(2)}</span>
              </div>
              <div class="total-row">
                <span>Tax:</span>
                <span>${(a.taxPrice||0).toFixed(2)}</span>
              </div>
              <div class="total-row grand-total">
                <span>Grand Total:</span>
                <span>${(a.totalPrice||a.totalAmount||0).toFixed(2)}</span>
              </div>
            </div>
          </div>

          <!-- Status Section -->
          <div class="section status-section">
            <h2 class="section-title">Order Status</h2>
            <div class="badges">
              ${a.status==="completed"?'<div class="badge completed"> Completed</div>':'<div class="badge processing"> Processing</div>'}
              ${a.isDelivered?'<div class="badge delivered"> Delivered</div>':a.status==="shipped"?'<div class="badge shipped"> Shipped</div>':'<div class="badge processing"> In Transit</div>'}
            </div>
          </div>

          <!-- Footer -->
          <div class="footer">
            <p><strong>Thank you for your order!</strong></p>
            <p>This is an automated confirmation document. Please keep it for your records.</p>
            <p>Generated on ${new Date().toLocaleString()}</p>
          </div>
        </div>
      </body>
      </html>
    `,M=document.createElement("a"),T=new Blob([E],{type:"text/html"});M.href=URL.createObjectURL(T),M.download=`Order_${m}_${new Date().getTime()}.pdf`,document.body.appendChild(M);const D=document.createElement("script");D.src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",D.onload=()=>{const R={margin:10,filename:`Order_${m}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{orientation:"portrait",unit:"mm",format:"a4"}},q=document.createElement("div");q.innerHTML=E,html2pdf().set(R).from(q).save()},document.head.appendChild(D)};if(c)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-bg-primary)]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[var(--color-accent-primary)] mb-4"}),s.jsx("p",{className:"text-[var(--color-text-light)]",children:"Loading order"})]})});if(!a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-bg-primary)]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[var(--color-text-primary)] font-semibold mb-4",children:"Order not found."}),s.jsx(ze,{to:"/order-lookup",className:"text-[var(--color-accent-primary)] font-bold hover:underline",children:"Back to Order Lookup "})]})});const h={items:a.itemsPrice??a.orderItems?.reduce((m,g)=>m+g.price*g.qty,0)??0,shipping:a.shippingPrice??0,tax:a.taxPrice??0,total:a.totalPrice??a.totalAmount??0};return s.jsx("div",{className:"min-h-screen py-8 px-4 sm:px-6 lg:px-8",style:{backgroundColor:"var(--color-bg-primary, #ffffff)"},children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-2 text-[var(--color-text-primary)]",children:"Order Details"}),s.jsxs("p",{className:"text-sm sm:text-base font-mono text-[var(--color-accent-primary)]",children:[s.jsx("span",{children:"Order ID: "}),a.orderId||`ORD-${new Date(a.createdAt).toISOString().slice(0,10).replace(/-/g,"")}-${a._id?.slice(-6)}`]}),s.jsx("p",{className:"text-xs sm:text-sm text-[var(--color-text-light)] mt-1",children:new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[s.jsxs("button",{onClick:f,className:"px-6 py-2.5 rounded-lg font-semibold text-white hover:opacity-90 transition duration-300 flex items-center justify-center gap-2",style:{backgroundColor:"var(--color-accent-primary)"},children:[s.jsx(vT,{})," Download PDF"]}),s.jsx(ze,{to:"/order-lookup",className:"px-6 py-2.5 rounded-lg font-semibold text-white hover:opacity-90 transition duration-300 text-center",style:{backgroundColor:"var(--color-accent-primary)"},children:" Back to Order Lookup"})]})]}),s.jsx("div",{className:"mb-8 p-4 sm:p-6 rounded-lg border-l-4",style:{backgroundColor:"var(--color-bg-section, #f5f5f5)",borderLeftColor:"var(--color-accent-primary)"},children:s.jsx("p",{className:"text-sm sm:text-base font-semibold text-[var(--color-text-primary)]",children:" Keep your Order ID saved kindly for future reference and tracking."})}),s.jsxs("div",{className:"mb-8 p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-[var(--color-text-primary)]",children:"Contact Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"First Name"}),s.jsx("p",{className:"text-sm sm:text-base text-[var(--color-text-primary)]",children:a.contactDetails?.firstName||a.user?.name?.split(" ")[0]||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"Last Name"}),s.jsx("p",{className:"text-sm sm:text-base text-[var(--color-text-primary)]",children:a.contactDetails?.lastName||a.user?.name?.split(" ")[1]||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"Email"}),s.jsx("p",{className:"text-sm sm:text-base text-[var(--color-text-primary)]",children:a.contactDetails?.email||a.user?.email||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"Phone"}),s.jsx("p",{className:"text-sm sm:text-base text-[var(--color-text-primary)]",children:a.contactDetails?.phone||"N/A"})]})]})]}),s.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"p-2 rounded",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:s.jsx(Nh,{style:{color:"white"},size:18})}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-[var(--color-text-primary)]",children:"Shipping Address"})]}),a.shippingAddress?s.jsxs("div",{className:"space-y-2 text-sm sm:text-base text-[var(--color-text-primary)]",children:[s.jsx("p",{className:"font-semibold",children:a.shippingAddress.address}),a.shippingAddress.apartment&&s.jsx("p",{children:a.shippingAddress.apartment}),s.jsxs("p",{children:[a.shippingAddress.city,a.shippingAddress.stateRegion?`, ${a.shippingAddress.stateRegion}`:""," ",a.shippingAddress.postalCode]}),s.jsx("p",{children:a.shippingAddress.country})]}):s.jsx("p",{className:"text-[var(--color-text-light)]",children:"No shipping address provided"})]}),s.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"p-2 rounded",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:s.jsx(yT,{style:{color:"white"},size:18})}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-[var(--color-text-primary)]",children:"Billing Address"})]}),a.billingAddress?s.jsxs("div",{className:"space-y-2 text-sm sm:text-base text-[var(--color-text-primary)]",children:[s.jsx("p",{className:"font-semibold",children:a.billingAddress.address}),a.billingAddress.apartment&&s.jsx("p",{children:a.billingAddress.apartment}),s.jsxs("p",{children:[a.billingAddress.city,a.billingAddress.stateRegion?`, ${a.billingAddress.stateRegion}`:""," ",a.billingAddress.postalCode]}),s.jsx("p",{children:a.billingAddress.country})]}):s.jsx("p",{className:"text-[var(--color-text-light)]",children:"Same as shipping address"})]})]}),s.jsxs("div",{className:"mb-8 p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-[var(--color-text-primary)]",children:"Order Items"}),s.jsx("div",{className:"space-y-4",children:a.orderItems&&a.orderItems.map(m=>{const g=[];return m.selectedSize&&g.push(`Size: ${m.selectedSize}`),m.selectedColor&&g.push(`Color: ${m.selectedColor}`),m.selectedVariants&&typeof m.selectedVariants=="object"&&Object.entries(m.selectedVariants).forEach(([b,y])=>{y&&g.push(`${b}: ${y}`)}),m.variantId&&g.push(`VariantId: ${m.variantId}`),m.sku&&g.push(`SKU: ${m.sku}`),s.jsxs("div",{className:"flex gap-3 sm:gap-4 pb-4 border-b",style:{borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("img",{src:GM(m.image),alt:m.name,className:"w-16 h-16 sm:w-20 sm:h-20 object-cover rounded"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-sm sm:text-base text-[var(--color-text-primary)]",children:m.name}),g.length>0&&s.jsx("p",{className:"text-xs sm:text-sm mt-1 text-[var(--color-text-light)]",children:g.join(" / ")}),s.jsxs("p",{className:"text-xs sm:text-sm mt-1 text-[var(--color-text-secondary)]",children:["Qty: ",m.qty,"  ",Number(m.price).toFixed(2)]})]}),s.jsx("div",{className:"text-right flex-shrink-0",children:s.jsxs("p",{className:"font-bold text-base sm:text-lg text-[var(--color-accent-primary)]",children:["",(m.qty*m.price).toFixed(2)]})})]},m._id||m.product)})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"md:col-span-2 p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-4 text-[var(--color-text-primary)]",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3 text-sm sm:text-base",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Items Subtotal:"}),s.jsxs("span",{className:"font-bold text-[var(--color-text-primary)]",children:["",h.items.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Shipping:"}),s.jsxs("span",{className:"font-bold text-[var(--color-text-primary)]",children:["",h.shipping.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Tax:"}),s.jsxs("span",{className:"font-bold text-[var(--color-text-primary)]",children:["",h.tax.toFixed(2)]})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between",style:{borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("span",{className:"text-base sm:text-lg font-bold text-[var(--color-text-primary)]",children:"Grand Total:"}),s.jsxs("span",{className:"text-base sm:text-lg font-bold text-[var(--color-accent-primary)]",children:["",h.total.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-4 text-[var(--color-text-primary)]",children:"Status"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"Fulfillment"}),s.jsx("p",{className:"font-bold text-sm sm:text-base text-[var(--color-text-primary)]",children:a.status==="completed"?" Fulfilled":" Pending"})]}),s.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("p",{className:"text-xs sm:text-sm mb-1 font-semibold text-[var(--color-text-light)]",children:"Delivery"}),s.jsx("p",{className:"font-bold text-sm sm:text-base text-[var(--color-text-primary)]",children:a.isDelivered?" Delivered":a.status==="shipped"?" Shipped":" Not Shipped"})]})]})]})]})]})})},YM=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(!1),a=Ar(),l="http://localhost:5000",c=async u=>{if(u.preventDefault(),!e.trim()){he.error("Please enter an order ID");return}n(!0);try{const f=await fetch(`${l}/api/orders/${e}`,{credentials:"include"});if(!f.ok){const h=await f.json().catch(()=>({}));throw new Error(h.message||"Order not found")}a(`/order/${e}`)}catch(f){console.error("Order lookup failed",f),he.error(f.message||"Order not found. Please check the order ID and try again.")}finally{n(!1)}};return s.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 text-[var(--color-text-primary)]",children:"Find Your Order"}),s.jsx("p",{className:"text-lg text-[var(--color-text-light)]",children:"Enter your order ID from your confirmation email to view order details"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 sm:p-12",children:[s.jsx("form",{onSubmit:c,className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"orderId",className:"block text-sm font-semibold text-[var(--color-text-primary)] mb-3",children:"Order ID"}),s.jsxs("div",{className:"flex gap-3 flex-col md:flex-row",children:[s.jsx("input",{id:"orderId",type:"text",placeholder:"e.g., ORD-123456789-abc123 or just the ID",value:e,onChange:u=>t(u.target.value),className:"flex-1 px-4 py-3 border border-[var(--color-border-light)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)] bg-[var(--color-bg-primary)] text-[var(--color-text-primary)]",disabled:r}),s.jsxs("button",{type:"submit",disabled:r,className:"px-6 py-3 rounded-lg font-bold text-white transition duration-300 flex items-center gap-2 disabled:opacity-50",style:{backgroundColor:"var(--color-accent-primary)"},children:[s.jsx(Ba,{}),r?"Searching...":"Search"]})]}),s.jsx("p",{className:"text-xs text-[var(--color-text-light)] mt-2",children:"You can find your order ID in the confirmation email sent after checkout"})]})}),s.jsxs("div",{className:"mt-12 pt-8 border-t border-[var(--color-border-light)]",children:[s.jsx("h2",{className:"text-lg font-bold text-[var(--color-text-primary)] mb-4",children:"How to find your Order ID:"}),s.jsxs("ol",{className:"space-y-3 text-sm text-[var(--color-text-light)]",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"font-bold text-[var(--color-accent-primary)] flex-shrink-0",children:"1."}),s.jsx("span",{children:"Check your email for the order confirmation message"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"font-bold text-[var(--color-accent-primary)] flex-shrink-0",children:"2."}),s.jsx("span",{children:'Look for "Order ID" or "Order Number" in the email'})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"font-bold text-[var(--color-accent-primary)] flex-shrink-0",children:"3."}),s.jsx("span",{children:"Copy the ID and paste it above to view your order details"})]})]})]})]})]})})},JM=()=>s.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-secondary)]",children:[s.jsx("div",{className:"bg-[var(--color-accent-primary)] text-white py-8 md:py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-4 hover:text-gray-200 w-fit",children:[s.jsx(Er,{})," Back to Home"]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(Nh,{className:"text-4xl"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Shipping Policy"})]}),s.jsx("p",{className:"text-gray-100 text-lg",children:"Wolf Supplies LTD - Fast & Reliable Delivery"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(k0,{className:"text-[var(--color-accent-primary)] text-2xl"}),s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Delivery Timeframe"})]}),s.jsxs("p",{className:"text-[var(--color-text-light)] mb-4 leading-relaxed",children:["At Wolf Supplies LTD, we are committed to delivering your orders promptly and safely. All orders placed on our UK-based store are processed and shipped within ",s.jsx("span",{className:"font-bold text-[var(--color-accent-primary)]",children:"2-4 business days"}),"."]}),s.jsx("div",{className:"bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] p-4 rounded mb-4",children:s.jsxs("p",{className:"text-[var(--color-text-light)]",children:[s.jsx("strong",{children:"Business Days Definition:"})," Monday to Friday, excluding UK public holidays and weekends."]})}),s.jsx("div",{className:"bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] p-4 rounded mb-4",children:s.jsx("p",{className:"text-[var(--color-text-primary)] font-semibold",children:"Free Shipping on all UK orders   no minimum spend"})}),s.jsxs("div",{className:"bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] p-4 rounded text-sm",children:[s.jsx("p",{className:"text-[var(--color-text-light)]",children:s.jsxs("strong",{children:["Wolf Supplies Ltd | Company Number: ",s.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-accent-primary)] hover:underline",children:"16070029"})]})}),s.jsx("p",{className:"text-[var(--color-text-light)]",children:"Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"})]})]}),s.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-6",children:"Shipping Methods & Costs"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-l-4 border-[var(--color-accent-primary)] pl-6 pb-6 border-b",children:[s.jsx("h3",{className:"text-xl font-bold text-[var(--color-text-primary)] mb-2",children:"Standard Delivery"}),s.jsxs("ul",{className:"text-[var(--color-text-light)] space-y-2",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Coverage:"})," All UK postcodes (England, Scotland, Wales, Northern Ireland)"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Delivery Time:"})," 2-4 business days from order confirmation"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Cost:"})," FREE for all UK orders"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Tracking:"})," Real-time order tracking available"]})]})]}),s.jsxs("div",{className:"border-l-4 border-[var(--color-accent-primary)] pl-6",children:[s.jsx("h3",{className:"text-xl font-bold text-[var(--color-text-primary)] mb-2",children:"International Shipping"}),s.jsxs("ul",{className:"text-[var(--color-text-light)] space-y-2",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"International Orders:"})," We ship worldwide! However, due to varying customs and regulations, we recommend contacting us before placing an international order."]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Contact Us:"})," Please ",s.jsx(ze,{to:"/contact",className:"text-[var(--color-accent-primary)] hover:underline font-semibold",children:"contact our team"})," for international shipping inquiries, custom quotes, and delivery timelines."]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Cost:"})," Shipping costs vary based on destination and will be confirmed via email after your inquiry."]})]})]})]})]}),s.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-6",children:"Postcode Coverage"}),s.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"We deliver to all UK postcodes including:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["England","Scotland","Wales","Northern Ireland","London","Manchester","Birmingham","Leeds"].map((e,t)=>s.jsx("div",{className:"bg-[var(--color-bg-section)] p-3 rounded-lg border border-[var(--color-border-light)] text-center",children:s.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:e})},t))}),s.jsxs("p",{className:"text-[var(--color-text-light)] mt-4",children:[s.jsx("strong",{children:"Remote Areas:"})," The Highlands, Islands, and other remote postcode areas may take an additional 1-2 business days."]})]}),s.jsxs("div",{className:"bg-[var(--color-bg-section)] rounded-lg border-2 border-[var(--color-border-light)] p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-4",children:"Questions About Shipping?"}),s.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"Our customer support team is here to help. Contact us at:"}),s.jsxs("div",{className:"space-y-2 text-[var(--color-text-light)]",children:[s.jsxs("p",{children:[s.jsx(ms,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Email: ",s.jsx("a",{href:"mailto:support@wolfsuppliesltd.co.uk",className:"text-[var(--color-accent-primary)] hover:underline",children:"support@wolfsuppliesltd.co.uk"})]}),s.jsxs("p",{children:[s.jsx(Ga,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Phone: ",s.jsx("a",{href:"tel:+447398998101",className:"text-[var(--color-accent-primary)] hover:underline",children:"+44 7398 998101"})]}),s.jsx("p",{children:" Hours: Monday - Friday, 9 AM - 6 PM GMT"})]})]}),s.jsx("p",{className:"text-center text-[var(--color-text-light)] text-sm mt-8",children:"Last updated: January 19, 2026 | Wolf Supplies LTD"})]})]}),QM=()=>s.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-section)]",children:[s.jsx("div",{className:"bg-[var(--color-accent-primary)] text-white py-12 md:py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-4 hover:text-gray-100 w-fit",children:[s.jsx(Er,{})," Back to Home"]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(R6,{className:"text-4xl"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Return & Refunds Policy"})]}),s.jsx("p",{className:"text-gray-100 text-lg",children:"31 Days Return & Refund - UK"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(k0,{className:"text-[var(--color-accent-primary)] text-2xl"}),s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"31 Days Return & Refund Window"})]}),s.jsxs("p",{className:"text-[var(--color-text-light)] mb-4 leading-relaxed",children:["At Wolf Supplies LTD, we want you to be completely satisfied with your purchase. If you're not happy with your item, you can return it within ",s.jsx("span",{className:"font-bold text-[var(--color-accent-primary)]",children:"31 days"})," of delivery for a full refund or exchange. This forms our ",s.jsx("strong",{children:"31 Days Return & Refund"})," policy."]}),s.jsx("div",{className:"bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] p-4 rounded mb-4",children:s.jsxs("p",{className:"text-[var(--color-text-light)] mb-2",children:[s.jsx("strong",{children:"Consumer Rights:"})," This policy complies with UK Consumer Rights Act 2015 and provides protection for all purchases."]})}),s.jsxs("div",{className:"bg-[var(--color-bg-section)] border-l-4 border-[var(--color-accent-primary)] p-4 rounded text-sm",children:[s.jsx("p",{className:"text-[var(--color-text-light)]",children:s.jsxs("strong",{children:["Wolf Supplies Ltd | Company Number: ",s.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-accent-primary)] hover:underline",children:"16070029"})]})}),s.jsx("p",{className:"text-[var(--color-text-light)]",children:"Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"})]})]}),s.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-6",children:"What Can Be Returned?"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-[var(--color-accent-primary)] mb-4",children:" Eligible for Return"}),s.jsxs("ul",{className:"space-y-3 text-[var(--color-text-light)]",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-[var(--color-accent-primary)] font-bold",children:""}),s.jsx("span",{children:"Unused items in original packaging"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-[var(--color-accent-primary)] font-bold",children:""}),s.jsx("span",{children:"Defective or damaged products"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-[var(--color-accent-primary)] font-bold",children:""}),s.jsx("span",{children:"Wrong item sent"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-[var(--color-accent-primary)] font-bold",children:""}),s.jsx("span",{children:"Item not as described"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-[var(--color-accent-primary)] font-bold",children:""}),s.jsx("span",{children:"Faulty items"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-red-600 mb-4",children:" Not Eligible for Return"}),s.jsxs("ul",{className:"space-y-3 text-[var(--color-text-light)]",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-red-600 font-bold",children:""}),s.jsx("span",{children:"Items used or worn"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-red-600 font-bold",children:""}),s.jsx("span",{children:"Damage caused by misuse"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-red-600 font-bold",children:""}),s.jsx("span",{children:"Missing original packaging"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"text-red-600 font-bold",children:""}),s.jsx("span",{children:"Items returned after 31 days"})]})]})]})]})]}),s.jsxs("div",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(DT,{className:"text-[var(--color-accent-primary)] text-2xl"}),s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Refund Details"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-[var(--color-text-primary)] mb-2",children:" Refund Timeline"}),s.jsx("p",{className:"text-[var(--color-text-light)] mb-3",children:"Once we receive and inspect your returned item:"}),s.jsxs("ul",{className:"list-disc list-inside text-[var(--color-text-light)] space-y-2",children:[s.jsx("li",{children:"Inspection: 3-5 business days"}),s.jsx("li",{children:"Refund Approval: 1-2 business days"}),s.jsx("li",{children:"Refund Processing: 5-10 business days to your original payment method"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-[var(--color-text-primary)] mb-2",children:" What Gets Refunded"}),s.jsxs("ul",{className:"list-disc list-inside text-[var(--color-text-light)] space-y-2",children:[s.jsx("li",{children:"Full product price"}),s.jsx("li",{children:"Original shipping cost (for defective items)"})]})]})]})]}),s.jsxs("div",{className:"bg-[var(--color-bg-section)] rounded-lg border-2 border-[var(--color-border-light)] p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-4",children:"Need Help With a Return?"}),s.jsx("p",{className:"text-[var(--color-text-light)] mb-4",children:"Our support team is ready to assist you:"}),s.jsxs("div",{className:"space-y-2 text-[var(--color-text-light)]",children:[s.jsxs("p",{children:[s.jsx(ms,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Email: ",s.jsx("a",{href:"mailto:support@wolfsuppliesltd.co.uk",className:"text-[var(--color-accent-primary)] hover:underline",children:"support@wolfsuppliesltd.co.uk"})]}),s.jsxs("p",{children:[s.jsx(Ga,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Phone: ",s.jsx("a",{href:"tel:+447398998101",className:"text-[var(--color-accent-primary)] hover:underline",children:"+44 7398 998101"})]}),s.jsx("p",{children:" Hours: Monday - Friday, 9 AM - 6 PM GMT"})]})]}),s.jsx("p",{className:"text-center text-[var(--color-text-light)] text-sm mt-8",children:"Last updated: January 19, 2026 | Wolf Supplies LTD"})]})]}),XM=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-primary, #ffffff)"},children:[s.jsx("div",{className:"text-white py-12 md:py-16",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-4 hover:opacity-80 w-fit transition duration-300",children:[s.jsx(Er,{})," Back to Home"]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(To,{className:"text-4xl"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Privacy Policy"})]}),s.jsx("p",{className:"text-white text-lg",children:"Your Data Protection & Privacy Rights - GDPR Compliant"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("p",{className:"mb-4 leading-relaxed",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:'Wolf Supplies LTD ("we", "our", or "us") is committed to protecting your personal data and privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information in accordance with the UK General Data Protection Regulation (UK GDPR) and Data Protection Act 2018.'}),s.jsxs("p",{className:"mb-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsx("strong",{children:"Company Details:"})," Wolf Supplies Ltd | Company Number: ",s.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"16070029"})," | Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"]}),s.jsxs("p",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsx("strong",{children:"Last Updated:"})," January 19, 2026 | ",s.jsx("strong",{children:"Effective Date:"})," Immediately"]})]}),s.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Information We Collect"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"pl-6",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[s.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Personal Information"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsx("li",{children:"Full name and contact information"}),s.jsx("li",{children:"Email address and phone number"}),s.jsx("li",{children:"Delivery and billing address"}),s.jsx("li",{children:"Payment information (processed securely)"})]})]}),s.jsxs("div",{className:"pl-6",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[s.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"Account Information"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsx("li",{children:"Username and password"}),s.jsx("li",{children:"Account preferences and wishlist"}),s.jsx("li",{children:"Order history"})]})]})]})]}),s.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Data Security"}),s.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsx("p",{children:"We implement industry-standard security measures to protect your data:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"SSL/TLS encryption for data transmission"}),s.jsx("li",{children:"PCI-DSS Level 1 compliance for payment processing"}),s.jsx("li",{children:"Secure password hashing and storage"}),s.jsx("li",{children:"Regular security audits and penetration testing"})]})]})]}),s.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Your Data Rights (UK GDPR)"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[{title:"Right to Access",desc:"Request a copy of your personal data"},{title:"Right to Rectification",desc:"Correct inaccurate information"},{title:"Right to Erasure",desc:"Request deletion of your data"},{title:"Right to Portability",desc:"Export your data to another provider"}].map((e,t)=>s.jsxs("div",{className:"pl-4",style:{borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[s.jsx("h4",{className:"font-bold mb-1",style:{color:"var(--color-text-primary, #000000)"},children:e.title}),s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:e.desc})]},t))})]}),s.jsxs("div",{className:"rounded-lg border-2 p-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text-primary, #000000)"},children:"Privacy Questions?"}),s.jsx("p",{className:"mb-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Contact our Data Protection Officer:"}),s.jsxs("div",{className:"space-y-2",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsxs("p",{children:[s.jsx(ms,{className:"inline mr-2",style:{color:"var(--color-accent-primary, #a5632a)"}})," Email: ",s.jsx("a",{href:"mailto:privacy@wolfsuppliesltd.co.uk",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"privacy@wolfsuppliesltd.co.uk"})]}),s.jsxs("p",{children:[s.jsx(Ga,{className:"inline mr-2",style:{color:"var(--color-accent-primary, #a5632a)"}})," Phone: ",s.jsx("a",{href:"tel:+447398998101",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"+44 7398 998101"})]})]})]}),s.jsx("p",{className:"text-center text-sm mt-8",style:{color:"var(--color-text-primary, #000000)"},children:"Last updated: January 19, 2026 | Wolf Supplies LTD"})]})]}),ZM=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-primary, #ffffff)"},children:[s.jsx("div",{className:"text-white py-12 md:py-16",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-4 hover:opacity-80 w-fit transition duration-300",children:[s.jsx(Er,{})," Back to Home"]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(NT,{className:"text-4xl"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Terms of Service"})]}),s.jsx("p",{className:"text-white text-lg",children:"Legal Agreement Between Wolf Supplies LTD and Users"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text-primary, #000000)"},children:"Acceptance of Terms"}),s.jsx("p",{className:"leading-relaxed mb-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"By accessing and using this website (wolfsuppliesltd.co.uk), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."}),s.jsxs("div",{className:"p-4 rounded mb-4",style:{backgroundColor:"rgba(165, 99, 42, 0.1)",borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[s.jsx("p",{className:"mb-2",style:{color:"var(--color-text-primary, #000000)"},children:"These Terms of Service constitute a binding legal agreement between Wolf Supplies LTD and you, the user."}),s.jsxs("p",{className:"text-sm",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsx("strong",{children:"Company Number:"})," ",s.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"16070029"})," | ",s.jsx("strong",{children:"Address:"})," Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"]})]})]}),s.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"User Accounts"}),s.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsx("p",{children:"When you create an account on Wolf Supplies, you agree to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"Provide accurate, current, and complete account information"}),s.jsx("li",{children:"Maintain confidentiality of your password"}),s.jsx("li",{children:"Accept responsibility for all activities under your account"}),s.jsx("li",{children:"Not share your account with others"})]}),s.jsxs("p",{className:"mt-4",children:[s.jsx("strong",{children:"Note:"})," Users must be at least 18 years old to create an account and make purchases."]})]})]}),s.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Orders & Purchases"}),s.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Order Confirmation:"})," Placement of an order represents an offer to purchase. We reserve the right to accept or reject any order."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," Payment must be received before items are dispatched. We accept various payment methods and process payments securely."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Right of Withdrawal:"})," Under UK Consumer Rights Act 2015, you have 14 days to cancel your order from the date of delivery (30 days for returns)."]})]})]}),s.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Limitation of Liability"}),s.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsxs("p",{children:[s.jsx("strong",{children:"No Warranties:"})," The materials on Wolf Supplies LTD are provided on an 'as is' basis. Wolf Supplies LTD makes no warranties, expressed or implied."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Maximum Liability:"})," Wolf Supplies LTD's total liability shall not exceed the amount paid for the specific product or service in question."]})]})]}),s.jsxs("div",{className:"rounded-lg shadow-md p-8 mb-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary, #000000)"},children:"Dispute Resolution"}),s.jsxs("div",{className:"space-y-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Governing Law:"})," These Terms shall be governed by the laws of England and Wales."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Jurisdiction:"})," You agree to submit to the exclusive jurisdiction of the courts of England and Wales."]})]})]}),s.jsxs("div",{className:"rounded-lg border-2 p-8",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text-primary, #000000)"},children:"Questions About Our Terms?"}),s.jsx("p",{className:"mb-4",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"For questions regarding these Terms of Service, please contact:"}),s.jsxs("div",{className:"space-y-2",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:[s.jsxs("p",{children:[s.jsx(ms,{className:"inline mr-2",style:{color:"var(--color-accent-primary, #a5632a)"}})," Email: ",s.jsx("a",{href:"mailto:legal@wolfsuppliesltd.co.uk",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"legal@wolfsuppliesltd.co.uk"})]}),s.jsxs("p",{children:[s.jsx(Ga,{className:"inline mr-2",style:{color:"var(--color-accent-primary, #a5632a)"}})," Phone: ",s.jsx("a",{href:"tel:+447398998101",className:"hover:underline",style:{color:"var(--color-accent-primary, #a5632a)"},children:"+44 7398 998101"})]})]})]}),s.jsx("p",{className:"text-center text-sm mt-8",style:{color:"var(--color-text-primary, #000000)"},children:"Last updated: January 19, 2026 | Wolf Supplies LTD"})]})]}),eO=()=>{const e=[{question:"How long does shipping take?",answer:"Standard UK delivery takes 2-4 business days from order confirmation. We offer free shipping on all orders worldwide."},{question:"What is your return policy?",answer:"You have 31 days from delivery to return unused items for a full refund or exchange. We provide prepaid return labels for your convenience."},{question:"Is shipping free?",answer:"Free standard shipping on all orders worldwide. No minimum spend required."},{question:"How can I track my order?",answer:"You'll receive a tracking number via email once your order ships. You can track your package in real-time on our website."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, Mastercard, Amex), PayPal, Apple Pay, and Google Pay. All payments are processed securely."},{question:"What if my item arrives damaged?",answer:"Report damage within 48 hours with photos. We'll immediately send a replacement or issue a full refund at no cost to you."},{question:"Can I change my order after placing it?",answer:"Contact us immediately at support@wolfsuppliesltd.co.uk. If your order hasn't shipped, we may be able to make changes."},{question:"How do I contact customer support?",answer:"Email: support@wolfsuppliesltd.co.uk | Phone: +44 7398 998101 | Monday-Friday, 9 AM - 6 PM GMT"}];return s.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-section)]",children:[s.jsx("div",{className:"bg-[var(--color-accent-primary)] text-white py-12 md:py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(ze,{to:"/",className:"flex items-center gap-2 mb-4 hover:text-gray-100 w-fit",children:[s.jsx(Er,{})," Back to Home"]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(LT,{className:"text-4xl"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Frequently Asked Questions"})]}),s.jsx("p",{className:"text-gray-100 text-lg",children:"Find Answers to Common Questions"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsx("div",{className:"space-y-4",children:e.map((t,r)=>s.jsxs("details",{className:"bg-[var(--color-bg-primary)] rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition duration-300 group",children:[s.jsxs("summary",{className:"flex items-center justify-between font-bold text-[var(--color-text-primary)] text-lg select-none",children:[s.jsx("span",{children:t.question}),s.jsx("span",{className:"text-[var(--color-text-light)] transition duration-300 group-open:rotate-180",children:""})]}),s.jsx("p",{className:"text-[var(--color-text-light)] mt-4 leading-relaxed",children:t.answer})]},r))}),s.jsxs("div",{className:"bg-[var(--color-bg-section)] rounded-lg border-2 border-[var(--color-border-light)] p-8 mt-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text-primary)] mb-4",children:"Didn't Find Your Answer?"}),s.jsx("p",{className:"text-[var(--color-text-light)] mb-6",children:"Our support team at Wolf Supplies Ltd is here to help with any questions or concerns you may have."}),s.jsxs("div",{className:"space-y-2 text-[var(--color-text-light)] mb-6",children:[s.jsxs("p",{children:[s.jsx(ms,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Email: ",s.jsx("a",{href:"mailto:support@wolfsuppliesltd.co.uk",className:"text-[var(--color-accent-primary)] hover:underline",children:"support@wolfsuppliesltd.co.uk"})]}),s.jsxs("p",{children:[s.jsx(Ga,{className:"inline mr-2 text-[var(--color-accent-primary)]"})," Phone: ",s.jsx("a",{href:"tel:+447398998101",className:"text-[var(--color-accent-primary)] hover:underline",children:"+44 7398 998101"})]}),s.jsx("p",{children:" Hours: Monday - Friday, 9 AM - 6 PM GMT"})]}),s.jsxs("div",{className:"bg-[var(--color-bg-primary)] p-4 rounded border border-[var(--color-border-light)]",children:[s.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:s.jsx("strong",{children:"Company Details:"})}),s.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:"Wolf Supplies LTD"}),s.jsxs("p",{className:"text-sm text-[var(--color-text-light)]",children:["Company Number: ",s.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-accent-primary)] hover:underline",children:"16070029"})]}),s.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:"Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"})]})]})]})]})},tO=({activeTab:e})=>{const t=qt(),r=Ar(),n=pn(),a=[{icon:AT,label:"Dashboard",id:"dashboard",path:"/admin/dashboard"},{icon:Pn,label:"Products",id:"products",path:"/admin/products"},{icon:xx,label:"Categories",id:"categories",path:"/admin/categories"},{icon:fT,label:"Orders",id:"orders",path:"/admin/orders"},{icon:xT,label:"Reviews",id:"reviews",path:"/admin/reviews"},{icon:A6,label:"Chat",id:"chat",path:"/admin/chat"},{icon:i4,label:"Menu",id:"menu",path:"/admin/menu"},{icon:i4,label:"Analytics",id:"analytics",path:"/admin/analytics"},{icon:Mc,label:"Collections",id:"collections",path:"/admin/collections"}],l=()=>{t(jE()),r("/login")},u=e||(()=>{const f=n.pathname;return f.includes("/admin/products")?"products":f.includes("/admin/categories")?"categories":f.includes("/admin/orders")?"orders":f.includes("/admin/reviews")?"reviews":f.includes("/admin/analytics")?"analytics":f.includes("/admin/menu")?"menu":f.includes("/admin/chat")?"chat":f.includes("/admin/collections")?"collections":(f.includes("/admin/dashboard")||f==="/admin","dashboard")})();return s.jsxs("div",{className:"w-64 text-white h-screen flex flex-col fixed left-0 top-0 z-40",style:{backgroundColor:"var(--color-accent-primary)"},children:[s.jsx("div",{className:"p-6 border-b border-opacity-30",style:{borderColor:"white"},children:s.jsx(ze,{to:"/admin",className:"flex justify-center items-center gap-3",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"Admin Panel"}),s.jsx("p",{className:"text-xs opacity-75",children:"Management"})]})})}),s.jsx("nav",{className:"flex-1 p-6 space-y-2 overflow-y-auto",children:a.map(f=>s.jsxs(ze,{to:f.path,className:`flex items-center gap-4 px-4 py-3 rounded-lg transition duration-300 ${u===f.id?"text-white":"text-white opacity-75 hover:opacity-100"}`,style:u===f.id?{backgroundColor:"var(--color-accent-light)"}:{backgroundColor:"transparent"},children:[s.jsx(f.icon,{className:"text-lg"}),s.jsx("span",{className:"font-semibold",children:f.label})]},f.id))}),s.jsx("div",{className:"p-6 border-t border-opacity-30",style:{borderColor:"white"},children:s.jsxs("button",{onClick:l,className:"w-full flex items-center gap-4 px-4 py-3 rounded-lg text-white font-semibold transition duration-300",style:{backgroundColor:"rgba(255, 0, 0, 0.8)",borderColor:"white"},onMouseEnter:f=>f.target.style.backgroundColor="rgba(255, 0, 0, 1)",onMouseLeave:f=>f.target.style.backgroundColor="rgba(255, 0, 0, 0.8)",children:[s.jsx(gx,{className:"text-lg"}),s.jsx("span",{children:"Logout"})]})})]})},fs=({children:e,activeTab:t})=>s.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsx(tO,{activeTab:t}),s.jsx("div",{className:"flex-1 ml-64 overflow-auto",children:e})]}),b4=()=>{const e=Ar(),t=qt(),[r,n]=C.useState({products:0,categories:0,totalValue:0,orders:0,revenue:0}),[a,l]=C.useState(""),[c,u]=C.useState(""),[f,h]=C.useState(!1),[m,g]=C.useState("today"),[b,y]=C.useState("fixed"),{products:j}=At(M=>M.product),{categories:w}=At(M=>M.category),{orders:S=[]}=At(M=>M.order),N=[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"Last 30 minutes",value:"last30m"},{label:"Last 12 hours",value:"last12h"},{label:"Last 7 days",value:"last7d"},{label:"Last 30 days",value:"last30d"},{label:"Last 90 days",value:"last90d"},{label:"Last 365 days",value:"last365d"},{label:"Last 12 months",value:"last12m"},{label:"Last week",value:"lastweek"},{label:"Last month",value:"lastmonth"}];C.useEffect(()=>{const T=new Date().toISOString().split("T")[0];l(T),u(T)},[]);const A=M=>{g(M);const T=new Date;let D,R;switch(M){case"today":D=new Date(T),D.setHours(0,0,0,0),R=new Date(T),R.setHours(23,59,59,999);break;case"yesterday":D=new Date(T),D.setDate(D.getDate()-1),D.setHours(0,0,0,0),R=new Date(D),R.setHours(23,59,59,999);break;case"last30m":D=new Date(T.getTime()-30*6e4),R=new Date(T);break;case"last12h":D=new Date(T.getTime()-720*6e4),R=new Date(T);break;case"last7d":D=new Date(T),D.setDate(D.getDate()-7),R=new Date(T);break;case"last30d":D=new Date(T),D.setDate(D.getDate()-30),R=new Date(T);break;case"last90d":D=new Date(T),D.setDate(D.getDate()-90),R=new Date(T);break;case"last365d":D=new Date(T),D.setDate(D.getDate()-365),R=new Date(T);break;case"lastweek":D=new Date(T),D.setDate(D.getDate()-D.getDay()-7),R=new Date(D),R.setDate(R.getDate()+6);break;case"lastmonth":D=new Date(T.getFullYear(),T.getMonth()-1,1),R=new Date(T.getFullYear(),T.getMonth(),0);break;case"last12m":D=new Date(T),D.setFullYear(D.getFullYear()-1),R=new Date(T);break;default:D=new Date(T),D.setHours(0,0,0,0),R=new Date(T)}l(D.toISOString().split("T")[0]),u(R.toISOString().split("T")[0])};C.useEffect(()=>{t(un()),t(ln()),t(Pr())},[t]),C.useEffect(()=>{if(j){const M=j.reduce((W,V)=>{if(V.variantCombinations&&V.variantCombinations.length>0){const $=V.variantCombinations.reduce((I,ie)=>{const B=ie&&ie.price?ie.price:V.price||0;return I+(B||0)},0);return W+$}const Y=V.price||0;return W+(Y||0)},0),T=W=>{if(!W)return null;const V=new Date(W);if(isNaN(V))return null;const Y=V.getFullYear(),$=String(V.getMonth()+1).padStart(2,"0"),I=String(V.getDate()).padStart(2,"0");return`${Y}-${$}-${I}`},D=T(a),R=T(c),q=(S||[]).filter(W=>{if(!D&&!R)return!0;const V=T(W.createdAt);return V?D&&R?V>=D&&V<=R:D?V>=D:R?V<=R:!0:!1}),K=(q||[]).reduce((W,V)=>W+(V.totalPrice||0),0);n({products:j.length,categories:w?.length||0,totalValue:M.toFixed(2),orders:(q||[]).length,revenue:K.toFixed(2)})}},[j,w,S,a,c]);const E=({icon:M,label:T,value:D,trend:R,trendUp:q})=>s.jsx("div",{className:"rounded-lg shadow p-4 hover:shadow-md transition",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-semibold opacity-70",style:{color:"var(--color-text-light)"},children:T}),s.jsx("p",{className:"text-2xl font-bold mt-1.5",style:{color:"var(--color-accent-primary)"},children:D}),R&&s.jsxs("p",{className:"text-xs font-medium mt-1.5 flex items-center gap-1",style:{color:q?"#22c55e":"#dc2626"},children:[q?s.jsx(oT,{size:9}):s.jsx(aT,{size:9}),R]})]}),s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"var(--color-bg-section)"},children:s.jsx(M,{className:"text-lg",style:{color:"var(--color-accent-primary)"}})})]})});return s.jsxs(fs,{activeTab:"dashboard",children:[s.jsxs("div",{className:"p-6",style:{backgroundColor:"var(--color-bg-section)"},children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-1",style:{color:"var(--color-text-primary)"},children:"Dashboard"}),s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:"Welcome back! Here's your store overview."})]}),s.jsxs("div",{className:"mb-6 rounded-lg p-4 shadow",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsxs("button",{onClick:()=>h(!f),className:"text-sm font-semibold px-3 py-1.5 rounded",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},children:[" ",f?"Hide":"Show"," Date Filter"]}),f&&s.jsxs("div",{className:"flex gap-4 mt-4",children:[s.jsxs("div",{className:"w-48 border-r",style:{borderColor:"var(--color-border-light)"},children:[s.jsx("div",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"QUICK SELECT"}),s.jsx("div",{className:"space-y-1",children:N.map(M=>s.jsxs("button",{onClick:()=>A(M.value),className:"w-full text-left text-xs py-1.5 px-2 rounded transition",style:{backgroundColor:m===M.value?"var(--color-accent-primary)":"transparent",color:m===M.value?"white":"var(--color-text-primary)"},children:[m===M.value&&" ",M.label]},M.value))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex gap-4 mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"From"}),s.jsx("input",{type:"date",value:a,onChange:M=>l(M.target.value),className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"To"}),s.jsx("input",{type:"date",value:c,onChange:M=>u(M.target.value),className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("input",{type:"checkbox",id:"includeCurrent",className:"w-3 h-3",defaultChecked:!0}),s.jsx("label",{htmlFor:"includeCurrent",className:"text-xs",style:{color:"var(--color-text-light)"},children:"Include current period"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>{h(!1),l(""),u(""),g("")},className:"px-3 py-1 text-xs rounded font-semibold",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},children:"Cancel"}),s.jsx("button",{onClick:()=>h(!1),className:"px-3 py-1 text-xs rounded font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:"Apply"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsx(E,{icon:Pn,label:"Products",value:r.products,trend:"Active",trendUp:!0}),s.jsx(E,{icon:Bo,label:"Orders",value:r.orders,trend:"Total",trendUp:!1}),s.jsx(E,{icon:dT,label:"Revenue",value:`${r.revenue}`,trend:"Gross",trendUp:!0}),s.jsx(E,{icon:yx,label:"System",value:"Online",trend:"Active",trendUp:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-2 rounded-lg shadow p-5",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsx("h2",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{onClick:()=>e("/admin/products"),className:"text-white py-2.5 px-3 rounded text-xs font-semibold",style:{backgroundColor:"var(--color-accent-primary)"},children:" Products"}),s.jsx("button",{onClick:()=>e("/admin/orders"),className:"text-white py-2.5 px-3 rounded text-xs font-semibold",style:{backgroundColor:"var(--color-accent-primary)"},children:" Orders"}),s.jsx("button",{onClick:()=>e("/admin/categories"),className:"text-white py-2.5 px-3 rounded text-xs font-semibold",style:{backgroundColor:"var(--color-accent-primary)"},children:" Categories"}),s.jsx("button",{onClick:()=>e("/admin/analytics"),className:"text-white py-2.5 px-3 rounded text-xs font-semibold",style:{backgroundColor:"var(--color-accent-primary)"},children:" Analytics"})]})]}),s.jsxs("div",{className:"rounded-lg shadow p-5",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsx("h2",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Status"}),s.jsx("div",{className:"space-y-2",children:[{label:"Database",status:"Online",icon:""},{label:"API",status:"Online",icon:""},{label:"Backend",status:"Running",icon:""}].map((M,T)=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded text-xs",style:{backgroundColor:"var(--color-bg-section)"},children:[s.jsxs("span",{children:[M.icon," ",M.label]}),s.jsx("span",{className:"font-semibold",style:{color:"#22c55e"},children:""})]},T))})]})]})]})},yg="http://localhost:5000",rO=()=>{const e=qt(),t=Ar(),{products:r=[],loading:n}=At(M=>M.product),[a,l]=C.useState([]),[c,u]=C.useState("active"),[f,h]=C.useState("");C.useEffect(()=>{e(un())},[e]),C.useEffect(()=>{l(r||[])},[r]);const m=(r||[]).filter(M=>!M.isDraft).length,g=(r||[]).filter(M=>M.isDraft).length,b=(r||[]).length,y=(a||[]).filter(M=>{const T=c==="all"?!0:c==="active"?!M.isDraft:!!M.isDraft,D=f.trim()===""||M.name&&M.name.toLowerCase().includes(f.toLowerCase());return T&&D}),j=M=>{if(!M.variantCombinations||M.variantCombinations.length===0)return`${M.price?.toFixed(2)||"0.00"}`;const T=M.variantCombinations.map(R=>R.price||M.price);return`From ${Math.min(...T).toFixed(2)}`},w=M=>!M.variantCombinations||M.variantCombinations.length===0?M.stock||0:M.variantCombinations.reduce((T,D)=>T+(D.stock||0),0),S=M=>M.variantCombinations&&M.variantCombinations.length>0,N=async M=>{if(window.confirm("Are you sure you want to delete this product?"))try{const T=localStorage.getItem("token");if(!(await fetch(`${yg}/api/products/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${T}`}})).ok)throw new Error("Failed to delete product");he.success("Product deleted successfully"),e(un())}catch(T){he.error(T.message)}},A=async M=>{try{const T=localStorage.getItem("token"),D=a.find(K=>K._id===M);if(!D)return;const R=!D.isDraft;if(!(await fetch(`${yg}/api/products/${M}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({isDraft:R})})).ok)throw new Error("Failed to update product");he.success(R?"Moved to drafts":"Published successfully"),e(un())}catch(T){he.error(T.message)}},E=(M=null)=>{M&&M._id?t(`/admin/products/edit/${M._id}`):t("/admin/products/add")};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Product Management"}),s.jsxs("button",{onClick:()=>t("/admin/products/add"),className:"flex items-center gap-2 bg-gray-800 hover:bg-black text-white px-6 py-2 rounded-lg font-semibold transition duration-300",children:[s.jsx(Js,{})," Add Product"]})]}),s.jsxs("div",{className:"mb-6 flex items-center gap-4 justify-between flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg font-semibold ${c==="all"?"bg-gray-800 text-white":"bg-gray-100 text-gray-700"}`,children:["All (",b,")"]}),s.jsxs("button",{onClick:()=>u("active"),className:`px-4 py-2 rounded-lg font-semibold ${c==="active"?"bg-gray-800 text-white":"bg-gray-100 text-gray-700"}`,children:["Active (",m,")"]}),s.jsxs("button",{onClick:()=>u("draft"),className:`px-4 py-2 rounded-lg font-semibold ${c==="draft"?"bg-gray-800 text-white":"bg-gray-100 text-gray-700"}`,children:["Drafts (",g,")"]})]}),s.jsxs("div",{className:"relative w-80",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:s.jsx(Ba,{className:"text-sm"})}),s.jsx("input",{type:"text",placeholder:"Search products by name...",value:f,onChange:M=>h(M.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent outline-none transition"}),f&&s.jsx("button",{onClick:()=>h(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition","aria-label":"Clear search",children:s.jsx(Wt,{className:"text-sm"})})]})]}),y.some(M=>M.selected)&&s.jsxs("div",{className:"mb-6 bg-gray-100 border border-gray-300 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[y.filter(M=>M.selected).length," product(s) selected"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>{y.filter(T=>T.selected).map(T=>T._id).forEach(T=>A(T))},className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg text-sm font-semibold transition",children:c==="active"?"Move to Draft":"Publish"}),s.jsx("button",{onClick:()=>{const M=y.filter(T=>T.selected).map(T=>T._id);window.confirm(`Delete ${M.length} product(s)? This cannot be undone.`)&&M.forEach(T=>N(T))},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-semibold transition",children:"Delete Selected"}),s.jsx("button",{onClick:()=>l(a.map(M=>({...M,selected:!1}))),className:"px-4 py-2 bg-gray-300 hover:bg-black text-gray-900 rounded-lg text-sm font-semibold transition",children:"Clear Selection"})]})]}),n&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Qs,{className:"text-4xl text-gray-700 animate-spin"})}),!n&&s.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-100 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-center w-10",children:s.jsx("input",{type:"checkbox",checked:a.length>0&&a.every(M=>M.selected),onChange:M=>l(a.map(T=>({...T,selected:M.target.checked}))),className:"w-4 h-4 cursor-pointer"})}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y",children:y&&y.length>0?y.map(M=>{const T=M.images&&M.images.length>0?M.images[0]:M.image||"",D=T?T.startsWith("http")?T:`${yg}${T}`:null;return s.jsxs("tr",{className:"hover:bg-gray-50 transition duration-300",children:[s.jsx("td",{className:"px-4 py-4 text-center",children:s.jsx("input",{type:"checkbox",checked:M.selected||!1,onChange:R=>l(a.map(q=>q._id===M._id?{...q,selected:R.target.checked}:q)),className:"w-4 h-4 cursor-pointer"})}),s.jsx("td",{className:"px-6 py-4 w-96 text-sm text-gray-900 font-semibold",children:s.jsxs("div",{className:"flex items-center",children:[D?s.jsx("img",{src:D,alt:M.name,loading:"lazy",className:"w-12 h-12 rounded-md object-cover mr-4",onError:R=>{R.target.onerror=null,R.target.style.display="none"}}):s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-md mr-4 flex items-center justify-center text-sm text-gray-400",children:""}),s.jsxs("div",{className:" w-64 flex items-center gap-2",children:[s.jsx("span",{className:"",children:M.name}),M.isDraft&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Draft"}),!M.isDraft&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-gray-100 text-gray-800",children:"Active"})]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-700 font-bold",children:j(M)}),S(M)&&s.jsxs("div",{className:"text-xs text-gray-900 mt-1",children:[M.variantCombinations.length," variants"]})]})}),s.jsxs("td",{className:"px-6 text-sm py-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${w(M)>0?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:w(M)}),S(M)&&s.jsx("span",{className:"text-xs ml-3 text-gray-900 mt-1",children:"Total stock"})]}),s.jsxs("td",{className:"px-6 py-4 text-center space-x-3",children:[s.jsx("button",{onClick:()=>E(M),className:"text-gray-700 hover:text-gray-800 transition",children:s.jsx(vh,{})}),s.jsx("button",{onClick:()=>N(M._id),className:"text-red-600 hover:text-red-800 transition",children:s.jsx(Fs,{})})]})]},M._id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-600",children:"No products found"})})})]})})]})},nO=()=>s.jsx(fs,{activeTab:"products",children:s.jsx(rO,{})});var vg={exports:{}},jg={};var y4;function sO(){if(y4)return jg;y4=1;var e=ei();function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,b){var y=b(),j=n({inst:{value:y,getSnapshot:b}}),w=j[0].inst,S=j[1];return l(function(){w.value=y,w.getSnapshot=b,f(w)&&S({inst:w})},[g,y,b]),a(function(){return f(w)&&S({inst:w}),g(function(){f(w)&&S({inst:w})})},[g]),c(y),y}function f(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!r(g,y)}catch{return!0}}function h(g,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return jg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,jg}var v4;function F6(){return v4||(v4=1,vg.exports=sO()),vg.exports}var q6=F6();function Sr(e){this.content=e}Sr.prototype={constructor:Sr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,r){var n=r&&r!=e?this.remove(r):this,a=n.find(e),l=n.content.slice();return a==-1?l.push(r||e,t):(l[a+1]=t,r&&(l[a]=r)),new Sr(l)},remove:function(e){var t=this.find(e);if(t==-1)return this;var r=this.content.slice();return r.splice(t,2),new Sr(r)},addToStart:function(e,t){return new Sr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new Sr(r)},addBefore:function(e,t,r){var n=this.remove(t),a=n.content.slice(),l=n.find(e);return a.splice(l==-1?a.length:l,0,t,r),new Sr(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Sr.from(e),e.size?new Sr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Sr.from(e),e.size?new Sr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Sr.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},toObject:function(){var e={};return this.forEach(function(t,r){e[t]=r}),e},get size(){return this.content.length>>1}};Sr.from=function(e){if(e instanceof Sr)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new Sr(t)};function W6(e,t,r){for(let n=0;;n++){if(n==e.childCount||n==t.childCount)return e.childCount==t.childCount?null:r;let a=e.child(n),l=t.child(n);if(a==l){r+=a.nodeSize;continue}if(!a.sameMarkup(l))return r;if(a.isText&&a.text!=l.text){for(let c=0;a.text[c]==l.text[c];c++)r++;return r}if(a.content.size||l.content.size){let c=W6(a.content,l.content,r+1);if(c!=null)return c}r+=a.nodeSize}}function G6(e,t,r,n){for(let a=e.childCount,l=t.childCount;;){if(a==0||l==0)return a==l?null:{a:r,b:n};let c=e.child(--a),u=t.child(--l),f=c.nodeSize;if(c==u){r-=f,n-=f;continue}if(!c.sameMarkup(u))return{a:r,b:n};if(c.isText&&c.text!=u.text){let h=0,m=Math.min(c.text.length,u.text.length);for(;h<m&&c.text[c.text.length-h-1]==u.text[u.text.length-h-1];)h++,r--,n--;return{a:r,b:n}}if(c.content.size||u.content.size){let h=G6(c.content,u.content,r-1,n-1);if(h)return h}r-=f,n-=f}}class Ee{constructor(t,r){if(this.content=t,this.size=r||0,r==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,r,n,a=0,l){for(let c=0,u=0;u<r;c++){let f=this.content[c],h=u+f.nodeSize;if(h>t&&n(f,a+u,l||null,c)!==!1&&f.content.size){let m=u+1;f.nodesBetween(Math.max(0,t-m),Math.min(f.content.size,r-m),n,a+m)}u=h}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,r,n,a){let l="",c=!0;return this.nodesBetween(t,r,(u,f)=>{let h=u.isText?u.text.slice(Math.max(t,f)-f,r-f):u.isLeaf?a?typeof a=="function"?a(u):a:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&n&&(c?c=!1:l+=n),l+=h},0),l}append(t){if(!t.size)return this;if(!this.size)return t;let r=this.lastChild,n=t.firstChild,a=this.content.slice(),l=0;for(r.isText&&r.sameMarkup(n)&&(a[a.length-1]=r.withText(r.text+n.text),l=1);l<t.content.length;l++)a.push(t.content[l]);return new Ee(a,this.size+t.size)}cut(t,r=this.size){if(t==0&&r==this.size)return this;let n=[],a=0;if(r>t)for(let l=0,c=0;c<r;l++){let u=this.content[l],f=c+u.nodeSize;f>t&&((c<t||f>r)&&(u.isText?u=u.cut(Math.max(0,t-c),Math.min(u.text.length,r-c)):u=u.cut(Math.max(0,t-c-1),Math.min(u.content.size,r-c-1))),n.push(u),a+=u.nodeSize),c=f}return new Ee(n,a)}cutByIndex(t,r){return t==r?Ee.empty:t==0&&r==this.content.length?this:new Ee(this.content.slice(t,r))}replaceChild(t,r){let n=this.content[t];if(n==r)return this;let a=this.content.slice(),l=this.size+r.nodeSize-n.nodeSize;return a[t]=r,new Ee(a,l)}addToStart(t){return new Ee([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Ee(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r}maybeChild(t){return this.content[t]||null}forEach(t){for(let r=0,n=0;r<this.content.length;r++){let a=this.content[r];t(a,n,r),n+=a.nodeSize}}findDiffStart(t,r=0){return W6(this,t,r)}findDiffEnd(t,r=this.size,n=t.size){return G6(this,t,r,n)}findIndex(t){if(t==0)return Cu(0,t);if(t==this.size)return Cu(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let a=this.child(r),l=n+a.nodeSize;if(l>=t)return l==t?Cu(r+1,l):Cu(r,n);n=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,r){if(!r)return Ee.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ee(r.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Ee.empty;let r,n=0;for(let a=0;a<t.length;a++){let l=t[a];n+=l.nodeSize,a&&l.isText&&t[a-1].sameMarkup(l)?(r||(r=t.slice(0,a)),r[r.length-1]=l.withText(r[r.length-1].text+l.text)):r&&r.push(l)}return new Ee(r||t,n)}static from(t){if(!t)return Ee.empty;if(t instanceof Ee)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ee([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ee.empty=new Ee([],0);const Ng={index:0,offset:0};function Cu(e,t){return Ng.index=e,Ng.offset=t,Ng}function gf(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let r=Array.isArray(e);if(Array.isArray(t)!=r)return!1;if(r){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!gf(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!gf(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let It=class wx{constructor(t,r){this.type=t,this.attrs=r}addToSet(t){let r,n=!1;for(let a=0;a<t.length;a++){let l=t[a];if(this.eq(l))return t;if(this.type.excludes(l.type))r||(r=t.slice(0,a));else{if(l.type.excludes(this.type))return t;!n&&l.type.rank>this.type.rank&&(r||(r=t.slice(0,a)),r.push(this),n=!0),r&&r.push(l)}}return r||(r=t.slice()),n||r.push(this),r}removeFromSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t}isInSet(t){for(let r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1}eq(t){return this==t||this.type==t.type&&gf(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let a=n.create(r.attrs);return n.checkAttrs(a.attrs),a}static sameSet(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(r[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return wx.none;if(t instanceof wx)return[t];let r=t.slice();return r.sort((n,a)=>n.type.rank-a.type.rank),r}};It.none=[];class xf extends Error{}class He{constructor(t,r,n){this.content=t,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,r){let n=Y6(this.content,t+this.openStart,r);return n&&new He(n,this.openStart,this.openEnd)}removeBetween(t,r){return new He(K6(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,r){if(!r)return He.empty;let n=r.openStart||0,a=r.openEnd||0;if(typeof n!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new He(Ee.fromJSON(t,r.content),n,a)}static maxOpen(t,r=!0){let n=0,a=0;for(let l=t.firstChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.firstChild)n++;for(let l=t.lastChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.lastChild)a++;return new He(t,n,a)}}He.empty=new He(Ee.empty,0,0);function K6(e,t,r){let{index:n,offset:a}=e.findIndex(t),l=e.maybeChild(n),{index:c,offset:u}=e.findIndex(r);if(a==t||l.isText){if(u!=r&&!e.child(c).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(r))}if(n!=c)throw new RangeError("Removing non-flat range");return e.replaceChild(n,l.copy(K6(l.content,t-a-1,r-a-1)))}function Y6(e,t,r,n){let{index:a,offset:l}=e.findIndex(t),c=e.maybeChild(a);if(l==t||c.isText)return n&&!n.canReplace(a,a,r)?null:e.cut(0,t).append(r).append(e.cut(t));let u=Y6(c.content,t-l-1,r,c);return u&&e.replaceChild(a,c.copy(u))}function aO(e,t,r){if(r.openStart>e.depth)throw new xf("Inserted content deeper than insertion position");if(e.depth-r.openStart!=t.depth-r.openEnd)throw new xf("Inconsistent open depths");return J6(e,t,r,0)}function J6(e,t,r,n){let a=e.index(n),l=e.node(n);if(a==t.index(n)&&n<e.depth-r.openStart){let c=J6(e,t,r,n+1);return l.copy(l.content.replaceChild(a,c))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&e.depth==n&&t.depth==n){let c=e.parent,u=c.content;return Oo(c,u.cut(0,e.parentOffset).append(r.content).append(u.cut(t.parentOffset)))}else{let{start:c,end:u}=oO(r,e);return Oo(l,X6(e,c,u,t,n))}else return Oo(l,bf(e,t,n))}function Q6(e,t){if(!t.type.compatibleContent(e.type))throw new xf("Cannot join "+t.type.name+" onto "+e.type.name)}function Sx(e,t,r){let n=e.node(r);return Q6(n,t.node(r)),n}function Mo(e,t){let r=t.length-1;r>=0&&e.isText&&e.sameMarkup(t[r])?t[r]=e.withText(t[r].text+e.text):t.push(e)}function pc(e,t,r,n){let a=(t||e).node(r),l=0,c=t?t.index(r):a.childCount;e&&(l=e.index(r),e.depth>r?l++:e.textOffset&&(Mo(e.nodeAfter,n),l++));for(let u=l;u<c;u++)Mo(a.child(u),n);t&&t.depth==r&&t.textOffset&&Mo(t.nodeBefore,n)}function Oo(e,t){return e.type.checkContent(t),e.copy(t)}function X6(e,t,r,n,a){let l=e.depth>a&&Sx(e,t,a+1),c=n.depth>a&&Sx(r,n,a+1),u=[];return pc(null,e,a,u),l&&c&&t.index(a)==r.index(a)?(Q6(l,c),Mo(Oo(l,X6(e,t,r,n,a+1)),u)):(l&&Mo(Oo(l,bf(e,t,a+1)),u),pc(t,r,a,u),c&&Mo(Oo(c,bf(r,n,a+1)),u)),pc(n,null,a,u),new Ee(u)}function bf(e,t,r){let n=[];if(pc(null,e,r,n),e.depth>r){let a=Sx(e,t,r+1);Mo(Oo(a,bf(e,t,r+1)),n)}return pc(t,null,r,n),new Ee(n)}function oO(e,t){let r=t.depth-e.openStart,a=t.node(r).copy(e.content);for(let l=r-1;l>=0;l--)a=t.node(l).copy(Ee.from(a));return{start:a.resolveNoCache(e.openStart+r),end:a.resolveNoCache(a.content.size-e.openEnd-r)}}class Rc{constructor(t,r,n){this.pos=t,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,r=this.index(this.depth);if(r==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],a=t.child(r);return n?t.child(r).cut(n):a}get nodeBefore(){let t=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(t).cut(0,r):t==0?null:this.parent.child(t-1)}posAtIndex(t,r){r=this.resolveDepth(r);let n=this.path[r*3],a=r==0?0:this.path[r*3-1]+1;for(let l=0;l<t;l++)a+=n.child(l).nodeSize;return a}marks(){let t=this.parent,r=this.index();if(t.content.size==0)return It.none;if(this.textOffset)return t.child(r).marks;let n=t.maybeChild(r-1),a=t.maybeChild(r);if(!n){let u=n;n=a,a=u}let l=n.marks;for(var c=0;c<l.length;c++)l[c].type.spec.inclusive===!1&&(!a||!l[c].isInSet(a.marks))&&(l=l[c--].removeFromSet(l));return l}marksAcross(t){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,a=t.parent.maybeChild(t.index());for(var l=0;l<n.length;l++)n[l].type.spec.inclusive===!1&&(!a||!n[l].isInSet(a.marks))&&(n=n[l--].removeFromSet(n));return n}sharedDepth(t){for(let r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0}blockRange(t=this,r){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!r||r(this.node(n))))return new yf(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset}static resolve(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");let n=[],a=0,l=r;for(let c=t;;){let{index:u,offset:f}=c.content.findIndex(l),h=l-f;if(n.push(c,u,a+f),!h||(c=c.child(u),c.isText))break;l=h-1,a+=f+1}return new Rc(r,n,l)}static resolveCached(t,r){let n=j4.get(t);if(n)for(let l=0;l<n.elts.length;l++){let c=n.elts[l];if(c.pos==r)return c}else j4.set(t,n=new lO);let a=n.elts[n.i]=Rc.resolve(t,r);return n.i=(n.i+1)%iO,a}}class lO{constructor(){this.elts=[],this.i=0}}const iO=12,j4=new WeakMap;class yf{constructor(t,r,n){this.$from=t,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const cO=Object.create(null);class Jn{constructor(t,r,n,a=It.none){this.type=t,this.attrs=r,this.marks=a,this.content=n||Ee.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,r,n,a=0){this.content.nodesBetween(t,r,n,a,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,r,n,a){return this.content.textBetween(t,r,n,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,r,n){return this.type==t&&gf(this.attrs,r||t.defaultAttrs||cO)&&It.sameSet(this.marks,n||It.none)}copy(t=null){return t==this.content?this:new Jn(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Jn(this.type,this.attrs,this.content,t)}cut(t,r=this.content.size){return t==0&&r==this.content.size?this:this.copy(this.content.cut(t,r))}slice(t,r=this.content.size,n=!1){if(t==r)return He.empty;let a=this.resolve(t),l=this.resolve(r),c=n?0:a.sharedDepth(r),u=a.start(c),h=a.node(c).content.cut(a.pos-u,l.pos-u);return new He(h,a.depth-c,l.depth-c)}replace(t,r,n){return aO(this.resolve(t),this.resolve(r),n)}nodeAt(t){for(let r=this;;){let{index:n,offset:a}=r.content.findIndex(t);if(r=r.maybeChild(n),!r)return null;if(a==t||r.isText)return r;t-=a+1}}childAfter(t){let{index:r,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(r),index:r,offset:n};let a=this.content.child(r-1);return{node:a,index:r-1,offset:n-a.nodeSize}}resolve(t){return Rc.resolveCached(this,t)}resolveNoCache(t){return Rc.resolve(this,t)}rangeHasMark(t,r,n){let a=!1;return r>t&&this.nodesBetween(t,r,l=>(n.isInSet(l.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Z6(this.marks,t)}contentMatchAt(t){let r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(t,r,n=Ee.empty,a=0,l=n.childCount){let c=this.contentMatchAt(t).matchFragment(n,a,l),u=c&&c.matchFragment(this.content,r);if(!u||!u.validEnd)return!1;for(let f=a;f<l;f++)if(!this.type.allowsMarks(n.child(f).marks))return!1;return!0}canReplaceWith(t,r,n,a){if(a&&!this.type.allowsMarks(a))return!1;let l=this.contentMatchAt(t).matchType(n),c=l&&l.matchFragment(this.content,r);return c?c.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=It.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!It.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let t={type:this.type.name};for(let r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(r=>r.toJSON())),t}static fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(t.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(r.text,n)}let a=Ee.fromJSON(t,r.content),l=t.nodeType(r.type).create(r.attrs,a,n);return l.type.checkAttrs(l.attrs),l}}Jn.prototype.text=void 0;class vf extends Jn{constructor(t,r,n,a){if(super(t,r,null,a),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Z6(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,r){return this.text.slice(t,r)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new vf(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new vf(this.type,this.attrs,t,this.marks)}cut(t=0,r=this.text.length){return t==0&&r==this.text.length?this:this.withText(this.text.slice(t,r))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Z6(e,t){for(let r=e.length-1;r>=0;r--)t=e[r].type.name+"("+t+")";return t}class Po{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,r){let n=new dO(t,r);if(n.next==null)return Po.empty;let a=eN(n);n.next&&n.err("Unexpected trailing text");let l=xO(gO(a));return bO(l,n),l}matchType(t){for(let r=0;r<this.next.length;r++)if(this.next[r].type==t)return this.next[r].next;return null}matchFragment(t,r=0,n=t.childCount){let a=this;for(let l=r;a&&l<n;l++)a=a.matchType(t.child(l).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:r}=this.next[t];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(t){for(let r=0;r<this.next.length;r++)for(let n=0;n<t.next.length;n++)if(this.next[r].type==t.next[n].type)return!0;return!1}fillBefore(t,r=!1,n=0){let a=[this];function l(c,u){let f=c.matchFragment(t,n);if(f&&(!r||f.validEnd))return Ee.from(u.map(h=>h.createAndFill()));for(let h=0;h<c.next.length;h++){let{type:m,next:g}=c.next[h];if(!(m.isText||m.hasRequiredAttrs())&&a.indexOf(g)==-1){a.push(g);let b=l(g,u.concat(m));if(b)return b}}return null}return l(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let r=this.computeWrapping(t);return this.wrapCache.push(t,r),r}computeWrapping(t){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let a=n.shift(),l=a.match;if(l.matchType(t)){let c=[];for(let u=a;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<l.next.length;c++){let{type:u,next:f}=l.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in r)&&(!a.type||f.validEnd)&&(n.push({match:u.contentMatch,type:u,via:a}),r[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function r(n){t.push(n);for(let a=0;a<n.next.length;a++)t.indexOf(n.next[a].next)==-1&&r(n.next[a].next)}return r(this),t.map((n,a)=>{let l=a+(n.validEnd?"*":" ")+" ";for(let c=0;c<n.next.length;c++)l+=(c?", ":"")+n.next[c].type.name+"->"+t.indexOf(n.next[c].next);return l}).join(`
`)}}Po.empty=new Po(!0);class dO{constructor(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function eN(e){let t=[];do t.push(uO(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function uO(e){let t=[];do t.push(fO(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function fO(e){let t=mO(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=hO(e,t);else break;return t}function N4(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function hO(e,t){let r=N4(e),n=r;return e.eat(",")&&(e.next!="}"?n=N4(e):n=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:t}}function pO(e,t){let r=e.nodeTypes,n=r[t];if(n)return[n];let a=[];for(let l in r){let c=r[l];c.isInGroup(t)&&a.push(c)}return a.length==0&&e.err("No node type or group '"+t+"' found"),a}function mO(e){if(e.eat("(")){let t=eN(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=pO(e,e.next).map(r=>(e.inline==null?e.inline=r.isInline:e.inline!=r.isInline&&e.err("Mixing inline and block content"),{type:"name",value:r}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function gO(e){let t=[[]];return a(l(e,0),r()),t;function r(){return t.push([])-1}function n(c,u,f){let h={term:f,to:u};return t[c].push(h),h}function a(c,u){c.forEach(f=>f.to=u)}function l(c,u){if(c.type=="choice")return c.exprs.reduce((f,h)=>f.concat(l(h,u)),[]);if(c.type=="seq")for(let f=0;;f++){let h=l(c.exprs[f],u);if(f==c.exprs.length-1)return h;a(h,u=r())}else if(c.type=="star"){let f=r();return n(u,f),a(l(c.expr,f),f),[n(f)]}else if(c.type=="plus"){let f=r();return a(l(c.expr,u),f),a(l(c.expr,f),f),[n(f)]}else{if(c.type=="opt")return[n(u)].concat(l(c.expr,u));if(c.type=="range"){let f=u;for(let h=0;h<c.min;h++){let m=r();a(l(c.expr,f),m),f=m}if(c.max==-1)a(l(c.expr,f),f);else for(let h=c.min;h<c.max;h++){let m=r();n(f,m),a(l(c.expr,f),m),f=m}return[n(f)]}else{if(c.type=="name")return[n(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function tN(e,t){return t-e}function w4(e,t){let r=[];return n(t),r.sort(tN);function n(a){let l=e[a];if(l.length==1&&!l[0].term)return n(l[0].to);r.push(a);for(let c=0;c<l.length;c++){let{term:u,to:f}=l[c];!u&&r.indexOf(f)==-1&&n(f)}}}function xO(e){let t=Object.create(null);return r(w4(e,0));function r(n){let a=[];n.forEach(c=>{e[c].forEach(({term:u,to:f})=>{if(!u)return;let h;for(let m=0;m<a.length;m++)a[m][0]==u&&(h=a[m][1]);w4(e,f).forEach(m=>{h||a.push([u,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let l=t[n.join(",")]=new Po(n.indexOf(e.length-1)>-1);for(let c=0;c<a.length;c++){let u=a[c][1].sort(tN);l.next.push({type:a[c][0],next:t[u.join(",")]||r(u)})}return l}}function bO(e,t){for(let r=0,n=[e];r<n.length;r++){let a=n[r],l=!a.validEnd,c=[];for(let u=0;u<a.next.length;u++){let{type:f,next:h}=a.next[u];c.push(f.name),l&&!(f.isText||f.hasRequiredAttrs())&&(l=!1),n.indexOf(h)==-1&&n.push(h)}l&&t.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function rN(e){let t=Object.create(null);for(let r in e){let n=e[r];if(!n.hasDefault)return null;t[r]=n.default}return t}function nN(e,t){let r=Object.create(null);for(let n in e){let a=t&&t[n];if(a===void 0){let l=e[n];if(l.hasDefault)a=l.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=a}return r}function sN(e,t,r,n){for(let a in t)if(!(a in e))throw new RangeError(`Unsupported attribute ${a} for ${r} of type ${a}`);for(let a in e){let l=e[a];l.validate&&l.validate(t[a])}}function aN(e,t){let r=Object.create(null);if(t)for(let n in t)r[n]=new vO(e,n,t[n]);return r}let S4=class oN{constructor(t,r,n){this.name=t,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=aN(t,n.attrs),this.defaultAttrs=rN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Po.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:nN(this.attrs,t)}create(t=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Jn(this,this.computeAttrs(t),Ee.from(r),It.setFrom(n))}createChecked(t=null,r,n){return r=Ee.from(r),this.checkContent(r),new Jn(this,this.computeAttrs(t),r,It.setFrom(n))}createAndFill(t=null,r,n){if(t=this.computeAttrs(t),r=Ee.from(r),r.size){let c=this.contentMatch.fillBefore(r);if(!c)return null;r=c.append(r)}let a=this.contentMatch.matchFragment(r),l=a&&a.fillBefore(Ee.empty,!0);return l?new Jn(this,t,r.append(l),It.setFrom(n)):null}validContent(t){let r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){sN(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let r;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?r&&r.push(t[n]):r||(r=t.slice(0,n));return r?r.length?r:It.none:t}static compile(t,r){let n=Object.create(null);t.forEach((l,c)=>n[l]=new oN(l,r,c));let a=r.spec.topNode||"doc";if(!n[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let l in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function yO(e,t,r){let n=r.split("|");return a=>{let l=a===null?"null":typeof a;if(n.indexOf(l)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${e}, got ${l}`)}}class vO{constructor(t,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?yO(t,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class wh{constructor(t,r,n,a){this.name=t,this.rank=r,this.schema=n,this.spec=a,this.attrs=aN(t,a.attrs),this.excluded=null;let l=rN(this.attrs);this.instance=l?new It(this,l):null}create(t=null){return!t&&this.instance?this.instance:new It(this,nN(this.attrs,t))}static compile(t,r){let n=Object.create(null),a=0;return t.forEach((l,c)=>n[l]=new wh(l,a++,r,c)),n}removeFromSet(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t}isInSet(t){for(let r=0;r<t.length;r++)if(t[r].type==this)return t[r]}checkAttrs(t){sN(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class lN{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let a in t)r[a]=t[a];r.nodes=Sr.from(t.nodes),r.marks=Sr.from(t.marks||{}),this.nodes=S4.compile(this.spec.nodes,this),this.marks=wh.compile(this.spec.marks,this);let n=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let l=this.nodes[a],c=l.spec.content||"",u=l.spec.marks;if(l.contentMatch=n[c]||(n[c]=Po.parse(c,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=u=="_"?null:u?C4(this,u.split(" ")):u==""||!l.inlineContent?[]:null}for(let a in this.marks){let l=this.marks[a],c=l.spec.excludes;l.excluded=c==null?[l]:c==""?[]:C4(this,c.split(" "))}this.nodeFromJSON=a=>Jn.fromJSON(this,a),this.markFromJSON=a=>It.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,r=null,n,a){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof S4){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(r,n,a)}text(t,r){let n=this.nodes.text;return new vf(n,n.defaultAttrs,t,It.setFrom(r))}mark(t,r){return typeof t=="string"&&(t=this.marks[t]),t.create(r)}nodeType(t){let r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r}}function C4(e,t){let r=[];for(let n=0;n<t.length;n++){let a=t[n],l=e.marks[a],c=l;if(l)r.push(l);else for(let u in e.marks){let f=e.marks[u];(a=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(a)>-1)&&r.push(c=f)}if(!c)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return r}function jO(e){return e.tag!=null}function NO(e){return e.style!=null}class _a{constructor(t,r){this.schema=t,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(a=>{if(jO(a))this.tags.push(a);else if(NO(a)){let l=/[^=]*/.exec(a.style)[0];n.indexOf(l)<0&&n.push(l),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let l=t.nodes[a.node];return l.contentMatch.matchType(l)})}parse(t,r={}){let n=new E4(this,r,!1);return n.addAll(t,It.none,r.from,r.to),n.finish()}parseSlice(t,r={}){let n=new E4(this,r,!0);return n.addAll(t,It.none,r.from,r.to),He.maxOpen(n.finish())}matchTag(t,r,n){for(let a=n?this.tags.indexOf(n)+1:0;a<this.tags.length;a++){let l=this.tags[a];if(CO(t,l.tag)&&(l.namespace===void 0||t.namespaceURI==l.namespace)&&(!l.context||r.matchesContext(l.context))){if(l.getAttrs){let c=l.getAttrs(t);if(c===!1)continue;l.attrs=c||void 0}return l}}}matchStyle(t,r,n,a){for(let l=a?this.styles.indexOf(a)+1:0;l<this.styles.length;l++){let c=this.styles[l],u=c.style;if(!(u.indexOf(t)!=0||c.context&&!n.matchesContext(c.context)||u.length>t.length&&(u.charCodeAt(t.length)!=61||u.slice(t.length+1)!=r))){if(c.getAttrs){let f=c.getAttrs(r);if(f===!1)continue;c.attrs=f||void 0}return c}}}static schemaRules(t){let r=[];function n(a){let l=a.priority==null?50:a.priority,c=0;for(;c<r.length;c++){let u=r[c];if((u.priority==null?50:u.priority)<l)break}r.splice(c,0,a)}for(let a in t.marks){let l=t.marks[a].spec.parseDOM;l&&l.forEach(c=>{n(c=A4(c)),c.mark||c.ignore||c.clearMark||(c.mark=a)})}for(let a in t.nodes){let l=t.nodes[a].spec.parseDOM;l&&l.forEach(c=>{n(c=A4(c)),c.node||c.ignore||c.mark||(c.node=a)})}return r}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new _a(t,_a.schemaRules(t)))}}const iN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},wO={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},cN={ol:!0,ul:!0},Dc=1,Cx=2,mc=4;function k4(e,t,r){return t!=null?(t?Dc:0)|(t==="full"?Cx:0):e&&e.whitespace=="pre"?Dc|Cx:r&~mc}class ku{constructor(t,r,n,a,l,c){this.type=t,this.attrs=r,this.marks=n,this.solid=a,this.options=c,this.content=[],this.activeMarks=It.none,this.match=l||(c&mc?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Ee.from(t));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,a;return(a=n.findWrapping(t.type))?(this.match=n,a):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Dc)){let n=this.content[this.content.length-1],a;if(n&&n.isText&&(a=/[ \t\r\n\u000c]+$/.exec(n.text))){let l=n;n.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-a[0].length))}}let r=Ee.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(Ee.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!iN.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class E4{constructor(t,r,n){this.parser=t,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let a=r.topNode,l,c=k4(null,r.preserveWhitespace,0)|(n?mc:0);a?l=new ku(a.type,a.attrs,It.none,!0,r.topMatch||a.type.contentMatch,c):n?l=new ku(null,null,It.none,!0,null,c):l=new ku(t.schema.topNodeType,null,It.none,!0,null,c),this.nodes=[l],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,r){t.nodeType==3?this.addTextNode(t,r):t.nodeType==1&&this.addElement(t,r)}addTextNode(t,r){let n=t.nodeValue,a=this.top,l=a.options&Cx?"full":this.localPreserveWS||(a.options&Dc)>0,{schema:c}=this.parser;if(l==="full"||a.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(l)if(l==="full")n=n.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=n.split(/\r?\n|\r/);for(let f=0;f<u.length;f++)f&&this.insertNode(c.linebreakReplacement.create(),r,!0),u[f]&&this.insertNode(c.text(u[f]),r,!/\S/.test(u[f]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let u=a.content[a.content.length-1],f=t.previousSibling;(!u||f&&f.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(n=n.slice(1))}n&&this.insertNode(c.text(n),r,!/\S/.test(n)),this.findInText(t)}else this.findInside(t)}addElement(t,r,n){let a=this.localPreserveWS,l=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let c=t.nodeName.toLowerCase(),u;cN.hasOwnProperty(c)&&this.parser.normalizeLists&&SO(t);let f=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(u=this.parser.matchTag(t,this,n));e:if(f?f.ignore:wO.hasOwnProperty(c))this.findInside(t),this.ignoreFallback(t,r);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(t=f.skip);let h,m=this.needsBlock;if(iN.hasOwnProperty(c))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),h=!0,l.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,r);break e}let g=f&&f.skip?r:this.readStyles(t,r);g&&this.addAll(t,g),h&&this.sync(l),this.needsBlock=m}else{let h=this.readStyles(t,r);h&&this.addElementByRule(t,f,h,f.consuming===!1?u:void 0)}this.localPreserveWS=a}leafFallback(t,r){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),r)}ignoreFallback(t,r){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(t,r){let n=t.style;if(n&&n.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let l=this.parser.matchedStyles[a],c=n.getPropertyValue(l);if(c)for(let u=void 0;;){let f=this.parser.matchStyle(l,c,this,u);if(!f)break;if(f.ignore)return null;if(f.clearMark?r=r.filter(h=>!f.clearMark(h)):r=r.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)u=f;else break}}return r}addElementByRule(t,r,n,a){let l,c;if(r.node)if(c=this.parser.schema.nodes[r.node],c.isLeaf)this.insertNode(c.create(r.attrs),n,t.nodeName=="BR")||this.leafFallback(t,n);else{let f=this.enter(c,r.attrs||null,n,r.preserveWhitespace);f&&(l=!0,n=f)}else{let f=this.parser.schema.marks[r.mark];n=n.concat(f.create(r.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(t);else if(a)this.addElement(t,n,a);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(f=>this.insertNode(f,n,!1));else{let f=t;typeof r.contentElement=="string"?f=t.querySelector(r.contentElement):typeof r.contentElement=="function"?f=r.contentElement(t):r.contentElement&&(f=r.contentElement),this.findAround(t,f,!0),this.addAll(f,n),this.findAround(t,f,!1)}l&&this.sync(u)&&this.open--}addAll(t,r,n,a){let l=n||0;for(let c=n?t.childNodes[n]:t.firstChild,u=a==null?null:t.childNodes[a];c!=u;c=c.nextSibling,++l)this.findAtPoint(t,l),this.addDOM(c,r);this.findAtPoint(t,l)}findPlace(t,r,n){let a,l;for(let c=this.open,u=0;c>=0;c--){let f=this.nodes[c],h=f.findWrapping(t);if(h&&(!a||a.length>h.length+u)&&(a=h,l=f,!h.length))break;if(f.solid){if(n)break;u+=2}}if(!a)return null;this.sync(l);for(let c=0;c<a.length;c++)r=this.enterInner(a[c],null,r,!1);return r}insertNode(t,r,n){if(t.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(r=this.enterInner(l,null,r))}let a=this.findPlace(t,r,n);if(a){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(t.type));let c=It.none;for(let u of a.concat(t.marks))(l.type?l.type.allowsMarkType(u.type):T4(u.type,t.type))&&(c=u.addToSet(c));return l.content.push(t.mark(c)),!0}return!1}enter(t,r,n,a){let l=this.findPlace(t.create(r),n,!1);return l&&(l=this.enterInner(t,r,n,!0,a)),l}enterInner(t,r,n,a=!1,l){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(t);let u=k4(t,l,c.options);c.options&mc&&c.content.length==0&&(u|=mc);let f=It.none;return n=n.filter(h=>(c.type?c.type.allowsMarkType(h.type):T4(h.type,t))?(f=h.addToSet(f),!1):!0),this.nodes.push(new ku(t,r,f,a,null,u)),this.open++,n}closeExtra(t=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let r=this.open;r>=0;r--){if(this.nodes[r]==t)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Dc)}return!1}get currentPos(){this.closeExtra();let t=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let a=n.length-1;a>=0;a--)t+=n[a].nodeSize;r&&t++}return t}findAtPoint(t,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(t,r,n){if(t!=r&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&t.nodeType==1&&t.contains(this.find[a].node)&&r.compareDocumentPosition(this.find[a].node)&(n?2:4)&&(this.find[a].pos=this.currentPos)}findInText(t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let r=t.split("/"),n=this.options.context,a=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),l=-(n?n.depth+1:0)+(a?0:1),c=(u,f)=>{for(;u>=0;u--){let h=r[u];if(h==""){if(u==r.length-1||u==0)continue;for(;f>=l;f--)if(c(u-1,f))return!0;return!1}else{let m=f>0||f==0&&a?this.nodes[f].type:n&&f>=l?n.node(f-l).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;f--}}return!0};return c(r.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let r=t.depth;r>=0;r--){let n=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function SO(e){for(let t=e.firstChild,r=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&cN.hasOwnProperty(n)&&r?(r.appendChild(t),t=r):n=="li"?r=t:n&&(r=null)}}function CO(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function A4(e){let t={};for(let r in e)t[r]=e[r];return t}function T4(e,t){let r=t.schema.nodes;for(let n in r){let a=r[n];if(!a.allowsMarkType(e))continue;let l=[],c=u=>{l.push(u);for(let f=0;f<u.edgeCount;f++){let{type:h,next:m}=u.edge(f);if(h==t||l.indexOf(m)<0&&c(m))return!0}};if(c(a.contentMatch))return!0}}class qo{constructor(t,r){this.nodes=t,this.marks=r}serializeFragment(t,r={},n){n||(n=wg(r).createDocumentFragment());let a=n,l=[];return t.forEach(c=>{if(l.length||c.marks.length){let u=0,f=0;for(;u<l.length&&f<c.marks.length;){let h=c.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(l[u][0])||h.type.spec.spanning===!1)break;u++,f++}for(;u<l.length;)a=l.pop()[1];for(;f<c.marks.length;){let h=c.marks[f++],m=this.serializeMark(h,c.isInline,r);m&&(l.push([h,a]),a.appendChild(m.dom),a=m.contentDOM||m.dom)}}a.appendChild(this.serializeNodeInner(c,r))}),n}serializeNodeInner(t,r){let{dom:n,contentDOM:a}=Gu(wg(r),this.nodes[t.type.name](t),null,t.attrs);if(a){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,r,a)}return n}serializeNode(t,r={}){let n=this.serializeNodeInner(t,r);for(let a=t.marks.length-1;a>=0;a--){let l=this.serializeMark(t.marks[a],t.isInline,r);l&&((l.contentDOM||l.dom).appendChild(n),n=l.dom)}return n}serializeMark(t,r,n={}){let a=this.marks[t.type.name];return a&&Gu(wg(n),a(t,r),null,t.attrs)}static renderSpec(t,r,n=null,a){return Gu(t,r,n,a)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new qo(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let r=M4(t.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(t){return M4(t.marks)}}function M4(e){let t={};for(let r in e){let n=e[r].spec.toDOM;n&&(t[r]=n)}return t}function wg(e){return e.document||window.document}const O4=new WeakMap;function kO(e){let t=O4.get(e);return t===void 0&&O4.set(e,t=EO(e)),t}function EO(e){let t=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let a=0;a<n.length;a++)r(n[a]);else for(let a in n)r(n[a])}return r(e),t}function Gu(e,t,r,n){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let a=t[0],l;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(l=kO(n))&&l.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=a.indexOf(" ");c>0&&(r=a.slice(0,c),a=a.slice(c+1));let u,f=r?e.createElementNS(r,a):e.createElement(a),h=t[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let g in h)if(h[g]!=null){let b=g.indexOf(" ");b>0?f.setAttributeNS(g.slice(0,b),g.slice(b+1),h[g]):g=="style"&&f.style?f.style.cssText=h[g]:f.setAttribute(g,h[g])}}for(let g=m;g<t.length;g++){let b=t[g];if(b===0){if(g<t.length-1||g>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:y,contentDOM:j}=Gu(e,b,r,n);if(f.appendChild(y),j){if(u)throw new RangeError("Multiple content holes");u=j}}}return{dom:f,contentDOM:u}}const dN=65535,uN=Math.pow(2,16);function AO(e,t){return e+t*uN}function R4(e){return e&dN}function TO(e){return(e-(e&dN))/uN}const fN=1,hN=2,Ku=4,pN=8;class kx{constructor(t,r,n){this.pos=t,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&pN)>0}get deletedBefore(){return(this.delInfo&(fN|Ku))>0}get deletedAfter(){return(this.delInfo&(hN|Ku))>0}get deletedAcross(){return(this.delInfo&Ku)>0}}class cn{constructor(t,r=!1){if(this.ranges=t,this.inverted=r,!t.length&&cn.empty)return cn.empty}recover(t){let r=0,n=R4(t);if(!this.inverted)for(let a=0;a<n;a++)r+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[n*3]+r+TO(t)}mapResult(t,r=1){return this._map(t,r,!1)}map(t,r=1){return this._map(t,r,!0)}_map(t,r,n){let a=0,l=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?a:0);if(f>t)break;let h=this.ranges[u+l],m=this.ranges[u+c],g=f+h;if(t<=g){let b=h?t==f?-1:t==g?1:r:r,y=f+a+(b<0?0:m);if(n)return y;let j=t==(r<0?f:g)?null:AO(u/3,t-f),w=t==f?hN:t==g?fN:Ku;return(r<0?t!=f:t!=g)&&(w|=pN),new kx(y,w,j)}a+=m-h}return n?t+a:new kx(t+a,0,null)}touches(t,r){let n=0,a=R4(r),l=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?n:0);if(f>t)break;let h=this.ranges[u+l],m=f+h;if(t<=m&&u==a*3)return!0;n+=this.ranges[u+c]-h}return!1}forEach(t){let r=this.inverted?2:1,n=this.inverted?1:2;for(let a=0,l=0;a<this.ranges.length;a+=3){let c=this.ranges[a],u=c-(this.inverted?l:0),f=c+(this.inverted?0:l),h=this.ranges[a+r],m=this.ranges[a+n];t(u,u+h,f,f+m),l+=m-h}}invert(){return new cn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?cn.empty:new cn(t<0?[0,-t,0]:[0,0,t])}}cn.empty=new cn([]);class zc{constructor(t,r,n=0,a=t?t.length:0){this.mirror=r,this.from=n,this.to=a,this._maps=t||[],this.ownData=!(t||r)}get maps(){return this._maps}slice(t=0,r=this.maps.length){return new zc(this._maps,this.mirror,t,r)}appendMap(t,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(t){for(let r=0,n=this._maps.length;r<t._maps.length;r++){let a=t.getMirror(r);this.appendMap(t._maps[r],a!=null&&a<r?n+a:void 0)}}getMirror(t){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}}setMirror(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)}appendMappingInverted(t){for(let r=t.maps.length-1,n=this._maps.length+t._maps.length;r>=0;r--){let a=t.getMirror(r);this.appendMap(t._maps[r].invert(),a!=null&&a>r?n-a-1:void 0)}}invert(){let t=new zc;return t.appendMappingInverted(this),t}map(t,r=1){if(this.mirror)return this._map(t,r,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,r);return t}mapResult(t,r=1){return this._map(t,r,!1)}_map(t,r,n){let a=0;for(let l=this.from;l<this.to;l++){let c=this._maps[l],u=c.mapResult(t,r);if(u.recover!=null){let f=this.getMirror(l);if(f!=null&&f>l&&f<this.to){l=f,t=this._maps[f].recover(u.recover);continue}}a|=u.delInfo,t=u.pos}return n?t:new kx(t,a,null)}}const Sg=Object.create(null);class Br{getMap(){return cn.empty}merge(t){return null}static fromJSON(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Sg[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in Sg)throw new RangeError("Duplicate use of step JSON ID "+t);return Sg[t]=r,r.prototype.jsonID=t,r}}class lr{constructor(t,r){this.doc=t,this.failed=r}static ok(t){return new lr(t,null)}static fail(t){return new lr(null,t)}static fromReplace(t,r,n,a){try{return lr.ok(t.replace(r,n,a))}catch(l){if(l instanceof xf)return lr.fail(l.message);throw l}}}function O0(e,t,r){let n=[];for(let a=0;a<e.childCount;a++){let l=e.child(a);l.content.size&&(l=l.copy(O0(l.content,t,l))),l.isInline&&(l=t(l,r,a)),n.push(l)}return Ee.fromArray(n)}class Ra extends Br{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=t.resolve(this.from),a=n.node(n.sharedDepth(this.to)),l=new He(O0(r.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),a),r.openStart,r.openEnd);return lr.fromReplace(t,this.from,this.to,l)}invert(){return new Kn(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Ra(r.pos,n.pos,this.mark)}merge(t){return t instanceof Ra&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ra(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ra(r.from,r.to,t.markFromJSON(r.mark))}}Br.jsonID("addMark",Ra);class Kn extends Br{constructor(t,r,n){super(),this.from=t,this.to=r,this.mark=n}apply(t){let r=t.slice(this.from,this.to),n=new He(O0(r.content,a=>a.mark(this.mark.removeFromSet(a.marks)),t),r.openStart,r.openEnd);return lr.fromReplace(t,this.from,this.to,n)}invert(){return new Ra(this.from,this.to,this.mark)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Kn(r.pos,n.pos,this.mark)}merge(t){return t instanceof Kn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Kn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Kn(r.from,r.to,t.markFromJSON(r.mark))}}Br.jsonID("removeMark",Kn);class Da extends Br{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return lr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return lr.fromReplace(t,this.pos,this.pos+1,new He(Ee.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let a=0;a<r.marks.length;a++)if(!r.marks[a].isInSet(n))return new Da(this.pos,r.marks[a]);return new Da(this.pos,this.mark)}}return new Io(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Da(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Da(r.pos,t.markFromJSON(r.mark))}}Br.jsonID("addNodeMark",Da);class Io extends Br{constructor(t,r){super(),this.pos=t,this.mark=r}apply(t){let r=t.nodeAt(this.pos);if(!r)return lr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return lr.fromReplace(t,this.pos,this.pos+1,new He(Ee.from(n),0,r.isLeaf?0:1))}invert(t){let r=t.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Da(this.pos,this.mark)}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new Io(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Io(r.pos,t.markFromJSON(r.mark))}}Br.jsonID("removeNodeMark",Io);class mr extends Br{constructor(t,r,n,a=!1){super(),this.from=t,this.to=r,this.slice=n,this.structure=a}apply(t){return this.structure&&Ex(t,this.from,this.to)?lr.fail("Structure replace would overwrite content"):lr.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new cn([this.from,this.to-this.from,this.slice.size])}invert(t){return new mr(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new mr(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(t){if(!(t instanceof mr)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let r=this.slice.size+t.slice.size==0?He.empty:new He(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new mr(this.from,this.to+(t.to-t.from),r,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let r=this.slice.size+t.slice.size==0?He.empty:new He(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new mr(t.from,this.to,r,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new mr(r.from,r.to,He.fromJSON(t,r.slice),!!r.structure)}}Br.jsonID("replace",mr);class xr extends Br{constructor(t,r,n,a,l,c,u=!1){super(),this.from=t,this.to=r,this.gapFrom=n,this.gapTo=a,this.slice=l,this.insert=c,this.structure=u}apply(t){if(this.structure&&(Ex(t,this.from,this.gapFrom)||Ex(t,this.gapTo,this.to)))return lr.fail("Structure gap-replace would overwrite content");let r=t.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return lr.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?lr.fromReplace(t,this.from,this.to,n):lr.fail("Content does not fit in gap")}getMap(){return new cn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let r=this.gapTo-this.gapFrom;return new xr(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),a=this.from==this.gapFrom?r.pos:t.map(this.gapFrom,-1),l=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||a<r.pos||l>n.pos?null:new xr(r.pos,n.pos,a,l,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xr(r.from,r.to,r.gapFrom,r.gapTo,He.fromJSON(t,r.slice),r.insert,!!r.structure)}}Br.jsonID("replaceAround",xr);function Ex(e,t,r){let n=e.resolve(t),a=r-t,l=n.depth;for(;a>0&&l>0&&n.indexAfter(l)==n.node(l).childCount;)l--,a--;if(a>0){let c=n.node(l).maybeChild(n.indexAfter(l));for(;a>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,a--}}return!1}function MO(e,t,r,n){let a=[],l=[],c,u;e.doc.nodesBetween(t,r,(f,h,m)=>{if(!f.isInline)return;let g=f.marks;if(!n.isInSet(g)&&m.type.allowsMarkType(n.type)){let b=Math.max(h,t),y=Math.min(h+f.nodeSize,r),j=n.addToSet(g);for(let w=0;w<g.length;w++)g[w].isInSet(j)||(c&&c.to==b&&c.mark.eq(g[w])?c.to=y:a.push(c=new Kn(b,y,g[w])));u&&u.to==b?u.to=y:l.push(u=new Ra(b,y,n))}}),a.forEach(f=>e.step(f)),l.forEach(f=>e.step(f))}function OO(e,t,r,n){let a=[],l=0;e.doc.nodesBetween(t,r,(c,u)=>{if(!c.isInline)return;l++;let f=null;if(n instanceof wh){let h=c.marks,m;for(;m=n.isInSet(h);)(f||(f=[])).push(m),h=m.removeFromSet(h)}else n?n.isInSet(c.marks)&&(f=[n]):f=c.marks;if(f&&f.length){let h=Math.min(u+c.nodeSize,r);for(let m=0;m<f.length;m++){let g=f[m],b;for(let y=0;y<a.length;y++){let j=a[y];j.step==l-1&&g.eq(a[y].style)&&(b=j)}b?(b.to=h,b.step=l):a.push({style:g,from:Math.max(u,t),to:h,step:l})}}}),a.forEach(c=>e.step(new Kn(c.from,c.to,c.style)))}function R0(e,t,r,n=r.contentMatch,a=!0){let l=e.doc.nodeAt(t),c=[],u=t+1;for(let f=0;f<l.childCount;f++){let h=l.child(f),m=u+h.nodeSize,g=n.matchType(h.type);if(!g)c.push(new mr(u,m,He.empty));else{n=g;for(let b=0;b<h.marks.length;b++)r.allowsMarkType(h.marks[b].type)||e.step(new Kn(u,m,h.marks[b]));if(a&&h.isText&&r.whitespace!="pre"){let b,y=/\r?\n|\r/g,j;for(;b=y.exec(h.text);)j||(j=new He(Ee.from(r.schema.text(" ",r.allowedMarks(h.marks))),0,0)),c.push(new mr(u+b.index,u+b.index+b[0].length,j))}}u=m}if(!n.validEnd){let f=n.fillBefore(Ee.empty,!0);e.replace(u,u,new He(f,0,0))}for(let f=c.length-1;f>=0;f--)e.step(c[f])}function RO(e,t,r){return(t==0||e.canReplace(t,e.childCount))&&(r==e.childCount||e.canReplace(0,r))}function li(e){let r=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth,a=0,l=0;;--n){let c=e.$from.node(n),u=e.$from.index(n)+a,f=e.$to.indexAfter(n)-l;if(n<e.depth&&c.canReplace(u,f,r))return n;if(n==0||c.type.spec.isolating||!RO(c,u,f))break;u&&(a=1),f<c.childCount&&(l=1)}return null}function DO(e,t,r){let{$from:n,$to:a,depth:l}=t,c=n.before(l+1),u=a.after(l+1),f=c,h=u,m=Ee.empty,g=0;for(let j=l,w=!1;j>r;j--)w||n.index(j)>0?(w=!0,m=Ee.from(n.node(j).copy(m)),g++):f--;let b=Ee.empty,y=0;for(let j=l,w=!1;j>r;j--)w||a.after(j+1)<a.end(j)?(w=!0,b=Ee.from(a.node(j).copy(b)),y++):h++;e.step(new xr(f,h,c,u,new He(m.append(b),g,y),m.size-g,!0))}function D0(e,t,r=null,n=e){let a=zO(e,t),l=a&&LO(n,t);return l?a.map(D4).concat({type:t,attrs:r}).concat(l.map(D4)):null}function D4(e){return{type:e,attrs:null}}function zO(e,t){let{parent:r,startIndex:n,endIndex:a}=e,l=r.contentMatchAt(n).findWrapping(t);if(!l)return null;let c=l.length?l[0]:t;return r.canReplaceWith(n,a,c)?l:null}function LO(e,t){let{parent:r,startIndex:n,endIndex:a}=e,l=r.child(n),c=t.contentMatch.findWrapping(l.type);if(!c)return null;let f=(c.length?c[c.length-1]:t).contentMatch;for(let h=n;f&&h<a;h++)f=f.matchType(r.child(h).type);return!f||!f.validEnd?null:c}function BO(e,t,r){let n=Ee.empty;for(let c=r.length-1;c>=0;c--){if(n.size){let u=r[c].type.contentMatch.matchFragment(n);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Ee.from(r[c].type.create(r[c].attrs,n))}let a=t.start,l=t.end;e.step(new xr(a,l,a,l,new He(n,0,0),r.length,!0))}function _O(e,t,r,n,a){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=e.steps.length;e.doc.nodesBetween(t,r,(c,u)=>{let f=typeof a=="function"?a(c):a;if(c.isTextblock&&!c.hasMarkup(n,f)&&PO(e.doc,e.mapping.slice(l).map(u),n)){let h=null;if(n.schema.linebreakReplacement){let y=n.whitespace=="pre",j=!!n.contentMatch.matchType(n.schema.linebreakReplacement);y&&!j?h=!1:!y&&j&&(h=!0)}h===!1&&gN(e,c,u,l),R0(e,e.mapping.slice(l).map(u,1),n,void 0,h===null);let m=e.mapping.slice(l),g=m.map(u,1),b=m.map(u+c.nodeSize,1);return e.step(new xr(g,b,g+1,b-1,new He(Ee.from(n.create(f,null,c.marks)),0,0),1,!0)),h===!0&&mN(e,c,u,l),!1}})}function mN(e,t,r,n){t.forEach((a,l)=>{if(a.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(a.text);){let f=e.mapping.slice(n).map(r+1+l+c.index);e.replaceWith(f,f+1,t.type.schema.linebreakReplacement.create())}}})}function gN(e,t,r,n){t.forEach((a,l)=>{if(a.type==a.type.schema.linebreakReplacement){let c=e.mapping.slice(n).map(r+1+l);e.replaceWith(c,c+1,t.type.schema.text(`
`))}})}function PO(e,t,r){let n=e.resolve(t),a=n.index();return n.parent.canReplaceWith(a,a+1,r)}function IO(e,t,r,n,a){let l=e.doc.nodeAt(t);if(!l)throw new RangeError("No node at given position");r||(r=l.type);let c=r.create(n,null,a||l.marks);if(l.isLeaf)return e.replaceWith(t,t+l.nodeSize,c);if(!r.validContent(l.content))throw new RangeError("Invalid content for node type "+r.name);e.step(new xr(t,t+l.nodeSize,t+1,t+l.nodeSize-1,new He(Ee.from(c),0,0),1,!0))}function qs(e,t,r=1,n){let a=e.resolve(t),l=a.depth-r,c=n&&n[n.length-1]||a.parent;if(l<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!c.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let h=a.depth-1,m=r-2;h>l;h--,m--){let g=a.node(h),b=a.index(h);if(g.type.spec.isolating)return!1;let y=g.content.cutByIndex(b,g.childCount),j=n&&n[m+1];j&&(y=y.replaceChild(0,j.type.create(j.attrs)));let w=n&&n[m]||g;if(!g.canReplace(b+1,g.childCount)||!w.type.validContent(y))return!1}let u=a.indexAfter(l),f=n&&n[0];return a.node(l).canReplaceWith(u,u,f?f.type:a.node(l+1).type)}function HO(e,t,r=1,n){let a=e.doc.resolve(t),l=Ee.empty,c=Ee.empty;for(let u=a.depth,f=a.depth-r,h=r-1;u>f;u--,h--){l=Ee.from(a.node(u).copy(l));let m=n&&n[h];c=Ee.from(m?m.type.create(m.attrs,c):a.node(u).copy(c))}e.step(new mr(t,t,new He(l.append(c),r,r),!0))}function Ka(e,t){let r=e.resolve(t),n=r.index();return xN(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function $O(e,t){t.content.size||e.type.compatibleContent(t.type);let r=e.contentMatchAt(e.childCount),{linebreakReplacement:n}=e.type.schema;for(let a=0;a<t.childCount;a++){let l=t.child(a),c=l.type==n?e.type.schema.nodes.text:l.type;if(r=r.matchType(c),!r||!e.type.allowsMarks(l.marks))return!1}return r.validEnd}function xN(e,t){return!!(e&&t&&!e.isLeaf&&$O(e,t))}function Sh(e,t,r=-1){let n=e.resolve(t);for(let a=n.depth;;a--){let l,c,u=n.index(a);if(a==n.depth?(l=n.nodeBefore,c=n.nodeAfter):r>0?(l=n.node(a+1),u++,c=n.node(a).maybeChild(u)):(l=n.node(a).maybeChild(u-1),c=n.node(a+1)),l&&!l.isTextblock&&xN(l,c)&&n.node(a).canReplace(u,u+1))return t;if(a==0)break;t=r<0?n.before(a):n.after(a)}}function VO(e,t,r){let n=null,{linebreakReplacement:a}=e.doc.type.schema,l=e.doc.resolve(t-r),c=l.node().type;if(a&&c.inlineContent){let m=c.whitespace=="pre",g=!!c.contentMatch.matchType(a);m&&!g?n=!1:!m&&g&&(n=!0)}let u=e.steps.length;if(n===!1){let m=e.doc.resolve(t+r);gN(e,m.node(),m.before(),u)}c.inlineContent&&R0(e,t+r-1,c,l.node().contentMatchAt(l.index()),n==null);let f=e.mapping.slice(u),h=f.map(t-r);if(e.step(new mr(h,f.map(t+r,-1),He.empty,!0)),n===!0){let m=e.doc.resolve(h);mN(e,m.node(),m.before(),e.steps.length)}return e}function UO(e,t,r){let n=e.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),r))return t;if(n.parentOffset==0)for(let a=n.depth-1;a>=0;a--){let l=n.index(a);if(n.node(a).canReplaceWith(l,l,r))return n.before(a+1);if(l>0)return null}if(n.parentOffset==n.parent.content.size)for(let a=n.depth-1;a>=0;a--){let l=n.indexAfter(a);if(n.node(a).canReplaceWith(l,l,r))return n.after(a+1);if(l<n.node(a).childCount)return null}return null}function bN(e,t,r){let n=e.resolve(t);if(!r.content.size)return t;let a=r.content;for(let l=0;l<r.openStart;l++)a=a.firstChild.content;for(let l=1;l<=(r.openStart==0&&r.size?2:1);l++)for(let c=n.depth;c>=0;c--){let u=c==n.depth?0:n.pos<=(n.start(c+1)+n.end(c+1))/2?-1:1,f=n.index(c)+(u>0?1:0),h=n.node(c),m=!1;if(l==1)m=h.canReplace(f,f,a);else{let g=h.contentMatchAt(f).findWrapping(a.firstChild.type);m=g&&h.canReplaceWith(f,f,g[0])}if(m)return u==0?n.pos:u<0?n.before(c+1):n.after(c+1)}return null}function Ch(e,t,r=t,n=He.empty){if(t==r&&!n.size)return null;let a=e.resolve(t),l=e.resolve(r);return yN(a,l,n)?new mr(t,r,n):new FO(a,l,n).fit()}function yN(e,t,r){return!r.openStart&&!r.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),r.content)}class FO{constructor(t,r,n){this.$from=t,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Ee.empty;for(let a=0;a<=t.depth;a++){let l=t.node(a);this.frontier.push({type:l.type,match:l.contentMatchAt(t.indexAfter(a))})}for(let a=t.depth;a>0;a--)this.placed=Ee.from(t.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(t<0?this.$to:n.doc.resolve(t));if(!a)return null;let l=this.placed,c=n.depth,u=a.depth;for(;c&&u&&l.childCount==1;)l=l.firstChild.content,c--,u--;let f=new He(l,c,u);return t>-1?new xr(n.pos,t,this.$to.pos,this.$to.end(),f,r):f.size||n.pos!=this.$to.pos?new mr(n.pos,a.pos,f):null}findFittable(){let t=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,a=this.unplaced.openEnd;n<t;n++){let l=r.firstChild;if(r.childCount>1&&(a=0),l.type.spec.isolating&&a<=n){t=n;break}r=l.content}for(let r=1;r<=2;r++)for(let n=r==1?t:this.unplaced.openStart;n>=0;n--){let a,l=null;n?(l=Cg(this.unplaced.content,n-1).firstChild,a=l.content):a=this.unplaced.content;let c=a.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:h}=this.frontier[u],m,g=null;if(r==1&&(c?h.matchType(c.type)||(g=h.fillBefore(Ee.from(c),!1)):l&&f.compatibleContent(l.type)))return{sliceDepth:n,frontierDepth:u,parent:l,inject:g};if(r==2&&c&&(m=h.findWrapping(c.type)))return{sliceDepth:n,frontierDepth:u,parent:l,wrap:m};if(l&&h.matchType(l.type))break}}}openMore(){let{content:t,openStart:r,openEnd:n}=this.unplaced,a=Cg(t,r);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new He(t,r+1,Math.max(n,a.size+r>=t.size-n?r+1:0)),!0)}dropNode(){let{content:t,openStart:r,openEnd:n}=this.unplaced,a=Cg(t,r);if(a.childCount<=1&&r>0){let l=t.size-r<=r+a.size;this.unplaced=new He(ic(t,r-1,1),r-1,l?r-1:n)}else this.unplaced=new He(ic(t,r,1),r,n)}placeNodes({sliceDepth:t,frontierDepth:r,parent:n,inject:a,wrap:l}){for(;this.depth>r;)this.closeFrontierNode();if(l)for(let w=0;w<l.length;w++)this.openFrontierNode(l[w]);let c=this.unplaced,u=n?n.content:c.content,f=c.openStart-t,h=0,m=[],{match:g,type:b}=this.frontier[r];if(a){for(let w=0;w<a.childCount;w++)m.push(a.child(w));g=g.matchFragment(a)}let y=u.size+t-(c.content.size-c.openEnd);for(;h<u.childCount;){let w=u.child(h),S=g.matchType(w.type);if(!S)break;h++,(h>1||f==0||w.content.size)&&(g=S,m.push(vN(w.mark(b.allowedMarks(w.marks)),h==1?f:0,h==u.childCount?y:-1)))}let j=h==u.childCount;j||(y=-1),this.placed=cc(this.placed,r,Ee.from(m)),this.frontier[r].match=g,j&&y<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,S=u;w<y;w++){let N=S.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),S=N.content}this.unplaced=j?t==0?He.empty:new He(ic(c.content,t-1,1),t-1,y<0?c.openEnd:t-1):new He(ic(c.content,t,h),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],r;if(!t.type.isTextblock||!kg(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,a=this.$to.after(n);for(;n>1&&a==this.$to.end(--n);)++a;return a}findCloseLevel(t){e:for(let r=Math.min(this.depth,t.depth);r>=0;r--){let{match:n,type:a}=this.frontier[r],l=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),c=kg(t,r,a,n,l);if(c){for(let u=r-1;u>=0;u--){let{match:f,type:h}=this.frontier[u],m=kg(t,u,h,f,!0);if(!m||m.childCount)continue e}return{depth:r,fit:c,move:l?t.doc.resolve(t.after(r+1)):t}}}}close(t){let r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=cc(this.placed,r.depth,r.fit)),t=r.move;for(let n=r.depth+1;n<=t.depth;n++){let a=t.node(n),l=a.type.contentMatch.fillBefore(a.content,!0,t.index(n));this.openFrontierNode(a.type,a.attrs,l)}return t}openFrontierNode(t,r=null,n){let a=this.frontier[this.depth];a.match=a.match.matchType(t),this.placed=cc(this.placed,this.depth,Ee.from(t.create(r,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Ee.empty,!0);r.childCount&&(this.placed=cc(this.placed,this.frontier.length,r))}}function ic(e,t,r){return t==0?e.cutByIndex(r,e.childCount):e.replaceChild(0,e.firstChild.copy(ic(e.firstChild.content,t-1,r)))}function cc(e,t,r){return t==0?e.append(r):e.replaceChild(e.childCount-1,e.lastChild.copy(cc(e.lastChild.content,t-1,r)))}function Cg(e,t){for(let r=0;r<t;r++)e=e.firstChild.content;return e}function vN(e,t,r){if(t<=0)return e;let n=e.content;return t>1&&(n=n.replaceChild(0,vN(n.firstChild,t-1,n.childCount==1?r-1:0))),t>0&&(n=e.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(e.type.contentMatch.matchFragment(n).fillBefore(Ee.empty,!0)))),e.copy(n)}function kg(e,t,r,n,a){let l=e.node(t),c=a?e.indexAfter(t):e.index(t);if(c==l.childCount&&!r.compatibleContent(l.type))return null;let u=n.fillBefore(l.content,!0,c);return u&&!qO(r,l.content,c)?u:null}function qO(e,t,r){for(let n=r;n<t.childCount;n++)if(!e.allowsMarks(t.child(n).marks))return!0;return!1}function WO(e){return e.spec.defining||e.spec.definingForContent}function GO(e,t,r,n){if(!n.size)return e.deleteRange(t,r);let a=e.doc.resolve(t),l=e.doc.resolve(r);if(yN(a,l,n))return e.step(new mr(t,r,n));let c=NN(a,l);c[c.length-1]==0&&c.pop();let u=-(a.depth+1);c.unshift(u);for(let b=a.depth,y=a.pos-1;b>0;b--,y--){let j=a.node(b).type.spec;if(j.defining||j.definingAsContext||j.isolating)break;c.indexOf(b)>-1?u=b:a.before(b)==y&&c.splice(1,0,-b)}let f=c.indexOf(u),h=[],m=n.openStart;for(let b=n.content,y=0;;y++){let j=b.firstChild;if(h.push(j),y==n.openStart)break;b=j.content}for(let b=m-1;b>=0;b--){let y=h[b],j=WO(y.type);if(j&&!y.sameMarkup(a.node(Math.abs(u)-1)))m=b;else if(j||!y.type.isTextblock)break}for(let b=n.openStart;b>=0;b--){let y=(b+m+1)%(n.openStart+1),j=h[y];if(j)for(let w=0;w<c.length;w++){let S=c[(w+f)%c.length],N=!0;S<0&&(N=!1,S=-S);let A=a.node(S-1),E=a.index(S-1);if(A.canReplaceWith(E,E,j.type,j.marks))return e.replace(a.before(S),N?l.after(S):r,new He(jN(n.content,0,n.openStart,y),y,n.openEnd))}}let g=e.steps.length;for(let b=c.length-1;b>=0&&(e.replace(t,r,n),!(e.steps.length>g));b--){let y=c[b];y<0||(t=a.before(y),r=l.after(y))}}function jN(e,t,r,n,a){if(t<r){let l=e.firstChild;e=e.replaceChild(0,l.copy(jN(l.content,t+1,r,n,l)))}if(t>n){let l=a.contentMatchAt(0),c=l.fillBefore(e).append(e);e=c.append(l.matchFragment(c).fillBefore(Ee.empty,!0))}return e}function KO(e,t,r,n){if(!n.isInline&&t==r&&e.doc.resolve(t).parent.content.size){let a=UO(e.doc,t,n.type);a!=null&&(t=r=a)}e.replaceRange(t,r,new He(Ee.from(n),0,0))}function YO(e,t,r){let n=e.doc.resolve(t),a=e.doc.resolve(r),l=NN(n,a);for(let c=0;c<l.length;c++){let u=l[c],f=c==l.length-1;if(f&&u==0||n.node(u).type.contentMatch.validEnd)return e.delete(n.start(u),a.end(u));if(u>0&&(f||n.node(u-1).canReplace(n.index(u-1),a.indexAfter(u-1))))return e.delete(n.before(u),a.after(u))}for(let c=1;c<=n.depth&&c<=a.depth;c++)if(t-n.start(c)==n.depth-c&&r>n.end(c)&&a.end(c)-r!=a.depth-c&&n.start(c-1)==a.start(c-1)&&n.node(c-1).canReplace(n.index(c-1),a.index(c-1)))return e.delete(n.before(c),r);e.delete(t,r)}function NN(e,t){let r=[],n=Math.min(e.depth,t.depth);for(let a=n;a>=0;a--){let l=e.start(a);if(l<e.pos-(e.depth-a)||t.end(a)>t.pos+(t.depth-a)||e.node(a).type.spec.isolating||t.node(a).type.spec.isolating)break;(l==t.start(a)||a==e.depth&&a==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&a&&t.start(a-1)==l-1)&&r.push(a)}return r}class $l extends Br{constructor(t,r,n){super(),this.pos=t,this.attr=r,this.value=n}apply(t){let r=t.nodeAt(this.pos);if(!r)return lr.fail("No node at attribute step's position");let n=Object.create(null);for(let l in r.attrs)n[l]=r.attrs[l];n[this.attr]=this.value;let a=r.type.create(n,null,r.marks);return lr.fromReplace(t,this.pos,this.pos+1,new He(Ee.from(a),0,r.isLeaf?0:1))}getMap(){return cn.empty}invert(t){return new $l(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let r=t.mapResult(this.pos,1);return r.deletedAfter?null:new $l(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new $l(r.pos,r.attr,r.value)}}Br.jsonID("attr",$l);class Lc extends Br{constructor(t,r){super(),this.attr=t,this.value=r}apply(t){let r=Object.create(null);for(let a in t.attrs)r[a]=t.attrs[a];r[this.attr]=this.value;let n=t.type.create(r,t.content,t.marks);return lr.ok(n)}getMap(){return cn.empty}invert(t){return new Lc(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Lc(r.attr,r.value)}}Br.jsonID("docAttr",Lc);let Gl=class extends Error{};Gl=function e(t){let r=Error.call(this,t);return r.__proto__=e.prototype,r};Gl.prototype=Object.create(Error.prototype);Gl.prototype.constructor=Gl;Gl.prototype.name="TransformError";class wN{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new zc}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let r=this.maybeStep(t);if(r.failed)throw new Gl(r.failed);return this}maybeStep(t){let r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r}get docChanged(){return this.steps.length>0}addStep(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r}replace(t,r=t,n=He.empty){let a=Ch(this.doc,t,r,n);return a&&this.step(a),this}replaceWith(t,r,n){return this.replace(t,r,new He(Ee.from(n),0,0))}delete(t,r){return this.replace(t,r,He.empty)}insert(t,r){return this.replaceWith(t,t,r)}replaceRange(t,r,n){return GO(this,t,r,n),this}replaceRangeWith(t,r,n){return KO(this,t,r,n),this}deleteRange(t,r){return YO(this,t,r),this}lift(t,r){return DO(this,t,r),this}join(t,r=1){return VO(this,t,r),this}wrap(t,r){return BO(this,t,r),this}setBlockType(t,r=t,n,a=null){return _O(this,t,r,n,a),this}setNodeMarkup(t,r,n=null,a){return IO(this,t,r,n,a),this}setNodeAttribute(t,r,n){return this.step(new $l(t,r,n)),this}setDocAttribute(t,r){return this.step(new Lc(t,r)),this}addNodeMark(t,r){return this.step(new Da(t,r)),this}removeNodeMark(t,r){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(r instanceof It)r.isInSet(n.marks)&&this.step(new Io(t,r));else{let a=n.marks,l,c=[];for(;l=r.isInSet(a);)c.push(new Io(t,l)),a=l.removeFromSet(a);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(t,r=1,n){return HO(this,t,r,n),this}addMark(t,r,n){return MO(this,t,r,n),this}removeMark(t,r,n){return OO(this,t,r,n),this}clearIncompatible(t,r,n){return R0(this,t,r,n),this}}const Eg=Object.create(null);class ft{constructor(t,r,n){this.$anchor=t,this.$head=r,this.ranges=n||[new JO(t.min(r),t.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let r=0;r<t.length;r++)if(t[r].$from.pos!=t[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,r=He.empty){let n=r.content.lastChild,a=null;for(let u=0;u<r.openEnd;u++)a=n,n=n.lastChild;let l=t.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:f,$to:h}=c[u],m=t.mapping.slice(l);t.replaceRange(m.map(f.pos),m.map(h.pos),u?He.empty:r),u==0&&B4(t,l,(n?n.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(t,r){let n=t.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:u}=a[l],f=t.mapping.slice(n),h=f.map(c.pos),m=f.map(u.pos);l?t.deleteRange(h,m):(t.replaceRangeWith(h,m,r),B4(t,n,r.isInline?-1:1))}}static findFrom(t,r,n=!1){let a=t.parent.inlineContent?new st(t):zl(t.node(0),t.parent,t.pos,t.index(),r,n);if(a)return a;for(let l=t.depth-1;l>=0;l--){let c=r<0?zl(t.node(0),t.node(l),t.before(l+1),t.index(l),r,n):zl(t.node(0),t.node(l),t.after(l+1),t.index(l)+1,r,n);if(c)return c}return null}static near(t,r=1){return this.findFrom(t,r)||this.findFrom(t,-r)||new fn(t.node(0))}static atStart(t){return zl(t,t,0,0,1)||new fn(t)}static atEnd(t){return zl(t,t,t.content.size,t.childCount,-1)||new fn(t)}static fromJSON(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Eg[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(t,r)}static jsonID(t,r){if(t in Eg)throw new RangeError("Duplicate use of selection JSON ID "+t);return Eg[t]=r,r.prototype.jsonID=t,r}getBookmark(){return st.between(this.$anchor,this.$head).getBookmark()}}ft.prototype.visible=!0;class JO{constructor(t,r){this.$from=t,this.$to=r}}let z4=!1;function L4(e){!z4&&!e.parent.inlineContent&&(z4=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class st extends ft{constructor(t,r=t){L4(t),L4(r),super(t,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,r){let n=t.resolve(r.map(this.head));if(!n.parent.inlineContent)return ft.near(n);let a=t.resolve(r.map(this.anchor));return new st(a.parent.inlineContent?a:n,n)}replace(t,r=He.empty){if(super.replace(t,r),r==He.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof st&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new kh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new st(t.resolve(r.anchor),t.resolve(r.head))}static create(t,r,n=r){let a=t.resolve(r);return new this(a,n==r?a:t.resolve(n))}static between(t,r,n){let a=t.pos-r.pos;if((!n||a)&&(n=a>=0?1:-1),!r.parent.inlineContent){let l=ft.findFrom(r,n,!0)||ft.findFrom(r,-n,!0);if(l)r=l.$head;else return ft.near(r,n)}return t.parent.inlineContent||(a==0?t=r:(t=(ft.findFrom(t,-n,!0)||ft.findFrom(t,n,!0)).$anchor,t.pos<r.pos!=a<0&&(t=r))),new st(t,r)}}ft.jsonID("text",st);class kh{constructor(t,r){this.anchor=t,this.head=r}map(t){return new kh(t.map(this.anchor),t.map(this.head))}resolve(t){return st.between(t.resolve(this.anchor),t.resolve(this.head))}}class Je extends ft{constructor(t){let r=t.nodeAfter,n=t.node(0).resolve(t.pos+r.nodeSize);super(t,n),this.node=r}map(t,r){let{deleted:n,pos:a}=r.mapResult(this.anchor),l=t.resolve(a);return n?ft.near(l):new Je(l)}content(){return new He(Ee.from(this.node),0,0)}eq(t){return t instanceof Je&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new z0(this.anchor)}static fromJSON(t,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Je(t.resolve(r.anchor))}static create(t,r){return new Je(t.resolve(r))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Je.prototype.visible=!1;ft.jsonID("node",Je);class z0{constructor(t){this.anchor=t}map(t){let{deleted:r,pos:n}=t.mapResult(this.anchor);return r?new kh(n,n):new z0(n)}resolve(t){let r=t.resolve(this.anchor),n=r.nodeAfter;return n&&Je.isSelectable(n)?new Je(r):ft.near(r)}}class fn extends ft{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,r=He.empty){if(r==He.empty){t.delete(0,t.doc.content.size);let n=ft.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,r)}toJSON(){return{type:"all"}}static fromJSON(t){return new fn(t)}map(t){return new fn(t)}eq(t){return t instanceof fn}getBookmark(){return QO}}ft.jsonID("all",fn);const QO={map(){return this},resolve(e){return new fn(e)}};function zl(e,t,r,n,a,l=!1){if(t.inlineContent)return st.create(e,r);for(let c=n-(a>0?0:1);a>0?c<t.childCount:c>=0;c+=a){let u=t.child(c);if(u.isAtom){if(!l&&Je.isSelectable(u))return Je.create(e,r-(a<0?u.nodeSize:0))}else{let f=zl(e,u,r+a,a<0?u.childCount:0,a,l);if(f)return f}r+=u.nodeSize*a}return null}function B4(e,t,r){let n=e.steps.length-1;if(n<t)return;let a=e.steps[n];if(!(a instanceof mr||a instanceof xr))return;let l=e.mapping.maps[n],c;l.forEach((u,f,h,m)=>{c==null&&(c=m)}),e.setSelection(ft.near(e.doc.resolve(c),r))}const _4=1,Eu=2,P4=4;class XO extends wN{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_4)&~Eu,this.storedMarks=null,this}get selectionSet(){return(this.updated&_4)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Eu,this}ensureMarks(t){return It.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Eu)>0}addStep(t,r){super.addStep(t,r),this.updated=this.updated&~Eu,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,r=!0){let n=this.selection;return r&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||It.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,r,n){let a=this.doc.type.schema;if(r==null)return t?this.replaceSelectionWith(a.text(t),!0):this.deleteSelection();{if(n==null&&(n=r),!t)return this.deleteRange(r,n);let l=this.storedMarks;if(!l){let c=this.doc.resolve(r);l=n==r?c.marks():c.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,a.text(t,l)),!this.selection.empty&&this.selection.to==r+t.length&&this.setSelection(ft.near(this.selection.$to)),this}}setMeta(t,r){return this.meta[typeof t=="string"?t:t.key]=r,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=P4,this}get scrolledIntoView(){return(this.updated&P4)>0}}function I4(e,t){return!t||!e?e:e.bind(t)}class dc{constructor(t,r,n){this.name=t,this.init=I4(r.init,n),this.apply=I4(r.apply,n)}}const ZO=[new dc("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new dc("selection",{init(e,t){return e.selection||ft.atStart(t.doc)},apply(e){return e.selection}}),new dc("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,r,n){return n.selection.$cursor?e.storedMarks:null}}),new dc("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Ag{constructor(t,r){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ZO.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new dc(n.key,n.spec.state,n))})}}class Pl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let a=this.config.plugins[n];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let r=[t],n=this.applyInner(t),a=null;for(;;){let l=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let f=a?a[c].n:0,h=a?a[c].state:this,m=f<r.length&&u.spec.appendTransaction.call(u,f?r.slice(f):r,h,n);if(m&&n.filterTransaction(m,c)){if(m.setMeta("appendedTransaction",t),!a){a=[];for(let g=0;g<this.config.plugins.length;g++)a.push(g<c?{state:n,n:r.length}:{state:this,n:0})}r.push(m),n=n.applyInner(m),l=!0}a&&(a[c]={state:n,n:r.length})}}if(!l)return{state:n,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Pl(this.config),n=this.config.fields;for(let a=0;a<n.length;a++){let l=n[a];r[l.name]=l.apply(t,this[l.name],this,r)}return r}get tr(){return new XO(this)}static create(t){let r=new Ag(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new Pl(r);for(let a=0;a<r.fields.length;a++)n[r.fields[a].name]=r.fields[a].init(t,n);return n}reconfigure(t){let r=new Ag(this.schema,t.plugins),n=r.fields,a=new Pl(r);for(let l=0;l<n.length;l++){let c=n[l].name;a[c]=this.hasOwnProperty(c)?this[c]:n[l].init(t,a)}return a}toJSON(t){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=t[n],l=a.spec.state;l&&l.toJSON&&(r[n]=l.toJSON.call(a,this[a.key]))}return r}static fromJSON(t,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let a=new Ag(t.schema,t.plugins),l=new Pl(a);return a.fields.forEach(c=>{if(c.name=="doc")l.doc=Jn.fromJSON(t.schema,r.doc);else if(c.name=="selection")l.selection=ft.fromJSON(l.doc,r.selection);else if(c.name=="storedMarks")r.storedMarks&&(l.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let u in n){let f=n[u],h=f.spec.state;if(f.key==c.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(r,u)){l[c.name]=h.fromJSON.call(f,t,r[u],l);return}}l[c.name]=c.init(t,l)}}),l}}function SN(e,t,r){for(let n in e){let a=e[n];a instanceof Function?a=a.bind(t):n=="handleDOMEvents"&&(a=SN(a,t,{})),r[n]=a}return r}class Kt{constructor(t){this.spec=t,this.props={},t.props&&SN(t.props,this,this.props),this.key=t.key?t.key.key:CN("plugin")}getState(t){return t[this.key]}}const Tg=Object.create(null);function CN(e){return e in Tg?e+"$"+ ++Tg[e]:(Tg[e]=0,e+"$")}class fr{constructor(t="key"){this.key=CN(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const L0=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function kN(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("backward",e):r.parentOffset>0)?null:r}const EN=(e,t,r)=>{let n=kN(e,r);if(!n)return!1;let a=B0(n);if(!a){let c=n.blockRange(),u=c&&li(c);return u==null?!1:(t&&t(e.tr.lift(c,u).scrollIntoView()),!0)}let l=a.nodeBefore;if(BN(e,a,t,-1))return!0;if(n.parent.content.size==0&&(Kl(l,"end")||Je.isSelectable(l)))for(let c=n.depth;;c--){let u=Ch(e.doc,n.before(c),n.after(c),He.empty);if(u&&u.slice.size<u.to-u.from){if(t){let f=e.tr.step(u);f.setSelection(Kl(l,"end")?ft.findFrom(f.doc.resolve(f.mapping.map(a.pos,-1)),-1):Je.create(f.doc,a.pos-l.nodeSize)),t(f.scrollIntoView())}return!0}if(c==1||n.node(c-1).childCount>1)break}return l.isAtom&&a.depth==n.depth-1?(t&&t(e.tr.delete(a.pos-l.nodeSize,a.pos).scrollIntoView()),!0):!1},eR=(e,t,r)=>{let n=kN(e,r);if(!n)return!1;let a=B0(n);return a?AN(e,a,t):!1},tR=(e,t,r)=>{let n=MN(e,r);if(!n)return!1;let a=_0(n);return a?AN(e,a,t):!1};function AN(e,t,r){let n=t.nodeBefore,a=n,l=t.pos-1;for(;!a.isTextblock;l--){if(a.type.spec.isolating)return!1;let m=a.lastChild;if(!m)return!1;a=m}let c=t.nodeAfter,u=c,f=t.pos+1;for(;!u.isTextblock;f++){if(u.type.spec.isolating)return!1;let m=u.firstChild;if(!m)return!1;u=m}let h=Ch(e.doc,l,f,He.empty);if(!h||h.from!=l||h instanceof mr&&h.slice.size>=f-l)return!1;if(r){let m=e.tr.step(h);m.setSelection(st.create(m.doc,l)),r(m.scrollIntoView())}return!0}function Kl(e,t,r=!1){for(let n=e;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const TN=(e,t,r)=>{let{$head:n,empty:a}=e.selection,l=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",e):n.parentOffset>0)return!1;l=B0(n)}let c=l&&l.nodeBefore;return!c||!Je.isSelectable(c)?!1:(t&&t(e.tr.setSelection(Je.create(e.doc,l.pos-c.nodeSize)).scrollIntoView()),!0)};function B0(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function MN(e,t){let{$cursor:r}=e.selection;return!r||(t?!t.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)?null:r}const ON=(e,t,r)=>{let n=MN(e,r);if(!n)return!1;let a=_0(n);if(!a)return!1;let l=a.nodeAfter;if(BN(e,a,t,1))return!0;if(n.parent.content.size==0&&(Kl(l,"start")||Je.isSelectable(l))){let c=Ch(e.doc,n.before(),n.after(),He.empty);if(c&&c.slice.size<c.to-c.from){if(t){let u=e.tr.step(c);u.setSelection(Kl(l,"start")?ft.findFrom(u.doc.resolve(u.mapping.map(a.pos)),1):Je.create(u.doc,u.mapping.map(a.pos))),t(u.scrollIntoView())}return!0}}return l.isAtom&&a.depth==n.depth-1?(t&&t(e.tr.delete(a.pos,a.pos+l.nodeSize).scrollIntoView()),!0):!1},RN=(e,t,r)=>{let{$head:n,empty:a}=e.selection,l=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)return!1;l=_0(n)}let c=l&&l.nodeAfter;return!c||!Je.isSelectable(c)?!1:(t&&t(e.tr.setSelection(Je.create(e.doc,l.pos)).scrollIntoView()),!0)};function _0(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let r=e.node(t);if(e.index(t)+1<r.childCount)return e.doc.resolve(e.after(t+1));if(r.type.spec.isolating)break}return null}const rR=(e,t)=>{let r=e.selection,n=r instanceof Je,a;if(n){if(r.node.isTextblock||!Ka(e.doc,r.from))return!1;a=r.from}else if(a=Sh(e.doc,r.from,-1),a==null)return!1;if(t){let l=e.tr.join(a);n&&l.setSelection(Je.create(l.doc,a-e.doc.resolve(a).nodeBefore.nodeSize)),t(l.scrollIntoView())}return!0},nR=(e,t)=>{let r=e.selection,n;if(r instanceof Je){if(r.node.isTextblock||!Ka(e.doc,r.to))return!1;n=r.to}else if(n=Sh(e.doc,r.to,1),n==null)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},sR=(e,t)=>{let{$from:r,$to:n}=e.selection,a=r.blockRange(n),l=a&&li(a);return l==null?!1:(t&&t(e.tr.lift(a,l).scrollIntoView()),!0)},DN=(e,t)=>{let{$head:r,$anchor:n}=e.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function P0(e){for(let t=0;t<e.edgeCount;t++){let{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const aR=(e,t)=>{let{$head:r,$anchor:n}=e.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let a=r.node(-1),l=r.indexAfter(-1),c=P0(a.contentMatchAt(l));if(!c||!a.canReplaceWith(l,l,c))return!1;if(t){let u=r.after(),f=e.tr.replaceWith(u,u,c.createAndFill());f.setSelection(ft.near(f.doc.resolve(u),1)),t(f.scrollIntoView())}return!0},zN=(e,t)=>{let r=e.selection,{$from:n,$to:a}=r;if(r instanceof fn||n.parent.inlineContent||a.parent.inlineContent)return!1;let l=P0(a.parent.contentMatchAt(a.indexAfter()));if(!l||!l.isTextblock)return!1;if(t){let c=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,u=e.tr.insert(c,l.createAndFill());u.setSelection(st.create(u.doc,c+1)),t(u.scrollIntoView())}return!0},LN=(e,t)=>{let{$cursor:r}=e.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let l=r.before();if(qs(e.doc,l))return t&&t(e.tr.split(l).scrollIntoView()),!0}let n=r.blockRange(),a=n&&li(n);return a==null?!1:(t&&t(e.tr.lift(n,a).scrollIntoView()),!0)};function oR(e){return(t,r)=>{let{$from:n,$to:a}=t.selection;if(t.selection instanceof Je&&t.selection.node.isBlock)return!n.parentOffset||!qs(t.doc,n.pos)?!1:(r&&r(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let l=[],c,u,f=!1,h=!1;for(let y=n.depth;;y--)if(n.node(y).isBlock){f=n.end(y)==n.pos+(n.depth-y),h=n.start(y)==n.pos-(n.depth-y),u=P0(n.node(y-1).contentMatchAt(n.indexAfter(y-1))),l.unshift(f&&u?{type:u}:null),c=y;break}else{if(y==1)return!1;l.unshift(null)}let m=t.tr;(t.selection instanceof st||t.selection instanceof fn)&&m.deleteSelection();let g=m.mapping.map(n.pos),b=qs(m.doc,g,l.length,l);if(b||(l[0]=u?{type:u}:null,b=qs(m.doc,g,l.length,l)),!b)return!1;if(m.split(g,l.length,l),!f&&h&&n.node(c).type!=u){let y=m.mapping.map(n.before(c)),j=m.doc.resolve(y);u&&n.node(c-1).canReplaceWith(j.index(),j.index()+1,u)&&m.setNodeMarkup(m.mapping.map(n.before(c)),u)}return r&&r(m.scrollIntoView()),!0}}const lR=oR(),iR=(e,t)=>{let{$from:r,to:n}=e.selection,a,l=r.sharedDepth(n);return l==0?!1:(a=r.before(l),t&&t(e.tr.setSelection(Je.create(e.doc,a))),!0)};function cR(e,t,r){let n=t.nodeBefore,a=t.nodeAfter,l=t.index();return!n||!a||!n.type.compatibleContent(a.type)?!1:!n.content.size&&t.parent.canReplace(l-1,l)?(r&&r(e.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(l,l+1)||!(a.isTextblock||Ka(e.doc,t.pos))?!1:(r&&r(e.tr.join(t.pos).scrollIntoView()),!0)}function BN(e,t,r,n){let a=t.nodeBefore,l=t.nodeAfter,c,u,f=a.type.spec.isolating||l.type.spec.isolating;if(!f&&cR(e,t,r))return!0;let h=!f&&t.parent.canReplace(t.index(),t.index()+1);if(h&&(c=(u=a.contentMatchAt(a.childCount)).findWrapping(l.type))&&u.matchType(c[0]||l.type).validEnd){if(r){let y=t.pos+l.nodeSize,j=Ee.empty;for(let N=c.length-1;N>=0;N--)j=Ee.from(c[N].create(null,j));j=Ee.from(a.copy(j));let w=e.tr.step(new xr(t.pos-1,y,t.pos,y,new He(j,1,0),c.length,!0)),S=w.doc.resolve(y+2*c.length);S.nodeAfter&&S.nodeAfter.type==a.type&&Ka(w.doc,S.pos)&&w.join(S.pos),r(w.scrollIntoView())}return!0}let m=l.type.spec.isolating||n>0&&f?null:ft.findFrom(t,1),g=m&&m.$from.blockRange(m.$to),b=g&&li(g);if(b!=null&&b>=t.depth)return r&&r(e.tr.lift(g,b).scrollIntoView()),!0;if(h&&Kl(l,"start",!0)&&Kl(a,"end")){let y=a,j=[];for(;j.push(y),!y.isTextblock;)y=y.lastChild;let w=l,S=1;for(;!w.isTextblock;w=w.firstChild)S++;if(y.canReplace(y.childCount,y.childCount,w.content)){if(r){let N=Ee.empty;for(let E=j.length-1;E>=0;E--)N=Ee.from(j[E].copy(N));let A=e.tr.step(new xr(t.pos-j.length,t.pos+l.nodeSize,t.pos+S,t.pos+l.nodeSize-S,new He(N,j.length,0),0,!0));r(A.scrollIntoView())}return!0}}return!1}function _N(e){return function(t,r){let n=t.selection,a=e<0?n.$from:n.$to,l=a.depth;for(;a.node(l).isInline;){if(!l)return!1;l--}return a.node(l).isTextblock?(r&&r(t.tr.setSelection(st.create(t.doc,e<0?a.start(l):a.end(l)))),!0):!1}}const dR=_N(-1),uR=_N(1);function fR(e,t=null){return function(r,n){let{$from:a,$to:l}=r.selection,c=a.blockRange(l),u=c&&D0(c,e,t);return u?(n&&n(r.tr.wrap(c,u).scrollIntoView()),!0):!1}}function H4(e,t=null){return function(r,n){let a=!1;for(let l=0;l<r.selection.ranges.length&&!a;l++){let{$from:{pos:c},$to:{pos:u}}=r.selection.ranges[l];r.doc.nodesBetween(c,u,(f,h)=>{if(a)return!1;if(!(!f.isTextblock||f.hasMarkup(e,t)))if(f.type==e)a=!0;else{let m=r.doc.resolve(h),g=m.index();a=m.parent.canReplaceWith(g,g+1,e)}})}if(!a)return!1;if(n){let l=r.tr;for(let c=0;c<r.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:f}}=r.selection.ranges[c];l.setBlockType(u,f,e,t)}n(l.scrollIntoView())}return!0}}function I0(...e){return function(t,r,n){for(let a=0;a<e.length;a++)if(e[a](t,r,n))return!0;return!1}}I0(L0,EN,TN);I0(L0,ON,RN);I0(DN,zN,LN,lR);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function hR(e,t=null){return function(r,n){let{$from:a,$to:l}=r.selection,c=a.blockRange(l);if(!c)return!1;let u=n?r.tr:null;return pR(u,c,e,t)?(n&&n(u.scrollIntoView()),!0):!1}}function pR(e,t,r,n=null){let a=!1,l=t,c=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(r)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let f=c.resolve(t.start-2);l=new yf(f,f,t.depth),t.endIndex<t.parent.childCount&&(t=new yf(t.$from,c.resolve(t.$to.end(t.depth)),t.depth)),a=!0}let u=D0(l,r,n,t);return u?(e&&mR(e,t,u,a,r),!0):!1}function mR(e,t,r,n,a){let l=Ee.empty;for(let m=r.length-1;m>=0;m--)l=Ee.from(r[m].type.create(r[m].attrs,l));e.step(new xr(t.start-(n?2:0),t.end,t.start,t.end,new He(l,0,0),r.length,!0));let c=0;for(let m=0;m<r.length;m++)r[m].type==a&&(c=m+1);let u=r.length-c,f=t.start+r.length-(n?2:0),h=t.parent;for(let m=t.startIndex,g=t.endIndex,b=!0;m<g;m++,b=!1)!b&&qs(e.doc,f,u)&&(e.split(f,u),f+=2*u),f+=h.child(m).nodeSize;return e}function gR(e){return function(t,r){let{$from:n,$to:a}=t.selection,l=n.blockRange(a,c=>c.childCount>0&&c.firstChild.type==e);return l?r?n.node(l.depth-1).type==e?xR(t,r,e,l):bR(t,r,l):!0:!1}}function xR(e,t,r,n){let a=e.tr,l=n.end,c=n.$to.end(n.depth);l<c&&(a.step(new xr(l-1,c,l,c,new He(Ee.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new yf(a.doc.resolve(n.$from.pos),a.doc.resolve(c),n.depth));const u=li(n);if(u==null)return!1;a.lift(n,u);let f=a.doc.resolve(a.mapping.map(l,-1)-1);return Ka(a.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&a.join(f.pos),t(a.scrollIntoView()),!0}function bR(e,t,r){let n=e.tr,a=r.parent;for(let y=r.end,j=r.endIndex-1,w=r.startIndex;j>w;j--)y-=a.child(j).nodeSize,n.delete(y-1,y+1);let l=n.doc.resolve(r.start),c=l.nodeAfter;if(n.mapping.map(r.end)!=r.start+l.nodeAfter.nodeSize)return!1;let u=r.startIndex==0,f=r.endIndex==a.childCount,h=l.node(-1),m=l.index(-1);if(!h.canReplace(m+(u?0:1),m+1,c.content.append(f?Ee.empty:Ee.from(a))))return!1;let g=l.pos,b=g+c.nodeSize;return n.step(new xr(g-(u?1:0),b+(f?1:0),g+1,b-1,new He((u?Ee.empty:Ee.from(a.copy(Ee.empty))).append(f?Ee.empty:Ee.from(a.copy(Ee.empty))),u?0:1,f?0:1),u?0:1)),t(n.scrollIntoView()),!0}function yR(e){return function(t,r){let{$from:n,$to:a}=t.selection,l=n.blockRange(a,h=>h.childCount>0&&h.firstChild.type==e);if(!l)return!1;let c=l.startIndex;if(c==0)return!1;let u=l.parent,f=u.child(c-1);if(f.type!=e)return!1;if(r){let h=f.lastChild&&f.lastChild.type==u.type,m=Ee.from(h?e.create():null),g=new He(Ee.from(e.create(null,Ee.from(u.type.create(null,m)))),h?3:1,0),b=l.start,y=l.end;r(t.tr.step(new xr(b-(h?3:1),y,b,y,g,1,!0)).scrollIntoView())}return!0}}const Cr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Yl=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Ax=null;const Is=function(e,t,r){let n=Ax||(Ax=document.createRange());return n.setEnd(e,r??e.nodeValue.length),n.setStart(e,t||0),n},vR=function(){Ax=null},Ho=function(e,t,r,n){return r&&($4(e,t,r,n,-1)||$4(e,t,r,n,1))},jR=/^(img|br|input|textarea|hr)$/i;function $4(e,t,r,n,a){for(var l;;){if(e==r&&t==n)return!0;if(t==(a<0?0:Ln(e))){let c=e.parentNode;if(!c||c.nodeType!=1||Xc(e)||jR.test(e.nodeName)||e.contentEditable=="false")return!1;t=Cr(e)+(a<0?0:1),e=c}else if(e.nodeType==1){let c=e.childNodes[t+(a<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((l=c.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)t+=a;else return!1;else e=c,t=a<0?Ln(e):0}else return!1}}function Ln(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function NR(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Ln(e)}else if(e.parentNode&&!Xc(e))t=Cr(e),e=e.parentNode;else return null}}function wR(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Xc(e))t=Cr(e)+1,e=e.parentNode;else return null}}function SR(e,t,r){for(let n=t==0,a=t==Ln(e);n||a;){if(e==r)return!0;let l=Cr(e);if(e=e.parentNode,!e)return!1;n=n&&l==0,a=a&&l==Ln(e)}}function Xc(e){let t;for(let r=e;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Eh=function(e){return e.focusNode&&Ho(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function vo(e,t){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=e,r.key=r.code=t,r}function CR(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function kR(e,t,r){if(e.caretPositionFromPoint)try{let n=e.caretPositionFromPoint(t,r);if(n)return{node:n.offsetNode,offset:Math.min(Ln(n.offsetNode),n.offset)}}catch{}if(e.caretRangeFromPoint){let n=e.caretRangeFromPoint(t,r);if(n)return{node:n.startContainer,offset:Math.min(Ln(n.startContainer),n.startOffset)}}}const hs=typeof navigator<"u"?navigator:null,V4=typeof document<"u"?document:null,Ya=hs&&hs.userAgent||"",Tx=/Edge\/(\d+)/.exec(Ya),PN=/MSIE \d/.exec(Ya),Mx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ya),Zr=!!(PN||Mx||Tx),Pa=PN?document.documentMode:Mx?+Mx[1]:Tx?+Tx[1]:0,Bn=!Zr&&/gecko\/(\d+)/i.test(Ya);Bn&&+(/Firefox\/(\d+)/.exec(Ya)||[0,0])[1];const Ox=!Zr&&/Chrome\/(\d+)/.exec(Ya),gr=!!Ox,IN=Ox?+Ox[1]:0,Lr=!Zr&&!!hs&&/Apple Computer/.test(hs.vendor),Jl=Lr&&(/Mobile\/\w+/.test(Ya)||!!hs&&hs.maxTouchPoints>2),zn=Jl||(hs?/Mac/.test(hs.platform):!1),HN=hs?/Win/.test(hs.platform):!1,$s=/Android \d/.test(Ya),Zc=!!V4&&"webkitFontSmoothing"in V4.documentElement.style,ER=Zc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function AR(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Ls(e,t){return typeof e=="number"?e:e[t]}function TR(e){let t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*r,top:t.top,bottom:t.top+e.clientHeight*n}}function U4(e,t,r){let n=e.someProp("scrollThreshold")||0,a=e.someProp("scrollMargin")||5,l=e.dom.ownerDocument;for(let c=r||e.dom;c;){if(c.nodeType!=1){c=Yl(c);continue}let u=c,f=u==l.body,h=f?AR(l):TR(u),m=0,g=0;if(t.top<h.top+Ls(n,"top")?g=-(h.top-t.top+Ls(a,"top")):t.bottom>h.bottom-Ls(n,"bottom")&&(g=t.bottom-t.top>h.bottom-h.top?t.top+Ls(a,"top")-h.top:t.bottom-h.bottom+Ls(a,"bottom")),t.left<h.left+Ls(n,"left")?m=-(h.left-t.left+Ls(a,"left")):t.right>h.right-Ls(n,"right")&&(m=t.right-h.right+Ls(a,"right")),m||g)if(f)l.defaultView.scrollBy(m,g);else{let y=u.scrollLeft,j=u.scrollTop;g&&(u.scrollTop+=g),m&&(u.scrollLeft+=m);let w=u.scrollLeft-y,S=u.scrollTop-j;t={left:t.left-w,top:t.top-S,right:t.right-w,bottom:t.bottom-S}}let b=f?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(b))break;c=b=="absolute"?c.offsetParent:Yl(c)}}function MR(e){let t=e.dom.getBoundingClientRect(),r=Math.max(0,t.top),n,a;for(let l=(t.left+t.right)/2,c=r+1;c<Math.min(innerHeight,t.bottom);c+=5){let u=e.root.elementFromPoint(l,c);if(!u||u==e.dom||!e.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=r-20){n=u,a=f.top;break}}return{refDOM:n,refTop:a,stack:$N(e.dom)}}function $N(e){let t=[],r=e.ownerDocument;for(let n=e;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),e!=r);n=Yl(n));return t}function OR({refDOM:e,refTop:t,stack:r}){let n=e?e.getBoundingClientRect().top:0;VN(r,n==0?0:n-t)}function VN(e,t){for(let r=0;r<e.length;r++){let{dom:n,top:a,left:l}=e[r];n.scrollTop!=a+t&&(n.scrollTop=a+t),n.scrollLeft!=l&&(n.scrollLeft=l)}}let Ol=null;function RR(e){if(e.setActive)return e.setActive();if(Ol)return e.focus(Ol);let t=$N(e);e.focus(Ol==null?{get preventScroll(){return Ol={preventScroll:!0},!0}}:void 0),Ol||(Ol=!1,VN(t,0))}function UN(e,t){let r,n=2e8,a,l=0,c=t.top,u=t.top,f,h;for(let m=e.firstChild,g=0;m;m=m.nextSibling,g++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=Is(m).getClientRects();else continue;for(let y=0;y<b.length;y++){let j=b[y];if(j.top<=c&&j.bottom>=u){c=Math.max(j.bottom,c),u=Math.min(j.top,u);let w=j.left>t.left?j.left-t.left:j.right<t.left?t.left-j.right:0;if(w<n){r=m,n=w,a=w&&r.nodeType==3?{left:j.right<t.left?j.right:j.left,top:t.top}:t,m.nodeType==1&&w&&(l=g+(t.left>=(j.left+j.right)/2?1:0));continue}}else j.top>t.top&&!f&&j.left<=t.left&&j.right>=t.left&&(f=m,h={left:Math.max(j.left,Math.min(j.right,t.left)),top:j.top});!r&&(t.left>=j.right&&t.top>=j.top||t.left>=j.left&&t.top>=j.bottom)&&(l=g+1)}}return!r&&f&&(r=f,a=h,n=0),r&&r.nodeType==3?DR(r,a):!r||n&&r.nodeType==1?{node:e,offset:l}:UN(r,a)}function DR(e,t){let r=e.nodeValue.length,n=document.createRange(),a;for(let l=0;l<r;l++){n.setEnd(e,l+1),n.setStart(e,l);let c=Sa(n,1);if(c.top!=c.bottom&&H0(t,c)){a={node:e,offset:l+(t.left>=(c.left+c.right)/2?1:0)};break}}return n.detach(),a||{node:e,offset:0}}function H0(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function zR(e,t){let r=e.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<e.getBoundingClientRect().left?r:e}function LR(e,t,r){let{node:n,offset:a}=UN(t,r),l=-1;if(n.nodeType==1&&!n.firstChild){let c=n.getBoundingClientRect();l=c.left!=c.right&&r.left>(c.left+c.right)/2?1:-1}return e.docView.posFromDOM(n,a,l)}function BR(e,t,r,n){let a=-1;for(let l=t,c=!1;l!=e.dom;){let u=e.docView.nearestDesc(l,!0),f;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((f=u.dom.getBoundingClientRect()).width||f.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&f.left>n.left||f.top>n.top?a=u.posBefore:(!c&&f.right<n.left||f.bottom<n.top)&&(a=u.posAfter),c=!0),!u.contentDOM&&a<0&&!u.node.isText))return(u.node.isBlock?n.top<(f.top+f.bottom)/2:n.left<(f.left+f.right)/2)?u.posBefore:u.posAfter;l=u.dom.parentNode}return a>-1?a:e.docView.posFromDOM(t,r,-1)}function FN(e,t,r){let n=e.childNodes.length;if(n&&r.top<r.bottom)for(let a=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-r.top)/(r.bottom-r.top))-2)),l=a;;){let c=e.childNodes[l];if(c.nodeType==1){let u=c.getClientRects();for(let f=0;f<u.length;f++){let h=u[f];if(H0(t,h))return FN(c,t,h)}}if((l=(l+1)%n)==a)break}return e}function _R(e,t){let r=e.dom.ownerDocument,n,a=0,l=kR(r,t.left,t.top);l&&({node:n,offset:a}=l);let c=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top),u;if(!c||!e.dom.contains(c.nodeType!=1?c.parentNode:c)){let h=e.dom.getBoundingClientRect();if(!H0(t,h)||(c=FN(e.dom,t,h),!c))return null}if(Lr)for(let h=c;n&&h;h=Yl(h))h.draggable&&(n=void 0);if(c=zR(c,t),n){if(Bn&&n.nodeType==1&&(a=Math.min(a,n.childNodes.length),a<n.childNodes.length)){let m=n.childNodes[a],g;m.nodeName=="IMG"&&(g=m.getBoundingClientRect()).right<=t.left&&g.bottom>t.top&&a++}let h;Zc&&a&&n.nodeType==1&&(h=n.childNodes[a-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=t.top&&a--,n==e.dom&&a==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:(a==0||n.nodeType!=1||n.childNodes[a-1].nodeName!="BR")&&(u=BR(e,n,a,t))}u==null&&(u=LR(e,c,t));let f=e.docView.nearestDesc(c,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function F4(e){return e.top<e.bottom||e.left<e.right}function Sa(e,t){let r=e.getClientRects();if(r.length){let n=r[t<0?0:r.length-1];if(F4(n))return n}return Array.prototype.find.call(r,F4)||e.getBoundingClientRect()}const PR=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function qN(e,t,r){let{node:n,offset:a,atom:l}=e.docView.domFromPos(t,r<0?-1:1),c=Zc||Bn;if(n.nodeType==3)if(c&&(PR.test(n.nodeValue)||(r<0?!a:a==n.nodeValue.length))){let f=Sa(Is(n,a,a),r);if(Bn&&a&&/\s/.test(n.nodeValue[a-1])&&a<n.nodeValue.length){let h=Sa(Is(n,a-1,a-1),-1);if(h.top==f.top){let m=Sa(Is(n,a,a+1),-1);if(m.top!=f.top)return sc(m,m.left<h.left)}}return f}else{let f=a,h=a,m=r<0?1:-1;return r<0&&!a?(h++,m=-1):r>=0&&a==n.nodeValue.length?(f--,m=1):r<0?f--:h++,sc(Sa(Is(n,f,h),m),m<0)}if(!e.state.doc.resolve(t-(l||0)).parent.inlineContent){if(l==null&&a&&(r<0||a==Ln(n))){let f=n.childNodes[a-1];if(f.nodeType==1)return Mg(f.getBoundingClientRect(),!1)}if(l==null&&a<Ln(n)){let f=n.childNodes[a];if(f.nodeType==1)return Mg(f.getBoundingClientRect(),!0)}return Mg(n.getBoundingClientRect(),r>=0)}if(l==null&&a&&(r<0||a==Ln(n))){let f=n.childNodes[a-1],h=f.nodeType==3?Is(f,Ln(f)-(c?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(h)return sc(Sa(h,1),!1)}if(l==null&&a<Ln(n)){let f=n.childNodes[a];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let h=f?f.nodeType==3?Is(f,0,c?0:1):f.nodeType==1?f:null:null;if(h)return sc(Sa(h,-1),!0)}return sc(Sa(n.nodeType==3?Is(n):n,-r),r>=0)}function sc(e,t){if(e.width==0)return e;let r=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:r,right:r}}function Mg(e,t){if(e.height==0)return e;let r=t?e.top:e.bottom;return{top:r,bottom:r,left:e.left,right:e.right}}function WN(e,t,r){let n=e.state,a=e.root.activeElement;n!=t&&e.updateState(t),a!=e.dom&&e.focus();try{return r()}finally{n!=t&&e.updateState(n),a!=e.dom&&a&&a.focus()}}function IR(e,t,r){let n=t.selection,a=r=="up"?n.$from:n.$to;return WN(e,t,()=>{let{node:l}=e.docView.domFromPos(a.pos,r=="up"?-1:1);for(;;){let u=e.docView.nearestDesc(l,!0);if(!u)break;if(u.node.isBlock){l=u.contentDOM||u.dom;break}l=u.dom.parentNode}let c=qN(e,a.pos,1);for(let u=l.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Is(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<f.length;h++){let m=f[h];if(m.bottom>m.top+1&&(r=="up"?c.top-m.top>(m.bottom-c.top)*2:m.bottom-c.bottom>(c.bottom-m.top)*2))return!1}}return!0})}const HR=/[\u0590-\u08ac]/;function $R(e,t,r){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let a=n.parentOffset,l=!a,c=a==n.parent.content.size,u=e.domSelection();return u?!HR.test(n.parent.textContent)||!u.modify?r=="left"||r=="backward"?l:c:WN(e,t,()=>{let{focusNode:f,focusOffset:h,anchorNode:m,anchorOffset:g}=e.domSelectionRange(),b=u.caretBidiLevel;u.modify("move",r,"character");let y=n.depth?e.docView.domAfterPos(n.before()):e.dom,{focusNode:j,focusOffset:w}=e.domSelectionRange(),S=j&&!y.contains(j.nodeType==1?j:j.parentNode)||f==j&&h==w;try{u.collapse(m,g),f&&(f!=m||h!=g)&&u.extend&&u.extend(f,h)}catch{}return b!=null&&(u.caretBidiLevel=b),S}):n.pos==n.start()||n.pos==n.end()}let q4=null,W4=null,G4=!1;function VR(e,t,r){return q4==t&&W4==r?G4:(q4=t,W4=r,G4=r=="up"||r=="down"?IR(e,t,r):$R(e,t,r))}const _n=0,K4=1,wo=2,ps=3;class ed{constructor(t,r,n,a){this.parent=t,this.children=r,this.dom=n,this.contentDOM=a,this.dirty=_n,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,r,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let r=0;r<this.children.length;r++)t+=this.children[r].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let r=0,n=this.posAtStart;;r++){let a=this.children[r];if(a==t)return n;n+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,r,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let l,c;if(t==this.contentDOM)l=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;l=t.previousSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(c)+c.size:this.posAtStart}else{let l,c;if(t==this.contentDOM)l=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;l=t.nextSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(c):this.posAtEnd}let a;if(t==this.dom&&this.contentDOM)a=r>Cr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let l=t;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.previousSibling)break}if(a==null&&r==t.childNodes.length)for(let l=t;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.nextSibling)break}}return a??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,r=!1){for(let n=!0,a=t;a;a=a.parentNode){let l=this.getDesc(a),c;if(l&&(!r||l.node))if(n&&(c=l.nodeDOM)&&!(c.nodeType==1?c.contains(t.nodeType==1?t:t.parentNode):c==t))n=!1;else return l}}getDesc(t){let r=t.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(t,r,n){for(let a=t;a;a=a.parentNode){let l=this.getDesc(a);if(l)return l.localPosFromDOM(t,r,n)}return-1}descAt(t){for(let r=0,n=0;r<this.children.length;r++){let a=this.children[r],l=n+a.size;if(n==t&&l!=n){for(;!a.border&&a.children.length;)for(let c=0;c<a.children.length;c++){let u=a.children[c];if(u.size){a=u;break}}return a}if(t<l)return a.descAt(t-n-a.border);n=l}}domFromPos(t,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,a=0;for(let l=0;n<this.children.length;n++){let c=this.children[n],u=l+c.size;if(u>t||c instanceof KN){a=t-l;break}l=u}if(a)return this.children[n].domFromPos(a-this.children[n].border,r);for(let l;n&&!(l=this.children[n-1]).size&&l instanceof GN&&l.side>=0;n--);if(r<=0){let l,c=!0;for(;l=n?this.children[n-1]:null,!(!l||l.dom.parentNode==this.contentDOM);n--,c=!1);return l&&r&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,r):{node:this.contentDOM,offset:l?Cr(l.dom)+1:0}}else{let l,c=!0;for(;l=n<this.children.length?this.children[n]:null,!(!l||l.dom.parentNode==this.contentDOM);n++,c=!1);return l&&c&&!l.border&&!l.domAtom?l.domFromPos(0,r):{node:this.contentDOM,offset:l?Cr(l.dom):this.contentDOM.childNodes.length}}}parseRange(t,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,l=-1;for(let c=n,u=0;;u++){let f=this.children[u],h=c+f.size;if(a==-1&&t<=h){let m=c+f.border;if(t>=m&&r<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(t,r,m);t=c;for(let g=u;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){a=Cr(b.dom)+1;break}t-=b.size}a==-1&&(a=0)}if(a>-1&&(h>r||u==this.children.length-1)){r=h;for(let m=u+1;m<this.children.length;m++){let g=this.children[m];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){l=Cr(g.dom);break}r+=g.size}l==-1&&(l=this.contentDOM.childNodes.length);break}c=h}return{node:this.contentDOM,from:t,to:r,fromOffset:a,toOffset:l}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[t<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(t)}domAfterPos(t){let{node:r,offset:n}=this.domFromPos(t,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[n]}setSelection(t,r,n,a=!1){let l=Math.min(t,r),c=Math.max(t,r);for(let y=0,j=0;y<this.children.length;y++){let w=this.children[y],S=j+w.size;if(l>j&&c<S)return w.setSelection(t-j-w.border,r-j-w.border,n,a);j=S}let u=this.domFromPos(t,t?-1:1),f=r==t?u:this.domFromPos(r,r?-1:1),h=n.root.getSelection(),m=n.domSelectionRange(),g=!1;if((Bn||Lr)&&t==r){let{node:y,offset:j}=u;if(y.nodeType==3){if(g=!!(j&&y.nodeValue[j-1]==`
`),g&&j==y.nodeValue.length)for(let w=y,S;w;w=w.parentNode){if(S=w.nextSibling){S.nodeName=="BR"&&(u=f={node:S.parentNode,offset:Cr(S)+1});break}let N=w.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let w=y.childNodes[j-1];g=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(Bn&&m.focusNode&&m.focusNode!=f.node&&m.focusNode.nodeType==1){let y=m.focusNode.childNodes[m.focusOffset];y&&y.contentEditable=="false"&&(a=!0)}if(!(a||g&&Lr)&&Ho(u.node,u.offset,m.anchorNode,m.anchorOffset)&&Ho(f.node,f.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||t==r)&&!(g&&Bn)){h.collapse(u.node,u.offset);try{t!=r&&h.extend(f.node,f.offset),b=!0}catch{}}if(!b){if(t>r){let j=u;u=f,f=j}let y=document.createRange();y.setEnd(f.node,f.offset),y.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(y)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,r){for(let n=0,a=0;a<this.children.length;a++){let l=this.children[a],c=n+l.size;if(n==c?t<=c&&r>=n:t<c&&r>n){let u=n+l.border,f=c-l.border;if(t>=u&&r<=f){this.dirty=t==n||r==c?wo:K4,t==u&&r==f&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=ps:l.markDirty(t-u,r-u);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?wo:ps}n=c}this.dirty=wo}markParentsDirty(){let t=1;for(let r=this.parent;r;r=r.parent,t++){let n=t==1?wo:K4;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class GN extends ed{constructor(t,r,n,a){let l,c=r.type.toDOM;if(typeof c=="function"&&(c=c(n,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!r.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(t,[],c,null),this.widget=r,this.widget=r,l=this}matchesWidget(t){return this.dirty==_n&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let r=this.widget.spec.stopEvent;return r?r(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class UR extends ed{constructor(t,r,n,a){super(t,[],r,null),this.textDOM=n,this.text=a}get size(){return this.text.length}localPosFromDOM(t,r){return t!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class $o extends ed{constructor(t,r,n,a,l){super(t,[],n,a),this.mark=r,this.spec=l}static create(t,r,n,a){let l=a.nodeViews[r.type.name],c=l&&l(r,a,n);return(!c||!c.dom)&&(c=qo.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new $o(t,r,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&ps||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=ps&&this.mark.eq(t)}markDirty(t,r){if(super.markDirty(t,r),this.dirty!=_n){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=_n}}slice(t,r,n){let a=$o.create(this.parent,this.mark,!0,n),l=this.children,c=this.size;r<c&&(l=Dx(l,r,c,n)),t>0&&(l=Dx(l,0,t,n));for(let u=0;u<l.length;u++)l[u].parent=a;return a.children=l,a}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ia extends ed{constructor(t,r,n,a,l,c,u,f,h){super(t,[],l,c),this.node=r,this.outerDeco=n,this.innerDeco=a,this.nodeDOM=u}static create(t,r,n,a,l,c){let u=l.nodeViews[r.type.name],f,h=u&&u(r,l,()=>{if(!f)return c;if(f.parent)return f.parent.posBeforeChild(f)},n,a),m=h&&h.dom,g=h&&h.contentDOM;if(r.isText){if(!m)m=document.createTextNode(r.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:g}=qo.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!g&&!r.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),r.type.spec.draggable&&(m.draggable=!0));let b=m;return m=QN(m,n,r),h?f=new FR(t,r,n,a,m,g||null,b,h,l,c+1):r.isText?new Ah(t,r,n,a,m,b,l):new Ia(t,r,n,a,m,g||null,b,l,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Ee.empty)}return t}matchesNode(t,r,n){return this.dirty==_n&&t.eq(this.node)&&jf(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,r){let n=this.node.inlineContent,a=r,l=t.composing?this.localCompositionInfo(t,r):null,c=l&&l.pos>-1?l:null,u=l&&l.pos<0,f=new WR(this,c&&c.node,t);YR(this.node,this.innerDeco,(h,m,g)=>{h.spec.marks?f.syncToMarks(h.spec.marks,n,t):h.type.side>=0&&!g&&f.syncToMarks(m==this.node.childCount?It.none:this.node.child(m).marks,n,t),f.placeWidget(h,t,a)},(h,m,g,b)=>{f.syncToMarks(h.marks,n,t);let y;f.findNodeMatch(h,m,g,b)||u&&t.state.selection.from>a&&t.state.selection.to<a+h.nodeSize&&(y=f.findIndexWithChild(l.node))>-1&&f.updateNodeAt(h,m,g,y,t)||f.updateNextNode(h,m,g,t,b,a)||f.addNode(h,m,g,t,a),a+=h.nodeSize}),f.syncToMarks([],n,t),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==wo)&&(c&&this.protectLocalComposition(t,c),YN(this.contentDOM,this.children,t),Jl&&JR(this.dom))}localCompositionInfo(t,r){let{from:n,to:a}=t.state.selection;if(!(t.state.selection instanceof st)||n<r||a>r+this.node.content.size)return null;let l=t.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let c=l.nodeValue,u=QR(this.node.content,c,n-r,a-r);return u<0?null:{node:l,pos:u,text:c}}else return{node:l,pos:-1,text:""}}protectLocalComposition(t,{node:r,pos:n,text:a}){if(this.getDesc(r))return;let l=r;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let c=new UR(this,l,r,a);t.input.compositionNodes.push(c),this.children=Dx(this.children,n,n+a.length,t,c)}update(t,r,n,a){return this.dirty==ps||!t.sameMarkup(this.node)?!1:(this.updateInner(t,r,n,a),!0)}updateInner(t,r,n,a){this.updateOuterDeco(r),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=_n}updateOuterDeco(t){if(jf(t,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=JN(this.dom,this.nodeDOM,Rx(this.outerDeco,this.node,r),Rx(t,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Y4(e,t,r,n,a){QN(n,t,e);let l=new Ia(void 0,e,t,r,n,n,n,a,0);return l.contentDOM&&l.updateChildren(a,0),l}class Ah extends Ia{constructor(t,r,n,a,l,c,u){super(t,r,n,a,l,null,c,u,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,r,n,a){return this.dirty==ps||this.dirty!=_n&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=_n||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=t,this.dirty=_n,!0)}inParent(){let t=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,r,n){return t==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(t,r,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,r,n){let a=this.node.cut(t,r),l=document.createTextNode(a.text);return new Ah(this.parent,a,this.outerDeco,this.innerDeco,l,l,n)}markDirty(t,r){super.markDirty(t,r),this.dom!=this.nodeDOM&&(t==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=ps)}get domAtom(){return!1}isText(t){return this.node.text==t}}class KN extends ed{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==_n&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class FR extends Ia{constructor(t,r,n,a,l,c,u,f,h,m){super(t,r,n,a,l,c,u,h,m),this.spec=f}update(t,r,n,a){if(this.dirty==ps)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let l=this.spec.update(t,r,n);return l&&this.updateInner(t,r,n,a),l}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,r,n,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,r,n,a){this.spec.setSelection?this.spec.setSelection(t,r,n.root):super.setSelection(t,r,n,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function YN(e,t,r){let n=e.firstChild,a=!1;for(let l=0;l<t.length;l++){let c=t[l],u=c.dom;if(u.parentNode==e){for(;u!=n;)n=J4(n),a=!0;n=n.nextSibling}else a=!0,e.insertBefore(u,n);if(c instanceof $o){let f=n?n.previousSibling:e.lastChild;YN(c.contentDOM,c.children,r),n=f?f.nextSibling:e.firstChild}}for(;n;)n=J4(n),a=!0;a&&r.trackWrites==e&&(r.trackWrites=null)}const gc=function(e){e&&(this.nodeName=e)};gc.prototype=Object.create(null);const So=[new gc];function Rx(e,t,r){if(e.length==0)return So;let n=r?So[0]:new gc,a=[n];for(let l=0;l<e.length;l++){let c=e[l].type.attrs;if(c){c.nodeName&&a.push(n=new gc(c.nodeName));for(let u in c){let f=c[u];f!=null&&(r&&a.length==1&&a.push(n=new gc(t.isInline?"span":"div")),u=="class"?n.class=(n.class?n.class+" ":"")+f:u=="style"?n.style=(n.style?n.style+";":"")+f:u!="nodeName"&&(n[u]=f))}}}return a}function JN(e,t,r,n){if(r==So&&n==So)return t;let a=t;for(let l=0;l<n.length;l++){let c=n[l],u=r[l];if(l){let f;u&&u.nodeName==c.nodeName&&a!=e&&(f=a.parentNode)&&f.nodeName.toLowerCase()==c.nodeName||(f=document.createElement(c.nodeName),f.pmIsDeco=!0,f.appendChild(a),u=So[0]),a=f}qR(a,u||So[0],c)}return a}function qR(e,t,r){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&e.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=t[n]&&e.setAttribute(n,r[n]);if(t.class!=r.class){let n=t.class?t.class.split(" ").filter(Boolean):[],a=r.class?r.class.split(" ").filter(Boolean):[];for(let l=0;l<n.length;l++)a.indexOf(n[l])==-1&&e.classList.remove(n[l]);for(let l=0;l<a.length;l++)n.indexOf(a[l])==-1&&e.classList.add(a[l]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=r.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=n.exec(t.style);)e.style.removeProperty(a[1])}r.style&&(e.style.cssText+=r.style)}}function QN(e,t,r){return JN(e,e,So,Rx(t,r,e.nodeType!=1))}function jf(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].type.eq(t[r].type))return!1;return!0}function J4(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class WR{constructor(t,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=GR(t.node.content,t)}destroyBetween(t,r){if(t!=r){for(let n=t;n<r;n++)this.top.children[n].destroy();this.top.children.splice(t,r-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,r,n){let a=0,l=this.stack.length>>1,c=Math.min(l,t.length);for(;a<c&&(a==l-1?this.top:this.stack[a+1<<1]).matchesMark(t[a])&&t[a].type.spec.spanning!==!1;)a++;for(;a<l;)this.destroyRest(),this.top.dirty=_n,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<t.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let h=this.top.children[f];if(h.matchesMark(t[l])&&!this.isLocked(h.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=$o.create(this.top,t[l],r,n);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,l++}}findNodeMatch(t,r,n,a){let l=-1,c;if(a>=this.preMatch.index&&(c=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&c.matchesNode(t,r,n))l=this.top.children.indexOf(c,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let h=this.top.children[u];if(h.matchesNode(t,r,n)&&!this.preMatch.matched.has(h)){l=u;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(t,r,n,a,l){let c=this.top.children[a];return c.dirty==ps&&c.dom==c.contentDOM&&(c.dirty=wo),c.update(t,r,n,l)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(t){for(;;){let r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==n)return a}return-1}t=r}}updateNextNode(t,r,n,a,l,c){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof Ia){let h=this.preMatch.matched.get(f);if(h!=null&&h!=l)return!1;let m=f.dom,g,b=this.isLocked(m)&&!(t.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==t.text&&f.dirty!=ps&&jf(r,f.outerDeco));if(!b&&f.update(t,r,n,a))return this.destroyBetween(this.index,u),f.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(f,t,r,n,a,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=wo,g.updateChildren(a,c+1),g.dirty=_n),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,r,n,a,l,c){if(t.dirty||r.isAtom||!t.children.length||!t.node.content.eq(r.content)||!jf(n,t.outerDeco)||!a.eq(t.innerDeco))return null;let u=Ia.create(this.top,r,n,a,l,c);if(u.contentDOM){u.children=t.children,t.children=[];for(let f of u.children)f.parent=u}return t.destroy(),u}addNode(t,r,n,a,l){let c=Ia.create(this.top,t,r,n,a,l);c.contentDOM&&c.updateChildren(a,l+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(t,r,n){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(t)&&(t==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let l=new GN(this.top,t,r,n);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],r=this.top;for(;t instanceof $o;)r=t,t=r.children[r.children.length-1];(!t||!(t instanceof Ah)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Lr||gr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(t,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let a=new KN(this.top,[],n,null);r!=this.top?r.children.push(a):r.children.splice(this.index++,0,a),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function GR(e,t){let r=t,n=r.children.length,a=e.childCount,l=new Map,c=[];e:for(;a>0;){let u;for(;;)if(n){let h=r.children[n-1];if(h instanceof $o)r=h,n=h.children.length;else{u=h,n--;break}}else{if(r==t)break e;n=r.parent.children.indexOf(r),r=r.parent}let f=u.node;if(f){if(f!=e.child(a-1))break;--a,l.set(u,a),c.push(u)}}return{index:a,matched:l,matches:c.reverse()}}function KR(e,t){return e.type.side-t.type.side}function YR(e,t,r,n){let a=t.locals(e),l=0;if(a.length==0){for(let h=0;h<e.childCount;h++){let m=e.child(h);n(m,a,t.forChild(l,m),h),l+=m.nodeSize}return}let c=0,u=[],f=null;for(let h=0;;){let m,g;for(;c<a.length&&a[c].to==l;){let S=a[c++];S.widget&&(m?(g||(g=[m])).push(S):m=S)}if(m)if(g){g.sort(KR);for(let S=0;S<g.length;S++)r(g[S],h,!!f)}else r(m,h,!!f);let b,y;if(f)y=-1,b=f,f=null;else if(h<e.childCount)y=h,b=e.child(h++);else break;for(let S=0;S<u.length;S++)u[S].to<=l&&u.splice(S--,1);for(;c<a.length&&a[c].from<=l&&a[c].to>l;)u.push(a[c++]);let j=l+b.nodeSize;if(b.isText){let S=j;c<a.length&&a[c].from<S&&(S=a[c].from);for(let N=0;N<u.length;N++)u[N].to<S&&(S=u[N].to);S<j&&(f=b.cut(S-l),b=b.cut(0,S-l),j=S,y=-1)}else for(;c<a.length&&a[c].to<j;)c++;let w=b.isInline&&!b.isLeaf?u.filter(S=>!S.inline):u.slice();n(b,w,t.forChild(l,b),y),l=j}}function JR(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function QR(e,t,r,n){for(let a=0,l=0;a<e.childCount&&l<=n;){let c=e.child(a++),u=l;if(l+=c.nodeSize,!c.isText)continue;let f=c.text;for(;a<e.childCount;){let h=e.child(a++);if(l+=h.nodeSize,!h.isText)break;f+=h.text}if(l>=r){if(l>=n&&f.slice(n-t.length-u,n-u)==t)return n-t.length;let h=u<n?f.lastIndexOf(t,n-u-1):-1;if(h>=0&&h+t.length+u>=r)return u+h;if(r==n&&f.length>=n+t.length-u&&f.slice(n-u,n-u+t.length)==t)return n}}return-1}function Dx(e,t,r,n,a){let l=[];for(let c=0,u=0;c<e.length;c++){let f=e[c],h=u,m=u+=f.size;h>=r||m<=t?l.push(f):(h<t&&l.push(f.slice(0,t-h,n)),a&&(l.push(a),a=void 0),m>r&&l.push(f.slice(r-h,f.size,n)))}return l}function $0(e,t=null){let r=e.domSelectionRange(),n=e.state.doc;if(!r.focusNode)return null;let a=e.docView.nearestDesc(r.focusNode),l=a&&a.size==0,c=e.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(c<0)return null;let u=n.resolve(c),f,h;if(Eh(r)){for(f=c;a&&!a.node;)a=a.parent;let g=a.node;if(a&&g.isAtom&&Je.isSelectable(g)&&a.parent&&!(g.isInline&&SR(r.focusNode,r.focusOffset,a.dom))){let b=a.posBefore;h=new Je(c==b?u:n.resolve(b))}}else{if(r instanceof e.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let g=c,b=c;for(let y=0;y<r.rangeCount;y++){let j=r.getRangeAt(y);g=Math.min(g,e.docView.posFromDOM(j.startContainer,j.startOffset,1)),b=Math.max(b,e.docView.posFromDOM(j.endContainer,j.endOffset,-1))}if(g<0)return null;[f,c]=b==e.state.selection.anchor?[b,g]:[g,b],u=n.resolve(c)}else f=e.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(f<0)return null}let m=n.resolve(f);if(!h){let g=t=="pointer"||e.state.selection.head<u.pos&&!l?1:-1;h=V0(e,m,u,g)}return h}function XN(e){return e.editable?e.hasFocus():ew(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ws(e,t=!1){let r=e.state.selection;if(ZN(e,r),!!XN(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&gr){let n=e.domSelectionRange(),a=e.domObserver.currentSelection;if(n.anchorNode&&a.anchorNode&&Ho(n.anchorNode,n.anchorOffset,a.anchorNode,a.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)ZR(e);else{let{anchor:n,head:a}=r,l,c;Q4&&!(r instanceof st)&&(r.$from.parent.inlineContent||(l=X4(e,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(c=X4(e,r.to))),e.docView.setSelection(n,a,e,t),Q4&&(l&&Z4(l),c&&Z4(c)),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&XR(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Q4=Lr||gr&&IN<63;function X4(e,t){let{node:r,offset:n}=e.docView.domFromPos(t,0),a=n<r.childNodes.length?r.childNodes[n]:null,l=n?r.childNodes[n-1]:null;if(Lr&&a&&a.contentEditable=="false")return Og(a);if((!a||a.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(a)return Og(a);if(l)return Og(l)}}function Og(e){return e.contentEditable="true",Lr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Z4(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function XR(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let r=e.domSelectionRange(),n=r.anchorNode,a=r.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=a)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!XN(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function ZR(e){let t=e.domSelection();if(!t)return;let r=e.cursorWrapper.dom,n=r.nodeName=="IMG";n?t.collapse(r.parentNode,Cr(r)+1):t.collapse(r,0),!n&&!e.state.selection.visible&&Zr&&Pa<=11&&(r.disabled=!0,r.disabled=!1)}function ZN(e,t){if(t instanceof Je){let r=e.docView.descAt(t.from);r!=e.lastSelectedViewDesc&&(e3(e),r&&r.selectNode(),e.lastSelectedViewDesc=r)}else e3(e)}function e3(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function V0(e,t,r,n){return e.someProp("createSelectionBetween",a=>a(e,t,r))||st.between(t,r,n)}function t3(e){return e.editable&&!e.hasFocus()?!1:ew(e)}function ew(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function eD(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),r=e.domSelectionRange();return Ho(t.node,t.offset,r.anchorNode,r.anchorOffset)}function zx(e,t){let{$anchor:r,$head:n}=e.selection,a=t>0?r.max(n):r.min(n),l=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return l&&ft.findFrom(l,t)}function Ca(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function r3(e,t,r){let n=e.state.selection;if(n instanceof st)if(r.indexOf("s")>-1){let{$head:a}=n,l=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let c=e.state.doc.resolve(a.pos+l.nodeSize*(t<0?-1:1));return Ca(e,new st(n.$anchor,c))}else if(n.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let a=zx(e.state,t);return a&&a instanceof Je?Ca(e,a):!1}else if(!(zn&&r.indexOf("m")>-1)){let a=n.$head,l=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter,c;if(!l||l.isText)return!1;let u=t<0?a.pos-l.nodeSize:a.pos;return l.isAtom||(c=e.docView.descAt(u))&&!c.contentDOM?Je.isSelectable(l)?Ca(e,new Je(t<0?e.state.doc.resolve(a.pos-l.nodeSize):a)):Zc?Ca(e,new st(e.state.doc.resolve(t<0?u:u+l.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Je&&n.node.isInline)return Ca(e,new st(t>0?n.$to:n.$from));{let a=zx(e.state,t);return a?Ca(e,a):!1}}}function Nf(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function xc(e,t){let r=e.pmViewDesc;return r&&r.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Rl(e,t){return t<0?tD(e):rD(e)}function tD(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let a,l,c=!1;for(Bn&&r.nodeType==1&&n<Nf(r)&&xc(r.childNodes[n],-1)&&(c=!0);;)if(n>0){if(r.nodeType!=1)break;{let u=r.childNodes[n-1];if(xc(u,-1))a=r,l=--n;else if(u.nodeType==3)r=u,n=r.nodeValue.length;else break}}else{if(tw(r))break;{let u=r.previousSibling;for(;u&&xc(u,-1);)a=r.parentNode,l=Cr(u),u=u.previousSibling;if(u)r=u,n=Nf(r);else{if(r=r.parentNode,r==e.dom)break;n=0}}}c?Lx(e,r,n):a&&Lx(e,a,l)}function rD(e){let t=e.domSelectionRange(),r=t.focusNode,n=t.focusOffset;if(!r)return;let a=Nf(r),l,c;for(;;)if(n<a){if(r.nodeType!=1)break;let u=r.childNodes[n];if(xc(u,1))l=r,c=++n;else break}else{if(tw(r))break;{let u=r.nextSibling;for(;u&&xc(u,1);)l=u.parentNode,c=Cr(u)+1,u=u.nextSibling;if(u)r=u,n=0,a=Nf(r);else{if(r=r.parentNode,r==e.dom)break;n=a=0}}}l&&Lx(e,l,c)}function tw(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function nD(e,t){for(;e&&t==e.childNodes.length&&!Xc(e);)t=Cr(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let r=e.childNodes[t];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=0}}function sD(e,t){for(;e&&!t&&!Xc(e);)t=Cr(e),e=e.parentNode;for(;e&&t;){let r=e.childNodes[t-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;e=r,t=e.childNodes.length}}function Lx(e,t,r){if(t.nodeType!=3){let l,c;(c=nD(t,r))?(t=c,r=0):(l=sD(t,r))&&(t=l,r=l.nodeValue.length)}let n=e.domSelection();if(!n)return;if(Eh(n)){let l=document.createRange();l.setEnd(t,r),l.setStart(t,r),n.removeAllRanges(),n.addRange(l)}else n.extend&&n.extend(t,r);e.domObserver.setCurSelection();let{state:a}=e;setTimeout(()=>{e.state==a&&Ws(e)},50)}function n3(e,t){let r=e.state.doc.resolve(t);if(!(gr||HN)&&r.parent.inlineContent){let a=e.coordsAtPos(t);if(t>r.start()){let l=e.coordsAtPos(t-1),c=(l.top+l.bottom)/2;if(c>a.top&&c<a.bottom&&Math.abs(l.left-a.left)>1)return l.left<a.left?"ltr":"rtl"}if(t<r.end()){let l=e.coordsAtPos(t+1),c=(l.top+l.bottom)/2;if(c>a.top&&c<a.bottom&&Math.abs(l.left-a.left)>1)return l.left>a.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function s3(e,t,r){let n=e.state.selection;if(n instanceof st&&!n.empty||r.indexOf("s")>-1||zn&&r.indexOf("m")>-1)return!1;let{$from:a,$to:l}=n;if(!a.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let c=zx(e.state,t);if(c&&c instanceof Je)return Ca(e,c)}if(!a.parent.inlineContent){let c=t<0?a:l,u=n instanceof fn?ft.near(c,t):ft.findFrom(c,t);return u?Ca(e,u):!1}return!1}function a3(e,t){if(!(e.state.selection instanceof st))return!0;let{$head:r,$anchor:n,empty:a}=e.state.selection;if(!r.sameParent(n))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let l=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(l&&!l.isText){let c=e.state.tr;return t<0?c.delete(r.pos-l.nodeSize,r.pos):c.delete(r.pos,r.pos+l.nodeSize),e.dispatch(c),!0}return!1}function o3(e,t,r){e.domObserver.stop(),t.contentEditable=r,e.domObserver.start()}function aD(e){if(!Lr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(t&&t.nodeType==1&&r==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;o3(e,n,"true"),setTimeout(()=>o3(e,n,"false"),20)}return!1}function oD(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function lD(e,t){let r=t.keyCode,n=oD(t);if(r==8||zn&&r==72&&n=="c")return a3(e,-1)||Rl(e,-1);if(r==46&&!t.shiftKey||zn&&r==68&&n=="c")return a3(e,1)||Rl(e,1);if(r==13||r==27)return!0;if(r==37||zn&&r==66&&n=="c"){let a=r==37?n3(e,e.state.selection.from)=="ltr"?-1:1:-1;return r3(e,a,n)||Rl(e,a)}else if(r==39||zn&&r==70&&n=="c"){let a=r==39?n3(e,e.state.selection.from)=="ltr"?1:-1:1;return r3(e,a,n)||Rl(e,a)}else{if(r==38||zn&&r==80&&n=="c")return s3(e,-1,n)||Rl(e,-1);if(r==40||zn&&r==78&&n=="c")return aD(e)||s3(e,1,n)||Rl(e,1);if(n==(zn?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function U0(e,t){e.someProp("transformCopied",y=>{t=y(t,e)});let r=[],{content:n,openStart:a,openEnd:l}=t;for(;a>1&&l>1&&n.childCount==1&&n.firstChild.childCount==1;){a--,l--;let y=n.firstChild;r.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),n=y.content}let c=e.someProp("clipboardSerializer")||qo.fromSchema(e.state.schema),u=lw(),f=u.createElement("div");f.appendChild(c.serializeFragment(n,{document:u}));let h=f.firstChild,m,g=0;for(;h&&h.nodeType==1&&(m=ow[h.nodeName.toLowerCase()]);){for(let y=m.length-1;y>=0;y--){let j=u.createElement(m[y]);for(;f.firstChild;)j.appendChild(f.firstChild);f.appendChild(j),g++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${a} ${l}${g?` -${g}`:""} ${JSON.stringify(r)}`);let b=e.someProp("clipboardTextSerializer",y=>y(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:f,text:b,slice:t}}function rw(e,t,r,n,a){let l=a.parent.type.spec.code,c,u;if(!r&&!t)return null;let f=!!t&&(n||l||!r);if(f){if(e.someProp("transformPastedText",b=>{t=b(t,l||n,e)}),l)return u=new He(Ee.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",b=>{u=b(u,e,!0)}),u;let g=e.someProp("clipboardTextParser",b=>b(t,a,n,e));if(g)u=g;else{let b=a.marks(),{schema:y}=e.state,j=qo.fromSchema(y);c=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(w=>{let S=c.appendChild(document.createElement("p"));w&&S.appendChild(j.serializeNode(y.text(w,b)))})}}else e.someProp("transformPastedHTML",g=>{r=g(r,e)}),c=uD(r),Zc&&fD(c);let h=c&&c.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let g=+m[3];g>0;g--){let b=c.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;c=b}if(u||(u=(e.someProp("clipboardParser")||e.someProp("domParser")||_a.fromSchema(e.state.schema)).parseSlice(c,{preserveWhitespace:!!(f||m),context:a,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!iD.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)u=hD(l3(u,+m[1],+m[2]),m[4]);else if(u=He.maxOpen(cD(u.content,a),!0),u.openStart||u.openEnd){let g=0,b=0;for(let y=u.content.firstChild;g<u.openStart&&!y.type.spec.isolating;g++,y=y.firstChild);for(let y=u.content.lastChild;b<u.openEnd&&!y.type.spec.isolating;b++,y=y.lastChild);u=l3(u,g,b)}return e.someProp("transformPasted",g=>{u=g(u,e,f)}),u}const iD=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function cD(e,t){if(e.childCount<2)return e;for(let r=t.depth;r>=0;r--){let a=t.node(r).contentMatchAt(t.index(r)),l,c=[];if(e.forEach(u=>{if(!c)return;let f=a.findWrapping(u.type),h;if(!f)return c=null;if(h=c.length&&l.length&&sw(f,l,u,c[c.length-1],0))c[c.length-1]=h;else{c.length&&(c[c.length-1]=aw(c[c.length-1],l.length));let m=nw(u,f);c.push(m),a=a.matchType(m.type),l=f}}),c)return Ee.from(c)}return e}function nw(e,t,r=0){for(let n=t.length-1;n>=r;n--)e=t[n].create(null,Ee.from(e));return e}function sw(e,t,r,n,a){if(a<e.length&&a<t.length&&e[a]==t[a]){let l=sw(e,t,r,n.lastChild,a+1);if(l)return n.copy(n.content.replaceChild(n.childCount-1,l));if(n.contentMatchAt(n.childCount).matchType(a==e.length-1?r.type:e[a+1]))return n.copy(n.content.append(Ee.from(nw(r,e,a+1))))}}function aw(e,t){if(t==0)return e;let r=e.content.replaceChild(e.childCount-1,aw(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore(Ee.empty,!0);return e.copy(r.append(n))}function Bx(e,t,r,n,a,l){let c=t<0?e.firstChild:e.lastChild,u=c.content;return e.childCount>1&&(l=0),a<n-1&&(u=Bx(u,t,r,n,a+1,l)),a>=r&&(u=t<0?c.contentMatchAt(0).fillBefore(u,l<=a).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(Ee.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,c.copy(u))}function l3(e,t,r){return t<e.openStart&&(e=new He(Bx(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),r<e.openEnd&&(e=new He(Bx(e.content,1,r,e.openEnd,0,0),e.openStart,r)),e}const ow={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let i3=null;function lw(){return i3||(i3=document.implementation.createHTMLDocument("title"))}let Rg=null;function dD(e){let t=window.trustedTypes;return t?(Rg||(Rg=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),Rg.createHTML(e)):e}function uD(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let r=lw().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(e),a;if((a=n&&ow[n[1].toLowerCase()])&&(e=a.map(l=>"<"+l+">").join("")+e+a.map(l=>"</"+l+">").reverse().join("")),r.innerHTML=dD(e),a)for(let l=0;l<a.length;l++)r=r.querySelector(a[l])||r;return r}function fD(e){let t=e.querySelectorAll(gr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<t.length;r++){let n=t[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),n)}}function hD(e,t){if(!e.size)return e;let r=e.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return e}let{content:a,openStart:l,openEnd:c}=e;for(let u=n.length-2;u>=0;u-=2){let f=r.nodes[n[u]];if(!f||f.hasRequiredAttrs())break;a=Ee.from(f.create(n[u+1],a)),l++,c++}return new He(a,l,c)}const $r={},Vr={},pD={touchstart:!0,touchmove:!0};class mD{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function gD(e){for(let t in $r){let r=$r[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=n=>{bD(e,n)&&!F0(e,n)&&(e.editable||!(n.type in Vr))&&r(e,n)},pD[t]?{passive:!0}:void 0)}Lr&&e.dom.addEventListener("input",()=>null),_x(e)}function za(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function xD(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function _x(e){e.someProp("handleDOMEvents",t=>{for(let r in t)e.input.eventHandlers[r]||e.dom.addEventListener(r,e.input.eventHandlers[r]=n=>F0(e,n))})}function F0(e,t){return e.someProp("handleDOMEvents",r=>{let n=r[t.type];return n?n(e,t)||t.defaultPrevented:!1})}function bD(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r=t.target;r!=e.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function yD(e,t){!F0(e,t)&&$r[t.type]&&(e.editable||!(t.type in Vr))&&$r[t.type](e,t)}Vr.keydown=(e,t)=>{let r=t;if(e.input.shiftKey=r.keyCode==16||r.shiftKey,!cw(e,r)&&(e.input.lastKeyCode=r.keyCode,e.input.lastKeyCodeTime=Date.now(),!($s&&gr&&r.keyCode==13)))if(r.keyCode!=229&&e.domObserver.forceFlush(),Jl&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();e.input.lastIOSEnter=n,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==n&&(e.someProp("handleKeyDown",a=>a(e,vo(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",n=>n(e,r))||lD(e,r)?r.preventDefault():za(e,"key")};Vr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Vr.keypress=(e,t)=>{let r=t;if(cw(e,r)||!r.charCode||r.ctrlKey&&!r.altKey||zn&&r.metaKey)return;if(e.someProp("handleKeyPress",a=>a(e,r))){r.preventDefault();return}let n=e.state.selection;if(!(n instanceof st)||!n.$from.sameParent(n.$to)){let a=String.fromCharCode(r.charCode),l=()=>e.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!e.someProp("handleTextInput",c=>c(e,n.$from.pos,n.$to.pos,a,l))&&e.dispatch(l()),r.preventDefault()}};function Th(e){return{left:e.clientX,top:e.clientY}}function vD(e,t){let r=t.x-e.clientX,n=t.y-e.clientY;return r*r+n*n<100}function q0(e,t,r,n,a){if(n==-1)return!1;let l=e.state.doc.resolve(n);for(let c=l.depth+1;c>0;c--)if(e.someProp(t,u=>c>l.depth?u(e,r,l.nodeAfter,l.before(c),a,!0):u(e,r,l.node(c),l.before(c),a,!1)))return!0;return!1}function Vl(e,t,r){if(e.focused||e.focus(),e.state.selection.eq(t))return;let n=e.state.tr.setSelection(t);n.setMeta("pointer",!0),e.dispatch(n)}function jD(e,t){if(t==-1)return!1;let r=e.state.doc.resolve(t),n=r.nodeAfter;return n&&n.isAtom&&Je.isSelectable(n)?(Vl(e,new Je(r)),!0):!1}function ND(e,t){if(t==-1)return!1;let r=e.state.selection,n,a;r instanceof Je&&(n=r.node);let l=e.state.doc.resolve(t);for(let c=l.depth+1;c>0;c--){let u=c>l.depth?l.nodeAfter:l.node(c);if(Je.isSelectable(u)){n&&r.$from.depth>0&&c>=r.$from.depth&&l.before(r.$from.depth+1)==r.$from.pos?a=l.before(r.$from.depth):a=l.before(c);break}}return a!=null?(Vl(e,Je.create(e.state.doc,a)),!0):!1}function wD(e,t,r,n,a){return q0(e,"handleClickOn",t,r,n)||e.someProp("handleClick",l=>l(e,t,n))||(a?ND(e,r):jD(e,r))}function SD(e,t,r,n){return q0(e,"handleDoubleClickOn",t,r,n)||e.someProp("handleDoubleClick",a=>a(e,t,n))}function CD(e,t,r,n){return q0(e,"handleTripleClickOn",t,r,n)||e.someProp("handleTripleClick",a=>a(e,t,n))||kD(e,r,n)}function kD(e,t,r){if(r.button!=0)return!1;let n=e.state.doc;if(t==-1)return n.inlineContent?(Vl(e,st.create(n,0,n.content.size)),!0):!1;let a=n.resolve(t);for(let l=a.depth+1;l>0;l--){let c=l>a.depth?a.nodeAfter:a.node(l),u=a.before(l);if(c.inlineContent)Vl(e,st.create(n,u+1,u+1+c.content.size));else if(Je.isSelectable(c))Vl(e,Je.create(n,u));else continue;return!0}}function W0(e){return wf(e)}const iw=zn?"metaKey":"ctrlKey";$r.mousedown=(e,t)=>{let r=t;e.input.shiftKey=r.shiftKey;let n=W0(e),a=Date.now(),l="singleClick";a-e.input.lastClick.time<500&&vD(r,e.input.lastClick)&&!r[iw]&&e.input.lastClick.button==r.button&&(e.input.lastClick.type=="singleClick"?l="doubleClick":e.input.lastClick.type=="doubleClick"&&(l="tripleClick")),e.input.lastClick={time:a,x:r.clientX,y:r.clientY,type:l,button:r.button};let c=e.posAtCoords(Th(r));c&&(l=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new ED(e,c,r,!!n)):(l=="doubleClick"?SD:CD)(e,c.pos,c.inside,r)?r.preventDefault():za(e,"pointer"))};class ED{constructor(t,r,n,a){this.view=t,this.pos=r,this.event=n,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[iw],this.allowDefault=n.shiftKey;let l,c;if(r.inside>-1)l=t.state.doc.nodeAt(r.inside),c=r.inside;else{let m=t.state.doc.resolve(r.pos);l=m.parent,c=m.depth?m.before():0}const u=a?null:n.target,f=u?t.docView.nearestDesc(u,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:h}=t.state;(n.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||h instanceof Je&&h.from<=c&&h.to>c)&&(this.mightDrag={node:l,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Bn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),za(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ws(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Th(t))),this.updateAllowDefault(t),this.allowDefault||!r?za(this.view,"pointer"):wD(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Lr&&this.mightDrag&&!this.mightDrag.node.isAtom||gr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Vl(this.view,ft.near(this.view.state.doc.resolve(r.pos))),t.preventDefault()):za(this.view,"pointer")}move(t){this.updateAllowDefault(t),za(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}$r.touchstart=e=>{e.input.lastTouch=Date.now(),W0(e),za(e,"pointer")};$r.touchmove=e=>{e.input.lastTouch=Date.now(),za(e,"pointer")};$r.contextmenu=e=>W0(e);function cw(e,t){return e.composing?!0:Lr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const AD=$s?5e3:-1;Vr.compositionstart=Vr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,r=t.selection.$to;if(t.selection instanceof st&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||gr&&HN&&TD(e)))e.markCursor=e.state.storedMarks||r.marks(),wf(e,!0),e.markCursor=null;else if(wf(e,!t.selection.empty),Bn&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=e.domSelectionRange();for(let a=n.focusNode,l=n.focusOffset;a&&a.nodeType==1&&l!=0;){let c=l<0?a.lastChild:a.childNodes[l-1];if(!c)break;if(c.nodeType==3){let u=e.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else a=c,l=-1}}e.input.composing=!0}dw(e,AD)};function TD(e){let{focusNode:t,focusOffset:r}=e.domSelectionRange();if(!t||t.nodeType!=1||r>=t.childNodes.length)return!1;let n=t.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}Vr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,dw(e,20))};function dw(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>wf(e),t))}function uw(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=OD());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function MD(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let r=NR(t.focusNode,t.focusOffset),n=wR(t.focusNode,t.focusOffset);if(r&&n&&r!=n){let a=n.pmViewDesc,l=e.domObserver.lastChangedTextNode;if(r==l||n==l)return l;if(!a||!a.isText(n.nodeValue))return n;if(e.input.compositionNode==n){let c=r.pmViewDesc;if(!(!c||!c.isText(r.nodeValue)))return n}}return r||n}function OD(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function wf(e,t=!1){if(!($s&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),uw(e),t||e.docView&&e.docView.dirty){let r=$0(e),n=e.state.selection;return r&&!r.eq(n)?e.dispatch(e.state.tr.setSelection(r)):(e.markCursor||t)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function RD(e,t){if(!e.dom.parentNode)return;let r=e.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),a=document.createRange();a.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(a),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),e.focus()},50)}const Bc=Zr&&Pa<15||Jl&&ER<604;$r.copy=Vr.cut=(e,t)=>{let r=t,n=e.state.selection,a=r.type=="cut";if(n.empty)return;let l=Bc?null:r.clipboardData,c=n.content(),{dom:u,text:f}=U0(e,c);l?(r.preventDefault(),l.clearData(),l.setData("text/html",u.innerHTML),l.setData("text/plain",f)):RD(e,u),a&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function DD(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function zD(e,t){if(!e.dom.parentNode)return;let r=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,n=e.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let a=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),n.parentNode&&n.parentNode.removeChild(n),r?_c(e,n.value,null,a,t):_c(e,n.textContent,n.innerHTML,a,t)},50)}function _c(e,t,r,n,a){let l=rw(e,t,r,n,e.state.selection.$from);if(e.someProp("handlePaste",f=>f(e,a,l||He.empty)))return!0;if(!l)return!1;let c=DD(l),u=c?e.state.tr.replaceSelectionWith(c,n):e.state.tr.replaceSelection(l);return e.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function fw(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let r=e.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Vr.paste=(e,t)=>{let r=t;if(e.composing&&!$s)return;let n=Bc?null:r.clipboardData,a=e.input.shiftKey&&e.input.lastKeyCode!=45;n&&_c(e,fw(n),n.getData("text/html"),a,r)?r.preventDefault():zD(e,r)};class hw{constructor(t,r,n){this.slice=t,this.move=r,this.node=n}}const LD=zn?"altKey":"ctrlKey";function pw(e,t){let r=e.someProp("dragCopies",n=>!n(t));return r??!t[LD]}$r.dragstart=(e,t)=>{let r=t,n=e.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let a=e.state.selection,l=a.empty?null:e.posAtCoords(Th(r)),c;if(!(l&&l.pos>=a.from&&l.pos<=(a instanceof Je?a.to-1:a.to))){if(n&&n.mightDrag)c=Je.create(e.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let g=e.docView.nearestDesc(r.target,!0);g&&g.node.type.spec.draggable&&g!=e.docView&&(c=Je.create(e.state.doc,g.posBefore))}}let u=(c||e.state.selection).content(),{dom:f,text:h,slice:m}=U0(e,u);(!r.dataTransfer.files.length||!gr||IN>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Bc?"Text":"text/html",f.innerHTML),r.dataTransfer.effectAllowed="copyMove",Bc||r.dataTransfer.setData("text/plain",h),e.dragging=new hw(m,pw(e,r),c)};$r.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Vr.dragover=Vr.dragenter=(e,t)=>t.preventDefault();Vr.drop=(e,t)=>{try{BD(e,t,e.dragging)}finally{e.dragging=null}};function BD(e,t,r){if(!t.dataTransfer)return;let n=e.posAtCoords(Th(t));if(!n)return;let a=e.state.doc.resolve(n.pos),l=r&&r.slice;l?e.someProp("transformPasted",y=>{l=y(l,e,!1)}):l=rw(e,fw(t.dataTransfer),Bc?null:t.dataTransfer.getData("text/html"),!1,a);let c=!!(r&&pw(e,t));if(e.someProp("handleDrop",y=>y(e,t,l||He.empty,c))){t.preventDefault();return}if(!l)return;t.preventDefault();let u=l?bN(e.state.doc,a.pos,l):a.pos;u==null&&(u=a.pos);let f=e.state.tr;if(c){let{node:y}=r;y?y.replace(f):f.deleteSelection()}let h=f.mapping.map(u),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,g=f.doc;if(m?f.replaceRangeWith(h,h,l.content.firstChild):f.replaceRange(h,h,l),f.doc.eq(g))return;let b=f.doc.resolve(h);if(m&&Je.isSelectable(l.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(l.content.firstChild))f.setSelection(new Je(b));else{let y=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((j,w,S,N)=>y=N),f.setSelection(V0(e,b,f.doc.resolve(y)))}e.focus(),e.dispatch(f.setMeta("uiEvent","drop"))}$r.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ws(e)},20))};$r.blur=(e,t)=>{let r=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),r.relatedTarget&&e.dom.contains(r.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};$r.beforeinput=(e,t)=>{if(gr&&$s&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",l=>l(e,vo(8,"Backspace")))))return;let{$cursor:a}=e.state.selection;a&&a.pos>0&&e.dispatch(e.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let e in Vr)$r[e]=Vr[e];function Pc(e,t){if(e==t)return!0;for(let r in e)if(e[r]!==t[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}class Sf{constructor(t,r){this.toDOM=t,this.spec=r||Ro,this.side=this.spec.side||0}map(t,r,n,a){let{pos:l,deleted:c}=t.mapResult(r.from+a,this.side<0?-1:1);return c?null:new Ir(l-n,l-n,this)}valid(){return!0}eq(t){return this==t||t instanceof Sf&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Pc(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Ha{constructor(t,r){this.attrs=t,this.spec=r||Ro}map(t,r,n,a){let l=t.map(r.from+a,this.spec.inclusiveStart?-1:1)-n,c=t.map(r.to+a,this.spec.inclusiveEnd?1:-1)-n;return l>=c?null:new Ir(l,c,this)}valid(t,r){return r.from<r.to}eq(t){return this==t||t instanceof Ha&&Pc(this.attrs,t.attrs)&&Pc(this.spec,t.spec)}static is(t){return t.type instanceof Ha}destroy(){}}class G0{constructor(t,r){this.attrs=t,this.spec=r||Ro}map(t,r,n,a){let l=t.mapResult(r.from+a,1);if(l.deleted)return null;let c=t.mapResult(r.to+a,-1);return c.deleted||c.pos<=l.pos?null:new Ir(l.pos-n,c.pos-n,this)}valid(t,r){let{index:n,offset:a}=t.content.findIndex(r.from),l;return a==r.from&&!(l=t.child(n)).isText&&a+l.nodeSize==r.to}eq(t){return this==t||t instanceof G0&&Pc(this.attrs,t.attrs)&&Pc(this.spec,t.spec)}destroy(){}}class Ir{constructor(t,r,n){this.from=t,this.to=r,this.type=n}copy(t,r){return new Ir(t,r,this.type)}eq(t,r=0){return this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to}map(t,r,n){return this.type.map(t,this,r,n)}static widget(t,r,n){return new Ir(t,t,new Sf(r,n))}static inline(t,r,n,a){return new Ir(t,r,new Ha(n,a))}static node(t,r,n,a){return new Ir(t,r,new G0(n,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ha}get widget(){return this.type instanceof Sf}}const Ll=[],Ro={};class Gt{constructor(t,r){this.local=t.length?t:Ll,this.children=r.length?r:Ll}static create(t,r){return r.length?Cf(r,t,0,Ro):Dr}find(t,r,n){let a=[];return this.findInner(t??0,r??1e9,a,0,n),a}findInner(t,r,n,a,l){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=r&&u.to>=t&&(!l||l(u.spec))&&n.push(u.copy(u.from+a,u.to+a))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<r&&this.children[c+1]>t){let u=this.children[c]+1;this.children[c+2].findInner(t-u,r-u,n,a+u,l)}}map(t,r,n){return this==Dr||t.maps.length==0?this:this.mapInner(t,r,0,0,n||Ro)}mapInner(t,r,n,a,l){let c;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(t,n,a);f&&f.type.valid(r,f)?(c||(c=[])).push(f):l.onRemove&&l.onRemove(this.local[u].spec)}return this.children.length?_D(this.children,c||[],t,r,n,a,l):c?new Gt(c.sort(Do),Ll):Dr}add(t,r){return r.length?this==Dr?Gt.create(t,r):this.addInner(t,r,0):this}addInner(t,r,n){let a,l=0;t.forEach((u,f)=>{let h=f+n,m;if(m=gw(r,u,h)){for(a||(a=this.children.slice());l<a.length&&a[l]<f;)l+=3;a[l]==f?a[l+2]=a[l+2].addInner(u,m,h+1):a.splice(l,0,f,f+u.nodeSize,Cf(m,u,h+1,Ro)),l+=3}});let c=mw(l?xw(r):r,-n);for(let u=0;u<c.length;u++)c[u].type.valid(t,c[u])||c.splice(u--,1);return new Gt(c.length?this.local.concat(c).sort(Do):this.local,a||this.children)}remove(t){return t.length==0||this==Dr?this:this.removeInner(t,0)}removeInner(t,r){let n=this.children,a=this.local;for(let l=0;l<n.length;l+=3){let c,u=n[l]+r,f=n[l+1]+r;for(let m=0,g;m<t.length;m++)(g=t[m])&&g.from>u&&g.to<f&&(t[m]=null,(c||(c=[])).push(g));if(!c)continue;n==this.children&&(n=this.children.slice());let h=n[l+2].removeInner(c,u+1);h!=Dr?n[l+2]=h:(n.splice(l,3),l-=3)}if(a.length){for(let l=0,c;l<t.length;l++)if(c=t[l])for(let u=0;u<a.length;u++)a[u].eq(c,r)&&(a==this.local&&(a=this.local.slice()),a.splice(u--,1))}return n==this.children&&a==this.local?this:a.length||n.length?new Gt(a,n):Dr}forChild(t,r){if(this==Dr)return this;if(r.isLeaf)return Gt.empty;let n,a;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=t){this.children[u]==t&&(n=this.children[u+2]);break}let l=t+1,c=l+r.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<c&&f.to>l&&f.type instanceof Ha){let h=Math.max(l,f.from)-l,m=Math.min(c,f.to)-l;h<m&&(a||(a=[])).push(f.copy(h,m))}}if(a){let u=new Gt(a.sort(Do),Ll);return n?new Ma([u,n]):u}return n||Dr}eq(t){if(this==t)return!0;if(!(t instanceof Gt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}locals(t){return K0(this.localsInner(t))}localsInner(t){if(this==Dr)return Ll;if(t.inlineContent||!this.local.some(Ha.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Ha||r.push(this.local[n]);return r}forEachSet(t){t(this)}}Gt.empty=new Gt([],[]);Gt.removeOverlap=K0;const Dr=Gt.empty;class Ma{constructor(t){this.members=t}map(t,r){const n=this.members.map(a=>a.map(t,r,Ro));return Ma.from(n)}forChild(t,r){if(r.isLeaf)return Gt.empty;let n=[];for(let a=0;a<this.members.length;a++){let l=this.members[a].forChild(t,r);l!=Dr&&(l instanceof Ma?n=n.concat(l.members):n.push(l))}return Ma.from(n)}eq(t){if(!(t instanceof Ma)||t.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0}locals(t){let r,n=!0;for(let a=0;a<this.members.length;a++){let l=this.members[a].localsInner(t);if(l.length)if(!r)r=l;else{n&&(r=r.slice(),n=!1);for(let c=0;c<l.length;c++)r.push(l[c])}}return r?K0(n?r:r.sort(Do)):Ll}static from(t){switch(t.length){case 0:return Dr;case 1:return t[0];default:return new Ma(t.every(r=>r instanceof Gt)?t:t.reduce((r,n)=>r.concat(n instanceof Gt?n:n.members),[]))}}forEachSet(t){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(t)}}function _D(e,t,r,n,a,l,c){let u=e.slice();for(let h=0,m=l;h<r.maps.length;h++){let g=0;r.maps[h].forEach((b,y,j,w)=>{let S=w-j-(y-b);for(let N=0;N<u.length;N+=3){let A=u[N+1];if(A<0||b>A+m-g)continue;let E=u[N]+m-g;y>=E?u[N+1]=b<=E?-2:-1:b>=m&&S&&(u[N]+=S,u[N+1]+=S)}g+=S}),m=r.maps[h].map(m,-1)}let f=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){f=!0,u[h+1]=-1;continue}let m=r.map(e[h]+l),g=m-a;if(g<0||g>=n.content.size){f=!0;continue}let b=r.map(e[h+1]+l,-1),y=b-a,{index:j,offset:w}=n.content.findIndex(g),S=n.maybeChild(j);if(S&&w==g&&w+S.nodeSize==y){let N=u[h+2].mapInner(r,S,m+1,e[h]+l+1,c);N!=Dr?(u[h]=g,u[h+1]=y,u[h+2]=N):(u[h+1]=-2,f=!0)}else f=!0}if(f){let h=PD(u,e,t,r,a,l,c),m=Cf(h,n,0,c);t=m.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,b=0;g<m.children.length;g+=3){let y=m.children[g];for(;b<u.length&&u[b]<y;)b+=3;u.splice(b,0,m.children[g],m.children[g+1],m.children[g+2])}}return new Gt(t.sort(Do),u)}function mw(e,t){if(!t||!e.length)return e;let r=[];for(let n=0;n<e.length;n++){let a=e[n];r.push(new Ir(a.from+t,a.to+t,a.type))}return r}function PD(e,t,r,n,a,l,c){function u(f,h){for(let m=0;m<f.local.length;m++){let g=f.local[m].map(n,a,h);g?r.push(g):c.onRemove&&c.onRemove(f.local[m].spec)}for(let m=0;m<f.children.length;m+=3)u(f.children[m+2],f.children[m]+h+1)}for(let f=0;f<e.length;f+=3)e[f+1]==-1&&u(e[f+2],t[f]+l+1);return r}function gw(e,t,r){if(t.isLeaf)return null;let n=r+t.nodeSize,a=null;for(let l=0,c;l<e.length;l++)(c=e[l])&&c.from>r&&c.to<n&&((a||(a=[])).push(c),e[l]=null);return a}function xw(e){let t=[];for(let r=0;r<e.length;r++)e[r]!=null&&t.push(e[r]);return t}function Cf(e,t,r,n){let a=[],l=!1;t.forEach((u,f)=>{let h=gw(e,u,f+r);if(h){l=!0;let m=Cf(h,u,r+f+1,n);m!=Dr&&a.push(f,f+u.nodeSize,m)}});let c=mw(l?xw(e):e,-r).sort(Do);for(let u=0;u<c.length;u++)c[u].type.valid(t,c[u])||(n.onRemove&&n.onRemove(c[u].spec),c.splice(u--,1));return c.length||a.length?new Gt(c,a):Dr}function Do(e,t){return e.from-t.from||e.to-t.to}function K0(e){let t=e;for(let r=0;r<t.length-1;r++){let n=t[r];if(n.from!=n.to)for(let a=r+1;a<t.length;a++){let l=t[a];if(l.from==n.from){l.to!=n.to&&(t==e&&(t=e.slice()),t[a]=l.copy(l.from,n.to),c3(t,a+1,l.copy(n.to,l.to)));continue}else{l.from<n.to&&(t==e&&(t=e.slice()),t[r]=n.copy(n.from,l.from),c3(t,a,n.copy(l.from,n.to)));break}}}return t}function c3(e,t,r){for(;t<e.length&&Do(r,e[t])>0;)t++;e.splice(t,0,r)}function Dg(e){let t=[];return e.someProp("decorations",r=>{let n=r(e.state);n&&n!=Dr&&t.push(n)}),e.cursorWrapper&&t.push(Gt.create(e.state.doc,[e.cursorWrapper.deco])),Ma.from(t)}const ID={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},HD=Zr&&Pa<=11;class $D{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class VD{constructor(t,r){this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new $D,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let a=0;a<n.length;a++)this.queue.push(n[a]);Zr&&Pa<=11&&n.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),HD&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ID)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let r=0;r<t.length;r++)this.queue.push(t[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(t3(this.view)){if(this.suppressingSelectionUpdates)return Ws(this.view);if(Zr&&Pa<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Ho(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let r=new Set,n;for(let l=t.focusNode;l;l=Yl(l))r.add(l);for(let l=t.anchorNode;l;l=Yl(l))if(r.has(l)){n=l;break}let a=n&&this.view.docView.nearestDesc(n);if(a&&a.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=t.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&t3(t)&&!this.ignoreSelectionChange(n),l=-1,c=-1,u=!1,f=[];if(t.editable)for(let m=0;m<r.length;m++){let g=this.registerMutation(r[m],f);g&&(l=l<0?g.from:Math.min(g.from,l),c=c<0?g.to:Math.max(g.to,c),g.typeOver&&(u=!0))}if(Bn&&f.length){let m=f.filter(g=>g.nodeName=="BR");if(m.length==2){let[g,b]=m;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of m){let y=b.parentNode;y&&y.nodeName=="LI"&&(!g||qD(t,g)!=y)&&b.remove()}}}else if((gr||Lr)&&f.some(m=>m.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let m of f)if(m.nodeName=="BR"&&m.parentNode){let g=m.nextSibling;g&&g.nodeType==1&&g.contentEditable=="false"&&m.parentNode.removeChild(m)}}let h=null;l<0&&a&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Eh(n)&&(h=$0(t))&&h.eq(ft.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ws(t),this.currentSelection.set(n),t.scrollToSelection()):(l>-1||a)&&(l>-1&&(t.docView.markDirty(l,c),UD(t)),this.handleDOMChange(l,c,u,f),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Ws(t),this.currentSelection.set(n))}registerMutation(t,r){if(r.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let m=0;m<t.addedNodes.length;m++){let g=t.addedNodes[m];r.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let a=t.previousSibling,l=t.nextSibling;if(Zr&&Pa<=11&&t.addedNodes.length)for(let m=0;m<t.addedNodes.length;m++){let{previousSibling:g,nextSibling:b}=t.addedNodes[m];(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(a=g),(!b||Array.prototype.indexOf.call(t.addedNodes,b)<0)&&(l=b)}let c=a&&a.parentNode==t.target?Cr(a)+1:0,u=n.localPosFromDOM(t.target,c,-1),f=l&&l.parentNode==t.target?Cr(l):t.target.childNodes.length,h=n.localPosFromDOM(t.target,f,1);return{from:u,to:h}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let d3=new WeakMap,u3=!1;function UD(e){if(!d3.has(e)&&(d3.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Bn,u3)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),u3=!0}}function f3(e,t){let r=t.startContainer,n=t.startOffset,a=t.endContainer,l=t.endOffset,c=e.domAtPos(e.state.selection.anchor);return Ho(c.node,c.offset,a,l)&&([r,n,a,l]=[a,l,r,n]),{anchorNode:r,anchorOffset:n,focusNode:a,focusOffset:l}}function FD(e,t){if(t.getComposedRanges){let a=t.getComposedRanges(e.root)[0];if(a)return f3(e,a)}let r;function n(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0),r?f3(e,r):null}function qD(e,t){for(let r=t.parentNode;r&&r!=e.dom;r=r.parentNode){let n=e.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function WD(e,t,r){let{node:n,fromOffset:a,toOffset:l,from:c,to:u}=e.docView.parseRange(t,r),f=e.domSelectionRange(),h,m=f.anchorNode;if(m&&e.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:f.anchorOffset}],Eh(f)||h.push({node:f.focusNode,offset:f.focusOffset})),gr&&e.input.lastKeyCode===8)for(let S=l;S>a;S--){let N=n.childNodes[S-1],A=N.pmViewDesc;if(N.nodeName=="BR"&&!A){l=S;break}if(!A||A.size)break}let g=e.state.doc,b=e.someProp("domParser")||_a.fromSchema(e.state.schema),y=g.resolve(c),j=null,w=b.parse(n,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:a,to:l,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:GD,context:y});if(h&&h[0].pos!=null){let S=h[0].pos,N=h[1]&&h[1].pos;N==null&&(N=S),j={anchor:S+c,head:N+c}}return{doc:w,sel:j,from:c,to:u}}function GD(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Lr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(e.parentNode.lastChild==e||Lr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const KD=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function YD(e,t,r,n,a){let l=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let R=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,q=$0(e,R);if(q&&!e.state.selection.eq(q)){if(gr&&$s&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",W=>W(e,vo(13,"Enter"))))return;let K=e.state.tr.setSelection(q);R=="pointer"?K.setMeta("pointer",!0):R=="key"&&K.scrollIntoView(),l&&K.setMeta("composition",l),e.dispatch(K)}return}let c=e.state.doc.resolve(t),u=c.sharedDepth(r);t=c.before(u+1),r=e.state.doc.resolve(r).after(u+1);let f=e.state.selection,h=WD(e,t,r),m=e.state.doc,g=m.slice(h.from,h.to),b,y;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(b=e.state.selection.to,y="end"):(b=e.state.selection.from,y="start"),e.input.lastKeyCode=null;let j=XD(g.content,h.doc.content,h.from,b,y);if(j&&e.input.domChangeCount++,(Jl&&e.input.lastIOSEnter>Date.now()-225||$s)&&a.some(R=>R.nodeType==1&&!KD.test(R.nodeName))&&(!j||j.endA>=j.endB)&&e.someProp("handleKeyDown",R=>R(e,vo(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!j)if(n&&f instanceof st&&!f.empty&&f.$head.sameParent(f.$anchor)&&!e.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))j={start:f.from,endA:f.to,endB:f.to};else{if(h.sel){let R=h3(e,e.state.doc,h.sel);if(R&&!R.eq(e.state.selection)){let q=e.state.tr.setSelection(R);l&&q.setMeta("composition",l),e.dispatch(q)}}return}e.state.selection.from<e.state.selection.to&&j.start==j.endB&&e.state.selection instanceof st&&(j.start>e.state.selection.from&&j.start<=e.state.selection.from+2&&e.state.selection.from>=h.from?j.start=e.state.selection.from:j.endA<e.state.selection.to&&j.endA>=e.state.selection.to-2&&e.state.selection.to<=h.to&&(j.endB+=e.state.selection.to-j.endA,j.endA=e.state.selection.to)),Zr&&Pa<=11&&j.endB==j.start+1&&j.endA==j.start&&j.start>h.from&&h.doc.textBetween(j.start-h.from-1,j.start-h.from+1)==" "&&(j.start--,j.endA--,j.endB--);let w=h.doc.resolveNoCache(j.start-h.from),S=h.doc.resolveNoCache(j.endB-h.from),N=m.resolve(j.start),A=w.sameParent(S)&&w.parent.inlineContent&&N.end()>=j.endA;if((Jl&&e.input.lastIOSEnter>Date.now()-225&&(!A||a.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!A&&w.pos<h.doc.content.size&&(!w.sameParent(S)||!w.parent.inlineContent)&&w.pos<S.pos&&!/\S/.test(h.doc.textBetween(w.pos,S.pos,"","")))&&e.someProp("handleKeyDown",R=>R(e,vo(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>j.start&&QD(m,j.start,j.endA,w,S)&&e.someProp("handleKeyDown",R=>R(e,vo(8,"Backspace")))){$s&&gr&&e.domObserver.suppressSelectionUpdates();return}gr&&j.endB==j.start&&(e.input.lastChromeDelete=Date.now()),$s&&!A&&w.start()!=S.start()&&S.parentOffset==0&&w.depth==S.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==j.endA&&(j.endB-=2,S=h.doc.resolveNoCache(j.endB-h.from),setTimeout(()=>{e.someProp("handleKeyDown",function(R){return R(e,vo(13,"Enter"))})},20));let E=j.start,M=j.endA,T=R=>{let q=R||e.state.tr.replace(E,M,h.doc.slice(j.start-h.from,j.endB-h.from));if(h.sel){let K=h3(e,q.doc,h.sel);K&&!(gr&&e.composing&&K.empty&&(j.start!=j.endB||e.input.lastChromeDelete<Date.now()-100)&&(K.head==E||K.head==q.mapping.map(M)-1)||Zr&&K.empty&&K.head==E)&&q.setSelection(K)}return l&&q.setMeta("composition",l),q.scrollIntoView()},D;if(A)if(w.pos==S.pos){Zr&&Pa<=11&&w.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ws(e),20));let R=T(e.state.tr.delete(E,M)),q=m.resolve(j.start).marksAcross(m.resolve(j.endA));q&&R.ensureMarks(q),e.dispatch(R)}else if(j.endA==j.endB&&(D=JD(w.parent.content.cut(w.parentOffset,S.parentOffset),N.parent.content.cut(N.parentOffset,j.endA-N.start())))){let R=T(e.state.tr);D.type=="add"?R.addMark(E,M,D.mark):R.removeMark(E,M,D.mark),e.dispatch(R)}else if(w.parent.child(w.index()).isText&&w.index()==S.index()-(S.textOffset?0:1)){let R=w.parent.textBetween(w.parentOffset,S.parentOffset),q=()=>T(e.state.tr.insertText(R,E,M));e.someProp("handleTextInput",K=>K(e,E,M,R,q))||e.dispatch(q())}else e.dispatch(T());else e.dispatch(T())}function h3(e,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:V0(e,t.resolve(r.anchor),t.resolve(r.head))}function JD(e,t){let r=e.firstChild.marks,n=t.firstChild.marks,a=r,l=n,c,u,f;for(let m=0;m<n.length;m++)a=n[m].removeFromSet(a);for(let m=0;m<r.length;m++)l=r[m].removeFromSet(l);if(a.length==1&&l.length==0)u=a[0],c="add",f=m=>m.mark(u.addToSet(m.marks));else if(a.length==0&&l.length==1)u=l[0],c="remove",f=m=>m.mark(u.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<t.childCount;m++)h.push(f(t.child(m)));if(Ee.from(h).eq(e))return{mark:u,type:c}}function QD(e,t,r,n,a){if(r-t<=a.pos-n.pos||zg(n,!0,!1)<a.pos)return!1;let l=e.resolve(t);if(!n.parent.isTextblock){let u=l.nodeAfter;return u!=null&&r==t+u.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let c=e.resolve(zg(l,!0,!0));return!c.parent.isTextblock||c.pos>r||zg(c,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(c.parent.content)}function zg(e,t,r){let n=e.depth,a=t?e.end():e.pos;for(;n>0&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,a++,t=!1;if(r){let l=e.node(n).maybeChild(e.indexAfter(n));for(;l&&!l.isLeaf;)l=l.firstChild,a++}return a}function XD(e,t,r,n,a){let l=e.findDiffStart(t,r);if(l==null)return null;let{a:c,b:u}=e.findDiffEnd(t,r+e.size,r+t.size);if(a=="end"){let f=Math.max(0,l-Math.min(c,u));n-=c+f-l}if(c<l&&e.size<t.size){let f=n<=l&&n>=c?l-n:0;l-=f,l&&l<t.size&&p3(t.textBetween(l-1,l+1))&&(l+=f?1:-1),u=l+(u-c),c=l}else if(u<l){let f=n<=l&&n>=u?l-n:0;l-=f,l&&l<e.size&&p3(e.textBetween(l-1,l+1))&&(l+=f?1:-1),c=l+(c-u),u=l}return{start:l,endA:c,endB:u}}function p3(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),r=e.charCodeAt(1);return t>=56320&&t<=57343&&r>=55296&&r<=56319}class bw{constructor(t,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new mD,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(y3),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=x3(this),g3(this),this.nodeViews=b3(this),this.docView=Y4(this.state.doc,m3(this),Dg(this),this.dom,this),this.domObserver=new VD(this,(n,a,l,c)=>YD(this,n,a,l,c)),this.domObserver.start(),gD(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let r in t)this._props[r]=t[r];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&_x(this);let r=this._props;this._props=t,t.plugins&&(t.plugins.forEach(y3),this.directPlugins=t.plugins),this.updateStateInner(t.state,r)}setProps(t){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in t)r[n]=t[n];this.update(r)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,r){var n;let a=this.state,l=!1,c=!1;t.storedMarks&&this.composing&&(uw(this),c=!0),this.state=t;let u=a.plugins!=t.plugins||this._props.plugins!=r.plugins;if(u||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let y=b3(this);ez(y,this.nodeViews)&&(this.nodeViews=y,l=!0)}(u||r.handleDOMEvents!=this._props.handleDOMEvents)&&_x(this),this.editable=x3(this),g3(this);let f=Dg(this),h=m3(this),m=a.plugins!=t.plugins&&!a.doc.eq(t.doc)?"reset":t.scrollToSelection>a.scrollToSelection?"to selection":"preserve",g=l||!this.docView.matchesNode(t.doc,h,f);(g||!t.selection.eq(a.selection))&&(c=!0);let b=m=="preserve"&&c&&this.dom.style.overflowAnchor==null&&MR(this);if(c){this.domObserver.stop();let y=g&&(Zr||gr)&&!this.composing&&!a.selection.empty&&!t.selection.empty&&ZD(a.selection,t.selection);if(g){let j=gr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=MD(this)),(l||!this.docView.update(t.doc,h,f,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=Y4(t.doc,h,f,this.dom,this)),j&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&eD(this))?Ws(this,y):(ZN(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((n=this.dragging)===null||n===void 0)&&n.node&&!a.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,a),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&OR(b)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Je){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&U4(this,r.getBoundingClientRect(),t)}else U4(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,t)}}updateDraggedNode(t,r){let n=t.node,a=-1;if(this.state.doc.nodeAt(n.from)==n.node)a=n.from;else{let l=n.from+(this.state.doc.content.size-r.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==n.node&&(a=l)}this.dragging=new hw(t.slice,t.move,a<0?void 0:Je.create(this.state.doc,a))}someProp(t,r){let n=this._props&&this._props[t],a;if(n!=null&&(a=r?r(n):n))return a;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[t];if(u!=null&&(a=r?r(u):u))return a}let l=this.state.plugins;if(l)for(let c=0;c<l.length;c++){let u=l[c].props[t];if(u!=null&&(a=r?r(u):u))return a}}hasFocus(){if(Zr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&RR(this.dom),Ws(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return t||document}updateRoot(){this._root=null}posAtCoords(t){return _R(this,t)}coordsAtPos(t,r=1){return qN(this,t,r)}domAtPos(t,r=0){return this.docView.domFromPos(t,r)}nodeDOM(t){let r=this.docView.descAt(t);return r?r.nodeDOM:null}posAtDOM(t,r,n=-1){let a=this.docView.posFromDOM(t,r,n);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(t,r){return VR(this,r||this.state,t)}pasteHTML(t,r){return _c(this,"",t,!1,r||new ClipboardEvent("paste"))}pasteText(t,r){return _c(this,t,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(t){return U0(this,t)}destroy(){this.docView&&(xD(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Dg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,vR())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return yD(this,t)}domSelectionRange(){let t=this.domSelection();return t?Lr&&this.root.nodeType===11&&CR(this.dom.ownerDocument)==this.dom&&FD(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}bw.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function m3(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(e.state)),r)for(let n in r)n=="class"?t.class+=" "+r[n]:n=="style"?t.style=(t.style?t.style+";":"")+r[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(r[n]))}),t.translate||(t.translate="no"),[Ir.node(0,e.state.doc.content.size,t)]}function g3(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Ir.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function x3(e){return!e.someProp("editable",t=>t(e.state)===!1)}function ZD(e,t){let r=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(r)!=t.$anchor.start(r)}function b3(e){let t=Object.create(null);function r(n){for(let a in n)Object.prototype.hasOwnProperty.call(t,a)||(t[a]=n[a])}return e.someProp("nodeViews",r),e.someProp("markViews",r),t}function ez(e,t){let r=0,n=0;for(let a in e){if(e[a]!=t[a])return!0;r++}for(let a in t)n++;return r!=n}function y3(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ua={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},tz=typeof navigator<"u"&&/Mac/.test(navigator.platform),rz=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var kr=0;kr<10;kr++)Ua[48+kr]=Ua[96+kr]=String(kr);for(var kr=1;kr<=24;kr++)Ua[kr+111]="F"+kr;for(var kr=65;kr<=90;kr++)Ua[kr]=String.fromCharCode(kr+32),kf[kr]=String.fromCharCode(kr);for(var Lg in Ua)kf.hasOwnProperty(Lg)||(kf[Lg]=Ua[Lg]);function nz(e){var t=tz&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||rz&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",r=!t&&e.key||(e.shiftKey?kf:Ua)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const sz=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),az=typeof navigator<"u"&&/Win/.test(navigator.platform);function oz(e){let t=e.split(/-(?!$)/),r=t[t.length-1];r=="Space"&&(r=" ");let n,a,l,c;for(let u=0;u<t.length-1;u++){let f=t[u];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))a=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))sz?c=!0:a=!0;else throw new Error("Unrecognized modifier name: "+f)}return n&&(r="Alt-"+r),a&&(r="Ctrl-"+r),c&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function lz(e){let t=Object.create(null);for(let r in e)t[oz(r)]=e[r];return t}function Bg(e,t,r=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),r&&t.shiftKey&&(e="Shift-"+e),e}function iz(e){return new Kt({props:{handleKeyDown:yw(e)}})}function yw(e){let t=lz(e);return function(r,n){let a=nz(n),l,c=t[Bg(a,n)];if(c&&c(r.state,r.dispatch,r))return!0;if(a.length==1&&a!=" "){if(n.shiftKey){let u=t[Bg(a,n,!1)];if(u&&u(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(az&&n.ctrlKey&&n.altKey)&&(l=Ua[n.keyCode])&&l!=a){let u=t[Bg(l,n)];if(u&&u(r.state,r.dispatch,r))return!0}}return!1}}var cz=Object.defineProperty,Y0=(e,t)=>{for(var r in t)cz(e,r,{get:t[r],enumerable:!0})};function Mh(e){const{state:t,transaction:r}=e;let{selection:n}=r,{doc:a}=r,{storedMarks:l}=r;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return l},get selection(){return n},get doc(){return a},get tr(){return n=r.selection,a=r.doc,l=r.storedMarks,r}}}var Oh=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:n}=t,{tr:a}=r,l=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([c,u])=>[c,(...h)=>{const m=u(...h)(l);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(a),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:n,state:a}=this,{view:l}=n,c=[],u=!!e,f=e||a.tr,h=()=>(!u&&t&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(f),c.every(g=>g===!0)),m={...Object.fromEntries(Object.entries(r).map(([g,b])=>[g,(...j)=>{const w=this.buildProps(f,t),S=b(...j)(w);return c.push(S),m}])),run:h};return m}createCan(e){const{rawCommands:t,state:r}=this,n=!1,a=e||r.tr,l=this.buildProps(a,n);return{...Object.fromEntries(Object.entries(t).map(([u,f])=>[u,(...h)=>f(...h)({...l,dispatch:void 0})])),chain:()=>this.createChain(a,n)}}buildProps(e,t=!0){const{rawCommands:r,editor:n,state:a}=this,{view:l}=n,c={tr:e,editor:n,view:l,state:Mh({state:a,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,f])=>[u,(...h)=>f(...h)(c)]))}};return c}},vw={};Y0(vw,{blur:()=>dz,clearContent:()=>uz,clearNodes:()=>fz,command:()=>hz,createParagraphNear:()=>pz,cut:()=>mz,deleteCurrentNode:()=>gz,deleteNode:()=>xz,deleteRange:()=>bz,deleteSelection:()=>yz,enter:()=>vz,exitCode:()=>jz,extendMarkRange:()=>Nz,first:()=>wz,focus:()=>Cz,forEach:()=>kz,insertContent:()=>Ez,insertContentAt:()=>Mz,joinBackward:()=>Dz,joinDown:()=>Rz,joinForward:()=>zz,joinItemBackward:()=>Lz,joinItemForward:()=>Bz,joinTextblockBackward:()=>_z,joinTextblockForward:()=>Pz,joinUp:()=>Oz,keyboardShortcut:()=>Hz,lift:()=>$z,liftEmptyBlock:()=>Vz,liftListItem:()=>Uz,newlineInCode:()=>Fz,resetAttributes:()=>qz,scrollIntoView:()=>Wz,selectAll:()=>Gz,selectNodeBackward:()=>Kz,selectNodeForward:()=>Yz,selectParentNode:()=>Jz,selectTextblockEnd:()=>Qz,selectTextblockStart:()=>Xz,setContent:()=>Zz,setMark:()=>yL,setMeta:()=>vL,setNode:()=>jL,setNodeSelection:()=>NL,setTextDirection:()=>wL,setTextSelection:()=>SL,sinkListItem:()=>CL,splitBlock:()=>kL,splitListItem:()=>EL,toggleList:()=>AL,toggleMark:()=>TL,toggleNode:()=>ML,toggleWrap:()=>OL,undoInputRule:()=>RL,unsetAllMarks:()=>DL,unsetMark:()=>zL,unsetTextDirection:()=>LL,updateAttributes:()=>BL,wrapIn:()=>_L,wrapInList:()=>PL});var dz=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var r;e.isDestroyed||(t.dom.blur(),(r=window?.getSelection())==null||r.removeAllRanges())}),!0),uz=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),fz=()=>({state:e,tr:t,dispatch:r})=>{const{selection:n}=t,{ranges:a}=n;return r&&a.forEach(({$from:l,$to:c})=>{e.doc.nodesBetween(l.pos,c.pos,(u,f)=>{if(u.type.isText)return;const{doc:h,mapping:m}=t,g=h.resolve(m.map(f)),b=h.resolve(m.map(f+u.nodeSize)),y=g.blockRange(b);if(!y)return;const j=li(y);if(u.type.isTextblock){const{defaultType:w}=g.parent.contentMatchAt(g.index());t.setNodeMarkup(y.start,w)}(j||j===0)&&t.lift(y,j)})}),!0},hz=e=>t=>e(t),pz=()=>({state:e,dispatch:t})=>zN(e,t),mz=(e,t)=>({editor:r,tr:n})=>{const{state:a}=r,l=a.doc.slice(e.from,e.to);n.deleteRange(e.from,e.to);const c=n.mapping.map(t);return n.insert(c,l.content),n.setSelection(new st(n.doc.resolve(Math.max(c-1,0)))),!0},gz=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,n=r.$anchor.node();if(n.content.size>0)return!1;const a=e.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===n.type){if(t){const u=a.before(l),f=a.after(l);e.delete(u,f).scrollIntoView()}return!0}return!1};function ir(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var xz=e=>({tr:t,state:r,dispatch:n})=>{const a=ir(e,r.schema),l=t.selection.$anchor;for(let c=l.depth;c>0;c-=1)if(l.node(c).type===a){if(n){const f=l.before(c),h=l.after(c);t.delete(f,h).scrollIntoView()}return!0}return!1},bz=e=>({tr:t,dispatch:r})=>{const{from:n,to:a}=e;return r&&t.delete(n,a),!0},yz=()=>({state:e,dispatch:t})=>L0(e,t),vz=()=>({commands:e})=>e.keyboardShortcut("Enter"),jz=()=>({state:e,dispatch:t})=>aR(e,t);function J0(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ef(e,t,r={strict:!0}){const n=Object.keys(t);return n.length?n.every(a=>r.strict?t[a]===e[a]:J0(t[a])?t[a].test(e[a]):t[a]===e[a]):!0}function jw(e,t,r={}){return e.find(n=>n.type===t&&Ef(Object.fromEntries(Object.keys(r).map(a=>[a,n.attrs[a]])),r))}function v3(e,t,r={}){return!!jw(e,t,r)}function Q0(e,t,r){var n;if(!e||!t)return;let a=e.parent.childAfter(e.parentOffset);if((!a.node||!a.node.marks.some(m=>m.type===t))&&(a=e.parent.childBefore(e.parentOffset)),!a.node||!a.node.marks.some(m=>m.type===t)||(r=r||((n=a.node.marks[0])==null?void 0:n.attrs),!jw([...a.node.marks],t,r)))return;let c=a.index,u=e.start()+a.offset,f=c+1,h=u+a.node.nodeSize;for(;c>0&&v3([...e.parent.child(c-1).marks],t,r);)c-=1,u-=e.parent.child(c).nodeSize;for(;f<e.parent.childCount&&v3([...e.parent.child(f).marks],t,r);)h+=e.parent.child(f).nodeSize,f+=1;return{from:u,to:h}}function Xs(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var Nz=(e,t={})=>({tr:r,state:n,dispatch:a})=>{const l=Xs(e,n.schema),{doc:c,selection:u}=r,{$from:f,from:h,to:m}=u;if(a){const g=Q0(f,l,t);if(g&&g.from<=h&&g.to>=m){const b=st.create(c,g.from,g.to);r.setSelection(b)}}return!0},wz=e=>t=>{const r=typeof e=="function"?e(t):e;for(let n=0;n<r.length;n+=1)if(r[n](t))return!0;return!1};function Nw(e){return e instanceof st}function Co(e=0,t=0,r=0){return Math.min(Math.max(e,t),r)}function ww(e,t=null){if(!t)return null;const r=ft.atStart(e),n=ft.atEnd(e);if(t==="start"||t===!0)return r;if(t==="end")return n;const a=r.from,l=n.to;return t==="all"?st.create(e,Co(0,a,l),Co(e.content.size,a,l)):st.create(e,Co(t,a,l),Co(t,a,l))}function Sz(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function X0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Cz=(e=null,t={})=>({editor:r,view:n,tr:a,dispatch:l})=>{t={scrollIntoView:!0,...t};const c=()=>{(X0()||Sz())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),t?.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&e===null||e===!1)return!0;if(l&&e===null&&!Nw(r.state.selection))return c(),!0;const u=ww(a.doc,e)||r.state.selection,f=r.state.selection.eq(u);return l&&(f||a.setSelection(u),f&&a.storedMarks&&a.setStoredMarks(a.storedMarks),c()),!0},kz=(e,t)=>r=>e.every((n,a)=>t(n,{...r,index:a})),Ez=(e,t)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},e,t),Sw=e=>{const t=e.childNodes;for(let r=t.length-1;r>=0;r-=1){const n=t[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?e.removeChild(n):n.nodeType===1&&Sw(n)}return e};function Au(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,r=new window.DOMParser().parseFromString(t,"text/html").body;return Sw(r)}function Ic(e,t,r){if(e instanceof Jn||e instanceof Ee)return e;r={slice:!0,parseOptions:{},...r};const n=typeof e=="object"&&e!==null,a=typeof e=="string";if(n)try{if(Array.isArray(e)&&e.length>0)return Ee.fromArray(e.map(u=>t.nodeFromJSON(u)));const c=t.nodeFromJSON(e);return r.errorOnInvalidContent&&c.check(),c}catch(l){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",l),Ic("",t,r)}if(a){if(r.errorOnInvalidContent){let c=!1,u="";const f=new lN({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(c=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(r.slice?_a.fromSchema(f).parseSlice(Au(e),r.parseOptions):_a.fromSchema(f).parse(Au(e),r.parseOptions),r.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const l=_a.fromSchema(t);return r.slice?l.parseSlice(Au(e),r.parseOptions).content:l.parse(Au(e),r.parseOptions)}return Ic("",t,r)}function Az(e,t,r){const n=e.steps.length-1;if(n<t)return;const a=e.steps[n];if(!(a instanceof mr||a instanceof xr))return;const l=e.mapping.maps[n];let c=0;l.forEach((u,f,h,m)=>{c===0&&(c=m)}),e.setSelection(ft.near(e.doc.resolve(c),r))}var Tz=e=>!("type"in e),Mz=(e,t,r)=>({tr:n,dispatch:a,editor:l})=>{var c;if(a){r={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let u;const f=S=>{l.emit("contentError",{editor:l,error:S,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{Ic(t,l.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(S){f(S)}try{u=Ic(t,l.schema,{parseOptions:h,errorOnInvalidContent:(c=r.errorOnInvalidContent)!=null?c:l.options.enableContentCheck})}catch(S){return f(S),!1}let{from:m,to:g}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},b=!0,y=!0;if((Tz(u)?u:[u]).forEach(S=>{S.check(),b=b?S.isText&&S.marks.length===0:!1,y=y?S.isBlock:!1}),m===g&&y){const{parent:S}=n.doc.resolve(m);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(m-=1,g+=1)}let w;if(b){if(Array.isArray(t))w=t.map(S=>S.text||"").join("");else if(t instanceof Ee){let S="";t.forEach(N=>{N.text&&(S+=N.text)}),w=S}else typeof t=="object"&&t&&t.text?w=t.text:w=t;n.insertText(w,m,g)}else{w=u;const S=n.doc.resolve(m),N=S.node(),A=S.parentOffset===0,E=N.isText||N.isTextblock,M=N.content.size>0;A&&E&&M&&(m=Math.max(0,m-1)),n.replaceWith(m,g,w)}r.updateSelection&&Az(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:m,text:w}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:m,text:w})}return!0},Oz=()=>({state:e,dispatch:t})=>rR(e,t),Rz=()=>({state:e,dispatch:t})=>nR(e,t),Dz=()=>({state:e,dispatch:t})=>EN(e,t),zz=()=>({state:e,dispatch:t})=>ON(e,t),Lz=()=>({state:e,dispatch:t,tr:r})=>{try{const n=Sh(e.doc,e.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},Bz=()=>({state:e,dispatch:t,tr:r})=>{try{const n=Sh(e.doc,e.selection.$from.pos,1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},_z=()=>({state:e,dispatch:t})=>eR(e,t),Pz=()=>({state:e,dispatch:t})=>tR(e,t);function Cw(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Iz(e){const t=e.split(/-(?!$)/);let r=t[t.length-1];r==="Space"&&(r=" ");let n,a,l,c;for(let u=0;u<t.length-1;u+=1){const f=t[u];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))a=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))X0()||Cw()?c=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return n&&(r=`Alt-${r}`),a&&(r=`Ctrl-${r}`),c&&(r=`Meta-${r}`),l&&(r=`Shift-${r}`),r}var Hz=e=>({editor:t,view:r,tr:n,dispatch:a})=>{const l=Iz(e).split(/-(?!$)/),c=l.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),f=t.captureTransaction(()=>{r.someProp("handleKeyDown",h=>h(r,u))});return f?.steps.forEach(h=>{const m=h.map(n.mapping);m&&a&&n.maybeStep(m)}),!0};function Fa(e,t,r={}){const{from:n,to:a,empty:l}=e.selection,c=t?ir(t,e.schema):null,u=[];e.doc.nodesBetween(n,a,(g,b)=>{if(g.isText)return;const y=Math.max(n,b),j=Math.min(a,b+g.nodeSize);u.push({node:g,from:y,to:j})});const f=a-n,h=u.filter(g=>c?c.name===g.node.type.name:!0).filter(g=>Ef(g.node.attrs,r,{strict:!1}));return l?!!h.length:h.reduce((g,b)=>g+b.to-b.from,0)>=f}var $z=(e,t={})=>({state:r,dispatch:n})=>{const a=ir(e,r.schema);return Fa(r,a,t)?sR(r,n):!1},Vz=()=>({state:e,dispatch:t})=>LN(e,t),Uz=e=>({state:t,dispatch:r})=>{const n=ir(e,t.schema);return gR(n)(t,r)},Fz=()=>({state:e,dispatch:t})=>DN(e,t);function Rh(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function j3(e,t){const r=typeof t=="string"?[t]:t;return Object.keys(e).reduce((n,a)=>(r.includes(a)||(n[a]=e[a]),n),{})}var qz=(e,t)=>({tr:r,state:n,dispatch:a})=>{let l=null,c=null;const u=Rh(typeof e=="string"?e:e.name,n.schema);if(!u)return!1;u==="node"&&(l=ir(e,n.schema)),u==="mark"&&(c=Xs(e,n.schema));let f=!1;return r.selection.ranges.forEach(h=>{n.doc.nodesBetween(h.$from.pos,h.$to.pos,(m,g)=>{l&&l===m.type&&(f=!0,a&&r.setNodeMarkup(g,void 0,j3(m.attrs,t))),c&&m.marks.length&&m.marks.forEach(b=>{c===b.type&&(f=!0,a&&r.addMark(g,g+m.nodeSize,c.create(j3(b.attrs,t))))})})}),f},Wz=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Gz=()=>({tr:e,dispatch:t})=>{if(t){const r=new fn(e.doc);e.setSelection(r)}return!0},Kz=()=>({state:e,dispatch:t})=>TN(e,t),Yz=()=>({state:e,dispatch:t})=>RN(e,t),Jz=()=>({state:e,dispatch:t})=>iR(e,t),Qz=()=>({state:e,dispatch:t})=>uR(e,t),Xz=()=>({state:e,dispatch:t})=>dR(e,t);function Px(e,t,r={},n={}){return Ic(e,t,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var Zz=(e,{errorOnInvalidContent:t,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:a,tr:l,dispatch:c,commands:u})=>{const{doc:f}=l;if(n.preserveWhitespace!=="full"){const h=Px(e,a.schema,n,{errorOnInvalidContent:t??a.options.enableContentCheck});return c&&l.replaceWith(0,f.content.size,h).setMeta("preventUpdate",!r),!0}return c&&l.setMeta("preventUpdate",!r),u.insertContentAt({from:0,to:f.content.size},e,{parseOptions:n,errorOnInvalidContent:t??a.options.enableContentCheck})};function kw(e,t){const r=Xs(t,e.schema),{from:n,to:a,empty:l}=e.selection,c=[];l?(e.storedMarks&&c.push(...e.storedMarks),c.push(...e.selection.$head.marks())):e.doc.nodesBetween(n,a,f=>{c.push(...f.marks)});const u=c.find(f=>f.type.name===r.name);return u?{...u.attrs}:{}}function Ew(e,t){const r=new wN(e);return t.forEach(n=>{n.steps.forEach(a=>{r.step(a)})}),r}function eL(e){for(let t=0;t<e.edgeCount;t+=1){const{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function tL(e,t,r){const n=[];return e.nodesBetween(t.from,t.to,(a,l)=>{r(a)&&n.push({node:a,pos:l})}),n}function rL(e,t){for(let r=e.depth;r>0;r-=1){const n=e.node(r);if(t(n))return{pos:r>0?e.before(r):0,start:e.start(r),depth:r,node:n}}}function Dh(e){return t=>rL(t.$from,e)}function Ye(e,t,r){return e.config[t]===void 0&&e.parent?Ye(e.parent,t,r):typeof e.config[t]=="function"?e.config[t].bind({...r,parent:e.parent?Ye(e.parent,t,r):null}):e.config[t]}function Z0(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},n=Ye(t,"addExtensions",r);return n?[t,...Z0(n())]:t}).flat(10)}function eb(e,t){const r=qo.fromSchema(t).serializeFragment(e),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(r),a.innerHTML}function Aw(e){return typeof e=="function"}function Dt(e,t=void 0,...r){return Aw(e)?t?e.bind(t)(...r):e(...r):e}function nL(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Ql(e){const t=e.filter(a=>a.type==="extension"),r=e.filter(a=>a.type==="node"),n=e.filter(a=>a.type==="mark");return{baseExtensions:t,nodeExtensions:r,markExtensions:n}}function Tw(e){const t=[],{nodeExtensions:r,markExtensions:n}=Ql(e),a=[...r,...n],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:a},f=Ye(c,"addGlobalAttributes",u);if(!f)return;f().forEach(m=>{m.types.forEach(g=>{Object.entries(m.attributes).forEach(([b,y])=>{t.push({type:g,name:b,attribute:{...l,...y}})})})})}),a.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},f=Ye(c,"addAttributes",u);if(!f)return;const h=f();Object.entries(h).forEach(([m,g])=>{const b={...l,...g};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,t.push({type:c.name,name:m,attribute:b})})}),t}function cr(...e){return e.filter(t=>!!t).reduce((t,r)=>{const n={...t};return Object.entries(r).forEach(([a,l])=>{if(!n[a]){n[a]=l;return}if(a==="class"){const u=l?String(l).split(" "):[],f=n[a]?n[a].split(" "):[],h=u.filter(m=>!f.includes(m));n[a]=[...f,...h].join(" ")}else if(a==="style"){const u=l?l.split(";").map(m=>m.trim()).filter(Boolean):[],f=n[a]?n[a].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;f.forEach(m=>{const[g,b]=m.split(":").map(y=>y.trim());h.set(g,b)}),u.forEach(m=>{const[g,b]=m.split(":").map(y=>y.trim());h.set(g,b)}),n[a]=Array.from(h.entries()).map(([m,g])=>`${m}: ${g}`).join("; ")}else n[a]=l}),n},{})}function Af(e,t){return t.filter(r=>r.type===e.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(e.attrs)||{}:{[r.name]:e.attrs[r.name]}).reduce((r,n)=>cr(r,n),{})}function sL(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function N3(e,t){return"style"in e?e:{...e,getAttrs:r=>{const n=e.getAttrs?e.getAttrs(r):e.attrs;if(n===!1)return!1;const a=t.reduce((l,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(r):sL(r.getAttribute(c.name));return u==null?l:{...l,[c.name]:u}},{});return{...n,...a}}}}function w3(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>t==="attrs"&&nL(r)?!1:r!=null))}function S3(e){var t,r;const n={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(n.default=e.attribute.default),((r=e?.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=e.attribute.validate),[e.name,n]}function aL(e,t){var r;const n=Tw(e),{nodeExtensions:a,markExtensions:l}=Ql(e),c=(r=a.find(h=>Ye(h,"topNode")))==null?void 0:r.name,u=Object.fromEntries(a.map(h=>{const m=n.filter(N=>N.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:t},b=e.reduce((N,A)=>{const E=Ye(A,"extendNodeSchema",g);return{...N,...E?E(h):{}}},{}),y=w3({...b,content:Dt(Ye(h,"content",g)),marks:Dt(Ye(h,"marks",g)),group:Dt(Ye(h,"group",g)),inline:Dt(Ye(h,"inline",g)),atom:Dt(Ye(h,"atom",g)),selectable:Dt(Ye(h,"selectable",g)),draggable:Dt(Ye(h,"draggable",g)),code:Dt(Ye(h,"code",g)),whitespace:Dt(Ye(h,"whitespace",g)),linebreakReplacement:Dt(Ye(h,"linebreakReplacement",g)),defining:Dt(Ye(h,"defining",g)),isolating:Dt(Ye(h,"isolating",g)),attrs:Object.fromEntries(m.map(S3))}),j=Dt(Ye(h,"parseHTML",g));j&&(y.parseDOM=j.map(N=>N3(N,m)));const w=Ye(h,"renderHTML",g);w&&(y.toDOM=N=>w({node:N,HTMLAttributes:Af(N,m)}));const S=Ye(h,"renderText",g);return S&&(y.toText=S),[h.name,y]})),f=Object.fromEntries(l.map(h=>{const m=n.filter(S=>S.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:t},b=e.reduce((S,N)=>{const A=Ye(N,"extendMarkSchema",g);return{...S,...A?A(h):{}}},{}),y=w3({...b,inclusive:Dt(Ye(h,"inclusive",g)),excludes:Dt(Ye(h,"excludes",g)),group:Dt(Ye(h,"group",g)),spanning:Dt(Ye(h,"spanning",g)),code:Dt(Ye(h,"code",g)),attrs:Object.fromEntries(m.map(S3))}),j=Dt(Ye(h,"parseHTML",g));j&&(y.parseDOM=j.map(S=>N3(S,m)));const w=Ye(h,"renderHTML",g);return w&&(y.toDOM=S=>w({mark:S,HTMLAttributes:Af(S,m)})),[h.name,y]}));return new lN({topNode:c,nodes:u,marks:f})}function oL(e){const t=e.filter((r,n)=>e.indexOf(r)!==n);return Array.from(new Set(t))}function tb(e){return e.sort((r,n)=>{const a=Ye(r,"priority")||100,l=Ye(n,"priority")||100;return a>l?-1:a<l?1:0})}function Mw(e){const t=tb(Z0(e)),r=oL(t.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),t}function Ow(e,t,r){const{from:n,to:a}=t,{blockSeparator:l=`

`,textSerializers:c={}}=r||{};let u="";return e.nodesBetween(n,a,(f,h,m,g)=>{var b;f.isBlock&&h>n&&(u+=l);const y=c?.[f.type.name];if(y)return m&&(u+=y({node:f,pos:h,parent:m,index:g,range:t})),!1;f.isText&&(u+=(b=f?.text)==null?void 0:b.slice(Math.max(n,h)-h,a-h))}),u}function lL(e,t){const r={from:0,to:e.content.size};return Ow(e,r,t)}function Rw(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,r])=>[t,r.spec.toText]))}function iL(e,t){const r=ir(t,e.schema),{from:n,to:a}=e.selection,l=[];e.doc.nodesBetween(n,a,u=>{l.push(u)});const c=l.reverse().find(u=>u.type.name===r.name);return c?{...c.attrs}:{}}function Dw(e,t){const r=Rh(typeof t=="string"?t:t.name,e.schema);return r==="node"?iL(e,t):r==="mark"?kw(e,t):{}}function cL(e,t=JSON.stringify){const r={};return e.filter(n=>{const a=t(n);return Object.prototype.hasOwnProperty.call(r,a)?!1:r[a]=!0})}function dL(e){const t=cL(e);return t.length===1?t:t.filter((r,n)=>!t.filter((l,c)=>c!==n).some(l=>r.oldRange.from>=l.oldRange.from&&r.oldRange.to<=l.oldRange.to&&r.newRange.from>=l.newRange.from&&r.newRange.to<=l.newRange.to))}function zw(e){const{mapping:t,steps:r}=e,n=[];return t.maps.forEach((a,l)=>{const c=[];if(a.ranges.length)a.forEach((u,f)=>{c.push({from:u,to:f})});else{const{from:u,to:f}=r[l];if(u===void 0||f===void 0)return;c.push({from:u,to:f})}c.forEach(({from:u,to:f})=>{const h=t.slice(l).map(u,-1),m=t.slice(l).map(f),g=t.invert().map(h,-1),b=t.invert().map(m);n.push({oldRange:{from:g,to:b},newRange:{from:h,to:m}})})}),dL(n)}function rb(e,t,r){const n=[];return e===t?r.resolve(e).marks().forEach(a=>{const l=r.resolve(e),c=Q0(l,a.type);c&&n.push({mark:a,...c})}):r.nodesBetween(e,t,(a,l)=>{!a||a?.nodeSize===void 0||n.push(...a.marks.map(c=>({from:l,to:l+a.nodeSize,mark:c})))}),n}var uL=(e,t,r,n=20)=>{const a=e.doc.resolve(r);let l=n,c=null;for(;l>0&&c===null;){const u=a.node(l);u?.type.name===t?c=u:l-=1}return[c,l]};function _g(e,t){return t.nodes[e]||t.marks[e]||null}function Yu(e,t,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const a=e.find(l=>l.type===t&&l.name===n);return a?a.attribute.keepOnSplit:!1}))}var fL=(e,t=500)=>{let r="";const n=e.parentOffset;return e.parent.nodesBetween(Math.max(0,n-t),n,(a,l,c,u)=>{var f,h;const m=((h=(f=a.type.spec).toText)==null?void 0:h.call(f,{node:a,pos:l,parent:c,index:u}))||a.textContent||"%leaf%";r+=a.isAtom&&!a.isText?m:m.slice(0,Math.max(0,n-l))}),r};function Ix(e,t,r={}){const{empty:n,ranges:a}=e.selection,l=t?Xs(t,e.schema):null;if(n)return!!(e.storedMarks||e.selection.$from.marks()).filter(g=>l?l.name===g.type.name:!0).find(g=>Ef(g.attrs,r,{strict:!1}));let c=0;const u=[];if(a.forEach(({$from:g,$to:b})=>{const y=g.pos,j=b.pos;e.doc.nodesBetween(y,j,(w,S)=>{if(!w.isText&&!w.marks.length)return;const N=Math.max(y,S),A=Math.min(j,S+w.nodeSize),E=A-N;c+=E,u.push(...w.marks.map(M=>({mark:M,from:N,to:A})))})}),c===0)return!1;const f=u.filter(g=>l?l.name===g.mark.type.name:!0).filter(g=>Ef(g.mark.attrs,r,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),h=u.filter(g=>l?g.mark.type!==l&&g.mark.type.excludes(l):!0).reduce((g,b)=>g+b.to-b.from,0);return(f>0?f+h:f)>=c}function hL(e,t,r={}){if(!t)return Fa(e,null,r)||Ix(e,null,r);const n=Rh(t,e.schema);return n==="node"?Fa(e,t,r):n==="mark"?Ix(e,t,r):!1}var pL=(e,t)=>{const{$from:r,$to:n,$anchor:a}=e.selection;if(t){const l=Dh(u=>u.type.name===t)(e.selection);if(!l)return!1;const c=e.doc.resolve(l.pos+1);return a.pos+1===c.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},mL=e=>{const{$from:t,$to:r}=e.selection;return!(t.parentOffset>0||t.pos!==r.pos)};function C3(e,t){return Array.isArray(t)?t.some(r=>(typeof r=="string"?r:r.name)===e.name):t}function k3(e,t){const{nodeExtensions:r}=Ql(t),n=r.find(c=>c.name===e);if(!n)return!1;const a={name:n.name,options:n.options,storage:n.storage},l=Dt(Ye(n,"group",a));return typeof l!="string"?!1:l.split(" ").includes("list")}function zh(e,{checkChildren:t=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((n=e.text)!=null?n:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let a=!0;return e.content.forEach(l=>{a!==!1&&(zh(l,{ignoreWhitespace:r,checkChildren:t})||(a=!1))}),a}return!1}function Lw(e){return e instanceof Je}var Bw=class _w{constructor(t){this.position=t}static fromJSON(t){return new _w(t.position)}toJSON(){return{position:this.position}}};function gL(e,t){const r=t.mapping.mapResult(e.position);return{position:new Bw(r.pos),mapResult:r}}function xL(e){return new Bw(e)}function bL(e,t,r){var n;const{selection:a}=t;let l=null;if(Nw(a)&&(l=a.$cursor),l){const u=(n=e.storedMarks)!=null?n:l.marks();return l.parent.type.allowsMarkType(r)&&(!!r.isInSet(u)||!u.some(h=>h.type.excludes(r)))}const{ranges:c}=a;return c.some(({$from:u,$to:f})=>{let h=u.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(r):!1;return e.doc.nodesBetween(u.pos,f.pos,(m,g,b)=>{if(h)return!1;if(m.isInline){const y=!b||b.type.allowsMarkType(r),j=!!r.isInSet(m.marks)||!m.marks.some(w=>w.type.excludes(r));h=y&&j}return!h}),h})}var yL=(e,t={})=>({tr:r,state:n,dispatch:a})=>{const{selection:l}=r,{empty:c,ranges:u}=l,f=Xs(e,n.schema);if(a)if(c){const h=kw(n,f);r.addStoredMark(f.create({...h,...t}))}else u.forEach(h=>{const m=h.$from.pos,g=h.$to.pos;n.doc.nodesBetween(m,g,(b,y)=>{const j=Math.max(y,m),w=Math.min(y+b.nodeSize,g);b.marks.find(N=>N.type===f)?b.marks.forEach(N=>{f===N.type&&r.addMark(j,w,f.create({...N.attrs,...t}))}):r.addMark(j,w,f.create(t))})});return bL(n,r,f)},vL=(e,t)=>({tr:r})=>(r.setMeta(e,t),!0),jL=(e,t={})=>({state:r,dispatch:n,chain:a})=>{const l=ir(e,r.schema);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l.isTextblock?a().command(({commands:u})=>H4(l,{...c,...t})(r)?!0:u.clearNodes()).command(({state:u})=>H4(l,{...c,...t})(u,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},NL=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,a=Co(e,0,n.content.size),l=Je.create(n,a);t.setSelection(l)}return!0},wL=(e,t)=>({tr:r,state:n,dispatch:a})=>{const{selection:l}=n;let c,u;return typeof t=="number"?(c=t,u=t):t&&"from"in t&&"to"in t?(c=t.from,u=t.to):(c=l.from,u=l.to),a&&r.doc.nodesBetween(c,u,(f,h)=>{f.isText||r.setNodeMarkup(h,void 0,{...f.attrs,dir:e})}),!0},SL=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,{from:a,to:l}=typeof e=="number"?{from:e,to:e}:e,c=st.atStart(n).from,u=st.atEnd(n).to,f=Co(a,c,u),h=Co(l,c,u),m=st.create(n,f,h);t.setSelection(m)}return!0},CL=e=>({state:t,dispatch:r})=>{const n=ir(e,t.schema);return yR(n)(t,r)};function E3(e,t){const r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(r){const n=r.filter(a=>t?.includes(a.type.name));e.tr.ensureMarks(n)}}var kL=({keepMarks:e=!0}={})=>({tr:t,state:r,dispatch:n,editor:a})=>{const{selection:l,doc:c}=t,{$from:u,$to:f}=l,h=a.extensionManager.attributes,m=Yu(h,u.node().type.name,u.node().attrs);if(l instanceof Je&&l.node.isBlock)return!u.parentOffset||!qs(c,u.pos)?!1:(n&&(e&&E3(r,a.extensionManager.splittableMarks),t.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=f.parentOffset===f.parent.content.size,b=u.depth===0?void 0:eL(u.node(-1).contentMatchAt(u.indexAfter(-1)));let y=g&&b?[{type:b,attrs:m}]:void 0,j=qs(t.doc,t.mapping.map(u.pos),1,y);if(!y&&!j&&qs(t.doc,t.mapping.map(u.pos),1,b?[{type:b}]:void 0)&&(j=!0,y=b?[{type:b,attrs:m}]:void 0),n){if(j&&(l instanceof st&&t.deleteSelection(),t.split(t.mapping.map(u.pos),1,y),b&&!g&&!u.parentOffset&&u.parent.type!==b)){const w=t.mapping.map(u.before()),S=t.doc.resolve(w);u.node(-1).canReplaceWith(S.index(),S.index()+1,b)&&t.setNodeMarkup(t.mapping.map(u.before()),b)}e&&E3(r,a.extensionManager.splittableMarks),t.scrollIntoView()}return j},EL=(e,t={})=>({tr:r,state:n,dispatch:a,editor:l})=>{var c;const u=ir(e,n.schema),{$from:f,$to:h}=n.selection,m=n.selection.node;if(m&&m.isBlock||f.depth<2||!f.sameParent(h))return!1;const g=f.node(-1);if(g.type!==u)return!1;const b=l.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==u||f.index(-2)!==f.node(-2).childCount-1)return!1;if(a){let N=Ee.empty;const A=f.index(-1)?1:f.index(-2)?2:3;for(let q=f.depth-A;q>=f.depth-3;q-=1)N=Ee.from(f.node(q).copy(N));const E=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,M={...Yu(b,f.node().type.name,f.node().attrs),...t},T=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(M))||void 0;N=N.append(Ee.from(u.createAndFill(null,T)||void 0));const D=f.before(f.depth-(A-1));r.replace(D,f.after(-E),new He(N,4-A,0));let R=-1;r.doc.nodesBetween(D,r.doc.content.size,(q,K)=>{if(R>-1)return!1;q.isTextblock&&q.content.size===0&&(R=K+1)}),R>-1&&r.setSelection(st.near(r.doc.resolve(R))),r.scrollIntoView()}return!0}const y=h.pos===f.end()?g.contentMatchAt(0).defaultType:null,j={...Yu(b,g.type.name,g.attrs),...t},w={...Yu(b,f.node().type.name,f.node().attrs),...t};r.delete(f.pos,h.pos);const S=y?[{type:u,attrs:j},{type:y,attrs:w}]:[{type:u,attrs:j}];if(!qs(r.doc,f.pos,2))return!1;if(a){const{selection:N,storedMarks:A}=n,{splittableMarks:E}=l.extensionManager,M=A||N.$to.parentOffset&&N.$from.marks();if(r.split(f.pos,2,S).scrollIntoView(),!M||!a)return!0;const T=M.filter(D=>E.includes(D.type.name));r.ensureMarks(T)}return!0},Pg=(e,t)=>{const r=Dh(c=>c.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const a=e.doc.nodeAt(n);return r.node.type===a?.type&&Ka(e.doc,r.pos)&&e.join(r.pos),!0},Ig=(e,t)=>{const r=Dh(c=>c.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const a=e.doc.nodeAt(n);return r.node.type===a?.type&&Ka(e.doc,n)&&e.join(n),!0},AL=(e,t,r,n={})=>({editor:a,tr:l,state:c,dispatch:u,chain:f,commands:h,can:m})=>{const{extensions:g,splittableMarks:b}=a.extensionManager,y=ir(e,c.schema),j=ir(t,c.schema),{selection:w,storedMarks:S}=c,{$from:N,$to:A}=w,E=N.blockRange(A),M=S||w.$to.parentOffset&&w.$from.marks();if(!E)return!1;const T=Dh(D=>k3(D.type.name,g))(w);if(E.depth>=1&&T&&E.depth-T.depth<=1){if(T.node.type===y)return h.liftListItem(j);if(k3(T.node.type.name,g)&&y.validContent(T.node.content)&&u)return f().command(()=>(l.setNodeMarkup(T.pos,y),!0)).command(()=>Pg(l,y)).command(()=>Ig(l,y)).run()}return!r||!M||!u?f().command(()=>m().wrapInList(y,n)?!0:h.clearNodes()).wrapInList(y,n).command(()=>Pg(l,y)).command(()=>Ig(l,y)).run():f().command(()=>{const D=m().wrapInList(y,n),R=M.filter(q=>b.includes(q.type.name));return l.ensureMarks(R),D?!0:h.clearNodes()}).wrapInList(y,n).command(()=>Pg(l,y)).command(()=>Ig(l,y)).run()},TL=(e,t={},r={})=>({state:n,commands:a})=>{const{extendEmptyMarkRange:l=!1}=r,c=Xs(e,n.schema);return Ix(n,c,t)?a.unsetMark(c,{extendEmptyMarkRange:l}):a.setMark(c,t)},ML=(e,t,r={})=>({state:n,commands:a})=>{const l=ir(e,n.schema),c=ir(t,n.schema),u=Fa(n,l,r);let f;return n.selection.$anchor.sameParent(n.selection.$head)&&(f=n.selection.$anchor.parent.attrs),u?a.setNode(c,f):a.setNode(l,{...f,...r})},OL=(e,t={})=>({state:r,commands:n})=>{const a=ir(e,r.schema);return Fa(r,a,t)?n.lift(a):n.wrapIn(a,t)},RL=()=>({state:e,dispatch:t})=>{const r=e.plugins;for(let n=0;n<r.length;n+=1){const a=r[n];let l;if(a.spec.isInputRules&&(l=a.getState(e))){if(t){const c=e.tr,u=l.transform;for(let f=u.steps.length-1;f>=0;f-=1)c.step(u.steps[f].invert(u.docs[f]));if(l.text){const f=c.doc.resolve(l.from).marks();c.replaceWith(l.from,l.to,e.schema.text(l.text,f))}else c.delete(l.from,l.to)}return!0}}return!1},DL=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,{empty:n,ranges:a}=r;return n||t&&a.forEach(l=>{e.removeMark(l.$from.pos,l.$to.pos)}),!0},zL=(e,t={})=>({tr:r,state:n,dispatch:a})=>{var l;const{extendEmptyMarkRange:c=!1}=t,{selection:u}=r,f=Xs(e,n.schema),{$from:h,empty:m,ranges:g}=u;if(!a)return!0;if(m&&c){let{from:b,to:y}=u;const j=(l=h.marks().find(S=>S.type===f))==null?void 0:l.attrs,w=Q0(h,f,j);w&&(b=w.from,y=w.to),r.removeMark(b,y,f)}else g.forEach(b=>{r.removeMark(b.$from.pos,b.$to.pos,f)});return r.removeStoredMark(f),!0},LL=e=>({tr:t,state:r,dispatch:n})=>{const{selection:a}=r;let l,c;return typeof e=="number"?(l=e,c=e):e&&"from"in e&&"to"in e?(l=e.from,c=e.to):(l=a.from,c=a.to),n&&t.doc.nodesBetween(l,c,(u,f)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,t.setNodeMarkup(f,void 0,h)}),!0},BL=(e,t={})=>({tr:r,state:n,dispatch:a})=>{let l=null,c=null;const u=Rh(typeof e=="string"?e:e.name,n.schema);if(!u)return!1;u==="node"&&(l=ir(e,n.schema)),u==="mark"&&(c=Xs(e,n.schema));let f=!1;return r.selection.ranges.forEach(h=>{const m=h.$from.pos,g=h.$to.pos;let b,y,j,w;r.selection.empty?n.doc.nodesBetween(m,g,(S,N)=>{l&&l===S.type&&(f=!0,j=Math.max(N,m),w=Math.min(N+S.nodeSize,g),b=N,y=S)}):n.doc.nodesBetween(m,g,(S,N)=>{N<m&&l&&l===S.type&&(f=!0,j=Math.max(N,m),w=Math.min(N+S.nodeSize,g),b=N,y=S),N>=m&&N<=g&&(l&&l===S.type&&(f=!0,a&&r.setNodeMarkup(N,void 0,{...S.attrs,...t})),c&&S.marks.length&&S.marks.forEach(A=>{if(c===A.type&&(f=!0,a)){const E=Math.max(N,m),M=Math.min(N+S.nodeSize,g);r.addMark(E,M,c.create({...A.attrs,...t}))}}))}),y&&(b!==void 0&&a&&r.setNodeMarkup(b,void 0,{...y.attrs,...t}),c&&y.marks.length&&y.marks.forEach(S=>{c===S.type&&a&&r.addMark(j,w,c.create({...S.attrs,...t}))}))}),f},_L=(e,t={})=>({state:r,dispatch:n})=>{const a=ir(e,r.schema);return fR(a,t)(r,n)},PL=(e,t={})=>({state:r,dispatch:n})=>{const a=ir(e,r.schema);return hR(a,t)(r,n)},IL=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(n=>n.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(n=>n!==t):delete this.callbacks[e]),this}once(e,t){const r=(...n)=>{this.off(e,r),t.apply(this,n)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}},Lh=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},HL=(e,t)=>{if(J0(t))return t.exec(e);const r=t(e);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=e,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Tu(e){var t;const{editor:r,from:n,to:a,text:l,rules:c,plugin:u}=e,{view:f}=r;if(f.composing)return!1;const h=f.state.doc.resolve(n);if(h.parent.type.spec.code||(t=h.nodeBefore||h.nodeAfter)!=null&&t.marks.find(b=>b.type.spec.code))return!1;let m=!1;const g=fL(h)+l;return c.forEach(b=>{if(m)return;const y=HL(g,b.find);if(!y)return;const j=f.state.tr,w=Mh({state:f.state,transaction:j}),S={from:n-(y[0].length-l.length),to:a},{commands:N,chain:A,can:E}=new Oh({editor:r,state:w});b.handler({state:w,range:S,match:y,commands:N,chain:A,can:E})===null||!j.steps.length||(b.undoable&&j.setMeta(u,{transform:j,from:n,to:a,text:l}),f.dispatch(j),m=!0)}),m}function $L(e){const{editor:t,rules:r}=e,n=new Kt({state:{init(){return null},apply(a,l,c){const u=a.getMeta(n);if(u)return u;const f=a.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:m}=f;typeof m=="string"?m=m:m=eb(Ee.from(m),c.schema);const{from:g}=f,b=g+m.length;Tu({editor:t,from:g,to:b,text:m,rules:r,plugin:n})}),a.selectionSet||a.docChanged?null:l}},props:{handleTextInput(a,l,c,u){return Tu({editor:t,from:l,to:c,text:u,rules:r,plugin:n})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:l}=a.state.selection;l&&Tu({editor:t,from:l.pos,to:l.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(a,l){if(l.key!=="Enter")return!1;const{$cursor:c}=a.state.selection;return c?Tu({editor:t,from:c.pos,to:c.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function VL(e){return Object.prototype.toString.call(e).slice(8,-1)}function Mu(e){return VL(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Pw(e,t){const r={...e};return Mu(e)&&Mu(t)&&Object.keys(t).forEach(n=>{Mu(t[n])&&Mu(e[n])?r[n]=Pw(e[n],t[n]):r[n]=t[n]}),r}var nb=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Dt(Ye(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Dt(Ye(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Pw(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Wo=class Iw extends nb{constructor(){super(...arguments),this.type="mark"}static create(t={}){const r=typeof t=="function"?t():t;return new Iw(r)}static handleExit({editor:t,mark:r}){const{tr:n}=t.state,a=t.state.selection.$from;if(a.pos===a.end()){const c=a.marks();if(!!!c.find(h=>h?.type.name===r.name))return!1;const f=c.find(h=>h?.type.name===r.name);return f&&n.removeStoredMark(f),n.insertText(" ",a.pos),t.view.dispatch(n),!0}return!1}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function UL(e){return typeof e=="number"}var FL=class{constructor(e){this.find=e.find,this.handler=e.handler}},qL=(e,t,r)=>{if(J0(t))return[...e.matchAll(t)];const n=t(e,r);return n?n.map(a=>{const l=[a.text];return l.index=a.index,l.input=e,l.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(a.replaceWith)),l}):[]};function WL(e){const{editor:t,state:r,from:n,to:a,rule:l,pasteEvent:c,dropEvent:u}=e,{commands:f,chain:h,can:m}=new Oh({editor:t,state:r}),g=[];return r.doc.nodesBetween(n,a,(y,j)=>{var w,S,N,A,E;if((S=(w=y.type)==null?void 0:w.spec)!=null&&S.code||!(y.isText||y.isTextblock||y.isInline))return;const M=(E=(A=(N=y.content)==null?void 0:N.size)!=null?A:y.nodeSize)!=null?E:0,T=Math.max(n,j),D=Math.min(a,j+M);if(T>=D)return;const R=y.isText?y.text||"":y.textBetween(T-j,D-j,void 0,"");qL(R,l.find,c).forEach(K=>{if(K.index===void 0)return;const W=T+K.index+1,V=W+K[0].length,Y={from:r.tr.mapping.map(W),to:r.tr.mapping.map(V)},$=l.handler({state:r,range:Y,match:K,commands:f,chain:h,can:m,pasteEvent:c,dropEvent:u});g.push($)})}),g.every(y=>y!==null)}var Ou=null,GL=e=>{var t;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=r.clipboardData)==null||t.setData("text/html",e),r};function KL(e){const{editor:t,rules:r}=e;let n=null,a=!1,l=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const f=({state:m,from:g,to:b,rule:y,pasteEvt:j})=>{const w=m.tr,S=Mh({state:m,transaction:w});if(!(!WL({editor:t,state:S,from:Math.max(g-1,0),to:b.b-1,rule:y,pasteEvent:j,dropEvent:u})||!w.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return r.map(m=>new Kt({view(g){const b=j=>{var w;n=(w=g.dom.parentElement)!=null&&w.contains(j.target)?g.dom.parentElement:null,n&&(Ou=t)},y=()=>{Ou&&(Ou=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(l=n===g.dom.parentElement,u=b,!l){const y=Ou;y?.isEditable&&setTimeout(()=>{const j=y.state.selection;j&&y.commands.deleteRange({from:j.from,to:j.to})},10)}return!1},paste:(g,b)=>{var y;const j=(y=b.clipboardData)==null?void 0:y.getData("text/html");return c=b,a=!!j?.includes("data-pm-slice"),!1}}},appendTransaction:(g,b,y)=>{const j=g[0],w=j.getMeta("uiEvent")==="paste"&&!a,S=j.getMeta("uiEvent")==="drop"&&!l,N=j.getMeta("applyPasteRules"),A=!!N;if(!w&&!S&&!A)return;if(A){let{text:T}=N;typeof T=="string"?T=T:T=eb(Ee.from(T),y.schema);const{from:D}=N,R=D+T.length,q=GL(T);return f({rule:m,state:y,from:D,to:{b:R},pasteEvt:q})}const E=b.doc.content.findDiffStart(y.doc.content),M=b.doc.content.findDiffEnd(y.doc.content);if(!(!UL(E)||!M||E===M.b))return f({rule:m,state:y,from:E,to:M,pasteEvt:c})}}))}var Bh=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=Mw(e),this.schema=aL(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:_g(t.name,this.schema)},n=Ye(t,"addCommands",r);return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this;return tb([...this.extensions].reverse()).flatMap(n=>{const a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:_g(n.name,this.schema)},l=[],c=Ye(n,"addKeyboardShortcuts",a);let u={};if(n.type==="mark"&&Ye(n,"exitable",a)&&(u.ArrowRight=()=>Wo.handleExit({editor:e,mark:n})),c){const b=Object.fromEntries(Object.entries(c()).map(([y,j])=>[y,()=>j({editor:e})]));u={...u,...b}}const f=iz(u);l.push(f);const h=Ye(n,"addInputRules",a);if(C3(n,e.options.enableInputRules)&&h){const b=h();if(b&&b.length){const y=$L({editor:e,rules:b}),j=Array.isArray(y)?y:[y];l.push(...j)}}const m=Ye(n,"addPasteRules",a);if(C3(n,e.options.enablePasteRules)&&m){const b=m();if(b&&b.length){const y=KL({editor:e,rules:b});l.push(...y)}}const g=Ye(n,"addProseMirrorPlugins",a);if(g){const b=g();l.push(...b)}return l})}get attributes(){return Tw(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Ql(this.extensions);return Object.fromEntries(t.filter(r=>!!Ye(r,"addNodeView")).map(r=>{const n=this.attributes.filter(f=>f.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:ir(r.name,this.schema)},l=Ye(r,"addNodeView",a);if(!l)return[];const c=l();if(!c)return[];const u=(f,h,m,g,b)=>{const y=Af(f,n);return c({node:f,view:h,getPos:m,decorations:g,innerDecorations:b,editor:e,extension:r,HTMLAttributes:y})};return[r.name,u]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=Ql(this.extensions);return Object.fromEntries(t.filter(r=>!!Ye(r,"addMarkView")).map(r=>{const n=this.attributes.filter(u=>u.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:Xs(r.name,this.schema)},l=Ye(r,"addMarkView",a);if(!l)return[];const c=(u,f,h)=>{const m=Af(u,n);return l()({mark:u,view:f,inline:h,editor:e,extension:r,HTMLAttributes:m,updateAttributes:g=>{iB(u,e,g)}})};return[r.name,c]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var r;const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:_g(t.name,this.schema)};t.type==="mark"&&((r=Dt(Ye(t,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(t.name);const a=Ye(t,"onBeforeCreate",n),l=Ye(t,"onCreate",n),c=Ye(t,"onUpdate",n),u=Ye(t,"onSelectionUpdate",n),f=Ye(t,"onTransaction",n),h=Ye(t,"onFocus",n),m=Ye(t,"onBlur",n),g=Ye(t,"onDestroy",n);a&&this.editor.on("beforeCreate",a),l&&this.editor.on("create",l),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),f&&this.editor.on("transaction",f),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),g&&this.editor.on("destroy",g)})}};Bh.resolve=Mw;Bh.sort=tb;Bh.flatten=Z0;var YL={};Y0(YL,{ClipboardTextSerializer:()=>$w,Commands:()=>Vw,Delete:()=>Uw,Drop:()=>Fw,Editable:()=>qw,FocusEvents:()=>Gw,Keymap:()=>Kw,Paste:()=>Yw,Tabindex:()=>Jw,TextDirection:()=>Qw,focusEventsPluginKey:()=>Ww});var er=class Hw extends nb{constructor(){super(...arguments),this.type="extension"}static create(t={}){const r=typeof t=="function"?t():t;return new Hw(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}},$w=er.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Kt({key:new fr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:r}=e,{doc:n,selection:a}=t,{ranges:l}=a,c=Math.min(...l.map(m=>m.$from.pos)),u=Math.max(...l.map(m=>m.$to.pos)),f=Rw(r);return Ow(n,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),Vw=er.create({name:"commands",addCommands(){return{...vw}}}),Uw=er.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var r,n,a;const l=()=>{var c,u,f,h;if((h=(f=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:f.call(u,e))!=null?h:e.getMeta("y-sync$"))return;const m=Ew(e.before,[e,...t]);zw(m).forEach(y=>{m.mapping.mapResult(y.oldRange.from).deletedAfter&&m.mapping.mapResult(y.oldRange.to).deletedBefore&&m.before.nodesBetween(y.oldRange.from,y.oldRange.to,(j,w)=>{const S=w+j.nodeSize-2,N=y.oldRange.from<=w&&S<=y.oldRange.to;this.editor.emit("delete",{type:"node",node:j,from:w,to:S,newFrom:m.mapping.map(w),newTo:m.mapping.map(S),deletedRange:y.oldRange,newRange:y.newRange,partial:!N,editor:this.editor,transaction:e,combinedTransform:m})})});const b=m.mapping;m.steps.forEach((y,j)=>{var w,S;if(y instanceof Kn){const N=b.slice(j).map(y.from,-1),A=b.slice(j).map(y.to),E=b.invert().map(N,-1),M=b.invert().map(A),T=(w=m.doc.nodeAt(N-1))==null?void 0:w.marks.some(R=>R.eq(y.mark)),D=(S=m.doc.nodeAt(A))==null?void 0:S.marks.some(R=>R.eq(y.mark));this.editor.emit("delete",{type:"mark",mark:y.mark,from:y.from,to:y.to,deletedRange:{from:E,to:M},newRange:{from:N,to:A},partial:!!(D||T),editor:this.editor,transaction:e,combinedTransform:m})}})};(a=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||a?setTimeout(l,0):l()}}),Fw=er.create({name:"drop",addProseMirrorPlugins(){return[new Kt({key:new fr("tiptapDrop"),props:{handleDrop:(e,t,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:r,moved:n})}}})]}}),qw=er.create({name:"editable",addProseMirrorPlugins(){return[new Kt({key:new fr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Ww=new fr("focusEvents"),Gw=er.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Kt({key:Ww,props:{handleDOMEvents:{focus:(t,r)=>{e.isFocused=!0;const n=e.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,r)=>{e.isFocused=!1;const n=e.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}}),Kw=er.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:f,doc:h}=u,{empty:m,$anchor:g}=f,{pos:b,parent:y}=g,j=g.parent.isTextblock&&b>0?u.doc.resolve(b-1):g,w=j.parent.type.spec.isolating,S=g.pos-g.parentOffset,N=w&&j.parent.childCount===1?S===g.pos:ft.atStart(h).from===b;return!m||!y.type.isTextblock||y.textContent.length||!N||N&&g.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},a={...n},l={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return X0()||Cw()?l:a},addProseMirrorPlugins(){return[new Kt({key:new fr("clearDocument"),appendTransaction:(e,t,r)=>{if(e.some(w=>w.getMeta("composition")))return;const n=e.some(w=>w.docChanged)&&!t.doc.eq(r.doc),a=e.some(w=>w.getMeta("preventClearDocument"));if(!n||a)return;const{empty:l,from:c,to:u}=t.selection,f=ft.atStart(t.doc).from,h=ft.atEnd(t.doc).to;if(l||!(c===f&&u===h)||!zh(r.doc))return;const b=r.tr,y=Mh({state:r,transaction:b}),{commands:j}=new Oh({editor:this.editor,state:y});if(j.clearNodes(),!!b.steps.length)return b}})]}}),Yw=er.create({name:"paste",addProseMirrorPlugins(){return[new Kt({key:new fr("tiptapPaste"),props:{handlePaste:(e,t,r)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:r})}}})]}}),Jw=er.create({name:"tabindex",addProseMirrorPlugins(){return[new Kt({key:new fr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Qw=er.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=Ql(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const r=t.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Kt({key:new fr("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),JL=class Bl{constructor(t,r,n=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=r,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(t);return new Bl(r,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Bl(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Bl(t,this.editor)}get children(){const t=[];return this.node.content.forEach((r,n)=>{const a=r.isBlock&&!r.isTextblock,l=r.isAtom&&!r.isText,c=this.pos+n+(l?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(c);if(!a&&u.depth<=this.depth)return;const f=new Bl(u,this.editor,a,a?r:null);a&&(f.actualDepth=this.depth+1),t.push(new Bl(u,this.editor,a,a?r:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,r={}){let n=null,a=this.parent;for(;a&&!n;){if(a.node.type.name===t)if(Object.keys(r).length>0){const l=a.node.attrs,c=Object.keys(r);for(let u=0;u<c.length;u+=1){const f=c[u];if(l[f]!==r[f])break}}else n=a;a=a.parent}return n}querySelector(t,r={}){return this.querySelectorAll(t,r,!0)[0]||null}querySelectorAll(t,r={},n=!1){let a=[];if(!this.children||this.children.length===0)return a;const l=Object.keys(r);return this.children.forEach(c=>{n&&a.length>0||(c.node.type.name===t&&l.every(f=>r[f]===c.node.attrs[f])&&a.push(c),!(n&&a.length>0)&&(a=a.concat(c.querySelectorAll(t,r,n))))}),a}setAttribute(t){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(r)}},QL=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function XL(e,t,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const a=document.createElement("style");return t&&a.setAttribute("nonce",t),a.setAttribute("data-tiptap-style",""),a.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(a),a}var ZL=class extends IL{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:gL,createMappablePosition:xL},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:a,moved:l})=>this.options.onDrop(n,a,l)),this.on("paste",({event:n,slice:a})=>this.options.onPaste(n,a)),this.on("delete",this.options.onDelete);const t=this.createDoc(),r=ww(t,this.options.autofocus);this.editorState=Pl.create({doc:t,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=XL(QL,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const r=Aw(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(a=>{const l=typeof a=="string"?`${a}$`:a.key;r=r.filter(c=>!c.key.startsWith(l))}),t.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[qw,$w.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),Vw,Gw,Kw,Jw,Fw,Yw,Uw,Qw.configure({direction:this.options.textDirection})].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a?.type));this.extensionManager=new Bh(n,this)}createCommandManager(){this.commandManager=new Oh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Px(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=Px(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new bw(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(h=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(h)});return}const{state:t,transactions:r}=this.state.applyTransaction(e),n=!this.state.selection.eq(t.selection),a=r.includes(e),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!a)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const c=r.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),u=c?.getMeta("focus"),f=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),f&&this.emit("blur",{editor:this,event:f.event,transaction:c}),!(e.getMeta("preventUpdate")||!r.some(h=>h.docChanged)||l.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return Dw(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,n=typeof e=="string"?t:e;return hL(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return eb(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return lL(this.state.doc,{blockSeparator:t,textSerializers:{...Rw(this.schema),...r}})}get isEmpty(){return zh(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new JL(t,this)}get $doc(){return this.$pos(0)}};function Xl(e){return new Lh({find:e.find,handler:({state:t,range:r,match:n})=>{const a=Dt(e.getAttributes,void 0,n);if(a===!1||a===null)return null;const{tr:l}=t,c=n[n.length-1],u=n[0];if(c){const f=u.search(/\S/),h=r.from+u.indexOf(c),m=h+c.length;if(rb(r.from,r.to,t.doc).filter(y=>y.mark.type.excluded.find(w=>w===e.type&&w!==y.mark.type)).filter(y=>y.to>h).length)return null;m<r.to&&l.delete(m,r.to),h>r.from&&l.delete(r.from+f,h);const b=r.from+f+c.length;l.addMark(r.from+f,b,e.type.create(a||{})),l.removeStoredMark(e.type)}},undoable:e.undoable})}function eB(e){return new Lh({find:e.find,handler:({state:t,range:r,match:n})=>{const a=Dt(e.getAttributes,void 0,n)||{},{tr:l}=t,c=r.from;let u=r.to;const f=e.type.create(a);if(n[1]){const h=n[0].lastIndexOf(n[1]);let m=c+h;m>u?m=u:u=m+n[1].length;const g=n[0][n[0].length-1];l.insertText(g,c+n[0].length-1),l.replaceWith(m,u,f)}else if(n[0]){const h=e.type.isInline?c:c-1;l.insert(h,e.type.create(a)).delete(l.mapping.map(c),l.mapping.map(u))}l.scrollIntoView()},undoable:e.undoable})}function Hx(e){return new Lh({find:e.find,handler:({state:t,range:r,match:n})=>{const a=t.doc.resolve(r.from),l=Dt(e.getAttributes,void 0,n)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e.type))return null;t.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,l)},undoable:e.undoable})}function Zl(e){return new Lh({find:e.find,handler:({state:t,range:r,match:n,chain:a})=>{const l=Dt(e.getAttributes,void 0,n)||{},c=t.tr.delete(r.from,r.to),f=c.doc.resolve(r.from).blockRange(),h=f&&D0(f,e.type,l);if(!h)return null;if(c.wrap(f,h),e.keepMarks&&e.editor){const{selection:g,storedMarks:b}=t,{splittableMarks:y}=e.editor.extensionManager,j=b||g.$to.parentOffset&&g.$from.marks();if(j){const w=j.filter(S=>y.includes(S.type.name));c.ensureMarks(w)}}if(e.keepAttributes){const g=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(g,l).run()}const m=c.doc.resolve(r.from-1).nodeBefore;m&&m.type===e.type&&Ka(c.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(n,m))&&c.join(r.from-1)},undoable:e.undoable})}function tB(e,t){const{selection:r}=e,{$from:n}=r;if(r instanceof Je){const l=n.index();return n.parent.canReplaceWith(l,l+1,t)}let a=n.depth;for(;a>=0;){const l=n.index(a);if(n.node(a).contentMatchAt(l).matchType(t))return!0;a-=1}return!1}var rB={};Y0(rB,{createAtomBlockMarkdownSpec:()=>nB,createBlockMarkdownSpec:()=>sB,createInlineMarkdownSpec:()=>lB,parseAttributes:()=>sb,parseIndentedBlocks:()=>$x,renderNestedMarkdownContent:()=>ob,serializeAttributes:()=>ab});function sb(e){if(!e?.trim())return{};const t={},r=[],n=e.replace(/["']([^"']*)["']/g,h=>(r.push(h),`__QUOTED_${r.length-1}__`)),a=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const h=a.map(m=>m.trim().slice(1));t.class=h.join(" ")}const l=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(t.id=l[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(c)).forEach(([,h,m])=>{var g;const b=parseInt(((g=m.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),y=r[b];y&&(t[h]=y.slice(1,-1))});const f=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return f&&f.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(t[m]=!0)}),t}function ab(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(n=>t.push(`.${n}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?t.push(r):n!==!1&&n!=null&&t.push(`${r}="${String(n)}"`))}),t.join(" ")}function nB(e){const{nodeName:t,name:r,parseAttributes:n=sb,serializeAttributes:a=ab,defaultAttributes:l={},requiredAttributes:c=[],allowedAttributes:u}=e,f=r||t,h=m=>{if(!u)return m;const g={};return u.forEach(b=>{b in m&&(g[b]=m[b])}),g};return{parseMarkdown:(m,g)=>{const b={...l,...m.attributes};return g.createNode(t,b,[])},markdownTokenizer:{name:t,level:"block",start(m){var g;const b=new RegExp(`^:::${f}(?:\\s|$)`,"m"),y=(g=m.match(b))==null?void 0:g.index;return y!==void 0?y:-1},tokenize(m,g,b){const y=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),j=m.match(y);if(!j)return;const w=j[1]||"",S=n(w);if(!c.find(A=>!(A in S)))return{type:t,raw:j[0],attributes:S}}},renderMarkdown:m=>{const g=h(m.attrs||{}),b=a(g),y=b?` {${b}}`:"";return`:::${f}${y} :::`}}}function sB(e){const{nodeName:t,name:r,getContent:n,parseAttributes:a=sb,serializeAttributes:l=ab,defaultAttributes:c={},content:u="block",allowedAttributes:f}=e,h=r||t,m=g=>{if(!f)return g;const b={};return f.forEach(y=>{y in g&&(b[y]=g[y])}),b};return{parseMarkdown:(g,b)=>{let y;if(n){const w=n(g);y=typeof w=="string"?[{type:"text",text:w}]:w}else u==="block"?y=b.parseChildren(g.tokens||[]):y=b.parseInline(g.tokens||[]);const j={...c,...g.attributes};return b.createNode(t,j,y)},markdownTokenizer:{name:t,level:"block",start(g){var b;const y=new RegExp(`^:::${h}`,"m"),j=(b=g.match(y))==null?void 0:b.index;return j!==void 0?j:-1},tokenize(g,b,y){var j;const w=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),S=g.match(w);if(!S)return;const[N,A=""]=S,E=a(A);let M=1;const T=N.length;let D="";const R=/^:::([\w-]*)(\s.*)?/gm,q=g.slice(T);for(R.lastIndex=0;;){const K=R.exec(q);if(K===null)break;const W=K.index,V=K[1];if(!((j=K[2])!=null&&j.endsWith(":::"))){if(V)M+=1;else if(M-=1,M===0){const Y=q.slice(0,W);D=Y.trim();const $=g.slice(0,T+W+K[0].length);let I=[];if(D)if(u==="block")for(I=y.blockTokens(Y),I.forEach(ie=>{ie.text&&(!ie.tokens||ie.tokens.length===0)&&(ie.tokens=y.inlineTokens(ie.text))});I.length>0;){const ie=I[I.length-1];if(ie.type==="paragraph"&&(!ie.text||ie.text.trim()===""))I.pop();else break}else I=y.inlineTokens(D);return{type:t,raw:$,attributes:E,content:D,tokens:I}}}}}},renderMarkdown:(g,b)=>{const y=m(g.attrs||{}),j=l(y),w=j?` {${j}}`:"",S=b.renderChildren(g.content||[],`

`);return`:::${h}${w}

${S}

:::`}}}function aB(e){if(!e.trim())return{};const t={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(e);for(;n!==null;){const[,a,l,c]=n;t[a]=l||c,n=r.exec(e)}return t}function oB(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,r])=>`${t}="${r}"`).join(" ")}function lB(e){const{nodeName:t,name:r,getContent:n,parseAttributes:a=aB,serializeAttributes:l=oB,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:f}=e,h=r||t,m=b=>{if(!f)return b;const y={};return f.forEach(j=>{j in b&&(y[j]=b[j])}),y},g=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,y)=>{const j={...c,...b.attributes};if(u)return y.createNode(t,j);const w=n?n(b):b.content||"";return w?y.createNode(t,j,[y.createTextNode(w)]):y.createNode(t,j,[])},markdownTokenizer:{name:t,level:"inline",start(b){const y=u?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),j=b.match(y),w=j?.index;return w!==void 0?w:-1},tokenize(b,y,j){const w=u?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),S=b.match(w);if(!S)return;let N="",A="";if(u){const[,M]=S;A=M}else{const[,M,T]=S;A=M,N=T||""}const E=a(A.trim());return{type:t,raw:S[0],content:N.trim(),attributes:E}}},renderMarkdown:b=>{let y="";n?y=n(b):b.content&&b.content.length>0&&(y=b.content.filter(N=>N.type==="text").map(N=>N.text).join(""));const j=m(b.attrs||{}),w=l(j),S=w?` ${w}`:"";return u?`[${h}${S}]`:`[${h}${S}]${y}[/${h}]`}}}function $x(e,t,r){var n,a,l,c;const u=e.split(`
`),f=[];let h="",m=0;const g=t.baseIndentSize||2;for(;m<u.length;){const b=u[m],y=b.match(t.itemPattern);if(!y){if(f.length>0)break;if(b.trim()===""){m+=1,h=`${h}${b}
`;continue}else return}const j=t.extractItemData(y),{indentLevel:w,mainContent:S}=j;h=`${h}${b}
`;const N=[S];for(m+=1;m<u.length;){const T=u[m];if(T.trim()===""){const R=u.slice(m+1).findIndex(W=>W.trim()!=="");if(R===-1)break;if((((a=(n=u[m+1+R].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:a.length)||0)>w){N.push(T),h=`${h}${T}
`,m+=1;continue}else break}if((((c=(l=T.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:c.length)||0)>w)N.push(T),h=`${h}${T}
`,m+=1;else break}let A;const E=N.slice(1);if(E.length>0){const T=E.map(D=>D.slice(w+g)).join(`
`);T.trim()&&(t.customNestedParser?A=t.customNestedParser(T):A=r.blockTokens(T))}const M=t.createToken(j,A);f.push(M)}if(f.length!==0)return{items:f,raw:h}}function ob(e,t,r,n){if(!e||!Array.isArray(e.content))return"";const a=typeof r=="function"?r(n):r,[l,...c]=e.content,u=t.renderChildren([l]),f=[`${a}${u}`];return c&&c.length>0&&c.forEach(h=>{const m=t.renderChildren([h]);if(m){const g=m.split(`
`).map(b=>b?t.indent(b):"").join(`
`);f.push(g)}}),f.join(`
`)}function iB(e,t,r={}){const{state:n}=t,{doc:a,tr:l}=n,c=e;a.descendants((u,f)=>{const h=l.mapping.map(f),m=l.mapping.map(f)+u.nodeSize;let g=null;if(u.marks.forEach(y=>{if(y!==c)return!1;g=y}),!g)return;let b=!1;if(Object.keys(r).forEach(y=>{r[y]!==g.attrs[y]&&(b=!0)}),b){const y=e.type.create({...e.attrs,...r});l.removeMark(h,m,e.type),l.addMark(h,m,y)}}),l.docChanged&&t.view.dispatch(l)}var mn=class Xw extends nb{constructor(){super(...arguments),this.type="node"}static create(t={}){const r=typeof t=="function"?t():t;return new Xw(r)}configure(t){return super.configure(t)}extend(t){const r=typeof t=="function"?t():t;return super.extend(r)}};function Vo(e){return new FL({find:e.find,handler:({state:t,range:r,match:n,pasteEvent:a})=>{const l=Dt(e.getAttributes,void 0,n,a);if(l===!1||l===null)return null;const{tr:c}=t,u=n[n.length-1],f=n[0];let h=r.to;if(u){const m=f.search(/\S/),g=r.from+f.indexOf(u),b=g+u.length;if(rb(r.from,r.to,t.doc).filter(j=>j.mark.type.excluded.find(S=>S===e.type&&S!==j.mark.type)).filter(j=>j.to>g).length)return null;b<r.to&&c.delete(b,r.to),g>r.from&&c.delete(r.from+m,g),h=r.from+m+u.length,c.addMark(r.from+m,h,e.type.create(l||{})),c.removeStoredMark(e.type)}}})}var cB=Object.getOwnPropertyNames,dB=Object.getOwnPropertySymbols,uB=Object.prototype.hasOwnProperty;function A3(e,t){return function(n,a,l){return e(n,a,l)&&t(n,a,l)}}function Ru(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var l=a.cache,c=l.get(r),u=l.get(n);if(c&&u)return c===n&&u===r;l.set(r,n),l.set(n,r);var f=e(r,n,a);return l.delete(r),l.delete(n),f}}function fB(e){return e?.[Symbol.toStringTag]}function T3(e){return cB(e).concat(dB(e))}var hB=Object.hasOwn||(function(e,t){return uB.call(e,t)});function Go(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var pB="__v",mB="__o",gB="_owner",M3=Object.getOwnPropertyDescriptor,O3=Object.keys;function xB(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function bB(e,t){return Go(e.getTime(),t.getTime())}function yB(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function vB(e,t){return e===t}function R3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),l=e.entries(),c,u,f=0;(c=l.next())&&!c.done;){for(var h=t.entries(),m=!1,g=0;(u=h.next())&&!u.done;){if(a[g]){g++;continue}var b=c.value,y=u.value;if(r.equals(b[0],y[0],f,g,e,t,r)&&r.equals(b[1],y[1],b[0],y[0],e,t,r)){m=a[g]=!0;break}g++}if(!m)return!1;f++}return!0}var jB=Go;function NB(e,t,r){var n=O3(e),a=n.length;if(O3(t).length!==a)return!1;for(;a-- >0;)if(!Zw(e,t,r,n[a]))return!1;return!0}function ac(e,t,r){var n=T3(e),a=n.length;if(T3(t).length!==a)return!1;for(var l,c,u;a-- >0;)if(l=n[a],!Zw(e,t,r,l)||(c=M3(e,l),u=M3(t,l),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function wB(e,t){return Go(e.valueOf(),t.valueOf())}function SB(e,t){return e.source===t.source&&e.flags===t.flags}function D3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),l=e.values(),c,u;(c=l.next())&&!c.done;){for(var f=t.values(),h=!1,m=0;(u=f.next())&&!u.done;){if(!a[m]&&r.equals(c.value,u.value,c.value,u.value,e,t,r)){h=a[m]=!0;break}m++}if(!h)return!1}return!0}function CB(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function kB(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Zw(e,t,r,n){return(n===gB||n===mB||n===pB)&&(e.$$typeof||t.$$typeof)?!0:hB(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var EB="[object Arguments]",AB="[object Boolean]",TB="[object Date]",MB="[object Error]",OB="[object Map]",RB="[object Number]",DB="[object Object]",zB="[object RegExp]",LB="[object Set]",BB="[object String]",_B="[object URL]",PB=Array.isArray,z3=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,L3=Object.assign,IB=Object.prototype.toString.call.bind(Object.prototype.toString);function HB(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,l=e.areMapsEqual,c=e.areNumbersEqual,u=e.areObjectsEqual,f=e.arePrimitiveWrappersEqual,h=e.areRegExpsEqual,m=e.areSetsEqual,g=e.areTypedArraysEqual,b=e.areUrlsEqual,y=e.unknownTagComparators;return function(w,S,N){if(w===S)return!0;if(w==null||S==null)return!1;var A=typeof w;if(A!==typeof S)return!1;if(A!=="object")return A==="number"?c(w,S,N):A==="function"?a(w,S,N):!1;var E=w.constructor;if(E!==S.constructor)return!1;if(E===Object)return u(w,S,N);if(PB(w))return t(w,S,N);if(z3!=null&&z3(w))return g(w,S,N);if(E===Date)return r(w,S,N);if(E===RegExp)return h(w,S,N);if(E===Map)return l(w,S,N);if(E===Set)return m(w,S,N);var M=IB(w);if(M===TB)return r(w,S,N);if(M===zB)return h(w,S,N);if(M===OB)return l(w,S,N);if(M===LB)return m(w,S,N);if(M===DB)return typeof w.then!="function"&&typeof S.then!="function"&&u(w,S,N);if(M===_B)return b(w,S,N);if(M===MB)return n(w,S,N);if(M===EB)return u(w,S,N);if(M===AB||M===RB||M===BB)return f(w,S,N);if(y){var T=y[M];if(!T){var D=fB(w);D&&(T=y[D])}if(T)return T(w,S,N)}return!1}}function $B(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?ac:xB,areDatesEqual:bB,areErrorsEqual:yB,areFunctionsEqual:vB,areMapsEqual:n?A3(R3,ac):R3,areNumbersEqual:jB,areObjectsEqual:n?ac:NB,arePrimitiveWrappersEqual:wB,areRegExpsEqual:SB,areSetsEqual:n?A3(D3,ac):D3,areTypedArraysEqual:n?ac:CB,areUrlsEqual:kB,unknownTagComparators:void 0};if(r&&(a=L3({},a,r(a))),t){var l=Ru(a.areArraysEqual),c=Ru(a.areMapsEqual),u=Ru(a.areObjectsEqual),f=Ru(a.areSetsEqual);a=L3({},a,{areArraysEqual:l,areMapsEqual:c,areObjectsEqual:u,areSetsEqual:f})}return a}function VB(e){return function(t,r,n,a,l,c,u){return e(t,r,u)}}function UB(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,l=e.strict;if(n)return function(f,h){var m=n(),g=m.cache,b=g===void 0?t?new WeakMap:void 0:g,y=m.meta;return r(f,h,{cache:b,equals:a,meta:y,strict:l})};if(t)return function(f,h){return r(f,h,{cache:new WeakMap,equals:a,meta:void 0,strict:l})};var c={cache:void 0,equals:a,meta:void 0,strict:l};return function(f,h){return r(f,h,c)}}var FB=Ja();Ja({strict:!0});Ja({circular:!0});Ja({circular:!0,strict:!0});Ja({createInternalComparator:function(){return Go}});Ja({strict:!0,createInternalComparator:function(){return Go}});Ja({circular:!0,createInternalComparator:function(){return Go}});Ja({circular:!0,createInternalComparator:function(){return Go},strict:!0});function Ja(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,l=e.strict,c=l===void 0?!1:l,u=$B(e),f=HB(u),h=n?n(f):VB(f);return UB({circular:r,comparator:f,createState:a,equals:h,strict:c})}var Hg={exports:{}},$g={};var B3;function qB(){if(B3)return $g;B3=1;var e=ei(),t=F6();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return $g.useSyncExternalStoreWithSelector=function(h,m,g,b,y){var j=l(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=u(function(){function N(D){if(!A){if(A=!0,E=D,D=b(D),y!==void 0&&w.hasValue){var R=w.value;if(y(R,D))return M=R}return M=D}if(R=M,n(E,D))return R;var q=b(D);return y!==void 0&&y(R,q)?(E=D,R):(E=D,M=q)}var A=!1,E,M,T=g===void 0?null:g;return[function(){return N(m())},T===null?void 0:function(){return N(T())}]},[m,g,b,y]);var S=a(h,j[0],j[1]);return c(function(){w.hasValue=!0,w.value=S},[S]),f(S),S},$g}var _3;function WB(){return _3||(_3=1,Hg.exports=qB()),Hg.exports}var GB=WB(),KB=(...e)=>t=>{e.forEach(r=>{typeof r=="function"?r(t):r&&(r.current=t)})},YB=({contentComponent:e})=>{const t=q6.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return s.jsx(s.Fragment,{children:Object.values(t)})};function JB(){const e=new Set;let t={};return{subscribe(r){return e.add(r),()=>{e.delete(r)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(r,n){t={...t,[r]:Y9.createPortal(n.reactElement,n.element,r)},e.forEach(a=>a())},removeRenderer(r){const n={...t};delete n[r],t=n,e.forEach(a=>a())}}}var QB=class extends pt.Component{constructor(e){var t;super(e),this.editorContentRef=pt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=JB(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const r=document.createElement("div");r.append(t.view.dom),t.setOptions({element:r})}catch{}}}render(){const{editor:e,innerRef:t,...r}=this.props;return s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:KB(t,this.editorContentRef),...r}),e?.contentComponent&&s.jsx(YB,{contentComponent:e.contentComponent})]})}},XB=C.forwardRef((e,t)=>{const r=pt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return pt.createElement(QB,{key:r,innerRef:t,...e})}),ZB=pt.memo(XB),e_=typeof window<"u"?C.useLayoutEffect:C.useEffect,t_=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}};function r_(e){var t;const[r]=C.useState(()=>new t_(e.editor)),n=GB.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:FB);return e_(()=>r.watch(e.editor),[e.editor,r]),C.useDebugValue(n),n}var n_=!1,Vx=typeof window>"u",s_=Vx||!!(typeof window<"u"&&window.next),a_=class eS{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Vx||s_?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...n)=>{var a,l;return(l=(a=this.options.current).onBeforeCreate)==null?void 0:l.call(a,...n)},onBlur:(...n)=>{var a,l;return(l=(a=this.options.current).onBlur)==null?void 0:l.call(a,...n)},onCreate:(...n)=>{var a,l;return(l=(a=this.options.current).onCreate)==null?void 0:l.call(a,...n)},onDestroy:(...n)=>{var a,l;return(l=(a=this.options.current).onDestroy)==null?void 0:l.call(a,...n)},onFocus:(...n)=>{var a,l;return(l=(a=this.options.current).onFocus)==null?void 0:l.call(a,...n)},onSelectionUpdate:(...n)=>{var a,l;return(l=(a=this.options.current).onSelectionUpdate)==null?void 0:l.call(a,...n)},onTransaction:(...n)=>{var a,l;return(l=(a=this.options.current).onTransaction)==null?void 0:l.call(a,...n)},onUpdate:(...n)=>{var a,l;return(l=(a=this.options.current).onUpdate)==null?void 0:l.call(a,...n)},onContentError:(...n)=>{var a,l;return(l=(a=this.options.current).onContentError)==null?void 0:l.call(a,...n)},onDrop:(...n)=>{var a,l;return(l=(a=this.options.current).onDrop)==null?void 0:l.call(a,...n)},onPaste:(...n)=>{var a,l;return(l=(a=this.options.current).onPaste)==null?void 0:l.call(a,...n)},onDelete:(...n)=>{var a,l;return(l=(a=this.options.current).onDelete)==null?void 0:l.call(a,...n)}};return new ZL(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,r){return Object.keys(t).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&t.extensions&&r.extensions?t.extensions.length!==r.extensions.length?!1:t.extensions.every((a,l)=>{var c;return a===((c=r.extensions)==null?void 0:c[l])}):t[n]===r[n])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?eS.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((n,a)=>n===t[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function o_(e={},t=[]){const r=C.useRef(e);r.current=e;const[n]=C.useState(()=>new a_(r)),a=q6.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return C.useDebugValue(a),C.useEffect(n.onRender(t)),r_({editor:a,selector:({transactionNumber:l})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&l===0?0:l+1}),a}var l_=C.createContext({editor:null});l_.Consumer;var i_=C.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),c_=()=>C.useContext(i_);pt.forwardRef((e,t)=>{const{onDragStart:r}=c_(),n=e.as||"div";return s.jsx(n,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...e.style}})});pt.createContext({markViewContentRef:()=>{}});var Tf=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:r,...n}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,n,r]},d_=/^\s*>\s$/,u_=mn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return Tf("blockquote",{...cr(this.options.HTMLAttributes,e),children:Tf("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const r=">",n=[];return e.content.forEach(a=>{const u=t.renderChildren([a]).split(`
`).map(f=>f.trim()===""?r:`${r} ${f}`);n.push(u.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Zl({find:d_,type:this.type})]}}),f_=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,h_=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,p_=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,m_=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,g_=Wo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return Tf("strong",{...cr(this.options.HTMLAttributes,e),children:Tf("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Xl({find:f_,type:this.type}),Xl({find:p_,type:this.type})]},addPasteRules(){return[Vo({find:h_,type:this.type}),Vo({find:m_,type:this.type})]}}),x_=/(^|[^`])`([^`]+)`(?!`)$/,b_=/(^|[^`])`([^`]+)`(?!`)/g,y_=Wo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",cr(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Xl({find:x_,type:this.type})]},addPasteRules(){return[Vo({find:b_,type:this.type})]}}),Vg=4,v_=/^```([a-z]+)?[\s\n]$/,j_=/^~~~([a-z]+)?[\s\n]$/,N_=mn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Vg,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:r}=this.options;if(!r)return null;const l=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(c=>c.startsWith(r)).map(c=>c.replace(r,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",cr(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var r;return((r=e.raw)==null?void 0:r.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var r;let n="";const a=((r=e.attrs)==null?void 0:r.language)||"";return e.content?n=[`\`\`\`${a}`,t.renderChildren(e.content),"```"].join(`
`):n=`\`\`\`${a}

\`\`\``,n},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,r=t.pos===1;return!e||t.parent.type.name!==this.name?!1:r||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:Vg,{state:n}=e,{selection:a}=n,{$from:l,empty:c}=a;if(l.parent.type!==this.type)return!1;const u=" ".repeat(r);return c?e.commands.insertContent(u):e.commands.command(({tr:f})=>{const{from:h,to:m}=a,y=n.doc.textBetween(h,m,`
`,`
`).split(`
`).map(j=>u+j).join(`
`);return f.replaceWith(h,m,n.schema.text(y)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const r=(t=this.options.tabSize)!=null?t:Vg,{state:n}=e,{selection:a}=n,{$from:l,empty:c}=a;return l.parent.type!==this.type?!1:c?e.commands.command(({tr:u})=>{var f;const{pos:h}=l,m=l.start(),g=l.end(),y=n.doc.textBetween(m,g,`
`,`
`).split(`
`);let j=0,w=0;const S=h-m;for(let D=0;D<y.length;D+=1){if(w+y[D].length>=S){j=D;break}w+=y[D].length+1}const A=((f=y[j].match(/^ */))==null?void 0:f[0])||"",E=Math.min(A.length,r);if(E===0)return!0;let M=m;for(let D=0;D<j;D+=1)M+=y[D].length+1;return u.delete(M,M+E),h-M<=E&&u.setSelection(st.create(u.doc,M)),!0}):e.commands.command(({tr:u})=>{const{from:f,to:h}=a,b=n.doc.textBetween(f,h,`
`,`
`).split(`
`).map(y=>{var j;const w=((j=y.match(/^ */))==null?void 0:j[0])||"",S=Math.min(w.length,r);return y.slice(S)}).join(`
`);return u.replaceWith(f,h,n.schema.text(b)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:r}=t,{$from:n,empty:a}=r;if(!a||n.parent.type!==this.type)return!1;const l=n.parentOffset===n.parent.nodeSize-2,c=n.parent.textContent.endsWith(`

`);return!l||!c?!1:e.chain().command(({tr:u})=>(u.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:r,doc:n}=t,{$from:a,empty:l}=r;if(!l||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const u=a.after();return u===void 0?!1:n.nodeAt(u)?e.commands.command(({tr:h})=>(h.setSelection(ft.near(n.resolve(u))),!0)):e.commands.exitCode()}}},addInputRules(){return[Hx({find:v_,type:this.type,getAttributes:e=>({language:e[1]})}),Hx({find:j_,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Kt({key:new fr("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const r=t.clipboardData.getData("text/plain"),n=t.clipboardData.getData("vscode-editor-data"),a=n?JSON.parse(n):void 0,l=a?.mode;if(!r||!l)return!1;const{tr:c,schema:u}=e.state,f=u.text(r.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:l},f)),c.selection.$from.parent.type!==this.type&&c.setSelection(st.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),e.dispatch(c),!0}}})]}}),w_=mn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),S_=mn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",cr(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:r,editor:n})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:a,storedMarks:l}=r;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=n.extensionManager,f=l||a.$to.parentOffset&&a.$from.marks();return t().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&f&&c){const g=f.filter(b=>u.includes(b.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),C_=mn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,cr(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var r;const n=(r=e.attrs)!=null&&r.level?parseInt(e.attrs.level,10):1,a="#".repeat(n);return e.content?`${a} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Hx({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),k_=mn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",cr(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!tB(t,t.schema.nodes[this.name]))return!1;const{selection:r}=t,{$to:n}=r,a=e();return Lw(r)?a.insertContentAt(n.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:l,tr:c,dispatch:u})=>{if(u){const{$to:f}=c.selection,h=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?c.setSelection(st.create(c.doc,f.pos+1)):f.nodeAfter.isBlock?c.setSelection(Je.create(c.doc,f.pos)):c.setSelection(st.create(c.doc,f.pos));else{const m=l.schema.nodes[this.options.nextNodeType]||f.parent.type.contentMatch.defaultType,g=m?.create();g&&(c.insert(h,g),c.setSelection(st.create(c.doc,h+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[eB({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),E_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,A_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,T_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,M_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,O_=Wo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",cr(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Xl({find:E_,type:this.type}),Xl({find:T_,type:this.type})]},addPasteRules(){return[Vo({find:A_,type:this.type}),Vo({find:M_,type:this.type})]}});const R_="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",D_="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Ux="numeric",Fx="ascii",qx="alpha",bc="asciinumeric",uc="alphanumeric",Wx="domain",tS="emoji",z_="scheme",L_="slashscheme",Ug="whitespace";function B_(e,t){return e in t||(t[e]=[]),t[e]}function ko(e,t,r){t[Ux]&&(t[bc]=!0,t[uc]=!0),t[Fx]&&(t[bc]=!0,t[qx]=!0),t[bc]&&(t[uc]=!0),t[qx]&&(t[uc]=!0),t[uc]&&(t[Wx]=!0),t[tS]&&(t[Wx]=!0);for(const n in t){const a=B_(n,r);a.indexOf(e)<0&&a.push(e)}}function __(e,t){const r={};for(const n in t)t[n].indexOf(e)>=0&&(r[n]=!0);return r}function Jr(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Jr.groups={};Jr.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let n=0;n<t.jr.length;n++){const a=t.jr[n][0],l=t.jr[n][1];if(l&&a.test(e))return l}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,r,n){for(let a=0;a<e.length;a++)this.tt(e[a],t,r,n)},tr(e,t,r,n){n=n||Jr.groups;let a;return t&&t.j?a=t:(a=new Jr(t),r&&n&&ko(t,r,n)),this.jr.push([e,a]),a},ts(e,t,r,n){let a=this;const l=e.length;if(!l)return a;for(let c=0;c<l-1;c++)a=a.tt(e[c]);return a.tt(e[l-1],t,r,n)},tt(e,t,r,n){n=n||Jr.groups;const a=this;if(t&&t.j)return a.j[e]=t,t;const l=t;let c,u=a.go(e);if(u?(c=new Jr,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new Jr,l){if(n)if(c.t&&typeof c.t=="string"){const f=Object.assign(__(c.t,n),r);ko(l,f,n)}else r&&ko(l,r,n);c.t=l}return a.j[e]=c,c}};const ut=(e,t,r,n,a)=>e.ta(t,r,n,a),Xt=(e,t,r,n,a)=>e.tr(t,r,n,a),P3=(e,t,r,n,a)=>e.ts(t,r,n,a),Re=(e,t,r,n,a)=>e.tt(t,r,n,a),Ps="WORD",Gx="UWORD",rS="ASCIINUMERICAL",nS="ALPHANUMERICAL",Hc="LOCALHOST",Kx="TLD",Yx="UTLD",Ju="SCHEME",_l="SLASH_SCHEME",lb="NUM",Jx="WS",ib="NL",yc="OPENBRACE",vc="CLOSEBRACE",Mf="OPENBRACKET",Of="CLOSEBRACKET",Rf="OPENPAREN",Df="CLOSEPAREN",zf="OPENANGLEBRACKET",Lf="CLOSEANGLEBRACKET",Bf="FULLWIDTHLEFTPAREN",_f="FULLWIDTHRIGHTPAREN",Pf="LEFTCORNERBRACKET",If="RIGHTCORNERBRACKET",Hf="LEFTWHITECORNERBRACKET",$f="RIGHTWHITECORNERBRACKET",Vf="FULLWIDTHLESSTHAN",Uf="FULLWIDTHGREATERTHAN",Ff="AMPERSAND",qf="APOSTROPHE",Wf="ASTERISK",ka="AT",Gf="BACKSLASH",Kf="BACKTICK",Yf="CARET",Oa="COLON",cb="COMMA",Jf="DOLLAR",is="DOT",Qf="EQUALS",db="EXCLAMATION",Rn="HYPHEN",jc="PERCENT",Xf="PIPE",Zf="PLUS",eh="POUND",Nc="QUERY",ub="QUOTE",sS="FULLWIDTHMIDDLEDOT",fb="SEMI",cs="SLASH",wc="TILDE",th="UNDERSCORE",aS="EMOJI",rh="SYM";var oS=Object.freeze({__proto__:null,ALPHANUMERICAL:nS,AMPERSAND:Ff,APOSTROPHE:qf,ASCIINUMERICAL:rS,ASTERISK:Wf,AT:ka,BACKSLASH:Gf,BACKTICK:Kf,CARET:Yf,CLOSEANGLEBRACKET:Lf,CLOSEBRACE:vc,CLOSEBRACKET:Of,CLOSEPAREN:Df,COLON:Oa,COMMA:cb,DOLLAR:Jf,DOT:is,EMOJI:aS,EQUALS:Qf,EXCLAMATION:db,FULLWIDTHGREATERTHAN:Uf,FULLWIDTHLEFTPAREN:Bf,FULLWIDTHLESSTHAN:Vf,FULLWIDTHMIDDLEDOT:sS,FULLWIDTHRIGHTPAREN:_f,HYPHEN:Rn,LEFTCORNERBRACKET:Pf,LEFTWHITECORNERBRACKET:Hf,LOCALHOST:Hc,NL:ib,NUM:lb,OPENANGLEBRACKET:zf,OPENBRACE:yc,OPENBRACKET:Mf,OPENPAREN:Rf,PERCENT:jc,PIPE:Xf,PLUS:Zf,POUND:eh,QUERY:Nc,QUOTE:ub,RIGHTCORNERBRACKET:If,RIGHTWHITECORNERBRACKET:$f,SCHEME:Ju,SEMI:fb,SLASH:cs,SLASH_SCHEME:_l,SYM:rh,TILDE:wc,TLD:Kx,UNDERSCORE:th,UTLD:Yx,UWORD:Gx,WORD:Ps,WS:Jx});const Bs=/[a-z]/,oc=new RegExp("\\p{L}","u"),Fg=new RegExp("\\p{Emoji}","u"),_s=/\d/,qg=/\s/,I3="\r",Wg=`
`,P_="",I_="",Gg="";let Du=null,zu=null;function H_(e=[]){const t={};Jr.groups=t;const r=new Jr;Du==null&&(Du=H3(R_)),zu==null&&(zu=H3(D_)),Re(r,"'",qf),Re(r,"{",yc),Re(r,"}",vc),Re(r,"[",Mf),Re(r,"]",Of),Re(r,"(",Rf),Re(r,")",Df),Re(r,"<",zf),Re(r,">",Lf),Re(r,"",Bf),Re(r,"",_f),Re(r,"",Pf),Re(r,"",If),Re(r,"",Hf),Re(r,"",$f),Re(r,"",Vf),Re(r,"",Uf),Re(r,"&",Ff),Re(r,"*",Wf),Re(r,"@",ka),Re(r,"`",Kf),Re(r,"^",Yf),Re(r,":",Oa),Re(r,",",cb),Re(r,"$",Jf),Re(r,".",is),Re(r,"=",Qf),Re(r,"!",db),Re(r,"-",Rn),Re(r,"%",jc),Re(r,"|",Xf),Re(r,"+",Zf),Re(r,"#",eh),Re(r,"?",Nc),Re(r,'"',ub),Re(r,"/",cs),Re(r,";",fb),Re(r,"~",wc),Re(r,"_",th),Re(r,"\\",Gf),Re(r,"",sS);const n=Xt(r,_s,lb,{[Ux]:!0});Xt(n,_s,n);const a=Xt(n,Bs,rS,{[bc]:!0}),l=Xt(n,oc,nS,{[uc]:!0}),c=Xt(r,Bs,Ps,{[Fx]:!0});Xt(c,_s,a),Xt(c,Bs,c),Xt(a,_s,a),Xt(a,Bs,a);const u=Xt(r,oc,Gx,{[qx]:!0});Xt(u,Bs),Xt(u,_s,l),Xt(u,oc,u),Xt(l,_s,l),Xt(l,Bs),Xt(l,oc,l);const f=Re(r,Wg,ib,{[Ug]:!0}),h=Re(r,I3,Jx,{[Ug]:!0}),m=Xt(r,qg,Jx,{[Ug]:!0});Re(r,Gg,m),Re(h,Wg,f),Re(h,Gg,m),Xt(h,qg,m),Re(m,I3),Re(m,Wg),Xt(m,qg,m),Re(m,Gg,m);const g=Xt(r,Fg,aS,{[tS]:!0});Re(g,"#"),Xt(g,Fg,g),Re(g,P_,g);const b=Re(g,I_);Re(b,"#"),Xt(b,Fg,g);const y=[[Bs,c],[_s,a]],j=[[Bs,null],[oc,u],[_s,l]];for(let w=0;w<Du.length;w++)wa(r,Du[w],Kx,Ps,y);for(let w=0;w<zu.length;w++)wa(r,zu[w],Yx,Gx,j);ko(Kx,{tld:!0,ascii:!0},t),ko(Yx,{utld:!0,alpha:!0},t),wa(r,"file",Ju,Ps,y),wa(r,"mailto",Ju,Ps,y),wa(r,"http",_l,Ps,y),wa(r,"https",_l,Ps,y),wa(r,"ftp",_l,Ps,y),wa(r,"ftps",_l,Ps,y),ko(Ju,{scheme:!0,ascii:!0},t),ko(_l,{slashscheme:!0,ascii:!0},t),e=e.sort((w,S)=>w[0]>S[0]?1:-1);for(let w=0;w<e.length;w++){const S=e[w][0],A=e[w][1]?{[z_]:!0}:{[L_]:!0};S.indexOf("-")>=0?A[Wx]=!0:Bs.test(S)?_s.test(S)?A[bc]=!0:A[Fx]=!0:A[Ux]=!0,P3(r,S,S,A)}return P3(r,"localhost",Hc,{ascii:!0}),r.jd=new Jr(rh),{start:r,tokens:Object.assign({groups:t},oS)}}function lS(e,t){const r=$_(t.replace(/[A-Z]/g,u=>u.toLowerCase())),n=r.length,a=[];let l=0,c=0;for(;c<n;){let u=e,f=null,h=0,m=null,g=-1,b=-1;for(;c<n&&(f=u.go(r[c]));)u=f,u.accepts()?(g=0,b=0,m=u):g>=0&&(g+=r[c].length,b++),h+=r[c].length,l+=r[c].length,c++;l-=g,c-=b,h-=g,a.push({t:m.t,v:t.slice(l-h,l),s:l-h,e:l})}return a}function $_(e){const t=[],r=e.length;let n=0;for(;n<r;){let a=e.charCodeAt(n),l,c=a<55296||a>56319||n+1===r||(l=e.charCodeAt(n+1))<56320||l>57343?e[n]:e.slice(n,n+2);t.push(c),n+=c.length}return t}function wa(e,t,r,n,a){let l;const c=t.length;for(let u=0;u<c-1;u++){const f=t[u];e.j[f]?l=e.j[f]:(l=new Jr(n),l.jr=a.slice(),e.j[f]=l),e=l}return l=new Jr(r),l.jr=a.slice(),e.j[t[c-1]]=l,l}function H3(e){const t=[],r=[];let n=0,a="0123456789";for(;n<e.length;){let l=0;for(;a.indexOf(e[n+l])>=0;)l++;if(l>0){t.push(r.join(""));for(let c=parseInt(e.substring(n,n+l),10);c>0;c--)r.pop();n+=l}else r.push(e[n]),n++}return t}const $c={defaultProtocol:"http",events:null,format:$3,formatHref:$3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function hb(e,t=null){let r=Object.assign({},$c);e&&(r=Object.assign(r,e instanceof hb?e.o:e));const n=r.ignoreTags,a=[];for(let l=0;l<n.length;l++)a.push(n[l].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=a}hb.prototype={o:$c,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const n=t!=null;let a=this.o[e];return a&&(typeof a=="object"?(a=r.t in a?a[r.t]:$c[e],typeof a=="function"&&n&&(a=a(t,r))):typeof a=="function"&&n&&(a=a(t,r.t,r)),a)},getObj(e,t,r){let n=this.o[e];return typeof n=="function"&&t!=null&&(n=n(t,r.t,r)),n},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function $3(e){return e}function iS(e,t){this.t="token",this.v=e,this.tk=t}iS.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),n=e.get("format",t,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=$c.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toHref(e.get("defaultProtocol")),n=e.get("formatHref",r,this),a=e.get("tagName",r,t),l=this.toFormattedString(e),c={},u=e.get("className",r,t),f=e.get("target",r,t),h=e.get("rel",r,t),m=e.getObj("attributes",r,t),g=e.getObj("events",r,t);return c.href=n,u&&(c.class=u),f&&(c.target=f),h&&(c.rel=h),m&&Object.assign(c,m),{tagName:a,attributes:c,content:l,eventListeners:g}}};function _h(e,t){class r extends iS{constructor(a,l){super(a,l),this.t=e}}for(const n in t)r.prototype[n]=t[n];return r.t=e,r}const V3=_h("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),U3=_h("text"),V_=_h("nl"),Lu=_h("url",{isLink:!0,toHref(e=$c.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Hc&&e[1].t===Oa}}),Mn=e=>new Jr(e);function U_({groups:e}){const t=e.domain.concat([Ff,Wf,ka,Gf,Kf,Yf,Jf,Qf,Rn,lb,jc,Xf,Zf,eh,cs,rh,wc,th]),r=[qf,Oa,cb,is,db,jc,Nc,ub,fb,zf,Lf,yc,vc,Of,Mf,Rf,Df,Bf,_f,Pf,If,Hf,$f,Vf,Uf],n=[Ff,qf,Wf,Gf,Kf,Yf,Jf,Qf,Rn,yc,vc,jc,Xf,Zf,eh,Nc,cs,rh,wc,th],a=Mn(),l=Re(a,wc);ut(l,n,l),ut(l,e.domain,l);const c=Mn(),u=Mn(),f=Mn();ut(a,e.domain,c),ut(a,e.scheme,u),ut(a,e.slashscheme,f),ut(c,n,l),ut(c,e.domain,c);const h=Re(c,ka);Re(l,ka,h),Re(u,ka,h),Re(f,ka,h);const m=Re(l,is);ut(m,n,l),ut(m,e.domain,l);const g=Mn();ut(h,e.domain,g),ut(g,e.domain,g);const b=Re(g,is);ut(b,e.domain,g);const y=Mn(V3);ut(b,e.tld,y),ut(b,e.utld,y),Re(h,Hc,y);const j=Re(g,Rn);Re(j,Rn,j),ut(j,e.domain,g),ut(y,e.domain,g),Re(y,is,b),Re(y,Rn,j);const w=Re(y,Oa);ut(w,e.numeric,V3);const S=Re(c,Rn),N=Re(c,is);Re(S,Rn,S),ut(S,e.domain,c),ut(N,n,l),ut(N,e.domain,c);const A=Mn(Lu);ut(N,e.tld,A),ut(N,e.utld,A),ut(A,e.domain,c),ut(A,n,l),Re(A,is,N),Re(A,Rn,S),Re(A,ka,h);const E=Re(A,Oa),M=Mn(Lu);ut(E,e.numeric,M);const T=Mn(Lu),D=Mn();ut(T,t,T),ut(T,r,D),ut(D,t,T),ut(D,r,D),Re(A,cs,T),Re(M,cs,T);const R=Re(u,Oa),q=Re(f,Oa),K=Re(q,cs),W=Re(K,cs);ut(u,e.domain,c),Re(u,is,N),Re(u,Rn,S),ut(f,e.domain,c),Re(f,is,N),Re(f,Rn,S),ut(R,e.domain,T),Re(R,cs,T),Re(R,Nc,T),ut(W,e.domain,T),ut(W,t,T),Re(W,cs,T);const V=[[yc,vc],[Mf,Of],[Rf,Df],[zf,Lf],[Bf,_f],[Pf,If],[Hf,$f],[Vf,Uf]];for(let Y=0;Y<V.length;Y++){const[$,I]=V[Y],ie=Re(T,$);Re(D,$,ie),Re(ie,I,T);const B=Mn(Lu);ut(ie,t,B);const Z=Mn();ut(ie,r),ut(B,t,B),ut(B,r,Z),ut(Z,t,B),ut(Z,r,Z),Re(B,I,T),Re(Z,I,T)}return Re(a,Hc,A),Re(a,ib,V_),{start:a,tokens:oS}}function F_(e,t,r){let n=r.length,a=0,l=[],c=[];for(;a<n;){let u=e,f=null,h=null,m=0,g=null,b=-1;for(;a<n&&!(f=u.go(r[a].t));)c.push(r[a++]);for(;a<n&&(h=f||u.go(r[a].t));)f=null,u=h,u.accepts()?(b=0,g=u):b>=0&&b++,a++,m++;if(b<0)a-=m,a<n&&(c.push(r[a]),a++);else{c.length>0&&(l.push(Kg(U3,t,c)),c=[]),a-=b,m-=b;const y=g.t,j=r.slice(a-m,a);l.push(Kg(y,t,j))}}return c.length>0&&l.push(Kg(U3,t,c)),l}function Kg(e,t,r){const n=r[0].s,a=r[r.length-1].e,l=t.slice(n,a);return new e(l,r)}const q_=typeof console<"u"&&console&&console.warn||(()=>{}),W_="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Vt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function G_(){return Jr.groups={},Vt.scanner=null,Vt.parser=null,Vt.tokenQueue=[],Vt.pluginQueue=[],Vt.customSchemes=[],Vt.initialized=!1,Vt}function F3(e,t=!1){if(Vt.initialized&&q_(`linkifyjs: already initialized - will not register custom scheme "${e}" ${W_}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Vt.customSchemes.push([e,t])}function K_(){Vt.scanner=H_(Vt.customSchemes);for(let e=0;e<Vt.tokenQueue.length;e++)Vt.tokenQueue[e][1]({scanner:Vt.scanner});Vt.parser=U_(Vt.scanner.tokens);for(let e=0;e<Vt.pluginQueue.length;e++)Vt.pluginQueue[e][1]({scanner:Vt.scanner,parser:Vt.parser});return Vt.initialized=!0,Vt}function pb(e){return Vt.initialized||K_(),F_(Vt.parser.start,e,lS(Vt.scanner.start,e))}pb.scan=lS;function cS(e,t=null,r=null){if(t&&typeof t=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);r=t,t=null}const n=new hb(r),a=pb(e),l=[];for(let c=0;c<a.length;c++){const u=a[c];u.isLink&&(!t||u.t===t)&&n.check(u)&&l.push(u.toFormattedObject(n))}return l}var mb="[\0- -\u2029]",Y_=new RegExp(mb),J_=new RegExp(`${mb}$`),Q_=new RegExp(mb,"g");function X_(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function Z_(e){return new Kt({key:new fr("autolink"),appendTransaction:(t,r,n)=>{const a=t.some(h=>h.docChanged)&&!r.doc.eq(n.doc),l=t.some(h=>h.getMeta("preventAutolink"));if(!a||l)return;const{tr:c}=n,u=Ew(r.doc,[...t]);if(zw(u).forEach(({newRange:h})=>{const m=tL(n.doc,h,y=>y.isTextblock);let g,b;if(m.length>1)g=m[0],b=n.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(m.length){const y=n.doc.textBetween(h.from,h.to," "," ");if(!J_.test(y))return;g=m[0],b=n.doc.textBetween(g.pos,h.to,void 0," ")}if(g&&b){const y=b.split(Y_).filter(Boolean);if(y.length<=0)return!1;const j=y[y.length-1],w=g.pos+b.lastIndexOf(j);if(!j)return!1;const S=pb(j).map(N=>N.toObject(e.defaultProtocol));if(!X_(S))return!1;S.filter(N=>N.isLink).map(N=>({...N,from:w+N.start+1,to:w+N.end+1})).filter(N=>n.schema.marks.code?!n.doc.rangeHasMark(N.from,N.to,n.schema.marks.code):!0).filter(N=>e.validate(N.value)).filter(N=>e.shouldAutoLink(N.value)).forEach(N=>{rb(N.from,N.to,n.doc).some(A=>A.mark.type===e.type)||c.addMark(N.from,N.to,e.type.create({href:N.href}))})}}),!!c.steps.length)return c}})}function eP(e){return new Kt({key:new fr("handleClickLink"),props:{handleClick:(t,r,n)=>{var a,l;if(n.button!==0||!t.editable)return!1;let c=null;if(n.target instanceof HTMLAnchorElement)c=n.target;else{let m=n.target;const g=[];for(;m.nodeName!=="DIV";)g.push(m),m=m.parentNode;c=g.find(b=>b.nodeName==="A")}if(!c)return!1;const u=Dw(t.state,e.type.name),f=(a=c?.href)!=null?a:u.href,h=(l=c?.target)!=null?l:u.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),c&&f?(window.open(f,h),!0):!1}}})}function tP(e){return new Kt({key:new fr("handlePasteLink"),props:{handlePaste:(t,r,n)=>{const{shouldAutoLink:a}=e,{state:l}=t,{selection:c}=l,{empty:u}=c;if(u)return!1;let f="";n.content.forEach(m=>{f+=m.textContent});const h=cS(f,{defaultProtocol:e.defaultProtocol}).find(m=>m.isLink&&m.value===f);return!f||!h||a!==void 0&&!a(h.href)?!1:e.editor.commands.setMark(e.type,{href:h.href})}}})}function bo(e,t){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(n=>{const a=typeof n=="string"?n:n.scheme;a&&r.push(a)}),!e||e.replace(Q_,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var dS=Wo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){F3(e);return}F3(e.scheme,e.optionalSlashes)})},onDestroy(){G_()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!bo(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:r=>!!bo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!bo(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",cr(this.options.HTMLAttributes,e),0]:["a",cr(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var r;const n=((r=e.attrs)==null?void 0:r.href)||"";return`[${t.renderChildren(e)}](${n})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:r}=e;return this.options.isAllowedUri(r,{defaultValidate:n=>!!bo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:r}=e||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!bo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Vo({find:e=>{const t=[];if(e){const{protocols:r,defaultProtocol:n}=this.options,a=cS(e).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:c=>!!bo(c,r),protocols:r,defaultProtocol:n}));a.length&&a.forEach(l=>{this.options.shouldAutoLink(l.value)&&t.push({text:l.value,data:{href:l.href},index:l.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:r}=this.options;return this.options.autolink&&e.push(Z_({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:a=>!!bo(a,t),protocols:t,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(eP({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(tP({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),rP=dS,nP=Object.defineProperty,sP=(e,t)=>{for(var r in t)nP(e,r,{get:t[r],enumerable:!0})},aP="listItem",q3="textStyle",W3=/^\s*([-+*])\s$/,uS=mn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",cr(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(aP,this.editor.getAttributes(q3)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Zl({find:W3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Zl({find:W3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(q3),editor:this.editor})),[e]}}),fS=mn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",cr(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let r=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(a=>a.type==="paragraph"))r=t.parseChildren(e.tokens);else{const a=e.tokens[0];if(a&&a.type==="text"&&a.tokens&&a.tokens.length>0){if(r=[{type:"paragraph",content:t.parseInline(a.tokens)}],e.tokens.length>1){const c=e.tokens.slice(1),u=t.parseChildren(c);r.push(...u)}}else r=t.parseChildren(e.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(e,t,r)=>ob(e,t,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),oP={};sP(oP,{findListItemPos:()=>td,getNextListDepth:()=>gb,handleBackspace:()=>Qx,handleDelete:()=>Xx,hasListBefore:()=>hS,hasListItemAfter:()=>lP,hasListItemBefore:()=>pS,listItemHasSubList:()=>mS,nextListIsDeeper:()=>gS,nextListIsHigher:()=>xS});var td=(e,t)=>{const{$from:r}=t.selection,n=ir(e,t.schema);let a=null,l=r.depth,c=r.pos,u=null;for(;l>0&&u===null;)a=r.node(l),a.type===n?u=l:(l-=1,c-=1);return u===null?null:{$pos:t.doc.resolve(c),depth:u}},gb=(e,t)=>{const r=td(e,t);if(!r)return!1;const[,n]=uL(t,e,r.$pos.pos+4);return n},hS=(e,t,r)=>{const{$anchor:n}=e.selection,a=Math.max(0,n.pos-2),l=e.doc.resolve(a).node();return!(!l||!r.includes(l.type.name))},pS=(e,t)=>{var r;const{$anchor:n}=t.selection,a=t.doc.resolve(n.pos-2);return!(a.index()===0||((r=a.nodeBefore)==null?void 0:r.type.name)!==e)},mS=(e,t,r)=>{if(!r)return!1;const n=ir(e,t.schema);let a=!1;return r.descendants(l=>{l.type===n&&(a=!0)}),a},Qx=(e,t,r)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Fa(e.state,t)&&hS(e.state,t,r)){const{$anchor:u}=e.state.selection,f=e.state.doc.resolve(u.before()-1),h=[];f.node().descendants((b,y)=>{b.type.name===t&&h.push({node:b,pos:y})});const m=h.at(-1);if(!m)return!1;const g=e.state.doc.resolve(f.start()+m.pos+1);return e.chain().cut({from:u.start()-1,to:u.end()+1},g.end()).joinForward().run()}if(!Fa(e.state,t)||!mL(e.state))return!1;const n=td(t,e.state);if(!n)return!1;const l=e.state.doc.resolve(n.$pos.pos-2).node(n.depth),c=mS(t,e.state,l);return pS(t,e.state)&&!c?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},gS=(e,t)=>{const r=gb(e,t),n=td(e,t);return!n||!r?!1:r>n.depth},xS=(e,t)=>{const r=gb(e,t),n=td(e,t);return!n||!r?!1:r<n.depth},Xx=(e,t)=>{if(!Fa(e.state,t)||!pL(e.state,t))return!1;const{selection:r}=e.state,{$from:n,$to:a}=r;return!r.empty&&n.sameParent(a)?!1:gS(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():xS(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},lP=(e,t)=>{var r;const{$anchor:n}=t.selection,a=t.doc.resolve(n.pos-n.parentOffset-2);return!(a.index()===a.parent.childCount-1||((r=a.nodeAfter)==null?void 0:r.type.name)!==e)},bS=er.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&Xx(e,r)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r})=>{e.state.schema.nodes[r]!==void 0&&Xx(e,r)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&Qx(e,r,n)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{e.state.schema.nodes[r]!==void 0&&Qx(e,r,n)&&(t=!0)}),t}}}}),G3=/^(\s*)(\d+)\.\s+(.*)$/,iP=/^\s/;function cP(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r],l=a.match(G3);if(!l)break;const[,c,u,f]=l,h=c.length;let m=f,g=r+1;const b=[a];for(;g<e.length;){const y=e[g];if(y.match(G3))break;if(y.trim()==="")b.push(y),m+=`
`,g+=1;else if(y.match(iP))b.push(y),m+=`
${y.slice(h+2)}`,g+=1;else break}t.push({indent:h,number:parseInt(u,10),content:m.trim(),raw:b.join(`
`)}),n=g,r=g}return[t,n]}function yS(e,t,r){var n;const a=[];let l=0;for(;l<e.length;){const c=e[l];if(c.indent===t){const u=c.content.split(`
`),f=((n=u[0])==null?void 0:n.trim())||"",h=[];f&&h.push({type:"paragraph",raw:f,tokens:r.inlineTokens(f)});const m=u.slice(1).join(`
`).trim();if(m){const y=r.blockTokens(m);h.push(...y)}let g=l+1;const b=[];for(;g<e.length&&e[g].indent>t;)b.push(e[g]),g+=1;if(b.length>0){const y=Math.min(...b.map(w=>w.indent)),j=yS(b,y,r);h.push({type:"list",ordered:!0,start:b[0].number,items:j,raw:b.map(w=>w.raw).join(`
`)})}a.push({type:"list_item",raw:c.raw,tokens:h}),l=g}else l+=1}return a}function dP(e,t){return e.map(r=>{if(r.type!=="list_item")return t.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(a=>{if(a.type==="paragraph"||a.type==="list"||a.type==="blockquote"||a.type==="code")n.push(...t.parseChildren([a]));else if(a.type==="text"&&a.tokens){const l=t.parseChildren([a]);n.push({type:"paragraph",content:l})}else{const l=t.parseChildren([a]);l.length>0&&n.push(...l)}}),{type:"listItem",content:n}})}var uP="listItem",K3="textStyle",Y3=/^(\d+)\.\s$/,vS=mn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...r}=e;return t===1?["ol",cr(this.options.HTMLAttributes,r),0]:["ol",cr(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const r=e.start||1,n=e.items?dP(e.items,t):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),r=t?.index;return r!==void 0?r:-1},tokenize:(e,t,r)=>{var n;const a=e.split(`
`),[l,c]=cP(a);if(l.length===0)return;const u=yS(l,0,r);return u.length===0?void 0:{type:"list",ordered:!0,start:((n=l[0])==null?void 0:n.number)||1,items:u,raw:a.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(uP,this.editor.getAttributes(K3)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Zl({find:Y3,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Zl({find:Y3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(K3)}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1],editor:this.editor})),[e]}}),fP=/^\s*(\[([( |x])?\])\s$/,hP=mn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",cr(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const r=[];if(e.tokens&&e.tokens.length>0?r.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?r.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):r.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const n=t.parseChildren(e.nestedTokens);r.push(...n)}return t.createNode("taskItem",{checked:e.checked||!1},r)},renderMarkdown:(e,t)=>{var r;const a=`- [${(r=e.attrs)!=null&&r.checked?"x":" "}] `;return ob(e,t,a)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:r,editor:n})=>{const a=document.createElement("li"),l=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),f=document.createElement("div"),h=m=>{var g,b;u.ariaLabel=((b=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:b.call(g,m,u.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};return h(e),l.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",m=>m.preventDefault()),u.addEventListener("change",m=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:g}=m.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const y=r();if(typeof y!="number")return!1;const j=b.doc.nodeAt(y);return b.setNodeMarkup(y,void 0,{...j?.attrs,checked:g}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,g)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,g])=>{a.setAttribute(m,g)}),a.dataset.checked=e.attrs.checked,u.checked=e.attrs.checked,l.append(u,c),a.append(l,f),Object.entries(t).forEach(([m,g])=>{a.setAttribute(m,g)}),{dom:a,contentDOM:f,update:m=>m.type!==this.type?!1:(a.dataset.checked=m.attrs.checked,u.checked=m.attrs.checked,h(m),!0)}}},addInputRules(){return[Zl({find:fP,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),pP=mn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",cr(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const r=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return r!==void 0?r:-1},tokenize(e,t,r){const n=l=>{const c=$x(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,f)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:r.inlineTokens(u.mainContent),nestedTokens:f}),customNestedParser:n},r);return c?[{type:"taskList",raw:c.raw,items:c.items}]:r.blockTokens(l)},a=$x(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:r.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:n},r);if(a)return{type:"taskList",raw:a.raw,items:a.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});er.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(uS.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(fS.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(bS.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(vS.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(hP.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(pP.configure(this.options.taskList)),e}});var mP=mn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",cr(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const r=e.tokens||[];return r.length===1&&r[0].type==="image"?t.parseChildren([r[0]]):t.createNode("paragraph",void 0,t.parseInline(r))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),gP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,xP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,bP=Wo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",cr(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Xl({find:gP,type:this.type})]},addPasteRules(){return[Vo({find:xP,type:this.type})]}}),yP=mn.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),vP=Wo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",cr(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,r){const a=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!a)return;const l=a[2].trim();return{type:"underline",raw:a[0],text:l,tokens:r.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function jP(e={}){return new Kt({view(t){return new NP(t,e)}})}class NP{constructor(t,r){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let l=c=>{this[a](c)};return t.dom.addEventListener(a,l),{name:a,handler:l}})}destroy(){this.handlers.forEach(({name:t,handler:r})=>this.editorView.dom.removeEventListener(t,r))}update(t,r){this.cursorPos!=null&&r.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),r=!t.parent.inlineContent,n,a=this.editorView.dom,l=a.getBoundingClientRect(),c=l.width/a.offsetWidth,u=l.height/a.offsetHeight;if(r){let g=t.nodeBefore,b=t.nodeAfter;if(g||b){let y=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(y){let j=y.getBoundingClientRect(),w=g?j.bottom:j.top;g&&b&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let S=this.width/2*u;n={left:j.left,right:j.right,top:w-S,bottom:w+S}}}}if(!n){let g=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*c;n={left:g.left-b,right:g.left+b,top:g.top,bottom:g.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let h,m;if(!f||f==document.body&&getComputedStyle(f).position=="static")h=-pageXOffset,m=-pageYOffset;else{let g=f.getBoundingClientRect(),b=g.width/f.offsetWidth,y=g.height/f.offsetHeight;h=g.left-f.scrollLeft*b,m=g.top-f.scrollTop*y}this.element.style.left=(n.left-h)/c+"px",this.element.style.top=(n.top-m)/u+"px",this.element.style.width=(n.right-n.left)/c+"px",this.element.style.height=(n.bottom-n.top)/u+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),a=n&&n.type.spec.disableDropCursor,l=typeof a=="function"?a(this.editorView,r,t):a;if(r&&!l){let c=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=bN(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class Zt extends ft{constructor(t){super(t,t)}map(t,r){let n=t.resolve(r.map(this.head));return Zt.valid(n)?new Zt(n):ft.near(n)}content(){return He.empty}eq(t){return t instanceof Zt&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Zt(t.resolve(r.pos))}getBookmark(){return new xb(this.anchor)}static valid(t){let r=t.parent;if(r.isTextblock||!wP(t)||!SP(t))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let a=r.contentMatchAt(t.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(t,r,n=!1){e:for(;;){if(!n&&Zt.valid(t))return t;let a=t.pos,l=null;for(let c=t.depth;;c--){let u=t.node(c);if(r>0?t.indexAfter(c)<u.childCount:t.index(c)>0){l=u.child(r>0?t.indexAfter(c):t.index(c)-1);break}else if(c==0)return null;a+=r;let f=t.doc.resolve(a);if(Zt.valid(f))return f}for(;;){let c=r>0?l.firstChild:l.lastChild;if(!c){if(l.isAtom&&!l.isText&&!Je.isSelectable(l)){t=t.doc.resolve(a+l.nodeSize*r),n=!1;continue e}break}l=c,a+=r;let u=t.doc.resolve(a);if(Zt.valid(u))return u}return null}}}Zt.prototype.visible=!1;Zt.findFrom=Zt.findGapCursorFrom;ft.jsonID("gapcursor",Zt);class xb{constructor(t){this.pos=t}map(t){return new xb(t.map(this.pos))}resolve(t){let r=t.resolve(this.pos);return Zt.valid(r)?new Zt(r):ft.near(r)}}function jS(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function wP(e){for(let t=e.depth;t>=0;t--){let r=e.index(t),n=e.node(t);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||jS(a.type))return!0;if(a.inlineContent)return!1}}return!0}function SP(e){for(let t=e.depth;t>=0;t--){let r=e.indexAfter(t),n=e.node(t);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||jS(a.type))return!0;if(a.inlineContent)return!1}}return!0}function CP(){return new Kt({props:{decorations:TP,createSelectionBetween(e,t,r){return t.pos==r.pos&&Zt.valid(r)?new Zt(r):null},handleClick:EP,handleKeyDown:kP,handleDOMEvents:{beforeinput:AP}}})}const kP=yw({ArrowLeft:Bu("horiz",-1),ArrowRight:Bu("horiz",1),ArrowUp:Bu("vert",-1),ArrowDown:Bu("vert",1)});function Bu(e,t){const r=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(n,a,l){let c=n.selection,u=t>0?c.$to:c.$from,f=c.empty;if(c instanceof st){if(!l.endOfTextblock(r)||u.depth==0)return!1;f=!1,u=n.doc.resolve(t>0?u.after():u.before())}let h=Zt.findGapCursorFrom(u,t,f);return h?(a&&a(n.tr.setSelection(new Zt(h))),!0):!1}}function EP(e,t,r){if(!e||!e.editable)return!1;let n=e.state.doc.resolve(t);if(!Zt.valid(n))return!1;let a=e.posAtCoords({left:r.clientX,top:r.clientY});return a&&a.inside>-1&&Je.isSelectable(e.state.doc.nodeAt(a.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Zt(n))),!0)}function AP(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Zt))return!1;let{$from:r}=e.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(e.state.schema.nodes.text);if(!n)return!1;let a=Ee.empty;for(let c=n.length-1;c>=0;c--)a=Ee.from(n[c].createAndFill(null,a));let l=e.state.tr.replace(r.pos,r.pos,new He(a,0,0));return l.setSelection(st.near(l.doc.resolve(r.pos+1))),e.dispatch(l),!1}function TP(e){if(!(e.selection instanceof Zt))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Gt.create(e.doc,[Ir.widget(e.selection.head,t,{key:"gapcursor"})])}var nh=200,br=function(){};br.prototype.append=function(t){return t.length?(t=br.from(t),!this.length&&t||t.length<nh&&this.leafAppend(t)||this.length<nh&&t.leafPrepend(this)||this.appendInner(t)):this};br.prototype.prepend=function(t){return t.length?br.from(t).append(this):this};br.prototype.appendInner=function(t){return new MP(this,t)};br.prototype.slice=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=this.length),t>=r?br.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))};br.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};br.prototype.forEach=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(t,r,n,0):this.forEachInvertedInner(t,r,n,0)};br.prototype.map=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var a=[];return this.forEach(function(l,c){return a.push(t(l,c))},r,n),a};br.from=function(t){return t instanceof br?t:t&&t.length?new NS(t):br.empty};var NS=(function(e){function t(n){e.call(this),this.values=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(a,l){return a==0&&l==this.length?this:new t(this.values.slice(a,l))},t.prototype.getInner=function(a){return this.values[a]},t.prototype.forEachInner=function(a,l,c,u){for(var f=l;f<c;f++)if(a(this.values[f],u+f)===!1)return!1},t.prototype.forEachInvertedInner=function(a,l,c,u){for(var f=l-1;f>=c;f--)if(a(this.values[f],u+f)===!1)return!1},t.prototype.leafAppend=function(a){if(this.length+a.length<=nh)return new t(this.values.concat(a.flatten()))},t.prototype.leafPrepend=function(a){if(this.length+a.length<=nh)return new t(a.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t})(br);br.empty=new NS([]);var MP=(function(e){function t(r,n){e.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,a,l,c){var u=this.left.length;if(a<u&&this.left.forEachInner(n,a,Math.min(l,u),c)===!1||l>u&&this.right.forEachInner(n,Math.max(a-u,0),Math.min(this.length,l)-u,c+u)===!1)return!1},t.prototype.forEachInvertedInner=function(n,a,l,c){var u=this.left.length;if(a>u&&this.right.forEachInvertedInner(n,a-u,Math.max(l,u)-u,c+u)===!1||l<u&&this.left.forEachInvertedInner(n,Math.min(a,u),l,c)===!1)return!1},t.prototype.sliceInner=function(n,a){if(n==0&&a==this.length)return this;var l=this.left.length;return a<=l?this.left.slice(n,a):n>=l?this.right.slice(n-l,a-l):this.left.slice(n,l).append(this.right.slice(0,a-l))},t.prototype.leafAppend=function(n){var a=this.right.leafAppend(n);if(a)return new t(this.left,a)},t.prototype.leafPrepend=function(n){var a=this.left.leafPrepend(n);if(a)return new t(a,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t})(br);const OP=500;class Wn{constructor(t,r){this.items=t,this.eventCount=r}popEvent(t,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let a,l;r&&(a=this.remapping(n,this.items.length),l=a.maps.length);let c=t.tr,u,f,h=[],m=[];return this.items.forEach((g,b)=>{if(!g.step){a||(a=this.remapping(n,b+1),l=a.maps.length),l--,m.push(g);return}if(a){m.push(new ds(g.map));let y=g.step.map(a.slice(l)),j;y&&c.maybeStep(y).doc&&(j=c.mapping.maps[c.mapping.maps.length-1],h.push(new ds(j,void 0,void 0,h.length+m.length))),l--,j&&a.appendMap(j,l)}else c.maybeStep(g.step);if(g.selection)return u=a?g.selection.map(a.slice(l)):g.selection,f=new Wn(this.items.slice(0,n).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:c,selection:u}}addTransform(t,r,n,a){let l=[],c=this.eventCount,u=this.items,f=!a&&u.length?u.get(u.length-1):null;for(let m=0;m<t.steps.length;m++){let g=t.steps[m].invert(t.docs[m]),b=new ds(t.mapping.maps[m],g,r),y;(y=f&&f.merge(b))&&(b=y,m?l.pop():u=u.slice(0,u.length-1)),l.push(b),r&&(c++,r=void 0),a||(f=b)}let h=c-n.depth;return h>DP&&(u=RP(u,h),c-=h),new Wn(u.append(l),c)}remapping(t,r){let n=new zc;return this.items.forEach((a,l)=>{let c=a.mirrorOffset!=null&&l-a.mirrorOffset>=t?n.maps.length-a.mirrorOffset:void 0;n.appendMap(a.map,c)},t,r),n}addMaps(t){return this.eventCount==0?this:new Wn(this.items.append(t.map(r=>new ds(r))),this.eventCount)}rebased(t,r){if(!this.eventCount)return this;let n=[],a=Math.max(0,this.items.length-r),l=t.mapping,c=t.steps.length,u=this.eventCount;this.items.forEach(b=>{b.selection&&u--},a);let f=r;this.items.forEach(b=>{let y=l.getMirror(--f);if(y==null)return;c=Math.min(c,y);let j=l.maps[y];if(b.step){let w=t.steps[y].invert(t.docs[y]),S=b.selection&&b.selection.map(l.slice(f+1,y));S&&u++,n.push(new ds(j,w,S))}else n.push(new ds(j))},a);let h=[];for(let b=r;b<c;b++)h.push(new ds(l.maps[b]));let m=this.items.slice(0,a).append(h).append(n),g=new Wn(m,u);return g.emptyItemCount()>OP&&(g=g.compress(this.items.length-n.length)),g}emptyItemCount(){let t=0;return this.items.forEach(r=>{r.step||t++}),t}compress(t=this.items.length){let r=this.remapping(0,t),n=r.maps.length,a=[],l=0;return this.items.forEach((c,u)=>{if(u>=t)a.push(c),c.selection&&l++;else if(c.step){let f=c.step.map(r.slice(n)),h=f&&f.getMap();if(n--,h&&r.appendMap(h,n),f){let m=c.selection&&c.selection.map(r.slice(n));m&&l++;let g=new ds(h.invert(),f,m),b,y=a.length-1;(b=a.length&&a[y].merge(g))?a[y]=b:a.push(g)}}else c.map&&n--},this.items.length,0),new Wn(br.from(a.reverse()),l)}}Wn.empty=new Wn(br.empty,0);function RP(e,t){let r;return e.forEach((n,a)=>{if(n.selection&&t--==0)return r=a,!1}),e.slice(r)}class ds{constructor(t,r,n,a){this.map=t,this.step=r,this.selection=n,this.mirrorOffset=a}merge(t){if(this.step&&t.step&&!t.selection){let r=t.step.merge(this.step);if(r)return new ds(r.getMap().invert(),r,this.selection)}}}class Ea{constructor(t,r,n,a,l){this.done=t,this.undone=r,this.prevRanges=n,this.prevTime=a,this.prevComposition=l}}const DP=20;function zP(e,t,r,n){let a=r.getMeta(zo),l;if(a)return a.historyState;r.getMeta(_P)&&(e=new Ea(e.done,e.undone,null,0,-1));let c=r.getMeta("appendedTransaction");if(r.steps.length==0)return e;if(c&&c.getMeta(zo))return c.getMeta(zo).redo?new Ea(e.done.addTransform(r,void 0,n,Qu(t)),e.undone,J3(r.mapping.maps),e.prevTime,e.prevComposition):new Ea(e.done,e.undone.addTransform(r,void 0,n,Qu(t)),null,e.prevTime,e.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=r.getMeta("composition"),f=e.prevTime==0||!c&&e.prevComposition!=u&&(e.prevTime<(r.time||0)-n.newGroupDelay||!LP(r,e.prevRanges)),h=c?Yg(e.prevRanges,r.mapping):J3(r.mapping.maps);return new Ea(e.done.addTransform(r,f?t.selection.getBookmark():void 0,n,Qu(t)),Wn.empty,h,r.time,u??e.prevComposition)}else return(l=r.getMeta("rebased"))?new Ea(e.done.rebased(r,l),e.undone.rebased(r,l),Yg(e.prevRanges,r.mapping),e.prevTime,e.prevComposition):new Ea(e.done.addMaps(r.mapping.maps),e.undone.addMaps(r.mapping.maps),Yg(e.prevRanges,r.mapping),e.prevTime,e.prevComposition)}function LP(e,t){if(!t)return!1;if(!e.docChanged)return!0;let r=!1;return e.mapping.maps[0].forEach((n,a)=>{for(let l=0;l<t.length;l+=2)n<=t[l+1]&&a>=t[l]&&(r=!0)}),r}function J3(e){let t=[];for(let r=e.length-1;r>=0&&t.length==0;r--)e[r].forEach((n,a,l,c)=>t.push(l,c));return t}function Yg(e,t){if(!e)return null;let r=[];for(let n=0;n<e.length;n+=2){let a=t.map(e[n],1),l=t.map(e[n+1],-1);a<=l&&r.push(a,l)}return r}function BP(e,t,r){let n=Qu(t),a=zo.get(t).spec.config,l=(r?e.undone:e.done).popEvent(t,n);if(!l)return null;let c=l.selection.resolve(l.transform.doc),u=(r?e.done:e.undone).addTransform(l.transform,t.selection.getBookmark(),a,n),f=new Ea(r?u:l.remaining,r?l.remaining:u,null,0,-1);return l.transform.setSelection(c).setMeta(zo,{redo:r,historyState:f})}let Jg=!1,Q3=null;function Qu(e){let t=e.plugins;if(Q3!=t){Jg=!1,Q3=t;for(let r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){Jg=!0;break}}return Jg}const zo=new fr("history"),_P=new fr("closeHistory");function PP(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Kt({key:zo,state:{init(){return new Ea(Wn.empty,Wn.empty,null,0,-1)},apply(t,r,n){return zP(r,n,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,r){let n=r.inputType,a=n=="historyUndo"?SS:n=="historyRedo"?CS:null;return!a||!t.editable?!1:(r.preventDefault(),a(t.state,t.dispatch))}}}})}function wS(e,t){return(r,n)=>{let a=zo.getState(r);if(!a||(e?a.undone:a.done).eventCount==0)return!1;if(n){let l=BP(a,r,e);l&&n(t?l.scrollIntoView():l)}return!0}}const SS=wS(!1,!0),CS=wS(!0,!0);er.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const n=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(n)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,r=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let e=!1;return[new Kt({key:new fr("characterCount"),appendTransaction:(t,r,n)=>{if(e)return;const a=this.options.limit;if(a==null||a===0){e=!0;return}const l=this.storage.characters({node:n.doc});if(l>a){const c=l-a,u=0,f=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const h=n.tr.deleteRange(u,f);return e=!0,h}e=!0},filterTransaction:(t,r)=>{const n=this.options.limit;if(!t.docChanged||n===0||n===null||n===void 0)return!0;const a=this.storage.characters({node:r.doc}),l=this.storage.characters({node:t.doc});if(l<=n||a>n&&l>n&&l<=a)return!0;if(a>n&&l>n&&l>a||!t.getMeta("paste"))return!1;const u=t.selection.$head.pos,f=l-n,h=u-f,m=u;return t.deleteRange(h,m),!(this.storage.characters({node:t.doc})>n)}})]}});var IP=er.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[jP(this.options)]}});er.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Kt({key:new fr("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:a}=t,l=[];if(!r||!n)return Gt.create(e,[]);let c=0;this.options.mode==="deepest"&&e.descendants((f,h)=>{if(f.isText)return;if(!(a>=h&&a<=h+f.nodeSize-1))return!1;c+=1});let u=0;return e.descendants((f,h)=>{if(f.isText||!(a>=h&&a<=h+f.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";l.push(Ir.node(h,h+f.nodeSize,{class:this.options.className}))}),Gt.create(e,l)}}})]}});var HP=er.create({name:"gapCursor",addProseMirrorPlugins(){return[CP()]},extendNodeSchema(e){var t;const r={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Dt(Ye(e,"allowGapCursor",r)))!=null?t:null}}});er.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Kt({key:new fr("placeholder"),props:{decorations:({doc:e,selection:t})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=t,a=[];if(!r)return null;const l=this.editor.isEmpty;return e.descendants((c,u)=>{const f=n>=u&&n<=u+c.nodeSize,h=!c.isLeaf&&zh(c);if((f||!this.options.showOnlyCurrent)&&h){const m=[this.options.emptyNodeClass];l&&m.push(this.options.emptyEditorClass);const g=Ir.node(u,u+c.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:u,hasAnchor:f}):this.options.placeholder});a.push(g)}return this.options.includeChildren}),Gt.create(e,a)}}})]}});er.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Kt({key:new fr("selection"),props:{decorations(r){return r.selection.empty||e.isFocused||!e.isEditable||Lw(r.selection)||e.view.dragging?null:Gt.create(r.doc,[Ir.inline(r.selection.from,r.selection.to,{class:t.className})])}}})]}});function X3({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}var $P=er.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new fr(this.name),r=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,a])=>a).filter(a=>(this.options.notAfter||[]).concat(r).includes(a.name));return[new Kt({key:t,appendTransaction:(a,l,c)=>{const{doc:u,tr:f,schema:h}=c,m=t.getState(c),g=u.content.size,b=h.nodes[r];if(m)return f.insert(g,b.create())},state:{init:(a,l)=>{const c=l.tr.doc.lastChild;return!X3({node:c,types:n})},apply:(a,l)=>{if(!a.docChanged||a.getMeta("__uniqueIDTransaction"))return l;const c=a.doc.lastChild;return!X3({node:c,types:n})}}})]}}),VP=er.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>SS(e,t),redo:()=>({state:e,dispatch:t})=>CS(e,t)}},addProseMirrorPlugins(){return[PP(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),UP=er.create({name:"starterKit",addExtensions(){var e,t,r,n;const a=[];return this.options.bold!==!1&&a.push(g_.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(u_.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(uS.configure(this.options.bulletList)),this.options.code!==!1&&a.push(y_.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(N_.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(w_.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(IP.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(HP.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(S_.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(C_.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(VP.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(k_.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(O_.configure(this.options.italic)),this.options.listItem!==!1&&a.push(fS.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(bS.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&a.push(dS.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&a.push(vS.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(mP.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(bP.configure(this.options.strike)),this.options.text!==!1&&a.push(yP.configure(this.options.text)),this.options.underline!==!1&&a.push(vP.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&a.push($P.configure((n=this.options)==null?void 0:n.trailingNode)),a}}),FP=UP,qP=er.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(r=>t.updateAttributes(r,{textAlign:e})).some(r=>r):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(t=>t),toggleTextAlign:e=>({editor:t,commands:r})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?r.unsetTextAlign():r.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),WP=qP;const Zx=({value:e="",onChange:t=()=>{}})=>{const[r,n]=pt.useState(""),[a,l]=pt.useState(!1),[c,u]=pt.useState(!1),f=o_({extensions:[FP,WP.configure({types:["heading","paragraph"]}),rP.configure({openOnClick:!1,HTMLAttributes:{class:"text-gray-700 hover:text-gray-800 underline cursor-pointer","data-new-tab":!1}})],content:e,onUpdate:({editor:m})=>{t(m.getHTML())}});if(pt.useEffect(()=>{f&&e&&f.getHTML()!==e&&f.commands.setContent(e)},[e,f]),!f)return s.jsx("div",{className:"text-gray-900",children:"Loading editor..."});const h=m=>`flex items-center justify-center p-2 rounded transition ${m?"bg-gray-800 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`;return s.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex flex-wrap gap-1 bg-gray-50 p-3 border-b border-gray-300",children:[s.jsx("button",{type:"button",onClick:()=>f.chain().focus().toggleBold().run(),disabled:!f.can().chain().focus().toggleBold().run(),className:h(f.isActive("bold")),title:"Bold (Ctrl+B)",children:s.jsx(cT,{className:"text-sm"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().toggleItalic().run(),disabled:!f.can().chain().focus().toggleItalic().run(),className:h(f.isActive("italic")),title:"Italic (Ctrl+I)",children:s.jsx(TT,{className:"text-sm"})}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().setParagraph().run(),className:h(f.isActive("paragraph")),title:"Paragraph",children:s.jsx("span",{className:"text-xs font-bold",children:""})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().toggleHeading({level:1}).run(),className:h(f.isActive("heading",{level:1})),title:"Heading 1",children:s.jsx("span",{className:"text-xs font-bold",children:"H1"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().toggleHeading({level:2}).run(),className:h(f.isActive("heading",{level:2})),title:"Heading 2",children:s.jsx("span",{className:"text-xs font-bold",children:"H2"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().toggleHeading({level:3}).run(),className:h(f.isActive("heading",{level:3})),title:"Heading 3",children:s.jsx("span",{className:"text-xs font-bold",children:"H3"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().toggleHeading({level:4}).run(),className:h(f.isActive("heading",{level:4})),title:"Heading 4",children:s.jsx("span",{className:"text-xs font-bold",children:"H4"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().toggleHeading({level:5}).run(),className:h(f.isActive("heading",{level:5})),title:"Heading 5",children:s.jsx("span",{className:"text-xs font-bold",children:"H5"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().toggleHeading({level:6}).run(),className:h(f.isActive("heading",{level:6})),title:"Heading 6",children:s.jsx("span",{className:"text-xs font-bold",children:"H6"})}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().toggleBulletList().run(),className:h(f.isActive("bulletList")),title:"Bullet List",children:s.jsx(T0,{className:"text-sm"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().toggleOrderedList().run(),className:h(f.isActive("orderedList")),title:"Ordered List",children:s.jsx(RT,{className:"text-sm"})}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().toggleCodeBlock().run(),className:h(f.isActive("codeBlock")),title:"Code Block",children:s.jsx(pT,{className:"text-sm"})}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().setTextAlign("left").run(),className:h(f.isActive({textAlign:"left"})),title:"Align Left",children:s.jsx(nT,{className:"text-sm"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().setTextAlign("center").run(),className:h(f.isActive({textAlign:"center"})),title:"Align Center",children:s.jsx(tT,{className:"text-sm"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().setTextAlign("right").run(),className:h(f.isActive({textAlign:"right"})),title:"Align Right",children:s.jsx(sT,{className:"text-sm"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().setTextAlign("justify").run(),className:h(f.isActive({textAlign:"justify"})),title:"Justify",children:s.jsx(rT,{className:"text-sm"})}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),c?s.jsxs("div",{className:"flex gap-1 items-center flex-wrap",children:[s.jsx("input",{type:"text",placeholder:"Enter URL",value:r,onChange:m=>n(m.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-800",onKeyDown:m=>{m.key==="Enter"?(f.chain().focus().setLink({href:r,target:a?"_blank":null}).run(),n(""),l(!1),u(!1)):m.key==="Escape"&&u(!1)},autoFocus:!0}),s.jsxs("label",{className:"flex items-center gap-1 text-xs whitespace-nowrap",children:[s.jsx("input",{type:"checkbox",checked:a,onChange:m=>l(m.target.checked),className:"w-4 h-4"}),s.jsx("span",{children:"New Tab"})]}),s.jsx("button",{type:"button",onClick:()=>{r&&(f.chain().focus().setLink({href:r,target:a?"_blank":null}).run(),n(""),l(!1),u(!1))},className:"px-2 py-1 bg-gray-800 text-white rounded text-xs font-semibold hover:bg-black",children:"Add"}),s.jsx("button",{type:"button",onClick:()=>{u(!1),n(""),l(!1)},className:"px-2 py-1 bg-gray-300 text-gray-700 rounded text-xs hover:bg-black",children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>{u(!0),n(""),l(!1)},className:h(f.isActive("link")),title:"Add Link",children:s.jsx(OT,{className:"text-sm"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().unsetLink().run(),disabled:!f.isActive("link"),className:h(!1),title:"Remove Link",children:s.jsx($T,{className:"text-sm"})})]}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().undo().run(),disabled:!f.can().chain().focus().undo().run(),className:h(!1),title:"Undo (Ctrl+Z)",children:s.jsx(R6,{className:"text-sm"})}),s.jsx("button",{type:"button",onClick:()=>f.chain().focus().redo().run(),disabled:!f.can().chain().focus().redo().run(),className:h(!1),title:"Redo (Ctrl+Y)",children:s.jsx(BT,{className:"text-sm"})})]}),s.jsx(ZB,{editor:f,className:"prose prose-sm max-w-none focus:outline-none px-4 py-3 min-h-40 bg-white"})]})},yo="http://localhost:5000",Z3=()=>{const e=Ar(),r=At(ee=>ee.auth||{}).token||localStorage.getItem("token"),[n,a]=C.useState(!1),[l,c]=C.useState(""),[u,f]=C.useState(null),[h,m]=C.useState({name:"",price:"",comparePrice:"",slug:"",stock:"",categories:[],description:"",benefitsHeading:"Why Buy This Product",benefitsText:"",images:[],options:[],variants:[],isDraft:!1}),[g,b]=C.useState(!1),[y,j]=C.useState(!1),[w,S]=C.useState(""),[N,A]=C.useState(""),[E,M]=C.useState({}),[T,D]=C.useState({}),[R,q]=C.useState({}),[K,W]=C.useState([]),[V,Y]=C.useState(!1),[$,I]=C.useState(!1),[ie,B]=C.useState(!1),[Z,ue]=C.useState(null),[_,fe]=C.useState(!1),[z,X]=C.useState(null),[G,ce]=C.useState(null),[ke,Me]=C.useState(!1),[$e,Ae]=C.useState({}),{id:L}=dh(),H=!!L,[J,pe]=C.useState(null);pt.useRef(!0);const[Se,ye]=C.useState([]),[Ue,nt]=C.useState([]),ht=pt.useRef({});pt.useEffect(()=>{if(!L)return;(async()=>{try{const ge=(await rt.get(`${yo}/api/products/${L}`)).data;let Be="";typeof ge.benefits=="string"?Be=ge.benefits:Array.isArray(ge.benefits)&&ge.benefits.length>0&&(Be=`<ul>${ge.benefits.map(xe=>`<li>${xe}</li>`).join("")}</ul>`),m(xe=>({...xe,name:ge.name||"",price:ge.price||"",comparePrice:ge.originalPrice||"",slug:ge.slug||"",stock:ge.stock||"",categories:ge.categories?ge.categories.map(we=>we._id?we._id:we):[],description:ge.description||"",whyBuyText:ge.whyBuyText||"",benefitsHeading:ge.benefitsHeading||"Why Buy This Product",benefitsText:Be,images:Array.isArray(ge.images)?ge.images:ge.images?[ge.images]:[],options:ge.variants||[],variants:(ge.variantCombinations||[]).map((we,We)=>({id:we._id||`variant-${We}`,optionValues:we.variantValues||{},sku:we.sku||"",price:we.price||"",stock:we.stock||0,image:we.image||""}))}))}catch(Ne){console.error("Failed to load product for editing",Ne)}})()},[L]),pt.useEffect(()=>{wt()},[]),pt.useEffect(()=>{if(h.options&&h.options.length>0){const ee=h.options.find(Ne=>Ne.name);ee&&ee.name&&S(ee.name)}},[h.options]);const wt=async()=>{try{const ee=await rt.get(`${yo}/api/categories`);W(ee.data)}catch(ee){console.error("Error fetching categories:",ee)}};pt.useEffect(()=>{L&&h.name&&pe(JSON.parse(JSON.stringify(h)))},[L]);const Yt=()=>!J&&!h.name?!1:!!(!J&&h.name||J&&JSON.stringify(J)!==JSON.stringify(h)),mt=(()=>{try{const ee=h.price===""||h.price===null?NaN:parseFloat(h.price),Ne=h.comparePrice===""||h.comparePrice===null?NaN:parseFloat(h.comparePrice);return!isNaN(Ne)&&!isNaN(ee)&&Ne<=ee?"Compare price must be greater than Price":""}catch{return""}})();pt.useEffect(()=>{const ee=Ne=>{if(Yt())return Ne.preventDefault(),Ne.returnValue="",""};return window.addEventListener("beforeunload",ee),()=>{window.removeEventListener("beforeunload",ee)}},[h,J]),pt.useEffect(()=>{u==="saved"&&Yt()&&f(null)},[h]);const Mr=ee=>{Yt()?window.confirm("You have unsaved changes. Are you sure you want to leave without saving or discarding?")&&ee():ee()},gt=()=>{const ee={},Ne=ge=>{if(!ge)return;const Be=Array.isArray(ge)?ge:Object.values(ge);for(const xe of Be)xe&&xe._id&&xe.name&&(ee[xe._id]=xe.name),xe&&xe.subcategories&&Ne(xe.subcategories)};return Ne(K),ee},gn=ee=>String(ee??"").trim(),Nt=(ee={})=>{try{const Ne=Object.entries(ee||{});if(w&&Object.prototype.hasOwnProperty.call(ee||{},w)){const ge=[[w,ee[w]]],Be=Ne.filter(([xe])=>xe!==w);return[...ge,...Be].map(([xe,we])=>`${xe}: ${we}`).join(" / ")}if(h.options&&h.options.length>0){const ge=h.options.map(xe=>xe.name).filter(Boolean);return Ne.slice().sort((xe,we)=>{const We=ge.indexOf(xe[0]),_e=ge.indexOf(we[0]),Oe=We===-1?Number.MAX_SAFE_INTEGER:We,et=_e===-1?Number.MAX_SAFE_INTEGER:_e;return Oe===et?String(xe[0]).localeCompare(String(we[0])):Oe-et}).map(([xe,we])=>`${xe}: ${we}`).join(" / ")}return Ne.map(([ge,Be])=>`${ge}: ${Be}`).join(" / ")}catch{return""}},In=ee=>{M(Ne=>({...Ne,[ee]:!Ne[ee]}))},oe=ee=>D(Ne=>({...Ne,[ee]:!Ne[ee]})),je=(ee,Ne,ge)=>{const Be=gn(ee);q(xe=>({...xe,[Be]:{...xe[Be]||{},[Ne]:ge}}))},Pe=(ee,Ne,ge)=>{const Be=gn(ee),xe=ge!==void 0?ge:R?.[Be]?.[Ne];if(xe==null||xe==="")return;let we=xe;if(Ne==="price"){const _e=parseFloat(xe);if(isNaN(_e))return;we=_e}else if(Ne==="stock"){const _e=parseInt(xe);if(isNaN(_e))return;we=_e}const We=h.variants.map(_e=>gn(_e.optionValues&&_e.optionValues[w])!==Be?_e:{..._e,[Ne]:we});m({...h,variants:We})},Ze=()=>{m({...h,options:[...h.options,{name:"",values:[]}]})},ne=(ee,Ne)=>{const ge=h.options[ee]&&h.options[ee].name||"",Be=h.options.map((xe,we)=>we===ee?{...xe,name:Ne}:xe);if(ge!==Ne){const xe=(h.variants||[]).map(we=>{const We={...we.optionValues||{}};if(ge&&Object.prototype.hasOwnProperty.call(We,ge)){const _e=We[ge];delete We[ge],Ne&&(We[Ne]=_e)}return{...we,optionValues:We}});m({...h,options:Be,variants:xe})}else m({...h,options:Be})},Ie=ee=>{const ge=h.options[ee]?.name,Be=h.options.filter((we,We)=>We!==ee),xe=(h.variants||[]).map(we=>{if(!ge)return we;const We={...we.optionValues||{}};return Object.prototype.hasOwnProperty.call(We,ge)&&delete We[ge],{...we,optionValues:We}});m({...h,options:Be,variants:xe})},U=(ee,Ne)=>{const ge=String(Ne||"").trim();ge&&m(Be=>{const xe=(Be.options||[]).map((we,We)=>{if(We!==ee)return we;const _e=Array.isArray(we.values)?[...we.values]:[];return _e.includes(ge)?{...we,values:_e}:{...we,values:[..._e,ge]}});return{...Be,options:xe}})},ae=(ee,Ne)=>{m(ge=>{const Be=(ge.options||[]).map((xe,we)=>{if(we!==ee)return xe;const We=Array.isArray(xe.values)?xe.values.filter((_e,Oe)=>Oe!==Ne):[];return{...xe,values:We}});return{...ge,options:Be}})},Te=()=>{const ee=(h.options||[]).filter(we=>we.name&&Array.isArray(we.values)&&we.values.length>0);if(ee.length===0){m(we=>({...we,variants:[]}));return}const Ne=we=>we.reduce((We,_e)=>We.flatMap(Oe=>_e.map(et=>[...Oe,et])),[[]]),ge=ee.map(we=>we.values),xe=Ne(ge).map((we,We)=>{const _e={};return we.forEach((Oe,et)=>{_e[ee[et].name]=Oe}),{id:`variant-${Date.now()}-${We}`,optionValues:_e,sku:"",price:h.price||"",stock:0,image:""}});m(we=>({...we,variants:xe})),j(!0),he.success("Variants generated")},De=async(ee,Ne=!0)=>{if(ee&&ee.preventDefault&&ee.preventDefault(),c(""),!h.name.trim()){c("Product name is required");return}if(mt){c(mt),typeof he=="function"&&he.error(mt);return}a(!0),f("saving");try{const ge=Array.isArray(h.images)?h.images:[],Be=(h.options||[]).map(Oe=>({name:Oe.name,values:Oe.values})),xe=(h.variants||[]).map(Oe=>({variantValues:Oe.optionValues||{},sku:Oe.sku||"",price:Oe.price?parseFloat(Oe.price):h.price?parseFloat(h.price):0,stock:Oe.stock?parseInt(Oe.stock):0,image:Oe.image||""})),we=Oe=>String(Oe||"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-"),We={name:h.name,slug:h.slug||we(h.name),description:h.description||"",price:h.price?parseFloat(h.price):0,originalPrice:h.comparePrice&&h.comparePrice.trim()!==""?parseFloat(h.comparePrice):null,stock:h.stock?parseInt(h.stock):0,images:ge,variants:Be,variantCombinations:xe,categories:h.categories||[],benefits:h.benefitsText||"",benefitsHeading:h.benefitsHeading||"Why Buy This Product",isDraft:!Ne},_e=r?{Authorization:`Bearer ${r}`}:{};if(H){const Oe=await rt.put(`${yo}/api/products/${L}`,We,{headers:_e});he.success(Ne?"Product saved successfully!":"Product saved as draft");const Fe=(await rt.get(`${yo}/api/products/${L}`)).data;let _t="";typeof Fe.benefits=="string"?_t=Fe.benefits:Array.isArray(Fe.benefits)&&Fe.benefits.length>0&&(_t=`<ul>${Fe.benefits.map(Or=>`<li>${Or}</li>`).join("")}</ul>`);const yn={name:Fe.name||"",price:Fe.price||"",comparePrice:Fe.originalPrice||"",slug:Fe.slug||"",stock:Fe.stock||"",categories:Fe.categories?Fe.categories.map(Or=>Or._id?Or._id:Or):[],description:Fe.description||"",benefitsText:_t,benefitsHeading:Fe.benefitsHeading||"Why Buy This Product",images:Array.isArray(Fe.images)?Fe.images:Fe.images?[Fe.images]:[],options:Fe.variants||[],variants:(Fe.variantCombinations||[]).map((Or,Xa)=>({id:Or._id||`variant-${Xa}`,optionValues:Or.variantValues||{},sku:Or.sku||"",price:Or.price||"",stock:Or.stock||0,image:Or.image||""})),isDraft:Fe.isDraft||!1};m(yn),pe(JSON.parse(JSON.stringify(yn))),f("saved"),setTimeout(()=>f(null),2e3)}else{const et=(await rt.post(`${yo}/api/products`,We,{headers:_e})).data;Ne?(he.success("Product published successfully!"),m({name:"",price:"",comparePrice:"",slug:"",stock:"",categories:[],description:"",benefitsText:"",images:[],options:[],variants:[],isDraft:!1}),pe(null),f("saved"),setTimeout(()=>f(null),2e3),setTimeout(()=>e("/admin/products"),1200)):(he.success("Draft created. Redirecting to editor..."),f("saved"),setTimeout(()=>f(null),2e3),setTimeout(()=>e(`/admin/products/edit/${et._id}`),800))}}catch(ge){console.error("Error response:",ge.response?.data||ge.message);const Be=ge.response?.data?.message||ge.message||"Error creating/updating product";he.error(Be),c(Be),f(null)}finally{a(!1)}},Le=()=>{const ee={};h.options.forEach(Ne=>{ee[Ne.name]=""}),Ae(ee),Me(!0)},Qe=()=>{m({...h,variants:[...h.variants,{id:`variant-${Date.now()}`,name:`Variant ${h.variants.length+1}`,optionValues:$e,sku:"",price:h.price||"",stock:0,image:""}]}),Me(!1),he.success("Variant added")},ct=(ee,Ne)=>{const ge=h.variants.map(Be=>Be.id===ee?{...Be,...Ne}:Be);m({...h,variants:ge})},Tt=(ee,Ne)=>{const ge=h.variants.find(_e=>_e.id===ee);if(!ge)return;const xe=ge.optionValues&&ge.optionValues[w]||"",we={variant:ge,index:Ne,timestamp:Date.now(),id:ee,groupKey:xe};ye(_e=>[..._e,we]),nt(_e=>[..._e,!0]);const We=setTimeout(()=>{nt(_e=>{const Oe=_e.length-1;return _e.filter((et,Fe)=>Fe!==Oe)}),ye(_e=>{const Oe=_e.length-1;return _e.filter((et,Fe)=>Fe!==Oe)}),delete ht.current[ee]},54e5);ht.current[ee]=We,m(_e=>({..._e,variants:_e.variants.filter(Oe=>Oe.id!==ee)}))},at=ee=>{if(ee<0||ee>=Se.length)return;const{variant:Ne,id:ge}=Se[ee],Be=Math.max(0,Math.min(Ne.index,h.variants.length));ht.current[ge]&&(clearTimeout(ht.current[ge]),delete ht.current[ge]),m(xe=>{const we=Array.isArray(xe.variants)?[...xe.variants]:[];return we.splice(Be,0,Ne),{...xe,variants:we}}),ye(xe=>xe.filter((we,We)=>We!==ee)),nt(xe=>xe.filter((we,We)=>We!==ee)),he("Variant restored",{icon:""})},tt=async ee=>{try{const Ne=new FormData;Ne.append("image",ee);const ge=r?{Authorization:`Bearer ${r}`}:{};return(await rt.post(`${yo}/api/upload`,Ne,{headers:{...ge,"Content-Type":"multipart/form-data"}})).data.url}catch(Ne){return console.error("Image upload failed:",Ne),c("Failed to upload image. Please try again."),null}},Ge=ee=>{m(Ne=>({...Ne,images:[...Ne.images||[],ee]}))},Mt=ee=>{m({...h,images:h.images.filter((Ne,ge)=>ge!==ee)})},xn=(ee,Ne)=>{if(ee===Ne)return;const ge=Array.isArray(h.images)?[...h.images]:[];if(ee<0||ee>=ge.length)return;const[Be]=ge.splice(ee,1);ge.splice(Math.max(0,Math.min(Ne,ge.length)),0,Be),m({...h,images:ge})},bn=ee=>{if(!ee)return"";try{return typeof ee!="string"?"":ee.startsWith("http")?ee:`${yo}${ee}`}catch{return""}},Hh=({show:ee,onClose:Ne})=>{const[ge,Be]=pt.useState(h.categories||[]);pt.useEffect(()=>Be(h.categories||[]),[h.categories,ee]);const xe=_e=>{Be(Oe=>Oe.includes(_e)?Oe.filter(et=>et!==_e):[...Oe,_e])},we=(_e,Oe=0)=>{if(!_e)return[];let et=[];if(Array.isArray(_e))et=_e;else if(typeof _e=="object")et=Object.values(_e);else return[];const Fe=[];for(const _t of et)!_t||!_t._id||(Fe.push({_id:_t._id,name:_t.name,parent:_t.parent,_depth:Oe}),_t.subcategories&&(Array.isArray(_t.subcategories)||typeof _t.subcategories=="object")&&Fe.push(...we(_t.subcategories,Oe+1)));return Fe};if(!ee)return null;const We=we(K||[]);return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[min(900px,95%)] max-h-[95vh] overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-white py-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xx,{className:"text-xl text-gray-700"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Select Categories"}),s.jsx("p",{className:"text-xs text-gray-900",children:"Choose which categories this product should belong to"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:Ne,className:"text-gray-600 hover:text-gray-900 p-2 rounded-full hover:bg-gray-100","aria-label":"Close categories modal",children:s.jsx(Wt,{className:"text-lg"})})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"search",placeholder:"Search categories...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-200 outline-none",onChange:_e=>{const Oe=_e.target.value.trim().toLowerCase();document.querySelectorAll("[data-cat-name]").forEach(et=>{const Fe=et.getAttribute("data-cat-name")||"";et.style.display=Fe.toLowerCase().includes(Oe)?"":"none"})}})}),s.jsx("div",{className:"grid gap-2",children:We&&We.length>0?We.map(_e=>s.jsxs("label",{"data-cat-name":_e.name,className:"flex items-center gap-3 p-3 bg-gray-50 hover:bg-white border border-gray-100 rounded-lg cursor-pointer transition",children:[s.jsx("input",{type:"checkbox",checked:ge.includes(_e._id),onChange:()=>xe(_e._id),className:"w-4 h-4 cursor-pointer text-gray-700"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm text-gray-800 font-medium",children:_e.name}),_e._depth?s.jsx("div",{className:"text-xs text-gray-400",children:Array(_e._depth).fill(" ").join("")}):null]})]},`cat-${_e._id}`)):s.jsx("p",{className:"text-gray-900 text-sm py-4",children:"No categories available"})}),s.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 rounded border border-gray-300 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"button",onClick:()=>{m({...h,categories:ge}),Ne()},className:"px-4 py-2 rounded bg-[var(--color-accent-primary)] text-white hover:bg-black",children:"Save"})]})]})})},rd=({show:ee,onClose:Ne})=>{if(!ee)return null;const ge=(h.images||[]).slice(1);return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-[min(900px,95%)] max-h-[85vh] overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["All Gallery Images (",ge.length,")"]}),s.jsx("button",{onClick:Ne,className:"text-gray-600 hover:text-gray-900",children:s.jsx(Wt,{className:"text-xl"})})]}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:ge.map((Be,xe)=>{const we=xe+1;return s.jsxs("div",{className:"relative group rounded-lg overflow-hidden bg-gray-100 cursor-grab border border-gray-200 h-40",draggable:!0,onDragStart:We=>{We.dataTransfer.setData("text/plain",String(we))},onDoubleClick:()=>{xn(we,0),Ne()},children:[s.jsx("img",{src:bn(Be),alt:`Gallery ${we}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition flex items-center justify-center opacity-0 group-hover:opacity-100",children:s.jsx("div",{className:"text-center text-white",children:s.jsx("p",{className:"text-xs font-semibold",children:"Double-click to set as main"})})}),s.jsx("button",{type:"button",onClick:()=>Mt(we),className:"absolute top-2 right-2 bg-gray-700 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition","aria-label":"Remove image",children:s.jsx(Wt,{className:"text-xs"})})]},we)})}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 rounded bg-gray-300 text-gray-900 hover:bg-black",children:"Close"})})]})})},ii=({show:ee,onClose:Ne})=>{if(!ee||!Z)return null;const ge=h.images||[];return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-[min(900px,95%)] max-h-[85vh] overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Select Image for Variant"}),s.jsx("button",{onClick:Ne,className:"text-gray-600 hover:text-gray-900",children:s.jsx(Wt,{className:"text-xl"})})]}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:ge.map((Be,xe)=>s.jsxs("div",{onClick:()=>{ct(Z.id,{image:Be}),Ne(),ue(null)},draggable:!0,onDragStart:we=>{we.dataTransfer.effectAllowed="copy",we.dataTransfer.setData("text/plain",Be)},className:"relative group rounded-lg overflow-hidden bg-gray-100 cursor-pointer border-2 border-gray-200 h-40 hover:border-gray-800 transition",children:[s.jsx("img",{src:bn(Be),alt:`Product ${xe}`,className:"w-full h-full object-cover group-hover:scale-105 transition"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition flex items-center justify-center opacity-0 group-hover:opacity-100",children:s.jsx("div",{className:"text-center text-white",children:s.jsxs("p",{className:"text-sm font-semibold",children:["Click to select",s.jsx("br",{}),"or drag"]})})}),Z?.image===Be&&s.jsx("div",{className:"absolute top-2 right-2 bg-[var(--color-accent-primary)] text-white px-2 py-1 rounded text-xs font-semibold",children:"Selected"})]},xe))}),s.jsx("div",{className:"mt-6 flex justify-end gap-3",children:s.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 rounded bg-gray-300 text-gray-900 hover:bg-black",children:"Close"})})]})})},Qa=({show:ee,onClose:Ne})=>{if(!ee||!z)return null;const ge=h.images||[];return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-[min(900px,95%)] max-h-[85vh] overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Select Image for Group: ",z]}),s.jsx("button",{onClick:Ne,className:"text-gray-600 hover:text-gray-900",children:s.jsx(Wt,{className:"text-xl"})})]}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:ge.map((Be,xe)=>s.jsxs("div",{onClick:()=>{je(z,"image",Be),Pe(z,"image",Be),Ne(),X(null)},draggable:!0,onDragStart:we=>{we.dataTransfer.effectAllowed="copy",we.dataTransfer.setData("text/plain",Be)},onDragEnd:we=>{we.preventDefault()},className:"relative group rounded-lg overflow-hidden bg-gray-100 cursor-grab active:cursor-grabbing border-2 border-gray-200 h-40 hover:border-gray-800 transition",children:[s.jsx("img",{src:bn(Be),alt:`Product ${xe}`,className:"w-full h-full object-cover group-hover:scale-105 transition"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition flex items-center justify-center opacity-0 group-hover:opacity-100",children:s.jsx("div",{className:"text-center text-white",children:s.jsxs("p",{className:"text-sm font-semibold",children:["Click to select",s.jsx("br",{}),"or drag to variant"]})})})]},xe))}),s.jsx("div",{className:"mt-6 flex justify-end gap-3",children:s.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 rounded bg-gray-300 text-gray-900 hover:bg-black",children:"Close"})})]})})},$h=({show:ee,onClose:Ne})=>ee?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-[min(500px,95%)] p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Add New Variant"}),s.jsx("button",{onClick:Ne,className:"text-gray-600 hover:text-gray-900",children:s.jsx(Wt,{className:"text-xl"})})]}),h.options.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"No options added yet."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add options (like Size, Color) first to create variants."})]}):s.jsx("div",{className:"space-y-4 mb-6",children:h.options.map(ge=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:ge.name}),s.jsxs("select",{value:$e[ge.name]||"",onChange:Be=>Ae(xe=>({...xe,[ge.name]:Be.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",children:[s.jsxs("option",{value:"",children:["Select ",ge.name]}),ge.values.map(Be=>s.jsx("option",{value:Be,children:Be},Be))]})]},ge.name))}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 rounded border border-gray-300 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"button",onClick:Qe,disabled:h.options.length===0||h.options.some(ge=>!$e[ge.name]),className:"px-4 py-2 rounded bg-[var(--color-accent-primary)] text-white hover:bg-black disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Variant"})]})]})}):null;return s.jsxs("div",{className:"min-h-screen bg-gray-100 p-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>Mr(()=>e("/admin/products")),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[s.jsx(Er,{})," Back"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-4 w-full",children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:H?"Edit Product":"Add New Product"}),s.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[u==="saving"&&s.jsx("span",{className:"text-sm text-gray-600",children:"Saving..."}),u==="saved"&&s.jsx("span",{className:"text-sm text-green-600 font-semibold",children:"Saved"}),s.jsxs("select",{value:h.isDraft?"draft":"published",onChange:ee=>m({...h,isDraft:ee.target.value==="draft"}),className:"px-3 py-1 rounded-lg text-sm font-semibold border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-800",children:[s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"draft",children:"Draft"})]}),s.jsx("button",{onClick:()=>De(null,!h.isDraft),disabled:n||!!mt,className:"px-4 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-semibold transition disabled:opacity-50",children:n?"Saving...":"Save"}),s.jsx("button",{onClick:()=>Mr(()=>e("/admin/products")),className:"px-4 py-1 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg text-sm font-semibold transition",children:"Discard"})]})]})]}),l&&s.jsx("div",{className:"mb-4 p-4 bg-gray-100 border border-gray-400 text-gray-800 rounded",children:l}),s.jsxs("form",{onSubmit:De,className:"bg-white rounded-lg shadow-lg p-4",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Product Name *"}),s.jsx("input",{type:"text",value:h.name,onChange:ee=>m({...h,name:ee.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",placeholder:"Enter product name"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Price"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2.5 text-gray-900",children:""}),s.jsx("input",{type:"number",step:"0.01",value:h.price,onChange:ee=>m({...h,price:ee.target.value}),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Compare Price"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2.5 text-gray-900",children:""}),s.jsx("input",{type:"number",step:"0.01",value:h.comparePrice,onChange:ee=>m({...h,comparePrice:ee.target.value}),className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:ring-2 outline-none ${mt?"border-red-400 focus:ring-red-200":"border-gray-300 focus:ring-gray-800"}`,placeholder:"0.00"}),mt&&s.jsx("p",{className:"text-xs text-gray-700 mt-1",children:mt})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Stock"}),s.jsx("input",{type:"number",value:h.stock,onChange:ee=>m({...h,stock:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",placeholder:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Slug"}),s.jsx("input",{type:"text",value:h.slug||"",onChange:ee=>m({...h,slug:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none",placeholder:"product-url-slug"}),s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:"Auto-generated if empty"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Categories"}),s.jsxs("button",{type:"button",onClick:()=>Y(!0),className:"inline-flex items-center gap-2 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded-full border border-gray-300 shadow-sm hover:shadow","aria-label":"Select categories",children:[s.jsx(xx,{className:"text-gray-700"}),s.jsx("span",{className:"font-medium",children:"Select Categories"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(h.categories||[]).map(ee=>{const ge=gt()[ee]||ee;return s.jsxs("span",{className:"flex items-center gap-2 bg-white border border-gray-200 px-3 py-1 rounded-full text-sm font-semibold shadow-sm",children:[s.jsx("span",{className:"text-gray-700 text-xs",children:ge&&ge[0]}),s.jsx("span",{className:"text-indigo-800",children:ge}),s.jsx("button",{type:"button",onClick:()=>m({...h,categories:(h.categories||[]).filter(Be=>Be!==ee)}),className:"text-gray-900 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition","aria-label":`Remove category ${ge}`,children:s.jsx(Wt,{className:"text-xs"})})]},`chip-${ee}`)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx(Zx,{value:h.description,onChange:ee=>m({...h,description:ee})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Benefits Section Heading"}),s.jsx("input",{type:"text",value:h.benefitsHeading,onChange:ee=>m({...h,benefitsHeading:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 outline-none mb-4",placeholder:"Why Buy This Product"}),s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Benefits Description"}),s.jsx(Zx,{value:h.benefitsText,onChange:ee=>m({...h,benefitsText:ee})}),s.jsx("p",{className:"text-xs text-gray-900 mt-2",children:"Use the editor to format your benefits with headings, bullets, and bold text. These will be displayed beautifully on the product page."})]})]})}),s.jsxs("div",{className:"mb-8 pb-8 border-b",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Media"}),s.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Main"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg overflow-hidden bg-gray-50 w-full aspect-square flex items-center justify-center relative",onDragOver:ee=>ee.preventDefault(),onDrop:ee=>{ee.preventDefault();const Ne=ee.dataTransfer.getData("text/plain");Ne&&xn(Number(Ne),0)},children:h.images&&h.images[0]?s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:bn(h.images[0]),alt:"Main",className:"w-full h-full object-contain"}),s.jsx("button",{type:"button",onClick:()=>Mt(0),className:"absolute top-2 right-2 bg-gray-700 text-white p-1.5 rounded-full hover:bg-[var(--color-accent-primary)]","aria-label":"Remove main image",children:s.jsx(Wt,{className:"text-sm"})})]}):s.jsxs("label",{className:"flex items-center justify-center w-full h-full cursor-pointer hover:bg-gray-100 transition",children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:ee=>{const Ne=ee.target.files;Ne&&Array.from(Ne).forEach(async ge=>{const Be=await tt(ge);Be&&Ge(Be)})},className:"hidden"}),s.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-600",children:[s.jsx(E0,{className:"text-3xl text-gray-700"}),s.jsx("span",{className:"text-xs font-semibold text-center",children:"Drop or click to add images"})]})]})})]}),s.jsxs("div",{className:"col-span-5",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Gallery images"}),(()=>{const ee=h.images||[],Ne=ee.slice(1,20),ge=Math.max(0,ee.length-20);return s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ne.map((Be,xe)=>{const we=xe+1;return s.jsxs("div",{className:"relative group h-20 aspect-square rounded-lg overflow-hidden bg-gray-100 cursor-grab border border-gray-200",draggable:!0,onDragStart:We=>{We.dataTransfer.effectAllowed="move",We.dataTransfer.setData("text/plain",String(we))},onDragOver:We=>We.preventDefault(),onDrop:We=>{We.preventDefault();const _e=Number(We.dataTransfer.getData("text/plain"));isNaN(_e)||xn(_e,we)},onDoubleClick:()=>xn(we,0),children:[s.jsx("img",{src:bn(Be),alt:`Gallery ${we}`,className:"w-full h-full object-contain"}),s.jsx("button",{type:"button",onClick:()=>Mt(we),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition","aria-label":"Remove image",children:s.jsx(Wt,{className:"text-xs"})})]},we)}),ge>0&&s.jsx("div",{className:"h-20 aspect-square rounded-lg overflow-hidden bg-gray-600 flex items-center justify-center border border-gray-400",children:s.jsxs("span",{className:"text-white font-bold text-lg",children:["+",ge]})}),s.jsx("button",{type:"button",onClick:()=>I(!0),className:"flex items-center justify-center h-20 aspect-square rounded-lg border-2 border-dashed border-gray-300 cursor-pointer hover:border-gray-800 transition bg-white",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("label",{className:"flex items-center justify-center h-20 aspect-square rounded-lg border-2 border-dashed border-gray-300 cursor-pointer hover:border-gray-800 transition bg-white",children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Be=>{const xe=Be.target.files;xe&&Array.from(xe).forEach(async we=>{const We=await tt(we);We&&Ge(We)})},className:"hidden"}),s.jsx("span",{className:"text-2xl",children:""})]})]})})})()]})]})]}),s.jsxs("div",{className:"mb-8 pb-8 border-b",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Variants & Options"}),s.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("button",{type:"button",onClick:()=>b(ee=>!ee),className:"flex items-center gap-2",children:[s.jsx("span",{className:`transform transition-transform ${g?"rotate-90":""}`,children:s.jsx(Yn,{})}),s.jsx("h3",{className:"text-lg font-bold",children:"Options"})]}),s.jsxs("button",{type:"button",onClick:Ze,className:"flex items-center gap-2 bg-[var(--color-accent-primary)] text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-black","aria-label":"Add option",children:[s.jsx(Js,{className:"text-sm"}),s.jsx("span",{className:"hidden sm:inline-block",children:"Add Option"})]})]}),g&&h.options.length===0&&s.jsx("p",{className:"text-sm text-gray-900 mb-3",children:"Add an option (e.g., Size, Color) then add its values."}),g&&s.jsx("div",{className:"space-y-3",children:h.options.map((ee,Ne)=>{const ge=ee.name||`opt-${Ne}`,Be=!!T[ge];return s.jsxs("div",{className:"bg-white border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between ",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx("button",{type:"button",onClick:()=>oe(ge),className:"p-1",children:s.jsx(Gn,{className:`transition-transform ${Be?"rotate-0":"-rotate-90"}`})}),s.jsx("input",{type:"text",value:ee.name,onChange:xe=>ne(Ne,xe.target.value),placeholder:"Option name (e.g., Size)",className:"px-3 py-2 border rounded flex-1"})]}),s.jsx("button",{type:"button",onClick:()=>Ie(Ne),className:"text-gray-700 hover:text-gray-900 px-2 py-1 rounded-md hover:bg-gray-100 transition","aria-label":"Remove option",children:s.jsx(f4,{})})]}),Be&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[s.jsx("input",{type:"text",placeholder:`Add ${ee.name||"value"}`,onKeyDown:xe=>{xe.key==="Enter"&&(xe.preventDefault(),U(Ne,xe.target.value.trim()),xe.target.value="")},className:"flex-1 px-3 py-2 border rounded"}),s.jsx("button",{type:"button",onClick:xe=>{const we=xe.target.closest(".flex")?.querySelector("input");we&&we.value&&(U(Ne,we.value.trim()),we.value="")},className:"bg-[var(--color-accent-primary)] text-white px-4 py-2 rounded text-sm font-medium hover:bg-black",children:"Add Value"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ee.values.map((xe,we)=>s.jsxs("span",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm inline-flex items-center gap-2",children:[xe,s.jsx("button",{type:"button",onClick:()=>ae(Ne,we),className:"text-gray-700 hover:text-gray-900 font-bold p-0.5 rounded-full hover:bg-gray-100 transition","aria-label":`Remove value ${xe}`,children:s.jsx(O6,{className:"text-sm"})})]},we))})]})]},Ne)})}),g&&h.options.length>0&&s.jsx("button",{type:"button",onClick:()=>{Te(),j(!0)},className:"mt-4 bg-[var(--color-accent-primary)] text-white px-4 py-2 rounded-lg font-medium hover:bg-black",children:"Generate Variants"})]}),h.variants.length>0&&s.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("button",{type:"button",onClick:()=>j(ee=>!ee),className:"flex items-center gap-2",children:[s.jsx("span",{className:`transform transition-transform ${y?"rotate-90":""}`,children:s.jsx(Yn,{})}),s.jsxs("h3",{className:"text-lg font-bold",children:["Variants (",h.variants.length,")"]})]}),s.jsx("button",{type:"button",onClick:()=>{Le(),j(!0)},className:"bg-[var(--color-accent-primary)] text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-black",children:"Add Variant"})]}),y&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ba,{className:"absolute left-3 top-3 text-gray-400"}),s.jsx("input",{value:N,onChange:ee=>A(ee.target.value),placeholder:"Search variants...",className:"w-full pl-10 pr-4 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Group by"}),s.jsx("select",{value:w,onChange:ee=>S(ee.target.value),className:"px-3 py-2 border rounded-lg",children:h.options.map(ee=>ee.name?s.jsx("option",{value:ee.name,children:ee.name},ee.name):null)})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsx("div",{className:"space-y-4",children:(()=>{const ee={},Ne=h.variants||[],ge=(N||"").trim().toLowerCase();Ne.forEach(xe=>{if(ge&&!`${xe.sku||""} ${xe.name||""} ${Nt(xe.optionValues)||""}`.toLowerCase().includes(ge))return;const we=xe.optionValues&&xe.optionValues[w]||"";ee[we]||(ee[we]=[]),ee[we].push(xe)});let Be=Object.keys(ee).sort((xe,we)=>String(xe).localeCompare(String(we)));return G&&ee[G]&&Be.includes(G)&&(Be=[G,...Be.filter(xe=>xe!==G)]),Be.map(xe=>{const we=ee[xe],We=!!E[xe],_e=gn(xe);return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>In(xe),className:`p-2 ${We?"rotate-90":""}`,"aria-expanded":We,children:s.jsx(Yn,{})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold",children:xe}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-sm text-gray-900",children:[we.length," variant(s)"]})})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-gray-600 font-semibold",children:"Price:"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"Price",value:R?.[_e]?.price??"",onChange:Oe=>{je(xe,"price",Oe.target.value),Pe(xe,"price",Oe.target.value)},className:"w-24 px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-gray-600 font-semibold",children:"Stock:"}),s.jsx("input",{type:"number",placeholder:"Stock",value:R?.[_e]?.stock??"",onChange:Oe=>{je(xe,"stock",Oe.target.value),Pe(xe,"stock",Oe.target.value)},className:"w-20 px-2 py-1 border rounded text-sm"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("label",{className:"flex flex-col items-center gap-2 cursor-pointer group relative h-10 px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 transition",onDragOver:Oe=>{Oe.preventDefault(),Oe.currentTarget.classList.add("opacity-75","ring-2","ring-gray-600")},onDragLeave:Oe=>{Oe.currentTarget.classList.remove("opacity-75","ring-2","ring-gray-600")},onDrop:Oe=>{Oe.preventDefault(),Oe.currentTarget.classList.remove("opacity-75","ring-2","ring-gray-600");const et=Oe.dataTransfer.getData("text/plain");if(et&&(et.startsWith("/")||et.startsWith("http")))je(xe,"image",et),Pe(xe,"image",et);else if(et&&et.startsWith("data:"))je(xe,"image",et),Pe(xe,"image",et);else{const Fe=Oe.dataTransfer.files;if(Fe&&Fe[0]){const _t=Fe[0];tt(_t).then(yn=>{yn&&(je(xe,"image",yn),Pe(xe,"image",yn))})}}},onClick:()=>{X(xe),fe(!0)},children:s.jsx("span",{className:"text-xs text-gray-700 hover:underline font-semibold",children:"Gallery & Drag"})})}),s.jsxs("button",{type:"button",onClick:()=>Le(),className:"flex items-center gap-2 bg-[var(--color-accent-primary)] text-white px-3 py-1 rounded text-sm font-medium hover:bg-black transition","aria-label":"Add variant to group",children:[s.jsx(Js,{className:"text-xs"}),s.jsx("span",{className:"hidden sm:inline-block",children:"Add Variant"})]})]})]}),We&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[Se.map((Oe,et)=>Oe.groupKey===_e&&Ue[et]?s.jsxs("div",{className:"col-span-2 bg-gray-100 border border-gray-300 rounded-lg p-3 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-800 font-medium",children:["Variant ",s.jsx("span",{className:"font-semibold",children:Nt(Oe.variant.optionValues)})," deleted"]}),s.jsx("button",{type:"button",onClick:()=>at(et),className:"px-4 py-1.5 bg-[var(--color-accent-primary)] hover:bg-black text-white rounded text-sm font-semibold transition",children:" Undo"})]},`undo-${Oe.timestamp}`):null),we.map(Oe=>{const et=h.variants.findIndex(Fe=>Fe.id===Oe.id);return s.jsxs("div",{className:"relative border border-gray-200 rounded-lg p-3 bg-white flex gap-3 h-full shadow-sm hover:shadow-md transition",children:[s.jsxs("div",{className:"flex-1 flex flex-col ",children:[s.jsx("div",{className:"text-sm text-gray-600 font-medium",children:Nt(Oe.optionValues)}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-900 font-semibold",children:"SKU"}),s.jsx("input",{type:"text",value:Oe.sku||"",onChange:Fe=>ct(Oe.id,{sku:Fe.target.value}),placeholder:"SKU",className:"w-full px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-900 font-semibold",children:"Price"}),s.jsx("input",{type:"number",step:"0.01",value:Oe.price||"",onChange:Fe=>ct(Oe.id,{price:Fe.target.value}),placeholder:"Price",className:"w-full px-2 py-1 border rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-900 font-semibold",children:"Stock"}),s.jsx("input",{type:"number",value:Oe.stock||0,onChange:Fe=>ct(Oe.id,{stock:parseInt(Fe.target.value)||0}),placeholder:"Stock",className:"w-full px-2 py-1 border rounded text-sm"})]})]})]}),s.jsx("div",{className:"flex flex-col gap-2 h-20 w-24",children:s.jsx("label",{className:"flex flex-col gap-2 cursor-pointer group relative h-24",onDragOver:Fe=>{Fe.preventDefault(),Fe.currentTarget.classList.add("opacity-75","ring-2","ring-gray-600")},onDragLeave:Fe=>{Fe.currentTarget.classList.remove("opacity-75","ring-2","ring-gray-600")},onDrop:Fe=>{Fe.preventDefault(),Fe.currentTarget.classList.remove("opacity-75","ring-2","ring-gray-600");const _t=Fe.dataTransfer.getData("text/plain");if(_t&&(_t.startsWith("/")||_t.startsWith("http")))ct(Oe.id,{image:_t});else if(_t&&_t.startsWith("data:"))ct(Oe.id,{image:_t});else{const yn=Fe.dataTransfer.files;if(yn&&yn[0]){const Or=yn[0];tt(Or).then(Xa=>{Xa&&ct(Oe.id,{image:Xa})})}}},onClick:()=>{ue(Oe),B(!0)},children:Oe.image?s.jsx("img",{src:bn(Oe.image),alt:"v",className:"w-full h-full object-cover rounded border border-gray-300 group-hover:opacity-75 transition",onError:Fe=>{Fe.target.style.display="none"}}):s.jsx("div",{className:"w-full h-full bg-gray-100 rounded border-2 border-dashed border-gray-300 flex items-center justify-center text-xs text-gray-900 group-hover:bg-gray-50 group-hover:border-blue-400 transition text-center px-1",children:"Drag or Gallery"})})}),s.jsx("button",{type:"button",onClick:()=>Tt(Oe.id,et),className:"absolute top-2 right-2 text-gray-700 hover:text-gray-900 bg-gray-100 hover:bg-gray-200 p-2 rounded-full transition","aria-label":"Delete variant",children:s.jsx(f4,{className:"text-sm"})})]},Oe.id)})]})]},`group-${_e}`)})})()})})]})]})]}),s.jsxs("div",{className:"flex gap-4 justify-end items-center",children:[u==="saving"&&s.jsx("span",{className:"text-sm text-gray-600",children:"Saving..."}),u==="saved"&&s.jsx("span",{className:"text-sm text-green-600 font-semibold",children:"Saved, published"}),s.jsx("button",{type:"button",onClick:()=>{H&&J?(m(J),he("Changes discarded",{icon:""})):Mr(()=>e("/admin/products"))},className:"px-6 py-3 border-2 border-gray-300 text-gray-900 rounded-lg font-semibold hover:bg-gray-50 transition",children:H?"Discard":"Cancel"}),h.isDraft?s.jsxs("button",{type:"button",onClick:()=>De(null,!1),disabled:n||!!mt,className:"flex items-center gap-2 px-6 py-3 bg-black hover:bg-gray-900 text-white rounded-lg font-semibold transition disabled:opacity-50",children:[s.jsx(Yr,{})," ",n?"Saving...":"Save Draft"]}):s.jsxs("button",{type:"submit",disabled:n||!!mt,className:"flex items-center gap-2 px-6 py-3 bg-[var(--color-accent-primary)] hover:bg-black text-white rounded-lg font-semibold transition disabled:opacity-50",children:[s.jsx(Yr,{})," ",n?H?"Saving...":"Publishing...":H?"Save":"Publish"]})]})]})]}),s.jsx(Hh,{show:V,onClose:()=>Y(!1)}),s.jsx(rd,{show:$,onClose:()=>I(!1)}),s.jsx(ii,{show:ie,onClose:()=>{B(!1),ue(null)}}),s.jsx(Qa,{show:_,onClose:()=>{fe(!1),X(null)}}),s.jsx($h,{show:ke,onClose:()=>Me(!1)})]})},Un="http://localhost:5000",GP=()=>{const[e,t]=C.useState("all"),[r,n]=C.useState([]),[a,l]=C.useState(null),[c,u]=C.useState([]),[f,h]=C.useState(!1),[m,g]=C.useState(0),[b,y]=C.useState(0),[j,w]=C.useState(0),[S,N]=C.useState(!0),[A,E]=C.useState(!1),[M,T]=C.useState("all"),[D,R]=C.useState(""),q=localStorage.getItem("token");C.useEffect(()=>{(async()=>{try{const I=await fetch(`${Un}/api/settings`);if(!I.ok)throw new Error("Failed to fetch settings");const ie=await I.json();N(ie.requireReviewApproval!==!1)}catch(I){console.error("Failed to fetch settings:",I)}})()},[]),C.useEffect(()=>{(async()=>{try{const I=await fetch(`${Un}/api/products`);if(!I.ok)throw new Error("Failed to fetch products");const ie=await I.json();n(ie.products||[])}catch(I){console.error(I)}})()},[]),C.useEffect(()=>{const $=async()=>{h(!0);try{const I=[];let ie=0,B=0;for(const fe of r)if(fe.reviews&&fe.reviews.length>0){const X=await(await fetch(`${Un}/api/products/${fe._id}`)).json();for(let G=0;G<X.reviews.length;G++){const ce=X.reviews[G];I.push({...ce,productId:fe._id,productName:fe.name,reviewIndex:G})}}const Z=await Promise.all(I.map(async fe=>{try{if(fe.user&&typeof fe.user!="object"){const z=await fetch(`${Un}/api/users/${fe.user}`);if(z.ok){const X=await z.json();fe.user=X.user||X}}else if(fe.user&&typeof fe.user=="object"&&!fe.user.email&&fe.user._id){const z=await fetch(`${Un}/api/users/${fe.user._id}`);if(z.ok){const X=await z.json();fe.user=X.user||X}}}catch(z){console.error("Failed to enrich user for review:",z)}return fe})),ue=Z.reduce((fe,z)=>z.isApproved?fe+1:fe,0),_=Z.reduce((fe,z)=>z.isApproved?fe:fe+1,0);u(Z),g(ue),y(_),w(Z.length)}catch(I){console.error("Failed to fetch reviews:",I),he.error("Failed to fetch reviews")}finally{h(!1)}};e==="all"&&r.length>0&&$()},[e,r]),C.useEffect(()=>{e==="by-product"&&a&&(async()=>{if(!a){u([]);return}h(!0);try{const I=await fetch(`${Un}/api/products/${a}`);if(!I.ok)throw new Error("Failed to fetch product");const ie=await I.json();if(ie.reviews&&ie.reviews.length>0){const B=ie.reviews.map((ue,_)=>({...ue,productId:ie._id,productName:ie.name,reviewIndex:_})),Z=await Promise.all(B.map(async ue=>{try{if(ue.user&&typeof ue.user!="object"){const _=await fetch(`${Un}/api/users/${ue.user}`);if(_.ok){const fe=await _.json();ue.user=fe.user||fe}}else if(ue.user&&typeof ue.user=="object"&&!ue.user.email&&ue.user._id){const _=await fetch(`${Un}/api/users/${ue.user._id}`);if(_.ok){const fe=await _.json();ue.user=fe.user||fe}}}catch(_){console.error("Failed to enrich user for review:",_)}return ue}));u(Z)}else u([])}catch{he.error("Failed to fetch product reviews")}finally{h(!1)}})()},[e,a]);const K=async($,I)=>{try{const ie=c.findIndex(_=>_.productId===$&&_.reviewIndex===I),B=ie!==-1?!!c[ie].isApproved:null,Z=B===null?!0:!B;if(!(await fetch(`${Un}/api/products/${$}/reviews/${I}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({isApproved:Z})})).ok)throw new Error("Failed to update review");if(ie!==-1){const _=[...c];_[ie].isApproved=!!Z,u(_),he.success(_[ie].isApproved?"Review approved":"Review disapproved"),e==="all"&&(g(_.reduce((fe,z)=>z.isApproved?fe+1:fe,0)),y(_.reduce((fe,z)=>z.isApproved?fe:fe+1,0)))}else e==="all"&&(t(""),setTimeout(()=>t("all"),50))}catch(ie){he.error(ie.message)}},W=async($,I)=>{if(window.confirm("Are you sure you want to delete this review?"))try{if(!(await fetch(`${Un}/api/products/${$}/reviews/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${q}`}})).ok)throw new Error("Failed to delete review");const B=c.filter(Z=>!(Z.productId===$&&Z.reviewIndex===I));u(B),he.success("Review deleted"),e==="all"&&(g(B.reduce((Z,ue)=>ue.isApproved?Z+1:Z,0)),y(B.reduce((Z,ue)=>ue.isApproved?Z:Z+1,0)),w(B.length))}catch(ie){he.error(ie.message)}},V=async()=>{E(!0);try{if(!(await fetch(`${Un}/api/settings`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({requireReviewApproval:!S})})).ok)throw new Error("Failed to update settings");N(!S),he.success(S?"Reviews will now show immediately without approval":"Reviews will now require approval before showing")}catch{he.error("Failed to update settings")}finally{E(!1)}},Y=$=>{const I=[];for(let ie=1;ie<=5;ie++)$>=ie?I.push(s.jsx(_o,{className:"text-yellow-400"},ie)):$>=ie-.5?I.push(s.jsx(M0,{className:"text-yellow-400"},ie)):I.push(s.jsx(pf,{className:"text-yellow-400"},ie));return I};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",style:{color:"var(--color-text-primary)"},children:"Review Management"}),s.jsx("div",{className:"rounded-lg shadow-lg p-6 mb-8",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-accent-primary)",borderLeftWidth:"4px"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Review Approval Setting"}),s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:S?"Reviews require admin approval before appearing on product pages":"Reviews appear immediately without requiring approval"})]}),s.jsx("button",{onClick:V,disabled:A,className:`px-6 py-3 rounded-lg font-semibold transition ${A?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:S?"var(--color-accent-primary)":"var(--color-text-secondary)",color:"white"},onMouseEnter:$=>!$.target.disabled&&($.target.style.backgroundColor="var(--color-accent-light)"),onMouseLeave:$=>!$.target.disabled&&($.target.style.backgroundColor=S?"var(--color-accent-primary)":"var(--color-text-secondary)"),children:A?"Saving...":S?"Approval Required":"No Approval Required"})]})}),e==="all"&&s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-accent-primary)",borderLeftWidth:"4px"},children:[s.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"Total Reviews"}),s.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--color-accent-primary)"},children:j})]}),s.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-accent-light)",borderLeftWidth:"4px"},children:[s.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"Verified"}),s.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--color-accent-light)"},children:m})]}),s.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-text-secondary)",borderLeftWidth:"4px"},children:[s.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"Pending"}),s.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--color-text-secondary)"},children:b})]})]})]}),s.jsxs("div",{className:"mb-8 flex gap-4",children:[s.jsx("button",{onClick:()=>{t("all"),l(null),T("all")},className:"px-6 py-3 rounded-lg font-semibold transition",style:{backgroundColor:e==="all"?"var(--color-accent-primary)":"var(--color-bg-section)",color:e==="all"?"white":"var(--color-text-primary)"},onMouseEnter:$=>$.target.style.backgroundColor=e==="all"?"var(--color-accent-light)":"var(--color-border-light)",onMouseLeave:$=>$.target.style.backgroundColor=e==="all"?"var(--color-accent-primary)":"var(--color-bg-section)",children:"All Reviews"}),s.jsx("button",{onClick:()=>t("by-product"),className:"px-6 py-3 rounded-lg font-semibold transition",style:{backgroundColor:e==="by-product"?"var(--color-accent-primary)":"var(--color-bg-section)",color:e==="by-product"?"white":"var(--color-text-primary)"},onMouseEnter:$=>$.target.style.backgroundColor=e==="by-product"?"var(--color-accent-light)":"var(--color-border-light)",onMouseLeave:$=>$.target.style.backgroundColor=e==="by-product"?"var(--color-accent-primary)":"var(--color-bg-section)",children:"Reviews by Product"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("input",{type:"text",value:D,onChange:$=>R($.target.value),placeholder:"Search reviews by name, email, product or text...",className:"w-full px-4 py-3 border-2 rounded-lg focus:outline-none transition",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},onFocus:$=>$.target.style.borderColor="var(--color-accent-primary)",onBlur:$=>$.target.style.borderColor="var(--color-border-light)"})}),e==="all"&&s.jsxs("div",{className:"mb-8 flex gap-3 border-b",style:{borderColor:"var(--color-border-light)"},children:[s.jsxs("button",{onClick:()=>T("all"),className:"px-4 py-3 font-semibold border-b-2 transition",style:{borderColor:M==="all"?"var(--color-accent-primary)":"transparent",color:M==="all"?"var(--color-accent-primary)":"var(--color-text-light)"},children:["All (",j,")"]}),s.jsxs("button",{onClick:()=>T("approved"),className:"px-4 py-3 font-semibold border-b-2 transition",style:{borderColor:M==="approved"?"var(--color-accent-light)":"transparent",color:M==="approved"?"var(--color-accent-light)":"var(--color-text-light)"},children:["Verified (",m,")"]}),s.jsxs("button",{onClick:()=>T("pending"),className:"px-4 py-3 font-semibold border-b-2 transition",style:{borderColor:M==="pending"?"var(--color-text-secondary)":"transparent",color:M==="pending"?"var(--color-text-secondary)":"var(--color-text-light)"},children:["Pending (",b,")"]})]}),e==="by-product"&&s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"block text-sm font-semibold mb-3",style:{color:"var(--color-text-primary)"},children:"Select Product"}),s.jsxs("select",{value:a||"",onChange:$=>l($.target.value||null),className:"w-full px-4 py-2 border-2 rounded-lg focus:outline-none transition",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},onFocus:$=>$.target.style.borderColor="var(--color-accent-primary)",onBlur:$=>$.target.style.borderColor="var(--color-border-light)",children:[s.jsx("option",{value:"",children:"-- Choose a product --"}),r.map($=>s.jsxs("option",{value:$._id,children:[$.name," (",$.reviews?.length||0," reviews)"]},$._id))]})]}),f&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Qs,{className:"text-4xl animate-spin",style:{color:"var(--color-accent-primary)"}})}),!f&&s.jsx("div",{className:"space-y-6",children:(()=>{let $=c;if(e==="all"&&(M==="approved"?$=c.filter(I=>I.isApproved):M==="pending"&&($=c.filter(I=>!I.isApproved))),D&&D.trim()!==""){const I=D.trim().toLowerCase();$=$.filter(ie=>{const B=(ie.email||ie.user&&(typeof ie.user=="object"?ie.user.email:ie.user)||"").toString().toLowerCase(),Z=(ie.name||ie.user&&(typeof ie.user=="object"?ie.user.name:"")||"").toString().toLowerCase(),ue=(ie.productName||"").toString().toLowerCase(),_=(ie.comment||"").toString().toLowerCase();return B.includes(I)||Z.includes(I)||ue.includes(I)||_.includes(I)})}return $.length>0?$.map((I,ie)=>s.jsxs("div",{className:"rounded-lg shadow-lg p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:I.isApproved?"var(--color-accent-light)":"var(--color-text-secondary)",borderLeftWidth:"4px"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-text-primary)"},children:I.name}),I.isApproved&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-accent-primary)"},children:" Verified"}),!I.isApproved&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-secondary)"},children:" Pending"})]}),e==="all"&&s.jsxs("p",{className:"text-sm font-semibold",style:{color:"var(--color-text-light)"},children:["Product: ",s.jsx("span",{style:{color:"var(--color-accent-primary)"},children:I.productName})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"flex gap-1 mb-2 justify-end",children:Y(I.rating).map((B,Z)=>s.jsx("span",{className:"text-lg",children:B},Z))}),s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:new Date(I.createdAt||I.updatedAt||Date.now()).toLocaleDateString()})]})]}),s.jsx("p",{className:"mb-6 leading-relaxed",style:{color:"var(--color-text-primary)"},children:I.comment}),s.jsxs("div",{className:"flex items-center justify-between pt-4",style:{borderColor:"var(--color-border-light)",borderTopWidth:"1px"},children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold",style:{color:"var(--color-text-secondary)"},children:"Email: "}),s.jsx("span",{style:{color:"var(--color-text-primary)"},children:I.email||(I.user&&typeof I.user=="object"?I.user.email:I.user)||"Guest"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>K(I.productId,I.reviewIndex),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition ${I.isApproved?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:I.isApproved?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{})," Unverify"]}):s.jsxs(s.Fragment,{children:[s.jsx(Yr,{})," Verify"]})}),s.jsx("button",{onClick:()=>W(I.productId,I.reviewIndex),className:"px-4 py-2 rounded-lg font-semibold bg-red-100 text-red-800 hover:bg-red-200 transition",children:"Delete"})]})]})]},ie)):s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[s.jsx("div",{className:"text-5xl mb-4",children:""}),s.jsx("p",{className:"text-xl text-gray-600 font-semibold mb-2",children:"No reviews found"}),s.jsx("p",{className:"text-gray-900",children:e==="by-product"&&a?"This product has no reviews yet":M==="approved"?"No approved reviews yet":M==="pending"?"No pending reviews":"No reviews to manage"})]})})()})]})},KP=()=>s.jsx(fs,{activeTab:"reviews",children:s.jsx(GP,{})}),YP=()=>{const e=qt(),{categories:t}=At(A=>A.category),[r,n]=C.useState([]),[a,l]=C.useState("categories"),[c,u]=C.useState([]),[f,h]=C.useState("grid"),[m,g]=C.useState(5),[b,y]=C.useState([{title:"Featured Products 1",category:"",limit:4,layout:"grid"},{title:"Featured Products 2",category:"",limit:4,layout:"grid"},{title:"Featured Products 3",category:"",limit:4,layout:"grid"}]);C.useEffect(()=>{e(ln()),e(un())},[e]),C.useEffect(()=>{const A=M=>{let T=[];if(!M||!Array.isArray(M))return T;for(const D of M)T.push(D),D.subcategories&&Array.isArray(D.subcategories)&&(T=T.concat(A(D.subcategories)));return T},E=A(t||[]);n(E||[])},[t]),C.useEffect(()=>{(async()=>{try{const M=await(await fetch("/api/settings/featured-collections")).json();M.featuredCategories&&(u(M.featuredCategories.categoryNames||[]),h(M.featuredCategories.layout||"grid"),g(M.featuredCategories.columns||5)),M.featuredProducts&&Array.isArray(M.featuredProducts)&&M.featuredProducts.length>0&&y(M.featuredProducts)}catch(E){console.error("Error loading featured collections from database",E)}})()},[]);const j=async()=>{if(c.length===0){he.error("Select at least one category");return}try{const A=localStorage.getItem("token");if(!(await fetch("/api/settings/featured-collections",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({featuredCategories:{categoryNames:c,layout:f,columns:m}})})).ok)throw new Error("Failed to save");he.success(" Featured categories saved to database!")}catch(A){console.error("Error saving featured categories:",A),he.error(" Failed to save featured categories")}},w=async()=>{if(!b.every(E=>!(!E.limit||E.limit<1))){he.error("Fill all sections with limit (min 1). Category is optional - leave blank to show all products");return}try{const E=localStorage.getItem("token");if(!(await fetch("/api/settings/featured-collections",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({featuredProducts:b})})).ok)throw new Error("Failed to save");he.success(" Featured products saved to database!")}catch(E){console.error("Error saving featured products:",E),he.error(" Failed to save featured products")}},S=A=>{u(E=>E.includes(A)?E.filter(M=>M!==A):[...E,A])},N=(A,E,M)=>{const T=[...b];T[A]={...T[A],[E]:M},y(T)};return s.jsx(fs,{activeTab:"collections",children:s.jsxs("main",{className:"py-8 px-6 min-h-screen",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsx("div",{className:"mb-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Featured Collections"}),s.jsx("p",{style:{color:"var(--color-text-light)"},children:"Manage which products and categories appear as featured on your storefront"})]}),s.jsx(ze,{to:"/admin",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-lg font-semibold transition",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px",color:"var(--color-accent-primary)"},onMouseEnter:A=>A.target.style.backgroundColor="var(--color-bg-section)",onMouseLeave:A=>A.target.style.backgroundColor="var(--color-bg-primary)",children:" Back to Dashboard"})]})}),s.jsx("div",{className:"rounded-t-xl sticky top-0 z-10",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderBottomWidth:"1px"},children:s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:()=>l("categories"),className:"flex-1 px-8 py-4 font-semibold text-center transition border-b-3",style:{borderColor:a==="categories"?"var(--color-accent-primary)":"transparent",color:a==="categories"?"var(--color-accent-primary)":"var(--color-text-primary)",backgroundColor:a==="categories"?"var(--color-bg-section)":"var(--color-bg-primary)"},children:" Featured Categories"}),s.jsx("div",{style:{width:"1px",backgroundColor:"var(--color-border-light)"}}),s.jsx("button",{onClick:()=>l("products"),className:"flex-1 px-8 py-4 font-semibold text-center transition border-b-3",style:{borderColor:a==="products"?"var(--color-accent-primary)":"transparent",color:a==="products"?"var(--color-accent-primary)":"var(--color-text-primary)",backgroundColor:a==="products"?"var(--color-bg-section)":"var(--color-bg-primary)"},children:" Featured Products (3 Sections)"})]})}),a==="categories"&&s.jsx("div",{className:"rounded-b-xl",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px",borderTopWidth:"0px"},children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-full space-y-6",children:[s.jsxs("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[s.jsx("span",{className:"text-xl",children:""})," Select Categories"]}),s.jsx("div",{className:"border rounded-lg max-h-80 overflow-y-auto",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-primary)"},children:r.length>0?r.map(A=>s.jsxs("label",{className:"flex items-center gap-3 px-4 py-3 border-b last:border-b-0 cursor-pointer transition",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},onMouseEnter:E=>E.target.parentElement.style.backgroundColor="var(--color-bg-section)",onMouseLeave:E=>E.target.parentElement.style.backgroundColor="var(--color-bg-primary)",children:[s.jsx("input",{type:"checkbox",checked:c.includes(A.name),onChange:()=>S(A.name),className:"w-5 h-5",style:{accentColor:"var(--color-accent-primary)"}}),s.jsx("span",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:A.name})]},A._id||A.id)):s.jsx("p",{className:"px-4 py-6 text-center",style:{color:"var(--color-text-primary)"},children:"No categories available"})})]}),s.jsxs("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[s.jsx("span",{className:"text-xl",children:""})," Display Layout"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer transition",style:{borderColor:f==="grid"?"var(--color-accent-primary)":"var(--color-border-light)"},onMouseEnter:A=>{f!=="grid"&&(A.target.style.borderColor="var(--color-accent-light)")},onMouseLeave:A=>{f!=="grid"&&(A.target.style.borderColor="var(--color-border-light)")},children:[s.jsx("input",{type:"radio",value:"grid",checked:f==="grid",onChange:A=>h(A.target.value),className:"w-5 h-5",style:{accentColor:"var(--color-accent-primary)"}}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:"Grid View"}),s.jsx("div",{className:"text-xs",style:{color:"var(--color-text-light)"},children:"Display all selected categories in grid"})]})]}),s.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer transition",style:{borderColor:f==="carousel"?"var(--color-accent-primary)":"var(--color-border-light)"},onMouseEnter:A=>{f!=="carousel"&&(A.target.style.borderColor="var(--color-accent-light)")},onMouseLeave:A=>{f!=="carousel"&&(A.target.style.borderColor="var(--color-border-light)")},children:[s.jsx("input",{type:"radio",value:"carousel",checked:f==="carousel",onChange:A=>h(A.target.value),className:"w-5 h-5",style:{accentColor:"var(--color-accent-primary)"}}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:"Carousel"}),s.jsx("div",{className:"text-xs",style:{color:"var(--color-text-light)"},children:"5 items visible at once, slide through all selected"})]})]})]})]}),s.jsxs("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[s.jsx("span",{className:"text-xl",children:""})," Number of Columns (Grid Only)"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"range",min:"2",max:"6",value:m,onChange:A=>g(Number(A.target.value)),className:"flex-1 cursor-pointer",style:{accentColor:"var(--color-accent-primary)"}}),s.jsx("span",{className:"text-2xl font-bold min-w-12 text-center px-4 py-2 rounded-lg border",style:{color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)"},children:m})]}),s.jsxs("p",{className:"text-sm mt-3",style:{color:"var(--color-text-light)"},children:[m===2&&" 2 columns - Mobile friendly, larger items",m===3&&" 3 columns - Tablet friendly",m===4&&" 4 columns - Desktop view",m===5&&" 5 columns - Standard desktop, many items",m===6&&" 6 columns - Wide layout, compact items"]})]}),s.jsxs("div",{className:"border rounded-lg p-5",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[s.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[s.jsx("span",{children:""})," Selected Items"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.length>0?c.map(A=>s.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium",style:{backgroundColor:"var(--color-accent-primary)",color:"white"},children:[A,s.jsx("button",{onClick:()=>S(A),className:"hover:text-gray-900",children:""})]},A)):s.jsx("span",{className:"text-gray-700 text-sm",children:"No categories selected yet"})}),s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-300",children:s.jsx("p",{className:"text-sm text-gray-900",children:s.jsxs("strong",{children:[c.length," categories selected"]})})})]}),s.jsx("button",{onClick:j,className:"w-full bg-black hover:bg-gray-700 text-white font-bold py-3 rounded-lg transition shadow-lg",children:" Save Configuration"})]})})}),a==="products"&&s.jsx("div",{className:"bg-white rounded-b-xl",children:s.jsxs("div",{className:"space-y-10 p-8",children:[b.map((A,E)=>s.jsxs("div",{className:"border-2 border-gray-200 rounded-xl overflow-hidden hover:border-gray-400 transition",children:[s.jsx("div",{className:"bg-gray-50 border-b border-gray-200 px-8 py-5",children:s.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-gray-800 text-white rounded-full font-bold text-sm",children:E+1}),A.title||`Section ${E+1}`]})}),s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-full space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:""})," Section Title"]}),s.jsx("input",{type:"text",value:A.title,onChange:M=>N(E,"title",M.target.value),className:"w-full border-2 border-gray-300 px-4 py-3 rounded-lg focus:border-gray-400 focus:outline-none font-medium transition",placeholder:"e.g., Latest Electronics"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:""})," Category (Optional)"]}),s.jsx("p",{className:"text-xs text-gray-600 mb-3 italic",children:"Leave blank to show all products from all categories"}),s.jsxs("select",{value:A.category,onChange:M=>N(E,"category",M.target.value),className:"w-full border-2 border-gray-300 px-4 py-3 rounded-lg focus:border-gray-400 focus:outline-none font-medium transition bg-white cursor-pointer",children:[s.jsx("option",{value:"",children:"-- All Products --"}),r.map(M=>s.jsx("option",{value:M.name,children:M.name},M._id||M.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:""})," Items to Display"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"number",min:"1",max:"50",value:A.limit,onChange:M=>N(E,"limit",Number(M.target.value)),className:"flex-1 border-2 border-gray-300 px-4 py-3 rounded-lg focus:border-gray-400 focus:outline-none font-bold transition"}),s.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"items"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:""})," Display Layout"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-400 transition",style:{borderColor:A.layout==="grid"?"var(--color-text-muted)":"var(--color-border)"},children:[s.jsx("input",{type:"radio",value:"grid",checked:A.layout==="grid",onChange:M=>N(E,"layout",M.target.value),className:"w-5 h-5 accent-gray-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"Grid"}),s.jsx("div",{className:"text-xs text-gray-600",children:"5 columns, all items"})]})]}),s.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-400 transition",style:{borderColor:A.layout==="carousel"?"var(--color-text-muted)":"var(--color-border)"},children:[s.jsx("input",{type:"radio",value:"carousel",checked:A.layout==="carousel",onChange:M=>N(E,"layout",M.target.value),className:"w-5 h-5 accent-gray-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"Carousel"}),s.jsx("div",{className:"text-xs text-gray-600",children:"5 visible, slide through"})]})]})]})]}),s.jsxs("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-5",children:[s.jsx("h4",{className:"font-bold text-purple-900 mb-3 text-sm",children:" Configuration"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-purple-800",children:"Title:"}),s.jsx("span",{className:"font-semibold text-purple-900",children:A.title||"Untitled"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-purple-800",children:"Category:"}),s.jsx("span",{className:"font-semibold text-purple-900",children:A.category||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-purple-800",children:"Count:"}),s.jsxs("span",{className:"font-semibold text-purple-900",children:[A.limit," items"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-purple-800",children:"Layout:"}),s.jsx("span",{className:"font-semibold text-purple-900 uppercase",children:A.layout})]})]})]})]})})]},E)),s.jsx("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-xl p-8",children:s.jsxs("button",{onClick:w,className:"w-full bg-black hover:bg-gray-700 text-white font-bold py-4 rounded-lg transition shadow-lg text-lg flex items-center justify-center gap-3",children:[s.jsx("span",{children:""})," Save All Featured Products Configurations"]})})]})})]})})},JP=({categoryId:e,categoryName:t,categoryImage:r,productCount:n,onClose:a,onEditProduct:l})=>{const[c,u]=C.useState([{id:1,name:"Samsung Galaxy S24",sku:"SAM-S24-BLK",price:799.99,comparePrice:999.99,stock:45,image:null,rating:4.5,reviews:128,categoryId:1,status:"active",description:"Latest flagship smartphone with advanced features"},{id:2,name:"iPhone 15 Pro",sku:"APP-IP15-SLV",price:1099.99,comparePrice:1199.99,stock:32,image:null,rating:4.8,reviews:256,categoryId:1,status:"active",description:"Premium Apple smartphone"},{id:3,name:"Google Pixel 8",sku:"GOO-PIX8-BLU",price:699.99,comparePrice:899.99,stock:28,image:null,rating:4.3,reviews:89,categoryId:1,status:"active",description:"Google flagship with AI features"},{id:4,name:"OnePlus 12",sku:"ONE-12-GRN",price:649.99,comparePrice:799.99,stock:15,image:null,rating:4.2,reviews:67,categoryId:1,status:"low_stock",description:"Fast and smooth performance"}].filter(E=>E.categoryId===e)),[f,h]=C.useState(null),[m,g]=C.useState(""),[b,y]=C.useState("name"),w=[...c.filter(E=>E.name.toLowerCase().includes(m.toLowerCase())||E.sku.toLowerCase().includes(m.toLowerCase()))].sort((E,M)=>{switch(b){case"price":return E.price-M.price;case"stock":return M.stock-E.stock;case"rating":return M.rating-E.rating;case"name":default:return E.name.localeCompare(M.name)}}),S=E=>{window.confirm("Are you sure you want to delete this product?")&&(u(c.filter(M=>M.id!==E)),alert("Product deleted successfully"))},N=E=>E>50?{label:"In Stock",color:"bg-gray-100 text-gray-800"}:E>0?{label:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:{label:"Out of Stock",color:"bg-red-100 text-red-800"},A=E=>E==="active"?"bg-gray-100 text-gray-800":E==="low_stock"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col transform transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-indigo-100",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-900 transition duration-300 p-2 hover:bg-gray-200 rounded-lg",title:"Back",children:s.jsx(Er,{className:"text-xl"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[r?s.jsx("img",{src:r,alt:t,className:"w-12 h-12 object-cover rounded-lg border-2 border-indigo-300"}):s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-400 to-indigo-600 rounded-lg flex items-center justify-center text-white font-bold",children:t.charAt(0)}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t}),s.jsxs("p",{className:"text-sm text-gray-600",children:[w.length," of ",n," products"]})]})]})]}),s.jsx("button",{onClick:a,className:"text-gray-900 hover:text-gray-700 transition duration-300 p-2 hover:bg-gray-200 rounded-lg",title:"Close",children:s.jsx(Wt,{className:"text-2xl"})})]}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 p-6 border-b border-gray-200 bg-gray-50",children:[s.jsx("div",{className:"flex-1 min-w-64",children:s.jsx("input",{type:"text",placeholder:"Search products by name or SKU...",value:m,onChange:E=>g(E.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent outline-none transition duration-300"})}),s.jsxs("select",{value:b,onChange:E=>y(E.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-800 focus:border-transparent outline-none transition duration-300",children:[s.jsx("option",{value:"name",children:"Sort by Name"}),s.jsx("option",{value:"price",children:"Sort by Price"}),s.jsx("option",{value:"stock",children:"Sort by Stock"}),s.jsx("option",{value:"rating",children:"Sort by Rating"})]}),s.jsxs("div",{className:"text-sm text-gray-600 font-semibold",children:["Showing ",s.jsx("span",{className:"text-gray-700",children:w.length})," products"]})]}),s.jsx("div",{className:"overflow-y-auto flex-1 p-6",children:w.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Pn,{className:"text-6xl text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-900 text-lg",children:m?"No products found matching your search":"No products in this category"})]}):s.jsx("div",{className:"grid gap-4",children:w.map(E=>{const M=N(E.stock);return s.jsx("div",{className:"bg-white rounded-xl border border-gray-300 hover:border-indigo-400 hover:shadow-lg transition duration-300 overflow-hidden",children:s.jsxs("div",{className:"flex gap-4 p-4",children:[s.jsx("div",{className:"flex-shrink-0",children:E.image?s.jsx("img",{src:E.image,alt:E.name,className:"w-24 h-24 object-cover rounded-lg border-2 border-gray-200"}):s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-200 to-black-300 rounded-lg flex items-center justify-center text-gray-900",children:s.jsx(T6,{className:"text-2xl"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:E.name}),s.jsxs("p",{className:"text-xs text-gray-900 mt-1",children:["SKU: ",s.jsx("span",{className:"font-mono",children:E.sku})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:E.description})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${A(E.status)}`,children:E.status==="active"?"Active":"Low Stock"})]}),E.rating&&s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(_o,{className:"text-yellow-400"}),s.jsx("span",{className:"font-semibold text-gray-900",children:E.rating}),s.jsxs("span",{className:"text-sm text-gray-600",children:["(",E.numReviews||E.reviews?.length||E.reviews," reviews)"]})]}),s.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Price"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("span",{className:"text-lg font-bold text-gray-700",children:["",E.price.toFixed(2)]}),E.comparePrice&&s.jsxs("span",{className:"text-sm text-gray-900 line-through",children:["",E.comparePrice.toFixed(2)]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Stock"}),s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${M.color}`,children:[E.stock," units"]})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Savings"}),E.comparePrice?s.jsxs("p",{className:"text-lg font-bold text-gray-400 mt-1",children:["",(E.comparePrice-E.price).toFixed(2)]}):s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:""})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 justify-center",children:[s.jsx("button",{onClick:()=>h(E),className:"bg-gray-800 hover:bg-black text-white p-3 rounded-lg transition duration-300 shadow-md hover:shadow-lg flex items-center justify-center",title:"View Details",children:s.jsx(A0,{})}),s.jsx("button",{onClick:()=>l&&l(E),className:"bg-gray-800 hover:bg-black text-white p-3 rounded-lg transition duration-300 shadow-md hover:shadow-lg flex items-center justify-center",title:"Edit Product",children:s.jsx(vh,{})}),s.jsx("button",{onClick:()=>S(E.id),className:"bg-red-600 hover:bg-red-700 text-white p-3 rounded-lg transition duration-300 shadow-md hover:shadow-lg flex items-center justify-center",title:"Delete Product",children:s.jsx(Fs,{})})]})]})},E.id)})})}),s.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:s.jsx("button",{onClick:a,className:"px-6 py-2.5 border border-gray-300 text-gray-900 rounded-lg font-semibold hover:bg-gray-100 transition duration-300",children:"Close"})})]}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-[60] p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Product Details"}),s.jsx("button",{onClick:()=>h(null),className:"text-gray-900 hover:text-gray-700 transition duration-300 p-1 hover:bg-gray-200 rounded-lg",children:s.jsx(Wt,{className:"text-lg"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Product Name"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 mt-1",children:f.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"SKU"}),s.jsx("p",{className:"text-sm font-mono text-gray-700 mt-1",children:f.sku})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:f.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Price"}),s.jsxs("p",{className:"text-lg font-bold text-gray-700 mt-1",children:["",f.price.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Stock"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 mt-1",children:f.stock})]})]}),f.comparePrice&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Compare Price"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900 mt-1",children:["",f.comparePrice.toFixed(2)]})]}),f.rating&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 uppercase font-semibold",children:"Rating"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(_o,{className:"text-yellow-400"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:f.rating}),s.jsxs("span",{className:"text-sm text-gray-600",children:["(",f.numReviews||f.reviews?.length||f.reviews," reviews)"]})]})]})]}),s.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:s.jsx("button",{onClick:()=>h(null),className:"px-4 py-2.5 border border-gray-300 text-gray-900 rounded-lg font-semibold hover:bg-gray-100 transition duration-300",children:"Close"})})]})})]})},Fn="http://localhost:5000",QP=({showModal:e,onClose:t,title:r,formData:n,setFormData:a,handleAddCategory:l,handleImageUpload:c,editingCategory:u})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"rounded-xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsxs("div",{className:"flex justify-between items-center p-6 transition duration-300",style:{borderBottomWidth:"1px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[s.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text-primary)"},children:r}),s.jsx("button",{onClick:t,className:"transition duration-300 p-1 rounded-lg",style:{color:"var(--color-text-primary)"},onMouseEnter:f=>f.target.style.backgroundColor="var(--color-border-light)",onMouseLeave:f=>f.target.style.backgroundColor="transparent",children:s.jsx(Wt,{className:"text-lg"})})]}),s.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Category Image"}),s.jsxs("label",{className:"flex items-center justify-center px-4 py-4 border-2 border-dashed rounded-xl cursor-pointer transition duration-300",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},onMouseEnter:f=>f.target.style.borderColor="var(--color-accent-primary)",onMouseLeave:f=>f.target.style.borderColor="var(--color-border-light)",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"}),s.jsxs("div",{className:"flex flex-col items-center gap-2",style:{color:"var(--color-text-secondary)"},children:[s.jsx(E0,{className:"text-3xl",style:{color:"var(--color-text-primary)"}}),s.jsx("span",{className:"text-sm font-semibold",children:"Click to upload"}),s.jsx("span",{className:"text-xs",style:{color:"var(--color-text-light)"},children:"PNG, JPG up to 10MB"})]})]}),n.image&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"Current Image Preview:"}),s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:n.image.startsWith("http")?n.image:`${Fn}${n.image}`,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border-2 shadow-md",style:{borderColor:"var(--color-accent-primary)"},onError:f=>{console.error("Image failed to load:",n.image),f.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Crect fill=%22%23ddd%22 width=%22100%22 height=%22100%22/%3E%3Ctext x=%2250%22 y=%2250%22 text-anchor=%22middle%22 dy=%22.3em%22 font-family=%22sans-serif%22 font-size=%2214%22 fill=%22%23999%22%3EFailed to load%3C/text%3E%3C/svg%3E"}}),s.jsx("button",{type:"button",onClick:()=>a({...n,image:null}),className:"absolute -top-3 -right-3 text-white p-2 rounded-full transition duration-300 shadow-lg",style:{backgroundColor:"#ef4444"},onMouseEnter:f=>f.target.style.backgroundColor="#dc2626",onMouseLeave:f=>f.target.style.backgroundColor="#ef4444",title:"Remove image",children:s.jsx(Wt,{className:"text-sm"})})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Name *"}),s.jsx("input",{type:"text",value:n.name,onChange:f=>a({...n,name:f.target.value}),className:"w-full px-4 py-2.5 border rounded-lg outline-none transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:f=>{f.target.style.borderColor="var(--color-accent-primary)",f.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:f=>{f.target.style.borderColor="var(--color-border-light)",f.target.style.boxShadow="none"},placeholder:"Enter category name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Description"}),s.jsx("textarea",{value:n.description,onChange:f=>a({...n,description:f.target.value}),rows:"3",className:"w-full px-4 py-2.5 border rounded-lg outline-none transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:f=>{f.target.style.borderColor="var(--color-accent-primary)",f.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:f=>{f.target.style.borderColor="var(--color-border-light)",f.target.style.boxShadow="none"},placeholder:"Enter category description"})]})]}),s.jsxs("div",{className:"flex gap-3 p-6 transition duration-300",style:{borderTopWidth:"1px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[s.jsx("button",{onClick:()=>{t(),a({name:"",description:"",image:null,productCount:0})},className:"flex-1 px-4 py-2.5 border rounded-lg font-semibold transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onMouseEnter:f=>{f.target.style.backgroundColor="var(--color-bg-section)"},onMouseLeave:f=>{f.target.style.backgroundColor="var(--color-bg-primary)"},children:"Cancel"}),s.jsxs("button",{onClick:l,className:"flex-1 px-4 py-2.5 text-white rounded-lg font-semibold transition duration-300 flex items-center justify-center gap-2 shadow-md",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:f=>f.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:f=>f.target.style.backgroundColor="var(--color-accent-primary)",children:[s.jsx(Js,{})," ",u?"Update":"Add"," Category"]})]})]})}):null,XP=({showModal:e,onClose:t,title:r,formData:n,setFormData:a,handleAddSubcategory:l,handleImageUpload:c,editingCategory:u})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"rounded-xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsxs("div",{className:"flex justify-between items-center p-6 transition duration-300",style:{borderBottomWidth:"1px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[s.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text-primary)"},children:r}),s.jsx("button",{onClick:t,className:"transition duration-300 p-1 rounded-lg",style:{color:"var(--color-text-primary)"},onMouseEnter:f=>f.target.style.backgroundColor="var(--color-border-light)",onMouseLeave:f=>f.target.style.backgroundColor="transparent",children:s.jsx(Wt,{className:"text-lg"})})]}),s.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Subcategory Image"}),s.jsxs("label",{className:"flex items-center justify-center px-4 py-4 border-2 border-dashed rounded-xl cursor-pointer transition duration-300",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},onMouseEnter:f=>f.target.style.borderColor="var(--color-accent-primary)",onMouseLeave:f=>f.target.style.borderColor="var(--color-border-light)",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"}),s.jsxs("div",{className:"flex flex-col items-center gap-2",style:{color:"var(--color-text-secondary)"},children:[s.jsx(E0,{className:"text-3xl",style:{color:"var(--color-text-light)"}}),s.jsx("span",{className:"text-sm font-semibold",children:"Click to upload"}),s.jsx("span",{className:"text-xs",style:{color:"var(--color-text-light)"},children:"PNG, JPG up to 10MB"})]})]}),n.image&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"Current Image Preview:"}),s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:n.image.startsWith("http")?n.image:`${Fn}${n.image}`,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border-2 shadow-md",style:{borderColor:"var(--color-accent-primary)"},onError:f=>{console.error("Image failed to load:",n.image),f.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Crect fill=%22%23ddd%22 width=%22100%22 height=%22100%22/%3E%3Ctext x=%2250%22 y=%2250%22 text-anchor=%22middle%22 dy=%22.3em%22 font-family=%22sans-serif%22 font-size=%2214%22 fill=%22%23999%22%3EFailed to load%3C/text%3E%3C/svg%3E"}}),s.jsx("button",{type:"button",onClick:()=>a({...n,image:null}),className:"absolute -top-3 -right-3 text-white p-2 rounded-full transition duration-300 shadow-lg",style:{backgroundColor:"#ef4444"},onMouseEnter:f=>f.target.style.backgroundColor="#dc2626",onMouseLeave:f=>f.target.style.backgroundColor="#ef4444",title:"Remove image",children:s.jsx(Wt,{className:"text-sm"})})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"Name *"}),s.jsx("input",{type:"text",value:n.name,onChange:f=>a({...n,name:f.target.value}),className:"w-full px-4 py-2.5 border rounded-lg outline-none transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:f=>{f.target.style.borderColor="var(--color-accent-primary)",f.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:f=>{f.target.style.borderColor="var(--color-border-light)",f.target.style.boxShadow="none"},placeholder:"Enter subcategory name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("textarea",{value:n.description,onChange:f=>a({...n,description:f.target.value}),rows:"3",className:"w-full px-4 py-2.5 border rounded-lg outline-none transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:f=>{f.target.style.borderColor="var(--color-accent-primary)",f.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:f=>{f.target.style.borderColor="var(--color-border-light)",f.target.style.boxShadow="none"},placeholder:"Enter subcategory description"})]})]}),s.jsxs("div",{className:"flex gap-3 p-6 transition duration-300",style:{borderTopWidth:"1px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[s.jsx("button",{onClick:()=>{t(),a({name:"",description:"",image:null,productCount:0})},className:"flex-1 px-4 py-2.5 border rounded-lg font-semibold transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onMouseEnter:f=>{f.target.style.backgroundColor="var(--color-bg-section)"},onMouseLeave:f=>{f.target.style.backgroundColor="var(--color-bg-primary)"},children:"Cancel"}),s.jsxs("button",{onClick:l,className:"flex-1 px-4 py-2.5 text-white rounded-lg font-semibold transition duration-300 flex items-center justify-center gap-2 shadow-md",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:f=>f.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:f=>f.target.style.backgroundColor="var(--color-accent-primary)",children:[s.jsx(Js,{})," ",u?"Update":"Add"," Subcategory"]})]})]})}):null,kS=({category:e,depth:t=0,onToggle:r,onEdit:n,onDelete:a,onAddSubcategory:l,onEditMain:c,parentId:u=null})=>{const f=t*32,h=[{bg:"bg-indigo-50",border:"border-indigo-400",text:"text-gray-700",gradient:"from-indigo-400 to-indigo-600"},{bg:"bg-gray-50",border:"border-gray-400",text:"text-gray-400",gradient:"from-gray-700 to-black-400"},{bg:"bg-gray-100",border:"border-blue-400",text:"text-gray-700",gradient:"from-blue-400 to-blue-600"},{bg:"bg-purple-50",border:"border-purple-400",text:"text-purple-600",gradient:"from-purple-400 to-purple-600"},{bg:"bg-pink-50",border:"border-pink-400",text:"text-pink-600",gradient:"from-pink-400 to-pink-600"},{bg:"bg-cyan-50",border:"border-cyan-400",text:"text-cyan-600",gradient:"from-cyan-400 to-cyan-600"}],m=h[t%h.length],g=()=>{r(e._id)},b=()=>{t===0&&c?c(e):n(u,e)};return s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:`hover:${m.bg} transition duration-300 ${t>0?`${m.bg} border-l-4 ${m.border}`:"bg-white"}`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",style:{marginLeft:`${f}px`},children:[s.jsx("button",{onClick:g,className:`${m.text} hover:opacity-100 opacity-75 p-1 transition duration-300`,title:e.expandedSubcategories?"Collapse":"Expand",children:e.expandedSubcategories?s.jsx(Gn,{}):s.jsx(Yn,{})}),e.image?s.jsx("img",{src:e.image.startsWith("http")?e.image:`${Fn}${e.image}`,alt:e.name,className:"w-10 h-10 object-cover rounded-lg border-2 border-gray-300",onError:y=>{console.error("Category image failed to load:",e.image),y.target.style.display="none"}}):s.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${m.gradient} rounded-lg flex items-center justify-center text-white font-bold text-sm`,children:e.name.charAt(0)}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[t===0&&s.jsx(Mc,{className:"text-xs",style:{color:"var(--color-text-primary)"}}),t>0&&s.jsx(Pn,{className:"text-xs",style:{color:"var(--color-text-primary)"}}),e.name]}),e.description&&s.jsx("p",{className:"text-xs mt-1",style:{color:"var(--color-text-light)"},children:e.description})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"inline-block px-3 py-1 rounded-full font-semibold text-sm text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:e.productCount||0})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:b,className:"bg-gray-800 hover:bg-black text-white p-2 rounded-lg transition duration-300 shadow-md hover:shadow-lg",title:"Edit",children:s.jsx(vh,{className:"text-sm"})}),s.jsx("button",{onClick:()=>a(u,e._id),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-lg transition duration-300 shadow-md hover:shadow-lg",title:"Delete",children:s.jsx(Fs,{className:"text-sm"})})]})})]}),e.expandedSubcategories&&e.subcategories&&e.subcategories.length>0&&e.subcategories.map(y=>s.jsx(kS,{category:y,depth:t+1,onToggle:r,onEdit:n,onDelete:a,onAddSubcategory:l,onEditMain:c,parentId:e._id},y._id)),e.expandedSubcategories&&s.jsx("tr",{className:`${m.bg} border-l-4 ${m.border}`,children:s.jsx("td",{colSpan:"4",className:"px-6 py-4",children:s.jsxs("button",{onClick:()=>l(e._id),className:`w-full text-left px-4 py-2 ${m.bg} hover:opacity-80 ${m.text} rounded-lg font-semibold transition duration-300 flex items-center gap-2 justify-center`,style:{marginLeft:`${f}px`},children:[s.jsx(Js,{})," Add Sub-Category to ",e.name]})})})]})},ZP=()=>{const e=qt(),{categories:t=[],loading:r}=At(L=>L.category),[n,a]=C.useState([]),[l,c]=C.useState(!1),[u,f]=C.useState(!1),[h,m]=C.useState(null),[g,b]=C.useState(null),[y,j]=C.useState(!1),[w,S]=C.useState(null),[N,A]=C.useState(null),[E,M]=C.useState(""),[T,D]=C.useState("name-asc"),[R,q]=C.useState("menu");C.useEffect(()=>{e(ln())},[e]),C.useEffect(()=>{const L=H=>(H||[]).map(J=>({...J,productCount:J.productCount||0,expandedSubcategories:N===J._id,subcategories:L(J.subcategories)}));a(t.map(H=>({...H,productCount:H.productCount||0,expandedSubcategories:N===H._id,subcategories:L(H.subcategories)}))||[])},[t,N]);const[K,W]=C.useState({name:"",description:"",image:null}),V=async()=>{if(!K.name.trim()){he.error("Category name is required");return}try{const L=localStorage.getItem("token"),H={name:K.name,description:K.description,slug:K.name.toLowerCase().replace(/\s+/g,"-"),image:K.image};if(g){if(!(await fetch(`${Fn}/api/categories/${g._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify(H)})).ok)throw new Error("Failed to update category");he.success("Category updated successfully")}else{if(!(await fetch(`${Fn}/api/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify(H)})).ok)throw new Error("Failed to create category");he.success("Category created successfully")}b(null),e(ln())}catch(L){he.error(L.message)}W({name:"",description:"",image:null}),c(!1)},Y=L=>{b(L),W({name:L.name,description:L.description,image:L.image}),c(!0)},$=async L=>{if(window.confirm("Are you sure you want to delete this category?"))try{const H=localStorage.getItem("token");if(!(await fetch(`${Fn}/api/categories/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${H}`}})).ok)throw new Error("Failed to delete category");he.success("Category deleted successfully"),e(ln())}catch(H){he.error(H.message)}},I=async()=>{if(!K.name.trim()){he.error("Subcategory name is required");return}try{const L=localStorage.getItem("token");if(!L){he.error("Authentication token not found");return}const H=g?`${Fn}/api/categories/${g._id}`:`${Fn}/api/categories`,J=g?"PUT":"POST",pe={name:K.name,description:K.description,slug:K.name.toLowerCase().replace(/\s+/g,"-"),image:K.image,...g?{}:{parent:h}},Se=await fetch(H,{method:J,headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify(pe)});if(!Se.ok){const ye=await Se.json();throw new Error(ye.message||"Failed to save subcategory")}he.success(g?"Subcategory updated successfully":"Subcategory added successfully"),W({name:"",description:"",image:null}),f(!1),b(null),h&&A(h),setTimeout(()=>{e(ln())},300)}catch(L){he.error(L.message||"Error saving subcategory")}},ie=(L,H)=>{m(L),b(H),W({name:H.name,description:H.description,image:H.image,productCount:H.productCount}),f(!0)},B=async(L,H)=>{if(window.confirm("Are you sure you want to delete this subcategory?"))try{const J=localStorage.getItem("token");if(!J){he.error("Authentication token not found");return}const pe=await fetch(`${Fn}/api/categories/${H}`,{method:"DELETE",headers:{Authorization:`Bearer ${J}`}});if(!pe.ok){const Se=await pe.json();throw new Error(Se.message||"Failed to delete subcategory")}he.success("Subcategory deleted successfully"),e(ln())}catch(J){he.error(J.message||"Error deleting subcategory")}},Z=async L=>{const H=L.target.files?.[0];if(H){if(H.size>5*1024*1024){he.error("Image size must be less than 5MB");return}try{const J=new FormData;J.append("image",H);const pe=localStorage.getItem("token"),Se=pe?{Authorization:`Bearer ${pe}`}:{},ye=await rt.post(`${Fn}/api/upload`,J,{headers:{...Se,"Content-Type":"multipart/form-data"}});W(Ue=>({...Ue,image:ye.data.url})),he.success("Image uploaded successfully")}catch(J){console.error("Image upload failed:",J),he.error("Failed to upload image. Please try again.")}}},ue=()=>{b(null),W({name:"",description:"",image:null}),c(!0)},_=L=>{m(L),b(null),W({name:"",description:"",image:null}),f(!0)},fe=(L,H)=>H.map(J=>J._id===L?{...J,expandedSubcategories:!J.expandedSubcategories}:J.subcategories&&J.subcategories.length>0?{...J,subcategories:fe(L,J.subcategories)}:J),z=L=>L.reduce((H,J)=>{let pe=1;return J.subcategories&&J.subcategories.length>0&&(pe+=z(J.subcategories)),H+pe},0),X=L=>{let H=[];return L.forEach(J=>{H.push(J),J.subcategories&&J.subcategories.length>0&&(H=H.concat(X(J.subcategories)))}),H},G=()=>{const L=n;let H=L;if(E.trim()){const pe=E.toLowerCase();H=L.filter(Se=>Se.name.toLowerCase().includes(pe)||Se.description&&Se.description.toLowerCase().includes(pe))}return[...H].sort((pe,Se)=>{switch(T){case"name-asc":return pe.name.localeCompare(Se.name);case"name-desc":return Se.name.localeCompare(pe.name);case"date-newest":return new Date(Se.createdAt||0)-new Date(pe.createdAt||0);case"date-oldest":return new Date(pe.createdAt||0)-new Date(Se.createdAt||0);case"products-max":return(Se.productCount||0)-(pe.productCount||0);case"products-min":return(pe.productCount||0)-(Se.productCount||0);default:return 0}})},ce=()=>{const L=n;let H=L;if(E.trim()){const pe=E.toLowerCase();H=X(L).filter(ye=>ye.name.toLowerCase().includes(pe)||ye.description&&ye.description.toLowerCase().includes(pe))}else H=X(L);return[...H].sort((pe,Se)=>{switch(T){case"name-asc":return pe.name.localeCompare(Se.name);case"name-desc":return Se.name.localeCompare(pe.name);case"date-newest":return new Date(Se.createdAt||0)-new Date(pe.createdAt||0);case"date-oldest":return new Date(pe.createdAt||0)-new Date(Se.createdAt||0);case"products-max":return(Se.productCount||0)-(pe.productCount||0);case"products-min":return(pe.productCount||0)-(Se.productCount||0);default:return 0}})},ke=(L,H,J=0)=>{for(let pe of H){if(pe._id===L)return J;if(pe.subcategories&&pe.subcategories.length>0){const Se=ke(L,pe.subcategories,J+1);if(Se!==-1)return Se}}return-1},Me=z(n),$e=G(),Ae=ce();return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1  overflow-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",style:{color:"var(--color-text-primary)"},children:"Categories & Subcategories"}),s.jsx("p",{className:"mt-2",style:{color:"var(--color-text-light)"},children:"Manage your product categories with subcategories and products"})]}),s.jsxs("button",{onClick:ue,className:"text-white px-6 py-3 rounded-lg font-semibold transition duration-300 flex items-center gap-2 shadow-lg",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:L=>L.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:L=>L.target.style.backgroundColor="var(--color-accent-primary)",children:[s.jsx(Js,{})," Add Category"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[s.jsx("div",{className:"rounded-xl shadow-lg p-4 text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold uppercase",style:{color:"var(--color-accent-light)"},children:"Total Categories"}),s.jsx("p",{className:"text-xs mt-1",style:{color:"var(--color-accent-light)"},children:"(Main + All Sub)"})]}),s.jsx("p",{className:"text-3xl font-bold",children:Me})]})}),s.jsx("div",{className:"rounded-xl shadow-lg p-4 text-white",style:{backgroundColor:"var(--color-text-secondary)"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold uppercase",style:{opacity:.8},children:"Displaying"}),s.jsx("p",{className:"text-xs mt-1",style:{opacity:.7},children:"Filtered Results"})]}),s.jsx("p",{className:"text-3xl font-bold",children:$e.length})]})})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-6",children:[s.jsx("input",{type:"text",placeholder:"Search categories...",value:E,onChange:L=>M(L.target.value),className:"flex-1 px-4 py-2 border rounded-lg outline-none font-semibold transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:L=>{L.target.style.borderColor="var(--color-accent-primary)",L.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:L=>{L.target.style.borderColor="var(--color-border-light)",L.target.style.boxShadow="none"}}),s.jsxs("select",{value:T,onChange:L=>D(L.target.value),className:"px-4 py-2 border rounded-lg outline-none font-semibold min-w-[200px] transition duration-300",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)",backgroundColor:"var(--color-bg-primary)"},onFocus:L=>{L.target.style.borderColor="var(--color-accent-primary)",L.target.style.boxShadow="0 0 0 2px rgba(165, 99, 42, 0.1)"},onBlur:L=>{L.target.style.borderColor="var(--color-border-light)",L.target.style.boxShadow="none"},children:[s.jsx("option",{value:"name-asc",children:"Sort: Name (A to Z)"}),s.jsx("option",{value:"name-desc",children:"Sort: Name (Z to A)"}),s.jsx("option",{value:"date-newest",children:"Sort: Date (Newest)"}),s.jsx("option",{value:"date-oldest",children:"Sort: Date (Oldest)"}),s.jsx("option",{value:"products-max",children:"Sort: Products (Maximum)"}),s.jsx("option",{value:"products-min",children:"Sort: Products (Minimum)"})]}),E&&s.jsx("button",{onClick:()=>M(""),className:"px-4 py-2 text-white rounded-lg transition-colors font-semibold",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:L=>L.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:L=>L.target.style.backgroundColor="var(--color-accent-primary)",children:"Clear Search"})]}),s.jsxs("div",{className:"flex gap-3 mb-6",children:[s.jsx("button",{onClick:()=>q("plain"),className:"px-6 py-2.5 rounded-lg font-semibold transition duration-300",style:{backgroundColor:R==="plain"?"var(--color-accent-primary)":"var(--color-bg-section)",color:R==="plain"?"white":"var(--color-text-primary)",boxShadow:R==="plain"?"0 4px 6px rgba(0, 0, 0, 0.1)":"none"},onMouseEnter:L=>{R!=="plain"&&(L.target.style.backgroundColor="var(--color-border-light)")},onMouseLeave:L=>{R!=="plain"&&(L.target.style.backgroundColor="var(--color-bg-section)")},children:"Plain Category"}),s.jsx("button",{onClick:()=>q("menu"),className:"px-6 py-2.5 rounded-lg font-semibold transition duration-300",style:{backgroundColor:R==="menu"?"var(--color-accent-primary)":"var(--color-bg-section)",color:R==="menu"?"white":"var(--color-text-primary)",boxShadow:R==="menu"?"0 4px 6px rgba(0, 0, 0, 0.1)":"none"},onMouseEnter:L=>{R!=="menu"&&(L.target.style.backgroundColor="var(--color-border-light)")},onMouseLeave:L=>{R!=="menu"&&(L.target.style.backgroundColor="var(--color-bg-section)")},children:"Menu Category"})]}),s.jsxs("div",{className:"rounded-xl shadow-lg overflow-hidden",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsx("div",{className:"px-6 py-4 transition duration-300",style:{backgroundColor:"var(--color-bg-section)",borderBottomWidth:"1px",borderColor:"var(--color-border-light)"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text-primary)"},children:"All Categories"}),s.jsxs("span",{className:"text-sm font-semibold",style:{color:"var(--color-text-light)"},children:[n.length," categories"]})]})}),s.jsx("div",{className:"overflow-x-auto",children:(R==="plain"?Ae:$e).length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-6",children:[s.jsx(Mc,{className:"text-6xl mb-4",style:{color:"var(--color-border-light)"}}),s.jsx("p",{className:"text-lg mb-4",style:{color:"var(--color-text-primary)"},children:E?"No categories match your search":"No categories yet"}),E&&s.jsx("button",{onClick:()=>M(""),className:"text-white px-6 py-3 rounded-lg font-semibold transition duration-300 inline-flex items-center gap-2 shadow-lg",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:L=>L.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:L=>L.target.style.backgroundColor="var(--color-accent-primary)",children:"Clear Search"}),!E&&s.jsxs("button",{onClick:ue,className:"text-white px-6 py-3 rounded-lg font-semibold transition duration-300 inline-flex items-center gap-2 shadow-lg",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:L=>L.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:L=>L.target.style.backgroundColor="var(--color-accent-primary)",children:[s.jsx(Js,{})," Create Your First Category"]})]}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottomWidth:"1px",borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider",style:{color:"var(--color-text-primary)"},children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider",style:{color:"var(--color-text-primary)"},children:"Title"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider",style:{color:"var(--color-text-primary)"},children:"Products"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider",style:{color:"var(--color-text-primary)"},children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-border-light)"},children:R==="plain"?Ae.map(L=>{const H=ke(L._id,n),J=[{bg:"var(--color-bg-primary)",border:"var(--color-accent-primary)",tag:"Main",bgLight:"var(--color-bg-section)"},{bg:"var(--color-bg-primary)",border:"var(--color-accent-light)",tag:"Sub",bgLight:"var(--color-bg-section)"},{bg:"var(--color-bg-primary)",border:"var(--color-border)",tag:"Sub-Sub",bgLight:"var(--color-bg-section)"},{bg:"var(--color-bg-primary)",border:"var(--color-accent-primary)",tag:"Sub",bgLight:"var(--color-bg-section)"}],pe=J[Math.min(H,J.length-1)],Se={bg:pe.bgLight,border:"border-l-4",borderColor:pe.border,tag:pe.tag};return s.jsxs("tr",{className:`${Se.bg} ${Se.border} hover:opacity-80 transition duration-300`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[L.image?s.jsx("img",{src:L.image.startsWith("http")?L.image:`${Fn}${L.image}`,alt:L.name,className:"w-10 h-10 object-cover rounded-lg border-2",style:{borderColor:"var(--color-accent-primary)"},onError:ye=>{console.error("Category image failed to load:",L.image),ye.target.style.display="none"}}):s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br rounded-lg flex items-center justify-center text-white font-bold text-sm",style:{backgroundColor:"var(--color-accent-primary)"},children:L.name.charAt(0)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold text-sm",style:{color:"var(--color-text-primary)"},children:L.name}),s.jsx("span",{className:"inline-block px-2 py-1 text-xs font-bold rounded text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:Se.tag})]}),L.description&&s.jsx("p",{className:"text-xs mt-1",style:{color:"var(--color-text-light)"},children:L.description})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"inline-block px-3 py-1 rounded-full font-semibold text-sm text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:L.productCount||0})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{b(L),W({name:L.name,description:L.description,image:L.image}),c(!0)},className:"bg-gray-800 hover:bg-black text-white p-2 rounded-lg transition duration-300 shadow-md hover:shadow-lg",title:"Edit",children:s.jsx(vh,{className:"text-sm"})}),s.jsx("button",{onClick:()=>$(L._id),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-lg transition duration-300 shadow-md hover:shadow-lg",title:"Delete",children:s.jsx(Fs,{className:"text-sm"})})]})})]},L._id)}):$e.map(L=>s.jsx(kS,{category:L,depth:0,onToggle:H=>a(fe(H,n)),onEdit:ie,onDelete:B,onAddSubcategory:_,onEditMain:Y},L._id))})]})})]})]})}),s.jsx(QP,{showModal:l,onClose:()=>{c(!1),b(null),W({name:"",description:"",image:null})},title:g?"Edit Category":"Add New Category",formData:K,setFormData:W,handleAddCategory:V,handleImageUpload:Z,editingCategory:g}),s.jsx(XP,{showModal:u,onClose:()=>{f(!1),b(null),W({name:"",description:"",image:null})},title:g?"Edit Subcategory":"Add New Subcategory",formData:K,setFormData:W,handleAddSubcategory:I,handleImageUpload:Z,editingCategory:g}),y&&w&&s.jsx(JP,{categoryId:w.id,categoryName:w.name,categoryImage:w.image,productCount:w.productCount,onClose:()=>{j(!1),S(null)},onEditProduct:L=>{}})]})},eI=()=>s.jsx(fs,{activeTab:"categories",children:s.jsx(ZP,{})}),Dn="http://localhost:5000",tI=e=>{if(!e)return"";if(typeof e=="string")return e.trim()?e.startsWith("http")?e:`${Dn}${e}`:"";if(typeof e=="object"){const t=e.url||e.secure_url||e.public_url||e.path||e.src||"";if(!t)return"";if(typeof t=="string")return t.startsWith("http")?t:`${Dn}${t}`}return""},rI=()=>{const e=qt(),{orders:t=[],loading:r}=At(_=>_.order),[n,a]=C.useState([]),[l,c]=C.useState([]),[u,f]=C.useState(!1),[h,m]=C.useState(null),[g,b]=C.useState(!1),[y,j]=C.useState(""),[w,S]=C.useState(null),[N,A]=C.useState(!1),[E,M]=C.useState(!1),[T,D]=C.useState(!1),[R,q]=C.useState({}),[K,W]=C.useState({}),[V,Y]=C.useState({}),[$,I]=C.useState("all");C.useEffect(()=>{e(Pr())},[e]),C.useEffect(()=>{const _=t||[];a(_),c(fe=>fe.filter(z=>_.some(X=>X._id===z))),f(fe=>_.length>0&&fe.length===_.length)},[t]);const B=$==="all"?n:$==="fulfilled"?n.filter(_=>_.status==="completed"):$==="unfulfilled"?n.filter(_=>_.status!=="completed"):$==="shipped"?n.filter(_=>_.isShipped&&!_.isDelivered):$==="delivered"?n.filter(_=>_.isDelivered):n,Z=async(_,fe)=>{try{const z=localStorage.getItem("token"),X=fe?"completed":"pending";if(!(await fetch(`${Dn}/api/orders/${_}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({status:X})})).ok)throw new Error("Failed to update fulfilled status");he.success(`Order ${fe?"fulfilled":"marked unfulfilled"}`),e(Pr())}catch(z){he.error(z.message)}},ue=async(_,fe)=>{try{const z=localStorage.getItem("token");if(fe){if(fe==="shipped"){if(!(await fetch(`${Dn}/api/orders/${_}/delivery`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({isShipped:!0,isDelivered:!1})})).ok)throw new Error("Failed to update delivery status");he.success("Order marked as shipped")}else if(fe==="delivered"){if(!(await fetch(`${Dn}/api/orders/${_}/delivery`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({isShipped:!0,isDelivered:!0,deliveredAt:Date.now()})})).ok)throw new Error("Failed to mark delivered");he.success("Order marked as delivered")}}else{if(!(await fetch(`${Dn}/api/orders/${_}/delivery`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({isShipped:!1,isDelivered:!1})})).ok)throw new Error("Failed to clear delivery flags");he.success("Delivery status cleared")}e(Pr())}catch(z){he.error(z.message)}};return s.jsxs("div",{children:[r&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Qs,{className:"text-4xl text-gray-700 animate-spin"})}),!r&&s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 bg-white border-b flex gap-2 overflow-x-auto",children:[s.jsx("button",{onClick:()=>I("all"),className:`px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition ${$==="all"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"All Orders"}),s.jsx("button",{onClick:()=>I("fulfilled"),className:`px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition ${$==="fulfilled"?"bg-green-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Fulfilled"}),s.jsx("button",{onClick:()=>I("unfulfilled"),className:`px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition ${$==="unfulfilled"?"bg-yellow-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Unfulfilled"}),s.jsx("button",{onClick:()=>I("shipped"),className:`px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition ${$==="shipped"?"bg-orange-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Shipped"}),s.jsx("button",{onClick:()=>I("delivered"),className:`px-4 py-2 rounded-full font-semibold text-sm whitespace-nowrap transition ${$==="delivered"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:"Delivered"})]}),s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b flex justify-between items-center",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Orders (",B.length,")"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>e(Pr()),className:"text-gray-700 hover:text-indigo-800 flex items-center gap-2",title:"Refresh orders",children:[s.jsx(PT,{})," Refresh"]}),s.jsx("button",{onClick:async()=>{if(l.length===0)return he("No orders selected");if(confirm("Delete selected orders that are fulfilled and delivered? This cannot be undone.")){b(!0);try{const _=localStorage.getItem("token"),fe=n.filter(z=>l.includes(z._id));if(fe.length===0){he("No selected orders to delete"),b(!1);return}await Promise.all(fe.map(z=>fetch(`${Dn}/api/orders/${z._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${_}`}}))),he.success(`Deleted ${fe.length} orders`),c([]),f(!1),e(Pr())}catch{he.error("Bulk delete failed")}finally{b(!1)}}},className:"px-3 py-1 bg-red-600 text-white rounded flex items-center gap-2",title:"Delete selected fulfilled+delivered",children:g?s.jsx(Qs,{className:"animate-spin"}):"Delete Selected"})]})]}),s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-100 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:s.jsx("input",{type:"checkbox",checked:u,onChange:_=>{const fe=_.target.checked;f(fe),c(fe?(B||[]).map(z=>z._id):[])}})}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Order / Date"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Total Price"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Fulfilment"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Delivery Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y",children:B&&B.length>0?B.map(_=>{const fe=_.orderId||`ORD-${new Date(_.createdAt).toISOString().slice(0,10).replace(/-/g,"")}-${_._id?.slice(-6)}`;_.createdAt&&new Date(_.createdAt).toLocaleDateString();const z=_.createdAt?new Date(_.createdAt).toLocaleString():"N/A",X=_.totalPrice??_.totalAmount??0,G=_.status==="completed",ce=_.isDelivered?"delivered":_.isShipped?"shipped":"";return s.jsxs("tr",{className:"hover:bg-gray-50 transition duration-300",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsx("input",{type:"checkbox",checked:l.includes(_._id),onChange:ke=>{const Me=ke.target.checked;c($e=>Me?[...$e,_._id]:$e.filter(Ae=>Ae!==_._id)),Me||f(!1)}})}),s.jsxs("td",{className:"px-4 py-4 font-mono text-gray-900 text-sm",children:[fe," ",s.jsx("br",{}),z," "]}),s.jsxs("td",{className:"px-4 py-4 text-gray-700 font-bold",children:["",Number(X).toFixed(2)]}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("button",{onClick:()=>Z(_._id,!G),className:`px-3 py-1 rounded-full text-sm font-semibold ${G?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,title:G?"Fulfilled - click to mark unfulfilled":"Unfulfilled - click to mark fulfilled",children:G?"Fulfilled":"Unfulfilled"})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("select",{value:ce,onChange:ke=>ue(_._id,ke.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"",children:"No Status"}),s.jsx("option",{value:"shipped",children:"shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{onClick:()=>m(_),className:"px-3 py-1 bg-gray-800 text-white rounded text-sm",children:[" ",s.jsx(wT,{})," "]})})})]},_._id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-600",children:"No orders found"})})})]})]}),h&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsxs("div",{className:"bg-white max-w-6xl w-full rounded-lg shadow-2xl overflow-auto max-h-[90vh] grid grid-cols-1 md:grid-cols-3 gap-0",style:{backgroundColor:"var(--color-bg-primary, #ffffff)"},children:[s.jsxs("div",{className:"md:col-span-2 flex flex-col overflow-auto",children:[s.jsxs("div",{className:"sticky top-0 z-10 flex justify-between items-center p-6 border-b",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"var(--color-bg-primary, #ffffff)"},children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold",style:{color:"var(--color-text-primary, #000000)"},children:["Order ",h.orderId||h._id]}),s.jsx("p",{className:"text-sm mt-1",style:{color:"var(--color-text-light, #6B6B6B)"},children:new Date(h.createdAt).toLocaleDateString()})]}),s.jsx("button",{onClick:()=>{m(null),j(""),S(null),A(!1),M(!1),D(!1)},className:"px-4 py-2 rounded font-semibold transition-all hover:opacity-75",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",color:"var(--color-text-primary, #000000)"},children:"Close"})]}),s.jsxs("div",{className:"p-6 space-y-6 overflow-auto flex-1",children:[s.jsxs("div",{className:"p-6 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:"Contact Details"}),!N&&s.jsx("button",{onClick:()=>{A(!0),q({firstName:h.contactDetails?.firstName||h.user?.name?.split(" ")[0]||"",lastName:h.contactDetails?.lastName||h.user?.name?.split(" ")[1]||"",email:h.contactDetails?.email||h.user?.email||"",phone:h.contactDetails?.phone||""})},className:"px-3 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"#4f46e5"},children:"Edit"})]}),N?s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"First Name",value:R.firstName||"",onChange:_=>q({...R,firstName:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"text",placeholder:"Last Name",value:R.lastName||"",onChange:_=>q({...R,lastName:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"email",placeholder:"Email",value:R.email||"",onChange:_=>q({...R,email:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"tel",placeholder:"Phone",value:R.phone||"",onChange:_=>q({...R,phone:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{try{const _=localStorage.getItem("token");if(!(await fetch(`${Dn}/api/orders/${h._id}/contact`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({contactDetails:R})})).ok)throw new Error("Failed to update contact details");he.success("Contact details updated"),A(!1),e(Pr())}catch(_){he.error(_.message)}},className:"flex-1 px-2 py-2 rounded text-xs font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:"Save"}),s.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-2 py-2 rounded text-xs font-semibold text-white",style:{backgroundColor:"#6b7280"},children:"Cancel"})]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs mb-1 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"First Name"}),s.jsx("p",{style:{color:"var(--color-text-primary, #000000)"},children:R.firstName||h.contactDetails?.firstName||h.user?.name?.split(" ")[0]||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs mb-1 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Last Name"}),s.jsx("p",{style:{color:"var(--color-text-primary, #000000)"},children:R.lastName||h.contactDetails?.lastName||h.user?.name?.split(" ")[1]||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs mb-1 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Email"}),s.jsx("p",{style:{color:"var(--color-text-primary, #000000)"},children:R.email||h.contactDetails?.email||h.user?.email||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs mb-1 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Phone"}),s.jsx("p",{style:{color:"var(--color-text-primary, #000000)"},children:R.phone||h.contactDetails?.phone||"N/A"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h4",{className:"font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:"Shipping Address"}),!E&&s.jsx("button",{onClick:()=>{M(!0),W(h.shippingAddress||{})},className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"#4f46e5"},children:"Edit"})]}),E?s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",placeholder:"Address",value:K.address||"",onChange:_=>W({...K,address:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"text",placeholder:"Apartment / Suite (Optional)",value:K.apartment||"",onChange:_=>W({...K,apartment:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"text",placeholder:"City",value:K.city||"",onChange:_=>W({...K,city:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"text",placeholder:"State / Region (Optional)",value:K.stateRegion||"",onChange:_=>W({...K,stateRegion:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"text",placeholder:"Postal Code",value:K.postalCode||"",onChange:_=>W({...K,postalCode:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"text",placeholder:"Country",value:K.country||"",onChange:_=>W({...K,country:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{try{const _=localStorage.getItem("token");if(!(await fetch(`${Dn}/api/orders/${h._id}/shipping`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({shippingAddress:K})})).ok)throw new Error("Failed to update shipping address");he.success("Shipping address updated"),M(!1),e(Pr())}catch(_){he.error(_.message)}},className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:"Save"}),s.jsx("button",{onClick:()=>M(!1),className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"#6b7280"},children:"Cancel"})]})]}):s.jsx(s.Fragment,{children:h.shippingAddress?s.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--color-text-primary, #000000)"},children:[s.jsx("div",{className:"font-semibold",children:K.address||h.shippingAddress.address}),(K.apartment||h.shippingAddress.apartment)&&s.jsx("div",{children:K.apartment||h.shippingAddress.apartment}),s.jsxs("div",{children:[K.city||h.shippingAddress.city,K.stateRegion||h.shippingAddress.stateRegion?`, ${K.stateRegion||h.shippingAddress.stateRegion}`:""," ",K.postalCode||h.shippingAddress.postalCode]}),s.jsx("div",{children:K.country||h.shippingAddress.country})]}):s.jsx("div",{className:"text-sm",style:{color:"var(--color-text-light, #6B6B6B)"},children:"No shipping address provided."})})]}),s.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h4",{className:"font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:"Billing Address"}),!T&&s.jsx("button",{onClick:()=>{D(!0),Y(h.billingAddress||{})},className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"#4f46e5"},children:"Edit"})]}),T?s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",placeholder:"Address",value:V.address||"",onChange:_=>Y({...V,address:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"text",placeholder:"Apartment / Suite (Optional)",value:V.apartment||"",onChange:_=>Y({...V,apartment:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"text",placeholder:"City",value:V.city||"",onChange:_=>Y({...V,city:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"text",placeholder:"State / Region (Optional)",value:V.stateRegion||"",onChange:_=>Y({...V,stateRegion:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"text",placeholder:"Postal Code",value:V.postalCode||"",onChange:_=>Y({...V,postalCode:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsx("input",{type:"text",placeholder:"Country",value:V.country||"",onChange:_=>Y({...V,country:_.target.value}),className:"w-full p-2 rounded border text-sm",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"white",color:"var(--color-text-primary, #000000)"}}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{try{const _=localStorage.getItem("token");if(!(await fetch(`${Dn}/api/orders/${h._id}/billing`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({billingAddress:V})})).ok)throw new Error("Failed to update billing address");he.success("Billing address updated"),D(!1),e(Pr())}catch(_){he.error(_.message)}},className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},children:"Save"}),s.jsx("button",{onClick:()=>D(!1),className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:"#6b7280"},children:"Cancel"})]})]}):s.jsx(s.Fragment,{children:h.billingAddress?s.jsxs("div",{className:"text-sm space-y-1",style:{color:"var(--color-text-primary, #000000)"},children:[s.jsx("div",{className:"font-semibold",children:V.address||h.billingAddress.address}),(V.apartment||h.billingAddress.apartment)&&s.jsx("div",{children:V.apartment||h.billingAddress.apartment}),s.jsxs("div",{children:[V.city||h.billingAddress.city,V.stateRegion||h.billingAddress.stateRegion?`, ${V.stateRegion||h.billingAddress.stateRegion}`:""," ",V.postalCode||h.billingAddress.postalCode]}),s.jsx("div",{children:V.country||h.billingAddress.country})]}):s.jsx("div",{className:"text-sm",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Same as shipping"})})]})]}),s.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("h4",{className:"font-semibold mb-4",style:{color:"var(--color-text-primary, #000000)"},children:"Order Items"}),s.jsx("div",{className:"space-y-4",children:h.orderItems?.map(_=>{const fe=[];_.selectedVariants&&typeof _.selectedVariants=="object"&&Object.entries(_.selectedVariants).forEach(([X,G])=>{G&&fe.push(`${X}: ${G}`)}),_.selectedSize&&!fe.some(X=>X.toLowerCase().includes("size"))&&fe.push(`Size: ${_.selectedSize}`),_.selectedColor&&!fe.some(X=>X.toLowerCase().includes("color"))&&fe.push(`Color: ${_.selectedColor}`);const z=fe.join(" / ");return s.jsxs("div",{className:"flex gap-3 sm:gap-4 pb-4 border-b",style:{borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("div",{className:"shrink-0",children:s.jsx("img",{src:tI(_.image),alt:_.name,className:"w-full h-full sm:w-20 sm:h-20 object-contain rounded border",style:{borderColor:"var(--color-border-light, #e5e5e5)"}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-sm sm:text-base mb-1",style:{color:"var(--color-text-primary, #000000)"},children:_.name}),z&&s.jsx("p",{className:"text-xs sm:text-sm mb-1",style:{color:"var(--color-text-light, #6B6B6B)"},children:z}),_.sku&&s.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--color-text-light, #6B6B6B)"},children:["SKU: ",_.sku]}),s.jsxs("p",{className:"text-xs sm:text-sm",style:{color:"var(--color-text-secondary, #3a3a3a)"},children:["Qty: ",_.qty,"  ",Number(_.price).toFixed(2)]})]}),s.jsx("div",{className:"text-right flex-shrink-0",children:s.jsxs("p",{className:"font-bold text-base sm:text-lg",style:{color:"var(--color-accent-primary, #a5632a)"},children:["",(_.qty*_.price).toFixed(2)]})})]},_._id||_.product)})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("h4",{className:"font-semibold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Order Summary"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Items:"}),s.jsxs("span",{className:"font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:["",((h.itemsPrice??h.orderItems?.reduce((_,fe)=>_+fe.price*fe.qty,0))||0).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Shipping:"}),s.jsxs("span",{className:"font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:["",(h.shippingPrice||0).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{style:{color:"var(--color-text-secondary, #3a3a3a)"},children:"Tax:"}),s.jsxs("span",{className:"font-semibold",style:{color:"var(--color-text-primary, #000000)"},children:["",(h.taxPrice||0).toFixed(2)]})]}),s.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold",style:{borderColor:"var(--color-border-light, #e5e5e5)",color:"var(--color-accent-primary, #a5632a)"},children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["",(h.totalPrice||h.totalAmount||0).toFixed(2)]})]})]})]}),s.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("h4",{className:"font-semibold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Fulfillment"}),s.jsx("div",{className:"px-3 py-2 rounded text-sm font-semibold",style:{backgroundColor:h.status==="completed"?"var(--color-accent-primary, #a5632a)":"var(--color-bg-section, #e5e5e5)",color:h.status==="completed"?"white":"var(--color-text-primary, #000000)"},children:h.status==="completed"?" Fulfilled":" Unfulfilled"})]}),s.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("h4",{className:"font-semibold mb-3",style:{color:"var(--color-text-primary, #000000)"},children:"Delivery"}),s.jsx("div",{className:"px-3 py-2 rounded text-sm font-semibold",style:{backgroundColor:h.isDelivered?"var(--color-accent-primary, #a5632a)":h.isShipped?"#d4905e":"var(--color-bg-section, #e5e5e5)",color:h.isDelivered||h.isShipped?"white":"var(--color-text-primary, #000000)"},children:h.isDelivered?" Delivered":h.isShipped?" Shipped":" Not Shipped"})]})]})]})]}),s.jsxs("div",{className:"md:col-span-1 border-l flex flex-col overflow-auto",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:[s.jsx("div",{className:"sticky top-0 z-10 p-6 border-b",style:{borderColor:"var(--color-border-light, #e5e5e5)",backgroundColor:"var(--color-bg-section, #e5e5e5)"},children:s.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Overview"})}),s.jsxs("div",{className:"p-6 space-y-6 flex-1 overflow-auto",children:[s.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("p",{className:"text-xs mb-2 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"Total Orders From this Customer"}),s.jsx("p",{className:"text-3xl font-bold",style:{color:"var(--color-accent-primary, #a5632a)"},children:n.filter(_=>_.user===h.user||_.user?._id===h.user?._id).length})]}),s.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"white",borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("p",{className:"text-xs mb-3 font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"REMARKS"}),s.jsxs("div",{className:"border rounded mb-4",style:{borderColor:"var(--color-border-light, #e5e5e5)"},children:[s.jsx("textarea",{placeholder:"Add notes or remarks about this order...",className:"w-full p-3 text-sm resize-none focus:outline-none",style:{color:"var(--color-text-primary, #000000)",backgroundColor:"var(--color-bg-primary, #ffffff)",borderBottom:"1px solid var(--color-border-light, #e5e5e5)"},rows:"4",value:y,onChange:_=>j(_.target.value)}),s.jsx("button",{className:"w-full px-3 py-2 font-semibold text-white text-sm transition-all hover:opacity-90",style:{backgroundColor:"var(--color-accent-primary, #a5632a)"},onClick:async()=>{if(!y.trim()){he.error("Please enter a remark");return}try{const _=localStorage.getItem("token");if(!(await fetch(`${Dn}/api/orders/${h._id}/remarks`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({remarks:y})})).ok)throw new Error("Failed to save remarks");he.success("Remarks saved"),j(""),e(Pr())}catch(_){he.error(_.message)}},children:"Save Remarks"})]}),h.remarks&&s.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--color-bg-section, #e5e5e5)",borderLeft:"4px solid var(--color-accent-primary, #a5632a)"},children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("p",{className:"text-xs font-semibold",style:{color:"var(--color-text-light, #6B6B6B)"},children:"SAVED REMARK"}),s.jsxs("p",{className:"text-xs",style:{color:"var(--color-text-light, #6B6B6B)"},children:[new Date(h.updatedAt).toLocaleDateString()," ",new Date(h.updatedAt).toLocaleTimeString()]})]}),s.jsx("p",{className:"text-sm mb-3",style:{color:"var(--color-text-primary, #000000)"},children:h.remarks}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white transition-all hover:opacity-90",style:{backgroundColor:"#4f46e5"},onClick:()=>{j(h.remarks),S(h._id)},children:"Edit"}),s.jsx("button",{className:"flex-1 px-2 py-1 rounded text-xs font-semibold text-white transition-all hover:opacity-90",style:{backgroundColor:"#dc2626"},onClick:async()=>{if(confirm("Delete this remark?"))try{const _=localStorage.getItem("token");if(!(await fetch(`${Dn}/api/orders/${h._id}/remarks`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({remarks:""})})).ok)throw new Error("Failed to delete remarks");he.success("Remarks deleted"),j(""),e(Pr())}catch(_){he.error(_.message)}},children:"Delete"})]})]})]})]})]})]})})]})},nI=()=>s.jsx(fs,{activeTab:"orders",children:s.jsxs("div",{className:"p-8",children:[s.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--color-text-primary)"},children:"Orders Management"}),s.jsx("p",{className:"mt-4",style:{color:"var(--color-text-light)"},children:"Manage all customer orders and track shipments"}),s.jsx(rI,{})]})}),sI=()=>{const e=qt(),{products:t}=At(V=>V.product),{orders:r=[]}=At(V=>V.order),[n,a]=C.useState(""),[l,c]=C.useState(""),[u,f]=C.useState(!1),[h,m]=C.useState("today"),[g,b]=C.useState(""),[y,j]=C.useState(""),[w,S]=C.useState(""),[N,A]=C.useState(""),[E,M]=C.useState({totalSales:0,totalOrders:0,totalProducts:0,avgOrderValue:0,salesByProduct:[],bestSellingByCount:[],bestSellingByQuantity:[],productsByItemsSold:[],productsByGrossValue:[],productOrderCountByProduct:{},variantQtyMap:{}}),[T,D]=C.useState(null),[R,q]=C.useState({}),K=[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"Last 30 minutes",value:"last30m"},{label:"Last 12 hours",value:"last12h"},{label:"Last 7 days",value:"last7d"},{label:"Last 30 days",value:"last30d"},{label:"Last 90 days",value:"last90d"},{label:"Last 365 days",value:"last365d"},{label:"Last 12 months",value:"last12m"},{label:"Last week",value:"lastweek"},{label:"Last month",value:"lastmonth"}];C.useEffect(()=>{const Y=new Date().toISOString().split("T")[0];a(Y),c(Y)},[]);const W=V=>{m(V);const Y=new Date;let $,I;switch(V){case"today":$=new Date(Y),$.setHours(0,0,0,0),I=new Date(Y),I.setHours(23,59,59,999);break;case"yesterday":$=new Date(Y),$.setDate($.getDate()-1),$.setHours(0,0,0,0),I=new Date($),I.setHours(23,59,59,999);break;case"last30m":$=new Date(Y.getTime()-30*6e4),I=new Date(Y);break;case"last12h":$=new Date(Y.getTime()-720*6e4),I=new Date(Y);break;case"last7d":$=new Date(Y),$.setDate($.getDate()-7),I=new Date(Y);break;case"last30d":$=new Date(Y),$.setDate($.getDate()-30),I=new Date(Y);break;case"last90d":$=new Date(Y),$.setDate($.getDate()-90),I=new Date(Y);break;case"last365d":$=new Date(Y),$.setDate($.getDate()-365),I=new Date(Y);break;case"lastweek":$=new Date(Y),$.setDate($.getDate()-$.getDay()-7),I=new Date($),I.setDate(I.getDate()+6);break;case"lastmonth":$=new Date(Y.getFullYear(),Y.getMonth()-1,1),I=new Date(Y.getFullYear(),Y.getMonth(),0);break;case"last12m":$=new Date(Y),$.setFullYear($.getFullYear()-1),I=new Date(Y);break;default:$=new Date(Y),$.setHours(0,0,0,0),I=new Date(Y)}a($.toISOString().split("T")[0]),c(I.toISOString().split("T")[0])};return C.useEffect(()=>{e(un()),e(Pr())},[e]),C.useEffect(()=>{if(t&&r&&r.length>0){const V=L=>{if(!L)return null;const H=new Date(L);if(isNaN(H))return null;const J=H.getFullYear(),pe=String(H.getMonth()+1).padStart(2,"0"),Se=String(H.getDate()).padStart(2,"0");return`${J}-${pe}-${Se}`},Y=V(n),$=V(l),I=(r||[]).filter(L=>{if(!Y&&!$)return!0;const H=V(L.createdAt);return H?Y&&$?H>=Y&&H<=$:Y?H>=Y:$?H<=$:!0:!1}),ie=I.reduce((L,H)=>L+(H.totalPrice||0),0),B=I.length,Z=B>0?(ie/B).toFixed(2):0,ue={},_={},fe={},z={},X={};I.forEach(L=>{L.orderItems&&Array.isArray(L.orderItems)&&L.orderItems.forEach(H=>{const J=H.product||H._id;X[J]||(X[J]=0),X[J]+=1})}),I.forEach(L=>{L.orderItems&&Array.isArray(L.orderItems)&&L.orderItems.forEach(H=>{const J=H.product||H._id,pe=H.qty||1,Se=H.price||0,ye=H.variant||null;ue[J]||(ue[J]={name:H.name,sales:0,price:Se,id:J,variants:[]}),_[J]||(_[J]={name:H.name,count:0,id:J,itemsSold:0}),fe[J]||(fe[J]={name:H.name,quantity:0,id:J}),z[J]||(z[J]=[]),ye&&(z[J].find(nt=>JSON.stringify(nt)===JSON.stringify(ye))||z[J].push(ye)),ue[J].sales+=Se*pe,ue[J].grossValue=ue[J].sales||0,_[J].count+=1,_[J].itemsSold+=pe,fe[J].quantity+=pe})}),Object.keys(ue).forEach(L=>{ue[L].variants=z[L]||[]});const G=Object.values(ue).sort((L,H)=>H.sales-L.sales).slice(0,8),ce=Object.values(_).sort((L,H)=>H.count-L.count).slice(0,8),ke=Object.values(fe).sort((L,H)=>H.quantity-L.quantity).slice(0,8),Me=Object.values(_).sort((L,H)=>H.itemsSold-L.itemsSold).slice(0,10),$e=Object.values(ue).sort((L,H)=>(H.grossValue||0)-(L.grossValue||0)).slice(0,10),Ae={};I.forEach(L=>{L.orderItems&&Array.isArray(L.orderItems)&&L.orderItems.forEach(H=>{let J=null;if(typeof H.product=="object"&&H.product?._id?J=String(H.product._id):typeof H.product=="string"?J=H.product:H._id&&(J=String(H._id)),J&&H.selectedVariants&&typeof H.selectedVariants=="object"&&!Array.isArray(H.selectedVariants)&&Object.keys(H.selectedVariants).length>0&&Object.values(H.selectedVariants).some(pe=>pe&&String(pe).trim()!=="")){const pe=JSON.stringify(H.selectedVariants);Ae[J]||(Ae[J]={}),Ae[J][pe]||(Ae[J][pe]={variant:H.selectedVariants,quantity:0}),Ae[J][pe].quantity+=H.qty||1}})}),M({totalSales:ie.toFixed(2),totalOrders:B,totalProducts:t.length,avgOrderValue:Z,salesByProduct:G,bestSellingByCount:ce,bestSellingByQuantity:ke,productsByItemsSold:Me,productsByGrossValue:$e,filteredOrders:I,productOrderCountByProduct:X,variantQtyMap:Ae})}},[t,r,n,l]),s.jsx(fs,{activeTab:"analytics",children:s.jsxs("div",{className:"p-8",children:[s.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--color-text-primary)"},children:"Analytics Dashboard"}),s.jsx("p",{className:"mt-4",style:{color:"var(--color-text-light)"},children:"View sales, revenue, and performance metrics"}),s.jsxs("div",{className:"mb-6 rounded-lg p-4 shadow mt-6",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsxs("button",{onClick:()=>f(!u),className:"text-sm font-semibold mb-3 px-3 py-1.5 rounded",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},children:[" ",u?"Hide":"Show"," Date Filter"]}),u&&s.jsxs("div",{className:"flex gap-4 mt-4",children:[s.jsxs("div",{className:"w-48 border-r",style:{borderColor:"var(--color-border-light)"},children:[s.jsx("div",{className:"text-xs font-semibold mb-2",style:{color:"var(--color-text-light)"},children:"QUICK SELECT"}),s.jsx("div",{className:"space-y-1",children:K.map(V=>s.jsxs("button",{onClick:()=>W(V.value),className:"w-full text-left text-xs py-1.5 px-2 rounded transition",style:{backgroundColor:h===V.value?"var(--color-accent-primary)":"transparent",color:h===V.value?"white":"var(--color-text-primary)"},children:[h===V.value&&" ",V.label]},V.value))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex gap-4 mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"From"}),s.jsx("input",{type:"date",value:n,onChange:V=>a(V.target.value),className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"To"}),s.jsx("input",{type:"date",value:l,onChange:V=>c(V.target.value),className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>{f(!1),a(""),c(""),m("")},className:"px-3 py-1 text-xs rounded font-semibold",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},children:"Cancel"}),s.jsx("button",{onClick:()=>f(!1),className:"px-3 py-1 text-xs rounded font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:"Apply"})]})]})]})]}),s.jsxs("div",{className:"mb-6 rounded-lg p-4 shadow",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",style:{color:"var(--color-text-primary)"},children:" Filter Rows"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"Min Gross Sale ()"}),s.jsx("input",{type:"number",value:g,onChange:V=>b(V.target.value),placeholder:"0",className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"Max Gross Sale ()"}),s.jsx("input",{type:"number",value:y,onChange:V=>j(V.target.value),placeholder:"",className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"Min Orders"}),s.jsx("input",{type:"number",value:w,onChange:V=>S(V.target.value),placeholder:"0",className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold block mb-1",style:{color:"var(--color-text-light)"},children:"Max Orders"}),s.jsx("input",{type:"number",value:N,onChange:V=>A(V.target.value),placeholder:"",className:"w-full px-2.5 py-1 text-xs rounded",style:{borderColor:"var(--color-border-light)",borderWidth:"1px",backgroundColor:"var(--color-bg-section)"}})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-8",children:[s.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[s.jsx("h3",{className:"text-sm font-semibold uppercase",style:{color:"var(--color-text-secondary)"},children:"Total Sales"}),s.jsxs("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--color-accent-primary)"},children:["",E.totalSales]}),s.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-text-light)"},children:"All time revenue"})]}),s.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[s.jsx("h3",{className:"text-sm font-semibold uppercase",style:{color:"var(--color-text-secondary)"},children:"Total Orders"}),s.jsx("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--color-text-primary)"},children:E.totalOrders}),s.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-text-light)"},children:"Complete orders"})]}),s.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[s.jsx("h3",{className:"text-sm font-semibold uppercase",style:{color:"var(--color-text-secondary)"},children:"Total Products"}),s.jsx("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--color-text-primary)"},children:E.totalProducts}),s.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-text-light)"},children:"In catalog"})]}),s.jsxs("div",{className:"rounded-lg shadow p-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[s.jsx("h3",{className:"text-sm font-semibold uppercase",style:{color:"var(--color-text-secondary)"},children:"Avg. Order Value"}),s.jsxs("p",{className:"text-3xl font-bold mt-2",style:{color:"var(--color-text-primary)"},children:["",E.avgOrderValue]}),s.jsx("p",{className:"text-sm mt-2",style:{color:"var(--color-text-light)"},children:"Average per order"})]})]}),s.jsxs("div",{className:"rounded-lg shadow p-6 mt-8 w-full",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[s.jsx("h2",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text-primary)"},children:" Orders Details"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderColor:"var(--color-border-light)",borderBottomWidth:"1px"},children:[s.jsx("th",{className:"text-left py-2 px-3 font-semibold cursor-pointer hover:underline",style:{color:"var(--color-text-primary)"},children:"Product Name"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold",style:{color:"var(--color-text-primary)"},children:"Gross Sale"}),s.jsx("th",{className:"text-center py-2 px-3 font-semibold",style:{color:"var(--color-text-primary)"},children:"Orders"}),s.jsx("th",{className:"text-left py-2 px-3 font-semibold",style:{color:"var(--color-text-primary)"},children:"Date"})]})}),s.jsx("tbody",{children:E.filteredOrders&&E.filteredOrders.length>0?(()=>{const V={};return E.filteredOrders.forEach(Y=>{Y.orderItems&&Array.isArray(Y.orderItems)&&Y.orderItems.forEach($=>{let I=null;typeof $.product=="object"&&$.product?._id?I=String($.product._id):typeof $.product=="string"?I=$.product:$._id&&(I=String($._id));const ie=$.name||"Unknown Product",B=`${I}-${ie}`;V[B]||(V[B]={id:I,name:ie,price:$.price||0,totalQty:0,totalSale:0,orderCount:0,lastDate:Y.createdAt,orderIds:new Set});const Z=$.qty||1;V[B].totalQty+=Z,V[B].totalSale+=($.price||0)*Z,V[B].orderIds.has(String(Y._id))||(V[B].orderIds.add(String(Y._id)),V[B].orderCount+=1),new Date(Y.createdAt)>new Date(V[B].lastDate)&&(V[B].lastDate=Y.createdAt)})}),Object.values(V).sort((Y,$)=>$.totalSale-Y.totalSale).filter(Y=>{const $=g?parseFloat(g):0,I=y?parseFloat(y):1/0;if(Y.totalSale<$||Y.totalSale>I)return!1;const ie=w?parseInt(w,10):0,B=N?parseInt(N,10):1/0;return!(Y.orderCount<ie||Y.orderCount>B)}).map(Y=>s.jsxs("tr",{style:{borderColor:"var(--color-border-light)",borderBottomWidth:"1px"},children:[s.jsx("td",{className:"py-2 px-3",style:{color:"var(--color-accent-primary)",cursor:E.variantQtyMap[Y.id]&&Object.values(E.variantQtyMap[Y.id]).length>0?"pointer":"default"},onClick:()=>{const $=E.variantQtyMap[Y.id],I=$?Object.values($):[];I&&I.length>0&&I.every(B=>B&&typeof B.quantity=="number"&&B.quantity>0)?(D({id:Y.id,name:Y.name}),q($||{})):(D(null),q({}))},children:s.jsx("span",{className:E.variantQtyMap[Y.id]&&Object.values(E.variantQtyMap[Y.id]).length>0?"font-semibold hover:underline":"font-semibold",children:Y.name})}),s.jsxs("td",{className:"py-2 px-3 text-right font-bold",style:{color:"#10b981"},children:["",Y.totalSale.toFixed(2)]}),s.jsx("td",{className:"py-2 px-3 text-center font-semibold",style:{color:"var(--color-accent-primary)"},children:Y.orderCount}),s.jsx("td",{className:"py-2 px-3",style:{color:"var(--color-text-light)"},children:Y.lastDate?new Date(Y.lastDate).toLocaleDateString():"N/A"})]},`${Y.id}-${Y.name}`))})():s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"py-4 text-center",style:{color:"var(--color-text-light)"},children:"No orders found for the selected period"})})})]})})]}),T&&E.variantQtyMap&&E.variantQtyMap[T.id]&&Object.keys(E.variantQtyMap[T.id]).length>0&&R&&Object.keys(R).length>0&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-lg font-bold",style:{color:"var(--color-text-primary)"},children:[T.name," - Variants"]}),s.jsx("button",{onClick:()=>{D(null),q({})},className:"text-2xl font-bold",style:{color:"var(--color-text-light)"},children:""})]}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Object.values(R).length>0?Object.values(R).map((V,Y)=>{const $=typeof V.variant=="object"?Object.entries(V.variant).map(([I,ie])=>`${I}: ${ie}`).join(", "):V.variant;return s.jsxs("div",{className:"flex justify-between items-center p-3 rounded border",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-section)"},children:[s.jsx("span",{style:{color:"var(--color-text-primary)"},children:$||"Default"}),s.jsxs("span",{className:"font-bold px-3 py-1 rounded",style:{backgroundColor:"var(--color-accent-primary)",color:"white"},children:[V.quantity,"x"]})]},Y)}):s.jsx("p",{style:{color:"var(--color-text-light)"},children:"No variant data available"})}),s.jsx("button",{onClick:()=>{D(null),q({})},className:"w-full mt-4 py-2 rounded font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary)"},children:"Close"})]})})]})})},aI=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!1),[a,l]=C.useState(""),[c,u]=C.useState(""),[f,h]=C.useState(null),[m,g]=C.useState(""),[b,y]=C.useState(""),[j,w]=C.useState({}),[S,N]=C.useState(null),[A,E]=C.useState(""),[M,T]=C.useState(""),[D,R]=C.useState(null),[q,K]=C.useState(null),[W,V]=C.useState(null),[Y,$]=C.useState(null),[I,ie]=C.useState(null),[B,Z]=C.useState([]),[ue,_]=C.useState([]),[fe,z]=C.useState([]),[X,G]=C.useState([]),[ce,ke]=C.useState(new Set),[Me,$e]=C.useState(!1),[Ae,L]=C.useState(null),H=()=>{n(!0),l(""),u("")},J=()=>{n(!1),l(""),u("")},pe=()=>{if(!a.trim()){he.error("Please enter a title");return}const U=`main_${Date.now()}`,ae={id:U,label:a.trim(),name:a.trim(),url:c.trim()||"#",link:c.trim()||"#",submenu:[]};t(Te=>[...Te,ae]),he.success("Main menu item added"),J(),w(Te=>({...Te,[U]:!0}))},Se=U=>{h(U),g(""),y("")},ye=()=>{h(null),g(""),y("")},Ue=(U,ae,Te)=>U.map(De=>{if(De.id===ae)return Te(De);const Le=De.submenu||De.sub||[];return Le&&Le.length>0?{...De,submenu:Ue(Le,ae,Te),...De.sub&&{sub:Ue(De.sub,ae,Te)}}:De}),nt=U=>{U&&(t(ae=>Ue(ae,U,De=>{const Le=De.submenu||[],Qe={id:`sub_${Date.now()}`,label:m||"Submenu",name:m||"Submenu",url:b||"#",link:b||"#",submenu:[]};return{...De,submenu:[...Le,Qe]}})),he.success("Submenu added"),ye())},ht=U=>{const ae=(Te,De)=>Te.filter(Le=>Le.id!==De).map(Le=>{const Qe=Le.submenu||Le.sub||[];return{...Le,submenu:Qe&&ae(Qe,De),...Le.sub&&{sub:Le.sub?ae(Le.sub,De):Le.sub}}});t(Te=>ae(Te,U))},wt=U=>{N(U.id),E(U.label||U.name),T(U.url||U.link||"#")},Yt=()=>{N(null),E(""),T("")},mt=U=>{if(!A.trim()){he.error("Label cannot be empty");return}t(ae=>Ue(ae,U,Te=>({...Te,label:A.trim(),name:A.trim(),url:M.trim()||"#",link:M.trim()||"#"}))),he.success("Menu item updated"),Yt()},Mr=U=>w(ae=>({...ae,[U]:!ae[U]})),gt=async U=>{ie(U),ke(new Set),$e(!0);try{const ae="http://localhost:5000";if(U==="categories"){const De=await(await fetch(`${ae}/api/categories?all=true`)).json();Z(De||[])}else if(U==="products"){const De=await(await fetch(`${ae}/api/products?limit=100`)).json();_(De.products||De||[])}else if(U==="pages"){const De=await(await fetch(`${ae}/api/pages`)).json();z(De.pages||De||[])}else if(U==="policies"){const De=await(await fetch(`${ae}/api/policies`)).json();G(De.policies||De||[])}}catch(ae){console.error(`Error loading ${U}:`,ae),he.error(`Failed to load ${U}`)}finally{$e(!1)}},gn=U=>{if(Ae||Y||W)ke(new Set([U]));else{const ae=new Set(ce);ae.has(U)?ae.delete(U):ae.add(U),ke(ae)}},Nt=()=>{if(ce.size===0){he.error("Please select at least one item");return}let U=[];if(I==="categories"?U=B.filter(ae=>ce.has(ae._id||ae.id)):I==="products"?U=ue.filter(ae=>ce.has(ae._id||ae.id)):I==="pages"?U=fe.filter(ae=>ce.has(ae._id||ae.id)):I==="policies"&&(U=X.filter(ae=>ce.has(ae._id||ae.id))),Ae&&U.length>0){const ae=U[0],Te=I==="categories"?`/category/${ae.slug||ae._id}`:I==="products"?`/product/${ae.slug||ae._id}`:I==="pages"?`/${ae.slug||ae._id}`:`/policies/${ae.slug||ae._id}`;T(Te),he.success(`Link set to: ${Te}`),ie(null),ke(new Set),L(null);return}if(W&&U.length>0){const ae=U[0],Te=I==="categories"?`/category/${ae.slug||ae._id}`:I==="products"?`/product/${ae.slug||ae._id}`:I==="pages"?`/${ae.slug||ae._id}`:`/policies/${ae.slug||ae._id}`;l(ae.name||ae.title),u(Te),he.success(`Selected: ${ae.name||ae.title}`),ie(null),ke(new Set),V(null);return}if(Y&&U.length>0){const ae=U[0],Te=I==="categories"?`/category/${ae.slug||ae._id}`:I==="products"?`/product/${ae.slug||ae._id}`:I==="pages"?`/${ae.slug||ae._id}`:`/policies/${ae.slug||ae._id}`;g(ae.name||ae.title),y(Te),he.success(`Selected: ${ae.name||ae.title}`),ie(null),ke(new Set),$(null);return}U.forEach(ae=>{const Te=`main_${Date.now()}_${Math.random()}`,De=I==="categories"?`/category/${ae.slug||ae._id}`:I==="products"?`/product/${ae.slug||ae._id}`:I==="pages"?`/${ae.slug||ae._id}`:`/policies/${ae.slug||ae._id}`,Le={id:Te,label:ae.name||ae.title,name:ae.name||ae.title,url:De,link:De,submenu:[]};t(Qe=>[...Qe,Le]),w(Qe=>({...Qe,[Te]:!0}))}),he.success(`Added ${U.length} item(s) to menu`),ie(null),ke(new Set)},In=(U,ae,Te=0,De=[])=>{console.log(" DRAG START:",{index:ae,level:Te,parentPath:De}),U.stopPropagation(),R({index:ae,level:Te,parentPath:De}),U.dataTransfer.effectAllowed="move"},oe=U=>{U.preventDefault(),U.dataTransfer.dropEffect="move"},je=()=>{K(null)},Pe=(U,ae,Te=0,De=[])=>{if(U.preventDefault(),U.stopPropagation(),!D){console.log(" No draggedItem"),R(null),K(null);return}const Le=D.level,Qe=D.parentPath;if(console.log(" DROP:",{targetIndex:ae,level:Te,parentPath:De,draggedLevel:Le,draggedPath:Qe,isSameLevel:Le===Te,isSamePath:JSON.stringify(Qe)===JSON.stringify(De)}),Le===Te&&JSON.stringify(Qe)===JSON.stringify(De)){if(D.index===ae){console.log(" Same index, skipping"),R(null),K(null);return}console.log(" REORDERING:",{level:Te,parentPath:De,fromIndex:D.index,toIndex:ae}),t(Te===0?ct=>{const Tt=[...ct],at=Tt[D.index];return Tt.splice(D.index,1),Tt.splice(ae,0,at),console.log(" Root reordered"),Tt}:ct=>(console.log(" Calling reorderAtPath for nested items"),Ze(ct,De,D.index,ae)))}else console.log(" Different level or path, ignoring drop");R(null),K(null)},Ze=(U,ae,Te,De)=>{if(ae.length===0){const ct=[...U],Tt=ct[Te];return ct.splice(Te,1),ct.splice(De,0,Tt),ct}const[Le,...Qe]=ae;return U.map((ct,Tt)=>{if(Tt===Le){const at=ct.submenu||ct.sub||[],tt=Ze(at,Qe,Te,De);return{...ct,submenu:tt,...ct.sub&&{sub:tt}}}return ct})},ne=(U,ae,Te=[],De=0)=>{const Le=`${Te.join("-")}-${ae}`,Qe=j[Le],ct=D&&D.index===ae&&D.level===De&&JSON.stringify(D.parentPath)===JSON.stringify(Te),Tt=[{bg:"var(--color-bg-primary)",border:"var(--color-border-light)",text:"var(--color-text-primary)",accent:"var(--color-accent-primary)"},{bg:"#f8f9fa",border:"var(--color-border-light)",text:"var(--color-text-primary)",accent:"var(--color-accent-primary)"},{bg:"#f0f1f3",border:"var(--color-border-light)",text:"var(--color-text-primary)",accent:"var(--color-accent-primary)"},{bg:"#e8e9eb",border:"var(--color-border-light)",text:"var(--color-text-primary)",accent:"var(--color-accent-primary)"}],at=Tt[Math.min(De,Tt.length-1)],tt=S===U.id;return s.jsxs("li",{draggable:!0,onDragStart:Ge=>In(Ge,ae,De,Te),onDragOver:oe,onDragLeave:je,onDrop:Ge=>Pe(Ge,ae,De,Te),className:`border-2 rounded-lg transition-all ${ct?"opacity-40 ring-2 ring-yellow-400":""} ${q===U.id?"ring-2 ring-blue-500":""}`,style:{borderColor:at.border,backgroundColor:at.bg,marginLeft:`${De*20}px`,boxShadow:De>0?"0 2px 4px rgba(0,0,0,0.05)":"none",cursor:"grab"},onDragEnter:()=>K(U.id),children:[tt?s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold mb-1",style:{color:"var(--color-text-light)"},children:"Label"}),s.jsx("input",{value:A,onChange:Ge=>E(Ge.target.value),placeholder:"Menu item label",className:"w-full border-2 px-3 py-2 rounded text-sm",style:{borderColor:"var(--color-border-light)"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold mb-1",style:{color:"var(--color-text-light)"},children:"Link"}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("input",{value:M,onChange:Ge=>T(Ge.target.value),placeholder:"Link or URL",className:"flex-1 border-2 px-3 py-2 rounded text-sm",style:{borderColor:"var(--color-border-light)"}}),s.jsx("button",{onClick:()=>{L(U.id),gt("categories")},className:"px-2 py-2 rounded text-xs font-medium text-white",style:{backgroundColor:"#6366f1"},title:"Select from categories",children:""}),s.jsx("button",{onClick:()=>{L(U.id),gt("products")},className:"px-2 py-2 rounded text-xs font-medium text-white",style:{backgroundColor:"#8b5cf6"},title:"Select from products",children:""}),s.jsx("button",{onClick:()=>{L(U.id),gt("pages")},className:"px-2 py-2 rounded text-xs font-medium text-white",style:{backgroundColor:"#14b8a6"},title:"Select from pages",children:""}),s.jsx("button",{onClick:()=>{L(U.id),gt("policies")},className:"px-2 py-2 rounded text-xs font-medium text-white",style:{backgroundColor:"#ec4899"},title:"Select from policies",children:""})]})]}),s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("button",{onClick:()=>mt(U.id),className:"flex-1 text-white px-3 py-2 rounded font-medium text-sm",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:Ge=>Ge.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:Ge=>Ge.target.style.backgroundColor="var(--color-accent-primary)",children:"Save"}),s.jsx("button",{onClick:Yt,className:"flex-1 px-3 py-2 border-2 rounded font-medium text-sm",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},children:"Cancel"})]})]})}):s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("span",{style:{color:"var(--color-text-light)",fontSize:"18px"},children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-bold text-sm",style:{color:at.text},children:[De>0&&s.jsx("span",{style:{color:"var(--color-text-light)"},className:"mr-2",children:""}),U.name]}),s.jsxs("div",{className:"text-xs",style:{color:"var(--color-text-light)"},children:[s.jsx("span",{className:"font-semibold",children:"link:"})," ",s.jsx("span",{style:{color:"var(--color-text-primary)",fontWeight:"500"},children:U.url||U.link})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[s.jsx("button",{onClick:()=>wt(U),className:"px-3 py-1 rounded text-sm font-medium",style:{backgroundColor:"var(--color-accent-primary)",color:"white"},onMouseEnter:Ge=>Ge.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:Ge=>Ge.target.style.backgroundColor="var(--color-accent-primary)",title:"Edit this menu item",children:" Edit"}),s.jsx("button",{onClick:()=>Se(U.id),className:"px-3 py-1 rounded text-sm font-medium text-white",style:{backgroundColor:"#10b981"},onMouseEnter:Ge=>Ge.target.style.backgroundColor="#059669",onMouseLeave:Ge=>Ge.target.style.backgroundColor="#10b981",children:"+ Sub"}),s.jsx("button",{onClick:()=>Mr(Le),className:"px-3 py-1 rounded border text-sm font-medium",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},title:Qe?"Collapse":"Expand",children:Qe?"":""}),s.jsx("button",{onClick:()=>ht(U.id),className:"px-3 py-1 rounded text-sm font-medium flex items-center gap-2",style:{backgroundColor:"#fee",color:"#c33"},onMouseEnter:Ge=>Ge.target.style.backgroundColor="#fdd",onMouseLeave:Ge=>Ge.target.style.backgroundColor="#fee",children:""})]})]}),Qe&&(U.submenu&&U.submenu.length>0||U.sub&&U.sub.length>0||f===U.id)&&s.jsxs("div",{className:"p-4 border-t-2",style:{borderColor:at.border,backgroundColor:"rgba(0,0,0,0.02)"},children:[s.jsx("div",{className:"mb-4 pb-3 border-b-2",style:{borderColor:at.border},children:s.jsxs("div",{className:"font-bold text-sm",style:{color:"var(--color-text-primary)"},children:["Submenus (",(U.submenu||U.sub||[]).length,")"]})}),s.jsxs("ul",{className:"space-y-3",children:[(U.submenu||U.sub||[]).map((Ge,Mt)=>ne(Ge,Mt,[...Te,ae],De+1)),f===U.id?s.jsx("li",{className:"p-4 rounded-lg border-2 border-dashed",style:{backgroundColor:"#fafafa",borderColor:"var(--color-accent-primary)"},children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("input",{value:m,onChange:Ge=>g(Ge.target.value),placeholder:"Submenu text",className:"border-2 px-3 py-2 rounded",style:{borderColor:"var(--color-border-light)"}}),s.jsx("input",{value:b,onChange:Ge=>y(Ge.target.value),placeholder:"Submenu link",className:"border-2 px-3 py-2 rounded",style:{borderColor:"var(--color-border-light)"}})]}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{onClick:()=>{$(U.id),gt("categories")},className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#6366f1"},title:"Select from categories",children:" Cat"}),s.jsx("button",{onClick:()=>{$(U.id),gt("products")},className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#8b5cf6"},title:"Select from products",children:" Prod"}),s.jsx("button",{onClick:()=>{$(U.id),gt("pages")},className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#14b8a6"},title:"Select from pages",children:" Page"}),s.jsx("button",{onClick:()=>{$(U.id),gt("policies")},className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#f59e0b"},title:"Select from policies",children:" Pol"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>nt(U.id),className:"text-white px-4 py-2 rounded font-medium text-sm flex-1",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:Ge=>Ge.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:Ge=>Ge.target.style.backgroundColor="var(--color-accent-primary)",children:"Add"}),s.jsx("button",{onClick:ye,className:"px-4 py-2 border-2 rounded font-medium text-sm flex-1",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},children:"Cancel"})]})]})}):null]})]})]},U.id)},Ie=async()=>{try{const U=Tt=>Tt.map(at=>{const tt=at.submenu||at.sub||[],Ge={id:at.id,label:at.label||at.name,name:at.name,url:at.url||at.link,link:at.link};return tt.length>0&&(Ge.submenu=U(tt)),Ge}),ae=U(e),Te="http://localhost:5000",De=localStorage.getItem("token"),Le={"Content-Type":"application/json"};De&&(Le.Authorization=`Bearer ${De}`);const Qe=await fetch(`${Te}/api/settings/menu`,{method:"POST",headers:Le,body:JSON.stringify({browseMenu:ae})});if(!Qe.ok){let Tt=Qe.statusText;try{const at=await Qe.json();Tt=at.message||JSON.stringify(at)}catch{}throw new Error(`Failed to save menu: ${Qe.status} ${Tt}`)}const ct=await Qe.json();he.success("Menu saved")}catch(U){he.error(U.message||"Save failed")}};return C.useEffect(()=>{(async()=>{try{const Te=await fetch("http://localhost:5000/api/settings/menu");if(!Te.ok)return;const De=await Te.json();De&&Array.isArray(De.browseMenu)&&t(De.browseMenu)}catch{}})()},[]),s.jsx(fs,{activeTab:"menu",children:s.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Menu Manager"}),s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:"Drag menu items to reorder. Click Edit to modify labels and links."})]}),s.jsx("button",{onClick:Ie,className:"text-white px-6 py-3 rounded-lg font-semibold text-lg",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:U=>U.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:U=>U.target.style.backgroundColor="var(--color-accent-primary)",children:" Save"})]}),s.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[s.jsx("button",{onClick:H,className:"text-white px-4 py-2 rounded-lg font-semibold",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:U=>U.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:U=>U.target.style.backgroundColor="var(--color-accent-primary)",children:"+ Add Main Menu"}),r&&s.jsxs("div",{className:"flex items-center gap-2 flex-1 flex-wrap",children:[s.jsx("input",{value:a,onChange:U=>l(U.target.value),placeholder:"Menu title",className:"border-2 px-3 py-2 rounded",style:{borderColor:"var(--color-border-light)"}}),s.jsx("input",{value:c,onChange:U=>u(U.target.value),placeholder:"Link",className:"border-2 px-3 py-2 rounded",style:{borderColor:"var(--color-border-light)"}}),s.jsx("button",{onClick:()=>{V("categories"),gt("categories")},className:"px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#6366f1"},onMouseEnter:U=>U.target.style.backgroundColor="#4f46e5",onMouseLeave:U=>U.target.style.backgroundColor="#6366f1",title:"Add category to menu",children:""}),s.jsx("button",{onClick:()=>{V("products"),gt("products")},className:"px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#8b5cf6"},onMouseEnter:U=>U.target.style.backgroundColor="#7c3aed",onMouseLeave:U=>U.target.style.backgroundColor="#8b5cf6",title:"Add product to menu",children:""}),s.jsx("button",{onClick:()=>{V("pages"),gt("pages")},className:"px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#ec4899"},onMouseEnter:U=>U.target.style.backgroundColor="#be185d",onMouseLeave:U=>U.target.style.backgroundColor="#ec4899",title:"Add page to menu",children:""}),s.jsx("button",{onClick:()=>{V("policies"),gt("policies")},className:"px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#f59e0b"},onMouseEnter:U=>U.target.style.backgroundColor="#d97706",onMouseLeave:U=>U.target.style.backgroundColor="#f59e0b",title:"Add policy to menu",children:""}),s.jsx("button",{onClick:pe,className:"text-white px-4 py-2 rounded font-semibold",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:U=>U.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:U=>U.target.style.backgroundColor="var(--color-accent-primary)",children:" Add"}),s.jsx("button",{onClick:J,className:"px-4 py-2 border-2 rounded font-semibold",style:{borderColor:"var(--color-border-light)"},children:" Cancel"})]})]}),s.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2 p-4 rounded-lg",style:{backgroundColor:"rgba(0,0,0,0.02)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[s.jsx("span",{className:"font-semibold text-sm",style:{color:"var(--color-text-primary)"},children:"Quick Add:"}),s.jsx("button",{onClick:()=>gt("categories"),className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#6366f1"},onMouseEnter:U=>U.target.style.backgroundColor="#4f46e5",onMouseLeave:U=>U.target.style.backgroundColor="#6366f1",children:" Categories"}),s.jsx("button",{onClick:()=>gt("products"),className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#8b5cf6"},onMouseEnter:U=>U.target.style.backgroundColor="#7c3aed",onMouseLeave:U=>U.target.style.backgroundColor="#8b5cf6",children:" Products"}),s.jsx("button",{onClick:()=>gt("policies"),className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#ec4899"},onMouseEnter:U=>U.target.style.backgroundColor="#db2777",onMouseLeave:U=>U.target.style.backgroundColor="#ec4899",children:" Policies"}),s.jsx("button",{onClick:()=>gt("pages"),className:"px-3 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:"#14b8a6"},onMouseEnter:U=>U.target.style.backgroundColor="#0d9488",onMouseLeave:U=>U.target.style.backgroundColor="#14b8a6",children:" Pages"})]}),s.jsxs("div",{className:"p-6 rounded-lg shadow-lg",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderWidth:"1px"},children:[s.jsx("h2",{className:"font-bold text-lg mb-6",style:{color:"var(--color-text-primary)"},children:"Menu Hierarchy"}),e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-lg",style:{color:"var(--color-text-light)"},children:"No menu items yet"}),s.jsx("p",{className:"text-sm",style:{color:"var(--color-text-light)"},children:'Click "Add Main Menu" to create your first item'})]}):s.jsx("ul",{className:"space-y-4",children:e.map((U,ae)=>ne(U,ae,[],0))})]}),I&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-96 flex flex-col",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--color-border-light)"},children:s.jsxs("h3",{className:"text-xl font-bold",style:{color:"var(--color-text-primary)"},children:["Select ",I.charAt(0).toUpperCase()+I.slice(1)]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-2",children:Me?s.jsx("p",{style:{color:"var(--color-text-light)"},children:"Loading..."}):s.jsx(s.Fragment,{children:(I==="categories"?B:I==="products"?ue:I==="pages"?fe:X).map(U=>s.jsxs("label",{className:"flex items-center p-3 rounded cursor-pointer hover:bg-gray-100",style:{backgroundColor:ce.has(U._id||U.id)?"rgba(0,0,0,0.05)":"transparent"},children:[s.jsx("input",{type:"checkbox",checked:ce.has(U._id||U.id),onChange:()=>gn(U._id||U.id),className:"mr-3"}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:U.name||U.title})})]},U._id||U.id))})}),s.jsxs("div",{className:"p-6 border-t flex gap-3 justify-end",style:{borderColor:"var(--color-border-light)"},children:[s.jsx("button",{onClick:()=>ie(null),className:"px-4 py-2 border-2 rounded font-semibold",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},children:"Cancel"}),s.jsxs("button",{onClick:Nt,className:"px-4 py-2 rounded font-semibold text-white",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:U=>U.target.style.backgroundColor="var(--color-accent-light)",onMouseLeave:U=>U.target.style.backgroundColor="var(--color-accent-primary)",children:["Add Selected (",ce.size,")"]})]})]})})]})})},oI=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(null),[a,l]=C.useState(""),[c,u]=C.useState(!0),[f,h]=C.useState(!1),[m,g]=C.useState(""),b=C.useRef(null),y="http://localhost:5000",j=localStorage.getItem("adminName")||"Admin";C.useEffect(()=>{w();const T=setInterval(()=>{r?S(r):w()},3e3);return()=>clearInterval(T)},[r]),C.useEffect(()=>{b.current?.scrollIntoView({behavior:"smooth"})},[r?.messages]);const w=async()=>{try{const T=localStorage.getItem("token"),D=await fetch(`${y}/api/forms/contact?limit=100&status=all`,{headers:{Authorization:`Bearer ${T}`}});if(!D.ok)throw new Error("Failed to fetch conversations");const R=await D.json();t(R.data||[]),u(!1),!r&&R.data&&R.data.length>0&&(n(R.data[0]),S(R.data[0]))}catch(T){console.error("Fetch conversations error:",T),he.error("Failed to load conversations"),u(!1)}},S=async T=>{if(!(!T||!T._id))try{const D=localStorage.getItem("token"),R=await fetch(`${y}/api/forms/contact/${T._id}`,{headers:{Authorization:`Bearer ${D}`}});if(!R.ok)throw new Error("Failed to fetch conversation");const q=await R.json();n(q.data)}catch(D){console.error("Fetch conversation error:",D),he.error("Failed to load conversation")}},N=T=>{n(T),S(T)},A=async T=>{if(T.preventDefault(),!a.trim()){he.error("Please enter a message");return}if(!r){he.error("Please select a conversation");return}h(!0);try{const D=localStorage.getItem("token");if(!(await fetch(`${y}/api/forms/contact/admin/send`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({userEmail:r.userEmail,message:a.trim(),senderName:j})})).ok)throw new Error("Failed to send message");he.success("Message sent"),l(""),S(r.conversationId)}catch(D){console.error("Send message error:",D),he.error(D.message||"Failed to send message")}finally{h(!1)}},E=e.filter(T=>T.userEmail&&T.userEmail.toLowerCase().includes(m.toLowerCase())||T.userName&&T.userName.toLowerCase().includes(m.toLowerCase())),M=T=>{const D=new Date(T);return(new Date-D)/(1e3*60*60)<24?D.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):D.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return c?s.jsx(fs,{activeTab:"chat",children:s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading conversations..."})]})})}):s.jsx(fs,{activeTab:"chat",children:s.jsxs("div",{className:"flex h-[calc(100vh-64px)]",style:{backgroundColor:"var(--color-bg-primary)"},children:[s.jsxs("div",{className:"w-80",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-light)",borderRightWidth:"1px"},children:[s.jsxs("div",{className:"p-4",style:{borderColor:"var(--color-border-light)",borderBottomWidth:"1px"},children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Support Chat"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-3 top-3",style:{color:"var(--color-text-light)"}}),s.jsx("input",{type:"text",placeholder:"Search conversations...",value:m,onChange:T=>g(T.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:outline-none",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},onFocus:T=>T.target.style.boxShadow="0 0 0 2px var(--color-accent-primary)33"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:E.length===0?s.jsx("div",{className:"p-4 text-center",style:{color:"var(--color-text-light)"},children:m?"No conversations found":"No conversations yet"}):E.map(T=>s.jsx("div",{onClick:()=>N(T),className:`p-4 border-b border-gray-100 cursor-pointer transition hover:bg-gray-50 ${r?.conversationId===T.conversationId?"bg-blue-50 border-l-4 border-blue-500":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`flex-shrink-0 mt-1 ${T.lastMessageSender==="admin"?"text-green-500":"text-blue-500"}`,children:s.jsx(uT,{size:12})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:T.userName||T.userEmail||"Unknown"}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:T.userEmail||""}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[T.messageCount," messages"]})]}),s.jsx("span",{className:"flex-shrink-0 text-xs text-gray-500",children:M(T.lastMessageAt)})]})},T.conversationId))})]}),s.jsx("div",{className:"flex-1 flex flex-col bg-white overflow-hidden",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.userName||r.userEmail}),s.jsx("p",{className:"text-gray-600",children:r.userEmail}),r.userPhone&&s.jsx("p",{className:"text-gray-600",children:r.userPhone})]}),s.jsx("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Wt,{size:24})})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 min-h-0",children:[r.messages&&r.messages.length>0?r.messages.map((T,D)=>s.jsx("div",{className:`flex ${T.sender==="admin"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`${T.sender==="admin"?"bg-green-100 text-gray-900 border-l-4 border-green-500":"bg-blue-500 text-white"} p-4 rounded-lg max-w-xs shadow-md`,children:[s.jsx("p",{className:`text-sm font-semibold mb-1 ${T.sender==="admin"?"text-gray-700":"text-blue-100"}`,children:T.senderName}),s.jsx("p",{className:"whitespace-pre-wrap text-sm",children:T.message}),s.jsx("p",{className:`text-xs mt-2 ${T.sender==="admin"?"text-gray-600":"text-blue-100"}`,children:new Date(T.createdAt).toLocaleString()})]})},T._id||D)):s.jsx("div",{className:"flex justify-center items-center h-full text-gray-500",children:"No messages yet"}),s.jsx("div",{ref:b})]}),s.jsx("div",{className:"border-t p-4 flex-shrink-0",style:{borderColor:"var(--color-border-light)",backgroundColor:"var(--color-bg-primary)"},children:s.jsxs("form",{onSubmit:A,className:"space-y-3",children:[s.jsx("textarea",{value:a,onChange:T=>l(T.target.value),placeholder:"Type your message...",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 resize-none text-sm",style:{borderColor:"var(--color-border-light)",color:"var(--color-text-primary)"},rows:"2",disabled:f,onFocus:T=>T.target.style.boxShadow="0 0 0 2px var(--color-accent-primary)33"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"submit",disabled:f||!a.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 text-white font-semibold rounded-lg transition text-sm",style:{backgroundColor:"var(--color-accent-primary)"},onMouseEnter:T=>!T.target.disabled&&(T.target.style.backgroundColor="var(--color-accent-light)"),onMouseLeave:T=>!T.target.disabled&&(T.target.style.backgroundColor="var(--color-accent-primary)"),children:[s.jsx(Oc,{size:14}),f?"Sending...":"Send Message"]}),s.jsx("button",{type:"button",onClick:()=>l(""),className:"px-4 py-2 rounded-lg font-semibold transition text-sm",style:{backgroundColor:"var(--color-bg-section)",color:"var(--color-text-primary)"},onMouseEnter:T=>T.target.style.backgroundColor="var(--color-border-light)",onMouseLeave:T=>T.target.style.backgroundColor="var(--color-bg-section)",children:"Clear"})]})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"text-center text-gray-500",children:s.jsx("p",{className:"text-lg",children:"Select a conversation to start"})})})})]})})},lI=()=>{const[e,t]=C.useState(null),r=[{id:1,name:"Credit & Debit Cards",icon:s.jsx(vx,{className:"text-4xl text-blue-600"}),description:"We accept all major credit and debit cards including Visa, Mastercard, and Discover.",features:[" Instant payments"," Secure encryption"," No extra fees"," Fast checkout process"," Works worldwide"],cards:[{name:"Visa",icon:s.jsx(vx,{className:"text-3xl text-blue-600"})},{name:"Mastercard",icon:s.jsx(B6,{className:"text-3xl text-red-600"})},{name:"Discover",icon:s.jsx(z6,{className:"text-3xl text-orange-500"})}]},{id:2,name:"Apple Pay",icon:s.jsx(D6,{className:"text-4xl text-black"}),description:"Quick, easy, and secure payment with your Apple device.",features:[" One-click checkout"," Biometric security"," Works on Apple devices"," Encrypted payments"," No card details stored"],details:"Use your saved credit or debit cards for faster, more secure purchases on supported Apple devices."},{id:3,name:"Google Pay",icon:s.jsx(L6,{className:"text-4xl text-blue-500"}),description:"Fast and simple payment method for Android users.",features:[" Quick checkout"," Biometric authentication"," Works on Android devices"," Safe transactions"," Payment history tracking"],details:"Google Pay lets you pay quickly and securely using your Android device or Chrome browser."}];return s.jsx("div",{className:"min-h-screen bg-[var(--color-bg-primary)] py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"mb-12 text-center",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-[var(--color-text-primary)] mb-4",children:"Payment Options"}),s.jsx("p",{className:"text-xl text-[var(--color-text-light)] max-w-3xl mx-auto mb-6",children:"We offer multiple secure payment methods to make shopping with us convenient and safe. Choose the payment method that works best for you."}),s.jsx("div",{className:"bg-[var(--color-bg-section)] border-2 border-[var(--color-accent-primary)] rounded-lg p-4 mb-8 max-w-2xl mx-auto",children:s.jsx("p",{className:"text-[var(--color-text-primary)] font-semibold text-lg",children:" All our prices are VAT-free. The price you see is the price you pay."})})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:r.map((n,a)=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg hover:shadow-xl transition duration-300 overflow-hidden border border-gray-200",children:[s.jsx("div",{className:"p-6 bg-gray-50 cursor-pointer hover:bg-gray-100 transition duration-300",onClick:()=>t(e===a?-1:a),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[n.icon,s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n.name}),s.jsx("p",{className:"text-gray-600 text-sm",children:n.description})]})]}),s.jsx("div",{className:"text-2xl text-gray-400",children:e===a?"":"+"})]})}),s.jsx("div",{className:"p-6 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-3",children:"Benefits"}),s.jsx("ul",{className:"grid grid-cols-2 gap-2",children:n.features.map((l,c)=>s.jsx("li",{className:"text-gray-700 text-sm flex items-center",children:l},c))})]}),n.details&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:"How it Works"}),s.jsx("p",{className:"text-gray-600",children:n.details})]}),n.cards&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-3",children:"Supported Cards"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:n.cards.map((l,c)=>s.jsxs("div",{className:"flex items-center gap-2",children:[l.icon,s.jsx("span",{className:"text-sm text-gray-600",children:l.name})]},c))})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-4",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsxs("strong",{children:[s.jsx(To,{className:"inline mr-2"}),"Secure:"]})," All payments are encrypted and processed securely. Your financial information is never stored on our servers."]})})]})})]},n.id))}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12 border border-gray-200",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Payment Security & Compliance"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(To,{className:"text-4xl mb-3 text-blue-600 mx-auto"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"SSL Encryption"}),s.jsx("p",{className:"text-gray-600",children:"All payment data is encrypted using industry-standard SSL technology."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(No,{className:"text-4xl mb-3 text-green-600 mx-auto"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"PCI Compliance"}),s.jsx("p",{className:"text-gray-600",children:"We comply with Payment Card Industry Data Security Standards."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(u4,{className:"text-4xl mb-3 text-red-600 mx-auto"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Fraud Protection"}),s.jsx("p",{className:"text-gray-600",children:"Advanced fraud detection systems protect every transaction."})]})]}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[s.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-3",children:"GDPR Compliance & Data Privacy"}),s.jsxs("ul",{className:"text-purple-900 text-sm space-y-2",children:[s.jsx("li",{children:" We comply with General Data Protection Regulation (GDPR) standards"}),s.jsx("li",{children:" Your personal data is protected and never shared with third parties for marketing without consent"}),s.jsx("li",{children:" You have the right to access, modify, or delete your personal information at any time"}),s.jsx("li",{children:" All data is encrypted and stored securely on compliant servers"}),s.jsx("li",{children:" We only collect data necessary for processing your order and payment"}),s.jsxs("li",{children:[" Read our full ",s.jsx(ze,{to:"/policies/privacy",className:"underline font-semibold",children:"Privacy Policy"})," for more details"]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 mb-12 border border-gray-200",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"Are your payments secure?"}),s.jsx("p",{className:"text-gray-600",children:"Yes, we use SSL encryption and comply with PCI DSS standards to ensure all payments are secure. All transactions are protected with advanced fraud detection systems."})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"Which payment method is fastest?"}),s.jsx("p",{className:"text-gray-600",children:"Apple Pay and Google Pay offer the quickest checkout experience for supported devices. Credit/debit cards are also very fast, typically processed instantly."})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"Can I change my payment method after checkout?"}),s.jsx("p",{className:"text-gray-600",children:"You can contact our support team within 24 hours of placing an order to change your payment method. Once payment is processed, modifications may not be possible."})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"Do you accept international payments?"}),s.jsx("p",{className:"text-gray-600",children:"Yes, all our payment methods accept international transactions. Our prices are displayed in GBP and are VAT-free."})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"Are all prices VAT-free?"}),s.jsx("p",{className:"text-gray-600",children:"Yes, all prices shown on our website are VAT-free. The price you see at checkout is the final price you pay - no additional VAT will be added."})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-300 hover:border-gray-400 transition",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"How is my personal data protected?"}),s.jsx("p",{className:"text-gray-600",children:"We comply with GDPR regulations and secure all personal data with encryption. Your information is only used for order processing and is never shared with third parties without consent."})]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-8 mb-12 border border-blue-200",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Business Information & Policies"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"About Wolf Supplies LTD"}),s.jsxs("ul",{className:"text-gray-700 space-y-3",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Company Name:"})," Wolf Supplies LTD"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Registration:"})," UK Company Number: ",s.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16070029",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"16070029"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Address:"})," Unit 4 Atlas Estates, Colebrook Road, Birmingham, West Midlands, B11 2NT, United Kingdom"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("a",{href:"mailto:support@wolfsuppliesltd.co.uk",className:"text-blue-600 hover:underline",children:"support@wolfsuppliesltd.co.uk"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Phone:"})," ",s.jsx("a",{href:"tel:+447398998101",className:"text-blue-600 hover:underline",children:"+44 7398 998101"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://wolfsuppliesltd.co.uk",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"wolfsuppliesltd.co.uk"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Our Policies"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{children:[s.jsx(ze,{to:"/policies/shipping",className:"text-blue-600 hover:underline font-semibold",children:" Shipping Policy"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Learn about our delivery times and shipping methods."})]}),s.jsxs("li",{children:[s.jsx(ze,{to:"/policies/returns-refund",className:"text-blue-600 hover:underline font-semibold",children:" Return & Refunds Policy"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"31-day returns, no questions asked. Full refund guarantee."})]}),s.jsxs("li",{children:[s.jsx(ze,{to:"/policies/terms",className:"text-blue-600 hover:underline font-semibold",children:" Terms of Service"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Our complete terms and conditions for shopping with us."})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12 border border-gray-200",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Why Shop With Us?"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(No,{className:"text-4xl text-green-600 mx-auto mb-3"}),s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Verified Business"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"UK Registered Company with verified credentials"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(To,{className:"text-4xl text-blue-600 mx-auto mb-3"}),s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Secure Payments"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"SSL encrypted transactions and PCI DSS compliant"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(u4,{className:"text-4xl text-red-600 mx-auto mb-3"}),s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Buyer Protection"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"31-day money back guarantee on all purchases"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(No,{className:"text-4xl text-purple-600 mx-auto mb-3"}),s.jsx("h4",{className:"font-bold text-lg mb-2",children:"GDPR Compliant"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Your data privacy is our priority"})]})]})]}),s.jsxs("div",{className:"bg-black rounded-lg p-8 text-center text-white",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Shop?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-6",children:"Browse our products and choose from any of our secure payment methods."}),s.jsx(ze,{to:"/products",className:"inline-block px-8 py-3 bg-white text-black font-bold text-sm uppercase tracking-wider hover:bg-gray-200 transition duration-300 rounded",children:"Continue Shopping"})]})]})})},On=({children:e})=>{const{isAuthenticated:t,isAdmin:r,loading:n,user:a}=Wa();return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Qs,{className:"animate-spin text-4xl text-gray-700 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Verifying access..."})]})}):t?r?e:s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-black",children:s.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-xl",children:[s.jsx(To,{className:"text-5xl text-black mx-auto mb-4"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You do not have permission to access this page. Only administrators can access this area."}),s.jsx("a",{href:"/",className:"inline-block px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-black transition",children:"Go to Home"})]})}):s.jsx(u9,{to:"/admin/login",replace:!0})},ES=(e,t="desktop")=>{const r=e.style||{};if(t==="desktop")return{...r};const n=e.responsive?.[t]?.style||{};return{...r,...n}},bb=(e,t="desktop")=>{const r=e.advanced||{};if(t==="desktop")return{...r};const n=e.responsive?.[t]?.advanced||{};return{...r,...n}},Qg=e=>typeof e=="number"?e:typeof e=="string"?e.toLowerCase().startsWith("javascript:")||e.toLowerCase().startsWith("expression:")?"":e:"",La=e=>!e&&e!==0?"":typeof e=="number"?`${e}px`:typeof e=="string"&&!isNaN(parseFloat(e))&&e.trim()!==""?`${e}px`:e,AS=(e,t,r,n)=>e&&e===t&&e===r&&e===n?e:null,iI=e=>{if(!e)return{};const t=e.top!==void 0?La(e.top):"",r=e.right!==void 0?La(e.right):"",n=e.bottom!==void 0?La(e.bottom):"",a=e.left!==void 0?La(e.left):"",l=AS(t,r,n,a);return l?{padding:l}:{...t&&{paddingTop:t},...r&&{paddingRight:r},...n&&{paddingBottom:n},...a&&{paddingLeft:a}}},cI=e=>{if(!e)return{};const t=e.top!==void 0?La(e.top):"",r=e.right!==void 0?La(e.right):"",n=e.bottom!==void 0?La(e.bottom):"",a=e.left!==void 0?La(e.left):"",l=AS(t,r,n,a);return l?{margin:l}:{...t&&{marginTop:t},...r&&{marginRight:r},...n&&{marginBottom:n},...a&&{marginLeft:a}}},dI=e=>{if(!e||Object.keys(e).length===0)return{};let t=e.width!==void 0?e.width:void 0;t!=null&&t!==""&&(typeof t=="number"?t=`${t}px`:typeof t=="string"&&!/px|em|rem|%|pt/.test(t)&&(t=`${t}px`));const r=e.style!==void 0?e.style:void 0,n=e.color!==void 0?e.color:void 0;let a=e.radius!==void 0?e.radius:void 0;return a!=null&&a!==""&&(typeof a=="number"?a=`${a}px`:typeof a=="string"&&!/px|em|rem|%|pt/.test(a)&&(a=`${a}px`)),{...t&&{borderWidth:t},...r&&{borderStyle:r},...n&&{borderColor:n},...a&&{borderRadius:a}}},ej=e=>{if(!e||Object.keys(e).length===0)return{};const t=Number(e.offsetX)||0,r=Number(e.offsetY)||0,n=Number(e.blur)||0,a=Number(e.spread)||0,l=e.color||"rgba(0, 0, 0, 0.1)";return{boxShadow:`${e.inset?"inset ":""}${t}px ${r}px ${n}px ${a}px ${l}`}},uI=e=>{const t={},r={color:"color",textColor:"color",bgColor:"backgroundColor",backgroundColor:"backgroundColor"},n={hoverColor:"hoverColor",textHoverColor:"hoverColor",hoverBgColor:"hoverBgColor"},a=new Set;for(const[l,c]of Object.entries(e)){if(c==null||c==="")continue;if(n[l]){t[n[l]]=Qg(c);continue}if(r[l]){const f=r[l];a.has(f)||(t[f]=Qg(c),a.add(f));continue}if(l==="border"&&typeof c=="object"){const f=dI(c);Object.assign(t,f);continue}if(l==="shadow"&&typeof c=="object"){const f=ej(c);Object.assign(t,f);continue}if(l==="boxShadow"&&typeof c=="object"){const f=ej(c);Object.assign(t,f);continue}if(l==="padding"&&typeof c=="object"){const f=iI(c);Object.assign(t,f);continue}if(l==="margin"&&typeof c=="object"){const f=cI(c);Object.assign(t,f);continue}if(l==="backgroundImage"&&typeof c=="string"){let f=c;f.startsWith("/api/")&&(f=`${window.location.hostname==="localhost"?`http://${window.location.hostname}:5000`:window.location.origin}${c}`),f.startsWith("url(")?t[l]=f:t[l]=`url('${f}')`;continue}let u=Qg(c);typeof u=="number"&&["fontSize","padding","margin","width","height","minHeight","maxHeight","minWidth","maxWidth","top","bottom","left","right","borderRadius","borderWidth","letterSpacing","lineHeight","gap"].includes(l)&&(u=`${u}px`),t[l]=u}return t},fI=({node:e,device:t,isSelected:r,onSelect:n,cssStyle:a,className:l,onClick:c})=>{const u=bb(e,t),f=ES(e,t);if(e.props?.numColumns,e.responsive&&t&&e.responsive[t]){const N=e.responsive[t];N?.props?.numColumns&&N.props.numColumns}const h=u?.direction||"column",m=f?.gap??"0px",g=e.props?.contentWidthMode||"full_width",b=e.props?.boxedMaxWidth??1140,y=e.props?.horizontalPadding??15,j=()=>{if(a?.boxShadow)return a.boxShadow};a?.display;const w={width:"100%",display:"flex",transition:"all 0.2s ease",boxSizing:"border-box",flexDirection:h==="row"?"row":"column",flexWrap:"wrap",gap:m,justifyContent:u?.justifyContent||"flex-start",alignItems:u?.alignItems||"stretch",...a?.backgroundColor&&{backgroundColor:a.backgroundColor},...a?.backgroundImage&&{backgroundImage:a.backgroundImage},...a?.backgroundPosition&&{backgroundPosition:a.backgroundPosition},...a?.backgroundSize&&{backgroundSize:a.backgroundSize},...a?.backgroundRepeat&&{backgroundRepeat:a.backgroundRepeat},...a?.backgroundAttachment&&{backgroundAttachment:a.backgroundAttachment},...a?.borderWidth&&{borderWidth:a.borderWidth,borderStyle:a.borderStyle||"solid",borderColor:a.borderColor||"#000000"},...a?.borderRadius&&{borderRadius:a.borderRadius},...a?.borderTop&&{borderTop:a.borderTop},...a?.borderRight&&{borderRight:a.borderRight},...a?.borderBottom&&{borderBottom:a.borderBottom},...a?.borderLeft&&{borderLeft:a.borderLeft},...j()&&{boxShadow:j()},...a?.textShadow&&{textShadow:a.textShadow},...a?.height&&{height:a.height},...a?.minHeight&&{minHeight:a.minHeight},...a?.maxHeight&&{maxHeight:a.maxHeight},...a?.width&&{width:a.width},...a?.minWidth&&{minWidth:a.minWidth},...a?.maxWidth&&{maxWidth:a.maxWidth},...a?.padding&&{padding:a.padding},...a?.paddingTop&&{paddingTop:a.paddingTop},...a?.paddingRight&&{paddingRight:a.paddingRight},...a?.paddingBottom&&{paddingBottom:a.paddingBottom},...a?.paddingLeft&&{paddingLeft:a.paddingLeft},...a?.margin&&{margin:a.margin},...a?.marginTop&&{marginTop:a.marginTop},...a?.marginRight&&{marginRight:a.marginRight},...a?.marginBottom&&{marginBottom:a.marginBottom},...a?.marginLeft&&{marginLeft:a.marginLeft},...a?.opacity&&{opacity:a.opacity},...a?.visibility&&{visibility:a.visibility},...a?.overflow&&{overflow:a.overflow},...a?.overflowX&&{overflowX:a.overflowX},...a?.overflowY&&{overflowY:a.overflowY},...a?.position&&{position:a.position},...a?.top&&{top:a.top},...a?.right&&{right:a.right},...a?.bottom&&{bottom:a.bottom},...a?.left&&{left:a.left},...a?.zIndex&&{zIndex:a.zIndex},...a?.transform&&{transform:a.transform},...a?.transformOrigin&&{transformOrigin:a.transformOrigin},...g==="boxed"?{maxWidth:`${b}px`,marginLeft:"auto",marginRight:"auto",paddingLeft:`${y}px`,paddingRight:`${y}px`}:{maxWidth:"none",marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0}},S={"--boxed-max":`${b}px`,"--pad-x":`${y}px`};return s.jsx("section",{style:{...w,...S},className:`section-node builder-section cursor-pointer ${g==="boxed"?"is-boxed":"is-full"} ${r?"ring-2 ring-blue-500 shadow-lg":"shadow-md"}`,onClick:c,children:e.children?.map(N=>s.jsx(Ih,{node:N,device:t,onSelect:n,isSelected:!1},N.id))})},yb=()=>`node-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,tj=e=>({id:yb(),kind:"section",children:[],props:{numColumns:2,contentWidth:"full"},style:{backgroundColor:"#ffffff",padding:"40px",gap:"20px"},advanced:{display:"grid",customClass:""},...e}),rj=e=>({id:yb(),kind:"column",children:[],props:{verticalAlign:"flex-start",horizontalAlign:"flex-start"},style:{backgroundColor:"transparent"},advanced:{display:"flex",flexDirection:"column",width:50},...e}),e0=(e,t,r)=>({id:yb(),kind:"widget",widgetType:e,children:[],props:t||{},style:{},advanced:{},...r}),hI={heading:{content:"Heading",level:"h2"},text:{content:"Enter your text here"},button:{content:"Click Me",link:"#"},image:{src:"",alt:"Image"},video:{src:"",autoplay:!1},divider:{type:"solid"},spacer:{height:"20px"},iconList:{items:[]}},pI=({node:e,device:t,isSelected:r,onSelect:n,cssStyle:a,className:l,onClick:c})=>{const[u,f]=C.useState(!1),h=C.useContext(Fo),m=bb(e,t),g=m?.display||"flex",b=m?.direction||m?.flexDirection||"column",y=m?.width||a?.width,j=e.style?.gap??e.props?.gap??"0px",w=e.props?.verticalAlign||"flex-start",S=e.props?.horizontalAlign||"flex-start",N=()=>a?.boxShadow??void 0,A=D=>{D.preventDefault(),D.stopPropagation(),D.dataTransfer.dropEffect="copy",f(!0)},E=D=>{D.preventDefault(),D.stopPropagation(),f(!1)},M=D=>{D.preventDefault(),D.stopPropagation(),f(!1);const R=D.dataTransfer.getData("widgetType");if(R&&h?.insertNewNode){const q=e0(R,hI[R]||{});h.insertNewNode(e.id,q)}},T={display:g,flexDirection:b,alignItems:w,justifyContent:S,position:"relative",...y&&{width:y},minWidth:"0px",gap:j,transition:"all 0.2s ease",boxSizing:"border-box",...a?.padding&&{padding:a.padding},...a?.paddingTop&&{paddingTop:a.paddingTop},...a?.paddingRight&&{paddingRight:a.paddingRight},...a?.paddingBottom&&{paddingBottom:a.paddingBottom},...a?.paddingLeft&&{paddingLeft:a.paddingLeft},...a?.backgroundColor&&{backgroundColor:u?"#eff6ff":a.backgroundColor},...!a?.backgroundColor&&u&&{backgroundColor:"#eff6ff"},...!a?.backgroundColor&&!u&&!a?.backgroundImage&&{backgroundColor:"transparent"},...a?.borderRadius&&{borderRadius:a.borderRadius},...a?.height&&{height:a.height},...a?.minHeight&&{minHeight:a.minHeight},...a?.borderWidth&&{borderWidth:a.borderWidth,borderStyle:a.borderStyle||"solid",borderColor:a.borderColor||"#000000"},...N()&&{boxShadow:N()},...a?.margin&&{margin:a.margin},...a?.marginTop&&{marginTop:a.marginTop},...a?.marginRight&&{marginRight:a.marginRight},...a?.marginBottom&&{marginBottom:a.marginBottom},...a?.marginLeft&&{marginLeft:a.marginLeft}};return s.jsxs("div",{style:T,className:`column-node cursor-pointer hover:border-blue-400 ${r?"ring-2 ring-blue-500 shadow-lg":"shadow-sm"}`,onClick:c,onDragOver:A,onDragLeave:E,onDrop:M,children:[e.children?.map(D=>s.jsx(Ih,{node:D,device:t,onSelect:n,isSelected:!1},D.id)),(!e.children||e.children.length===0)&&s.jsx("div",{className:"flex items-center justify-center h-20 w-full text-gray-400 text-sm border-2 border-dashed border-gray-300 rounded",children:"+ Add Widget"})]})},Ph=new Map,Zs=e=>{Ph.set(e.widgetType,e)},mI=e=>Ph.get(e),gI=()=>{const e={};for(const t of Ph.values()){const r=t.category||"Other";e[r]||(e[r]=[]),e[r].push(t)}return e},xI=e=>Ph.get(e)?.renderer,bI=({node:e,isEditing:t,onEdit:r,cssStyle:n={}})=>{const a=e.props?.content||"Heading",l=e.props?.level||"h2",[c,u]=pt.useState(!1),f=n?.color||e.style?.color||"#000000",h=n?.hoverColor||e.style?.hoverColor||f,m={cursor:t?"pointer":"default",width:e.style?.width||"100%",fontSize:e.style?.fontSize?typeof e.style.fontSize=="number"?`${e.style.fontSize}px`:e.style.fontSize:void 0,textAlign:e.style?.textAlign||"left",marginTop:e.style?.margin?.top?`${e.style.margin.top}px`:void 0,marginRight:e.style?.margin?.right?`${e.style.margin.right}px`:void 0,marginBottom:e.style?.margin?.bottom?`${e.style.margin.bottom}px`:void 0,marginLeft:e.style?.margin?.left?`${e.style.margin.left}px`:void 0,paddingTop:e.style?.padding?.top?`${e.style.padding.top}px`:void 0,paddingRight:e.style?.padding?.right?`${e.style.padding.right}px`:void 0,paddingBottom:e.style?.padding?.bottom?`${e.style.padding.bottom}px`:void 0,paddingLeft:e.style?.padding?.left?`${e.style.padding.left}px`:void 0,color:f},g={margin:0,cursor:t?"pointer":"default",fontSize:e.style?.fontSize,color:c?h:f,fontWeight:e.style?.fontWeight||"inherit",textAlign:e.style?.textAlign||"left",lineHeight:e.style?.lineHeight||"inherit",letterSpacing:e.style?.letterSpacing||"inherit",transition:"color 0.3s ease"},b={onClick:r,style:g,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1)},y=(()=>{switch(l){case"h1":return s.jsx("h1",{...b,children:a});case"h3":return s.jsx("h3",{...b,children:a});case"h4":return s.jsx("h4",{...b,children:a});case"h5":return s.jsx("h5",{...b,children:a});case"h6":return s.jsx("h6",{...b,children:a});case"h2":default:return s.jsx("h2",{...b,children:a})}})();return s.jsx("div",{style:m,onClick:r,children:y})};Zs({widgetType:"heading",name:"Heading",icon:"H",renderer:bI,schema:{content:[{type:"text",label:"Content",name:"content",default:"Heading"},{type:"text",label:"Link",name:"link",placeholder:"/page or https://example.com",default:""},{type:"toggle",label:"Open in New Tab",name:"openNewTab",default:!1},{type:"select",label:"Heading Level",name:"level",options:[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}],default:"h2"}],style:[{type:"heading",label:"Sizing",name:"sizing"},{type:"unit-number",label:"Width",name:"width",units:["px","rem","em","%","vw","auto"],defaultUnit:"%",default:"100%",responsive:!0},{type:"heading",label:"Typography",name:"typography"},{type:"slider",label:"Font Size",name:"fontSize",min:12,max:72,unit:"px",responsive:!0},{type:"color",label:"Color",name:"color",default:"#000000"},{type:"color",label:"Hover Color",name:"hoverColor",default:"#0066cc"},{type:"select",label:"Font Weight",name:"fontWeight",options:[{label:"Light",value:"300"},{label:"Normal",value:"400"},{label:"Medium",value:"500"},{label:"Bold",value:"700"},{label:"Extra Bold",value:"900"}],default:"700"},{type:"select",label:"Text Align",name:"textAlign",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}],default:"left",responsive:!0},{type:"slider",label:"Line Height",name:"lineHeight",min:1,max:3,step:.1,default:1.2,responsive:!0},{type:"slider",label:"Letter Spacing",name:"letterSpacing",min:-2,max:5,unit:"px",default:0},{type:"heading",label:"Spacing",name:"spacing"},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0},{type:"dimensions",label:"Padding",name:"padding",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{content:"Heading",level:"h2"},category:"Basic"});const yI=({node:e,isEditing:t,onEdit:r,cssStyle:n={}})=>{const a=e.props?.content||"Lorem ipsum dolor sit amet",[l,c]=pt.useState(!1),u=n?.color||e.style?.color||"#000000",f=n?.hoverColor||e.style?.hoverColor||u,h=typeof a=="string"&&/<[^>]*>/.test(a),m={cursor:t?"pointer":"default",width:e.style?.width||"100%",marginTop:e.style?.margin?.top?`${e.style.margin.top}px`:void 0,marginRight:e.style?.margin?.right?`${e.style.margin.right}px`:void 0,marginBottom:e.style?.margin?.bottom?`${e.style.margin.bottom}px`:void 0,marginLeft:e.style?.margin?.left?`${e.style.margin.left}px`:void 0,paddingTop:e.style?.padding?.top?`${e.style.padding.top}px`:void 0,paddingRight:e.style?.padding?.right?`${e.style.padding.right}px`:void 0,paddingBottom:e.style?.padding?.bottom?`${e.style.padding.bottom}px`:void 0,paddingLeft:e.style?.padding?.left?`${e.style.padding.left}px`:void 0,fontSize:e.style?.fontSize?`${e.style.fontSize}px`:"16px",color:l?f:u,fontWeight:e.style?.fontWeight||"inherit",textAlign:e.style?.textAlign||"left",lineHeight:e.style?.lineHeight||"1.6",letterSpacing:e.style?.letterSpacing?`${e.style.letterSpacing}px`:"inherit",transition:"color 0.3s ease"},g={margin:0,lineHeight:e.style?.lineHeight||"1.6",color:l?f:u};return s.jsx("div",{onClick:r,style:m,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:h?s.jsx("div",{style:g,dangerouslySetInnerHTML:{__html:a}}):s.jsx("p",{style:g,children:a})})};Zs({widgetType:"text",name:"Text",icon:"Text",renderer:yI,schema:{content:[{type:"textarea",label:"Content",name:"content",default:"Lorem ipsum dolor sit amet",richText:!0}],style:[{type:"heading",label:"Sizing",name:"sizing"},{type:"unit-number",label:"Width",name:"width",units:["px","rem","em","%","vw","auto"],defaultUnit:"%",default:"100%",responsive:!0},{type:"heading",label:"Typography",name:"typography"},{type:"slider",label:"Font Size",name:"fontSize",min:10,max:48,unit:"px",default:16,responsive:!0},{type:"color",label:"Color",name:"color",default:"#333333"},{type:"color",label:"Hover Color",name:"hoverColor",default:"#0066cc"},{type:"select",label:"Font Weight",name:"fontWeight",options:[{label:"Light",value:"300"},{label:"Normal",value:"400"},{label:"Medium",value:"500"},{label:"Bold",value:"700"}],default:"400"},{type:"select",label:"Text Align",name:"textAlign",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}],default:"left",responsive:!0},{type:"slider",label:"Line Height",name:"lineHeight",min:1,max:3,step:.1,default:1.6,responsive:!0},{type:"heading",label:"Spacing",name:"spacing"},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0},{type:"dimensions",label:"Padding",name:"padding",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{content:"Lorem ipsum dolor sit amet"},category:"Basic"});const vI=({node:e,device:t="desktop",isEditing:r,onEdit:n,cssStyle:a={}})=>{const l=e.props?.text||"Click Me",c=e.props?.icon||"";e.props?.link,e.props?.style;const[u,f]=pt.useState(!1),h=(B,Z)=>{const ue=e.style?.[B],_=e.responsive?.[t]?.style?.[B];return _!==void 0?_:ue!==void 0?ue:Z},m=h("paddingTop",12),g=h("paddingRight",24),b=h("paddingBottom",12),y=h("paddingLeft",24),j=h("borderRadius",6),w=h("fontSize",16),S=h("iconPosition","left"),N=a?.color||a?.textColor||e.style?.textColor||"var(--color-bg-primary)",A=a?.backgroundColor||e.style?.bgColor||e.style?.backgroundColor||"var(--color-accent-primary)",E=a?.hoverBackgroundColor||e.style?.hoverBgColor||e.style?.hoverBackgroundColor||A,M=a?.hoverTextColor||a?.hoverColor||e.style?.textHoverColor||e.style?.hoverTextColor||N,T=e.style?.iconSize||16,D=e.style?.iconPadding||6,R=e.style?.iconGap||8,q=e.style?.iconBorderRadius||0,K=u?e.style?.iconHoverColor||"var(--color-bg-primary)":e.style?.iconColor||"var(--color-bg-primary)",W=u?e.style?.iconHoverBackgroundColor||"transparent":e.style?.iconBackgroundColor||"transparent",V=h("alignment","center"),Y=B=>{switch(B){case"left":return"flex-start";case"right":return"flex-end";case"center":return"center";case"justify":return"space-between";default:return"center"}},$={cursor:r?"pointer":"default",width:e.style?.width?typeof e.style.width=="string"?e.style.width:`${e.style.width}px`:"100%",display:"flex",justifyContent:Y(V),alignItems:"center",marginTop:e.style?.margin?.top?`${e.style.margin.top}px`:void 0,marginRight:e.style?.margin?.right?`${e.style.margin.right}px`:void 0,marginBottom:e.style?.margin?.bottom?`${e.style.margin.bottom}px`:void 0,marginLeft:e.style?.margin?.left?`${e.style.margin.left}px`:void 0,paddingTop:e.style?.padding?.top?`${e.style.padding.top}px`:void 0,paddingRight:e.style?.padding?.right?`${e.style.padding.right}px`:void 0,paddingBottom:e.style?.padding?.bottom?`${e.style.padding.bottom}px`:void 0,paddingLeft:e.style?.padding?.left?`${e.style.padding.left}px`:void 0},I={padding:`${m}px ${g}px ${b}px ${y}px`,fontSize:`${w}px`,fontWeight:e.style?.fontWeight||"600",borderRadius:`${j}px`,cursor:"pointer",transition:"all 0.3s ease",width:e.style?.buttonWidth||"auto",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:`${R}px`,flexDirection:S==="right"?"row-reverse":"row",color:u?M:N,backgroundColor:u?E:A,border:"none"},ie={display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${T+D*2}px`,height:`${T+D*2}px`,padding:`${D}px`,borderRadius:`${q}px`,backgroundColor:W,color:K,transition:"all 0.3s ease",fontSize:`${T}px`};return s.jsx("div",{style:$,onClick:n,children:s.jsxs("button",{onClick:B=>{B.preventDefault(),n?.()},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:I,className:`transition ${r?"ring-2 ring-blue-500":""}`,children:[c&&s.jsx("span",{style:ie,children:s.jsx("i",{className:c})}),l]})})};Zs({widgetType:"button",name:"Button",icon:"Button",renderer:vI,schema:{content:[{type:"text",label:"Button Text",name:"text",default:"Click Me"},{type:"text",label:"Icon Class",name:"icon",placeholder:"e.g., fas fa-arrow-right or leave empty",default:""},{type:"text",label:"Link URL",name:"link",placeholder:"e.g., /about or https://example.com",default:""},{type:"toggle",label:"Open in New Tab",name:"openNewTab",default:!1},{type:"select",label:"Style",name:"style",options:[{label:"Primary",value:"primary"},{label:"Secondary",value:"secondary"},{label:"Outline",value:"outline"}],default:"primary"}],style:[{type:"heading",label:"Sizing",name:"sizing"},{type:"unit-number",label:"Parent Width",name:"width",units:["px","rem","em","%","vw","auto"],defaultUnit:"%",default:"100%",responsive:!0},{type:"unit-number",label:"Button Width",name:"buttonWidth",units:["px","rem","em","%","auto"],defaultUnit:"auto",default:"auto",responsive:!0},{type:"heading",label:"Typography",name:"typography"},{type:"slider",label:"Font Size",name:"fontSize",min:12,max:32,unit:"px",default:16,responsive:!0},{type:"color",label:"Text Color",name:"textColor",default:"#ffffff"},{type:"color",label:"Text Hover Color",name:"textHoverColor",default:"#ffffff"},{type:"color",label:"Background Color",name:"bgColor",default:"#2563eb"},{type:"color",label:"Background Hover Color",name:"hoverBgColor",default:"#1d4ed8"},{type:"heading",label:"Button Styling",name:"buttonStyling"},{type:"number",label:"Padding Top",name:"paddingTop",min:0,max:100,unit:"px",default:12,responsive:!0},{type:"number",label:"Padding Right",name:"paddingRight",min:0,max:100,unit:"px",default:24,responsive:!0},{type:"number",label:"Padding Bottom",name:"paddingBottom",min:0,max:100,unit:"px",default:12,responsive:!0},{type:"number",label:"Padding Left",name:"paddingLeft",min:0,max:100,unit:"px",default:24,responsive:!0},{type:"slider",label:"Border Radius",name:"borderRadius",min:0,max:50,unit:"px",default:0},{type:"align",label:"Alignment",name:"alignment",options:["left","center","right"],default:"center",responsive:!0},{type:"heading",label:"Icon Styling",name:"iconStyling"},{type:"select",label:"Icon Position",name:"iconPosition",options:[{label:"Left",value:"left"},{label:"Right",value:"right"}],default:"left"},{type:"slider",label:"Icon Size",name:"iconSize",min:8,max:64,unit:"px",default:16},{type:"slider",label:"Icon Padding",name:"iconPadding",min:0,max:20,unit:"px",default:6},{type:"slider",label:"Gap Between Icon & Text",name:"iconGap",min:0,max:32,unit:"px",default:8},{type:"color",label:"Icon Color",name:"iconColor",default:"#ffffff"},{type:"color",label:"Icon Hover Color",name:"iconHoverColor",default:"#ffffff"},{type:"color",label:"Icon Background Color",name:"iconBackgroundColor",default:"transparent"},{type:"color",label:"Icon Hover Background Color",name:"iconHoverBackgroundColor",default:"transparent"},{type:"slider",label:"Icon Border Radius",name:"iconBorderRadius",min:0,max:50,unit:"px",default:0},{type:"heading",label:"Spacing",name:"spacing"},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0},{type:"dimensions",label:"Padding",name:"padding",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{text:"Click Me",link:"#",style:"primary"},category:"Basic"});const jI=({node:e,isEditing:t,onEdit:r,cssStyle:n={}})=>{const a=e.props?.height||20;return s.jsx("div",{onClick:r,style:{height:`${a}px`,backgroundColor:t?"rgba(59, 130, 246, 0.1)":"transparent",border:t?"2px dashed #3b82f6":"none",cursor:t?"pointer":"default"}})};Zs({widgetType:"spacer",name:"Spacer",icon:"Spacer",renderer:jI,schema:{content:[{type:"number",label:"Height (px)",name:"height",default:20,min:0,max:500,unit:"px"}],style:[{type:"slider",label:"Height",name:"height",min:0,max:500,unit:"px",default:20},{type:"color",label:"Background Color",name:"backgroundColor",default:"transparent"}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{height:20},category:"Basic"});const NI=({node:e,device:t="desktop",isEditing:r,onEdit:n,cssStyle:a={}})=>{const[l,c]=C.useState(null),u=e.props?.items||[{id:"1",icon:"fas fa-check",heading:"Item 1",text:"Description text",link:"",openNewTab:!1},{id:"2",icon:"fas fa-star",heading:"Item 2",text:"Description text",link:"",openNewTab:!1},{id:"3",icon:"fas fa-heart",heading:"Item 3",text:"Description text",link:"",openNewTab:!1}],f=e.props?.iconPosition||e.style?.iconPosition||"left";e.style?.gap;const h=(G,ce)=>{const ke=e.style?.[G],Me=e.responsive?.[t]?.style?.[G];return Me!==void 0?Me:ke!==void 0?ke:ce},m=h("gap","16px"),g=h("itemGap","12px"),b=h("descriptionGap","4px"),y=e.style?.itemsLayout||"vertical",j=e.style?.containerAlignment||"flex-start",w=e.style?.itemAlignment||"flex-start",S=e.style?.itemsVerticalAlign||"flex-start",N={display:"flex",flexDirection:y==="horizontal"?"row":"column",gap:m,width:"100%",cursor:r?"pointer":"default",flexWrap:y==="horizontal"?"wrap":"nowrap",justifyContent:j,alignItems:y==="horizontal"?S:"stretch"},A={display:"flex",flexDirection:f==="top"?"column":"row",gap:g,alignItems:w,width:(e.style?.itemWidth||0)>0?`${e.style?.itemWidth}px`:y==="horizontal"?"auto":"100%",flex:(e.style?.itemWidth||0)>0?"none":y==="horizontal"?"0 1 auto":"1",backgroundColor:e.style?.itemBackgroundColor||"transparent",borderRadius:`${e.style?.itemBorderRadius||0}px`,border:(e.style?.itemBorderWidth||0)>0?`${e.style?.itemBorderWidth}px ${e.style?.itemBorderStyle||"solid"} ${e.style?.itemBorderColor||"#000000"}`:"none",boxShadow:(e.style?.itemShadowBlur||0)>0?`${e.style?.itemShadowOffsetX||0}px ${e.style?.itemShadowOffsetY||0}px ${e.style?.itemShadowBlur}px ${e.style?.itemShadowSpread||0}px ${e.style?.itemShadowColor||"rgba(0,0,0,0.1)"}`:"none",padding:`${e.style?.itemPadding||16}px`,margin:`${e.style?.itemMargin||0}px`},E=e.style?.iconSize||24,M=e.style?.iconColor||"#3b82f6",T=e.style?.iconPadding||8,D=e.style?.iconBackgroundColor||"transparent",R=E+T*2,q={display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${R}px`,height:`${R}px`,padding:`${T}px`,borderRadius:e.style?.iconBorderRadius||"0px",backgroundColor:D,color:M,fontSize:`${E}px`,flexShrink:0,minHeight:`${R}px`,minWidth:`${R}px`},K={display:"flex",flexDirection:"column",gap:b,flex:1},W=e.style?.headingFontSize||18,V=e.style?.headingColor||"#000000",Y=e.style?.headingFontWeight||"600",$={fontSize:`${W}px`,fontWeight:Y,color:V,margin:0,padding:0,lineHeight:"1.2",wordBreak:"break-word"},I=e.style?.textFontSize||14,ie=e.style?.textColor||"#666666",B={fontSize:`${I}px`,color:ie,margin:0,padding:0,lineHeight:"1.5",wordBreak:"break-word"},Z=e.style?.itemBackgroundHover||e.style?.itemBackgroundColor||"transparent",ue=e.style?.iconColorHover||M,_=e.style?.iconBackgroundHover||D,fe=e.style?.headingColorHover||V,z=e.style?.textColorHover||ie,X={backgroundColor:Z,borderRadius:`${e.style?.itemBorderRadius||0}px`,border:(e.style?.itemBorderWidth||0)>0?`${e.style?.itemBorderWidth}px ${e.style?.itemBorderStyle||"solid"} ${e.style?.itemBorderColor||"#000000"}`:"none",boxShadow:(e.style?.itemHoverShadowBlur||10)>0?`${e.style?.itemHoverShadowOffsetX||0}px ${e.style?.itemHoverShadowOffsetY||5}px ${e.style?.itemHoverShadowBlur||10}px ${e.style?.itemHoverShadowSpread||0}px ${e.style?.itemHoverShadowColor||"rgba(0,0,0,0.2)"}`:"none"};return s.jsx("div",{style:N,onClick:n,children:u?.map((G,ce)=>s.jsxs("div",{style:{...A,...l===ce?X:{},transition:"all 0.3s ease"},onMouseEnter:()=>c(ce),onMouseLeave:()=>c(null),children:[G.icon&&s.jsx("div",{style:{...q,color:l===ce?ue:M,backgroundColor:l===ce?_:D,transition:"all 0.3s ease"},children:s.jsx("i",{className:G.icon})}),s.jsxs("div",{style:K,children:[G.heading&&s.jsx("h3",{style:{...$,color:l===ce?fe:V,transition:"all 0.3s ease"},children:G.heading}),G.text&&s.jsx("p",{style:{...B,color:l===ce?z:ie,transition:"all 0.3s ease"},children:G.text})]})]},G.id))})};Zs({widgetType:"iconlist",name:"Icon List",icon:"List",renderer:NI,schema:{content:[{type:"repeater",label:"Icon Items",name:"items",default:[{id:"1",icon:"fas fa-check",heading:"Item 1",text:"Description text",link:"",openNewTab:!1},{id:"2",icon:"fas fa-star",heading:"Item 2",text:"Description text",link:"",openNewTab:!1},{id:"3",icon:"fas fa-heart",heading:"Item 3",text:"Description text",link:"",openNewTab:!1}],fields:[{type:"icon",label:"Icon",name:"icon",default:"fas fa-check"},{type:"text",label:"Heading",name:"heading",placeholder:"Item heading",default:"Item"},{type:"textarea",label:"Description",name:"text",placeholder:"Item description",default:"Description text"},{type:"text",label:"Link",name:"link",placeholder:"https://example.com or /page",default:""},{type:"toggle",label:"Open in New Tab",name:"openNewTab",default:!1}],help:"Click on an item to edit its details"}],style:[{type:"heading",label:"Layout",name:"layout"},{type:"select",label:"Items Layout",name:"itemsLayout",options:[{label:"Vertical",value:"vertical"},{label:"Horizontal",value:"horizontal"}],default:"vertical"},{type:"select",label:"Parent Items Alignment",name:"containerAlignment",options:[{label:"Flex Start",value:"flex-start"},{label:"Center",value:"center"},{label:"Flex End",value:"flex-end"},{label:"Space Between",value:"space-between"},{label:"Space Around",value:"space-around"},{label:"Space Evenly",value:"space-evenly"}],default:"flex-start"},{type:"select",label:"Single Item Alignment",name:"itemAlignment",options:[{label:"Start",value:"flex-start"},{label:"Center",value:"center"},{label:"End",value:"flex-end"},{label:"Stretch",value:"stretch"}],default:"flex-start"},{type:"select",label:"Items Vertical Alignment",name:"itemsVerticalAlign",options:[{label:"Start",value:"flex-start"},{label:"Center",value:"center"},{label:"End",value:"flex-end"}],default:"flex-start"},{type:"select",label:"Icon Position",name:"iconPosition",options:[{label:"Icon Left",value:"left"},{label:"Icon Top",value:"top"}],default:"left"},{type:"slider",label:"Gap Between Items",name:"gap",min:0,max:50,unit:"px",default:16,responsive:!0},{type:"slider",label:"Gap Inside Items (Icon to Text)",name:"itemGap",min:0,max:50,unit:"px",default:12,responsive:!0},{type:"slider",label:"Gap Between Heading and Description",name:"descriptionGap",min:0,max:30,unit:"px",default:4,responsive:!0},{type:"heading",label:"Icon Styling",name:"iconStyling"},{type:"slider",label:"Icon Size",name:"iconSize",min:12,max:100,unit:"px",default:24},{type:"color",label:"Icon Color",name:"iconColor",default:"#3b82f6"},{type:"color",label:"Icon Background Color",name:"iconBackgroundColor",default:"transparent"},{type:"slider",label:"Icon Background Padding",name:"iconPadding",min:0,max:30,unit:"px",default:8},{type:"slider",label:"Icon Border Radius",name:"iconBorderRadius",min:0,max:50,unit:"px",default:0},{type:"heading",label:"Heading Styling",name:"headingStyling"},{type:"slider",label:"Heading Font Size",name:"headingFontSize",min:12,max:48,unit:"px",default:18,responsive:!0},{type:"color",label:"Heading Color",name:"headingColor",default:"#000000"},{type:"select",label:"Heading Font Weight",name:"headingFontWeight",options:[{label:"Light",value:"300"},{label:"Normal",value:"400"},{label:"Medium",value:"500"},{label:"Semi Bold",value:"600"},{label:"Bold",value:"700"},{label:"Extra Bold",value:"900"}],default:"600"},{type:"heading",label:"Text Styling",name:"textStyling"},{type:"slider",label:"Text Font Size",name:"textFontSize",min:10,max:36,unit:"px",default:14,responsive:!0},{type:"color",label:"Text Color",name:"textColor",default:"#666666"},{type:"slider",label:"Text Gap",name:"textGap",min:0,max:20,unit:"px",default:4},{type:"heading",label:"Item Styling",name:"itemStyling"},{type:"color",label:"Item Background Color",name:"itemBackgroundColor",default:"transparent"},{type:"slider",label:"Item Border Radius",name:"itemBorderRadius",min:0,max:50,unit:"px",default:0,responsive:!0},{type:"heading",label:"Item Border",name:"itemBorderHeading"},{type:"slider",label:"Border Width",name:"itemBorderWidth",min:0,max:10,unit:"px",default:0},{type:"select",label:"Border Style",name:"itemBorderStyle",options:[{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],default:"solid"},{type:"color",label:"Border Color",name:"itemBorderColor",default:"#000000"},{type:"heading",label:"Item Box Shadow",name:"itemBoxShadowHeading"},{type:"slider",label:"Shadow Horizontal Offset",name:"itemShadowOffsetX",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Shadow Vertical Offset",name:"itemShadowOffsetY",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Shadow Blur",name:"itemShadowBlur",min:0,max:50,unit:"px",default:0},{type:"slider",label:"Shadow Spread",name:"itemShadowSpread",min:-20,max:20,unit:"px",default:0},{type:"color",label:"Shadow Color",name:"itemShadowColor",default:"rgba(0, 0, 0, 0.1)"},{type:"heading",label:"Item Hover Effects",name:"itemHoverHeading"},{type:"color",label:"Item Background Hover",name:"itemBackgroundHover",default:"transparent"},{type:"color",label:"Icon Color Hover",name:"iconColorHover",default:""},{type:"color",label:"Icon Background Hover",name:"iconBackgroundHover",default:"transparent"},{type:"color",label:"Heading Text Hover",name:"headingColorHover",default:""},{type:"color",label:"Description Text Hover",name:"textColorHover",default:""},{type:"heading",label:"Hover Box Shadow",name:"itemHoverShadowHeading"},{type:"slider",label:"Hover Shadow Horizontal",name:"itemHoverShadowOffsetX",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Hover Shadow Vertical",name:"itemHoverShadowOffsetY",min:-20,max:20,unit:"px",default:5},{type:"slider",label:"Hover Shadow Blur",name:"itemHoverShadowBlur",min:0,max:50,unit:"px",default:10},{type:"slider",label:"Hover Shadow Spread",name:"itemHoverShadowSpread",min:-20,max:20,unit:"px",default:0},{type:"color",label:"Hover Shadow Color",name:"itemHoverShadowColor",default:"rgba(0, 0, 0, 0.2)"},{type:"heading",label:"Item Size & Spacing",name:"itemSizeHeading"},{type:"slider",label:"Item Width",name:"itemWidth",min:50,max:600,unit:"px",default:0,responsive:!0},{type:"slider",label:"Item Padding",name:"itemPadding",min:0,max:50,unit:"px",default:16,responsive:!0},{type:"slider",label:"Item Margin",name:"itemMargin",min:0,max:50,unit:"px",default:0,responsive:!0},{type:"heading",label:"Spacing",name:"spacing"},{type:"dimensions",label:"Padding",name:"padding",unit:"px",responsive:!0},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{items:[{id:"1",icon:"fas fa-check",heading:"Item 1",text:"Description text",link:"",openNewTab:!1},{id:"2",icon:"fas fa-star",heading:"Item 2",text:"Description text",link:"",openNewTab:!1},{id:"3",icon:"fas fa-heart",heading:"Item 3",text:"Description text",link:"",openNewTab:!1}],iconPosition:"left"},category:"Advanced"});const wI=({node:e,device:t="desktop",isEditing:r,onEdit:n,cssStyle:a={}})=>{const[l,c]=C.useState(!1),u=e.props?.icon||"fas fa-star",f=(G,ce)=>{const ke=e.style?.[G],Me=e.responsive?.[t]?.style?.[G];return Me!==void 0?Me:ke!==void 0?ke:ce},h=f("iconSize",48),m=e.style?.iconColor||"#3b82f6",g=e.style?.iconBackgroundColor||"transparent",b=f("iconPadding",0),y=h+b*2,j=e.style?.alignment||"center",w=f("width",""),S=f("margin",{top:"",right:"",bottom:"",left:""}),N=S?.top||"0",A=S?.right||"0",E=S?.bottom||"0",M=S?.left||"0",T=e.style?.iconBorderWidth||0,D=e.style?.iconBorderStyle||"solid",R=e.style?.iconBorderColor||"#000000",q=f("iconBorderRadius",0),K=e.style?.iconShadowOffsetX||0,W=e.style?.iconShadowOffsetY||0,V=e.style?.iconShadowBlur||0,Y=e.style?.iconShadowSpread||0,$=e.style?.iconShadowColor||"rgba(0, 0, 0, 0.1)",I=e.style?.iconColorHover||m,ie=e.style?.iconBackgroundHover||g,B=e.style?.iconHoverShadowOffsetX||0,Z=e.style?.iconHoverShadowOffsetY||5,ue=e.style?.iconHoverShadowBlur||10,_=e.style?.iconHoverShadowSpread||0,fe=e.style?.iconHoverShadowColor||"rgba(0, 0, 0, 0.2)",z={display:"flex",justifyContent:j,width:w||"100%",cursor:r?"pointer":"default",marginTop:N,marginRight:A,marginBottom:E,marginLeft:M},X={display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${y}px`,height:`${y}px`,padding:`${b}px`,borderRadius:`${q}px`,backgroundColor:l?ie:g,color:l?I:m,fontSize:`${h}px`,border:T>0?`${T}px ${D} ${R}`:"none",boxShadow:l&&ue>0?`${B}px ${Z}px ${ue}px ${_}px ${fe}`:V>0?`${K}px ${W}px ${V}px ${Y}px ${$}`:"none",transition:"all 0.3s ease",cursor:"pointer",minWidth:`${y}px`,minHeight:`${y}px`};return s.jsx("div",{style:z,onClick:n,children:s.jsx("div",{style:X,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:s.jsx("i",{className:u})})})};Zs({widgetType:"icon",name:"Icon",icon:"Heart",renderer:wI,schema:{content:[{type:"icon",label:"Select Icon",name:"icon",default:"fas fa-star"}],style:[{type:"heading",label:"Icon Styling",name:"iconStyling"},{type:"slider",label:"Icon Size",name:"iconSize",min:12,max:200,unit:"px",default:48,responsive:!0},{type:"color",label:"Icon Color",name:"iconColor",default:"#3b82f6"},{type:"color",label:"Icon Background Color",name:"iconBackgroundColor",default:"transparent"},{type:"slider",label:"Icon Padding",name:"iconPadding",min:0,max:50,unit:"px",default:0,responsive:!0},{type:"slider",label:"Icon Border Radius",name:"iconBorderRadius",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"heading",label:"Icon Border",name:"iconBorderHeading"},{type:"slider",label:"Border Width",name:"iconBorderWidth",min:0,max:10,unit:"px",default:0},{type:"select",label:"Border Style",name:"iconBorderStyle",options:[{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],default:"solid"},{type:"color",label:"Border Color",name:"iconBorderColor",default:"#000000"},{type:"heading",label:"Icon Box Shadow",name:"iconShadowHeading"},{type:"slider",label:"Shadow Horizontal Offset",name:"iconShadowOffsetX",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Shadow Vertical Offset",name:"iconShadowOffsetY",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Shadow Blur",name:"iconShadowBlur",min:0,max:50,unit:"px",default:0},{type:"slider",label:"Shadow Spread",name:"iconShadowSpread",min:-20,max:20,unit:"px",default:0},{type:"color",label:"Shadow Color",name:"iconShadowColor",default:"rgba(0, 0, 0, 0.1)"},{type:"heading",label:"Alignment",name:"alignmentHeading"},{type:"select",label:"Horizontal Alignment",name:"alignment",options:[{label:"Left",value:"flex-start"},{label:"Center",value:"center"},{label:"Right",value:"flex-end"}],default:"center"},{type:"heading",label:"Icon Hover Effects",name:"iconHoverHeading"},{type:"color",label:"Icon Color Hover",name:"iconColorHover",default:""},{type:"color",label:"Icon Background Hover",name:"iconBackgroundHover",default:"transparent"},{type:"heading",label:"Hover Box Shadow",name:"iconHoverShadowHeading"},{type:"slider",label:"Hover Shadow Horizontal",name:"iconHoverShadowOffsetX",min:-20,max:20,unit:"px",default:0},{type:"slider",label:"Hover Shadow Vertical",name:"iconHoverShadowOffsetY",min:-20,max:20,unit:"px",default:5},{type:"slider",label:"Hover Shadow Blur",name:"iconHoverShadowBlur",min:0,max:50,unit:"px",default:10},{type:"slider",label:"Hover Shadow Spread",name:"iconHoverShadowSpread",min:-20,max:20,unit:"px",default:0},{type:"color",label:"Hover Shadow Color",name:"iconHoverShadowColor",default:"rgba(0, 0, 0, 0.2)"},{type:"heading",label:"Spacing",name:"spacing"},{type:"unit-number",label:"Width",name:"width",min:0,max:800,step:1,defaultUnit:"px",units:["px","rem","em","%","vw"],default:"",responsive:!0},{type:"dimensions",label:"Margin",name:"margin",default:{top:"",right:"",bottom:"",left:""},responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{icon:"fas fa-star"},category:"Basic"});const SI=({node:e,device:t="desktop",isEditing:r,onEdit:n,cssStyle:a={}})=>{const l=e.props?.src||"https://via.placeholder.com/400x300?text=Image",c=e.props?.alt||"Image",u=e.props?.caption||"",f=e.props?.link||"",[h,m]=C.useState(l),[g,b]=C.useState(!1),[y,j]=C.useState(!1);C.useEffect(()=>{m(l),j(!1)},[l]);const w=(B,Z)=>{const ue=e.style?.[B],_=e.responsive?.[t]?.style?.[B];return _!==void 0?_:ue!==void 0?ue:Z},S=w("width","100%"),N=w("height","auto"),A=a?.borderRadius||e.style?.borderRadius||"0px",E=a?.borderWidth||e.style?.borderWidth||"0px",M=a?.borderColor||e.style?.borderColor||"#000000",T=a?.boxShadow||e.style?.boxShadow||"none",D=a?.opacity||e.style?.opacity||1,R=a?.padding||e.style?.padding||"0px",K={display:"flex",flexDirection:"column",textAlign:w("alignment","center"),width:"100%",cursor:r?"pointer":"default"},W={width:typeof S=="string"?S:`${S}px`,height:typeof N=="string"?N:`${N}px`,maxWidth:"100%",objectFit:a?.objectFit||"cover",objectPosition:a?.objectPosition||"center",borderRadius:A,border:E!=="0px"?`${E} solid ${M}`:"none",boxShadow:T,padding:R,opacity:D,display:"inline-block",verticalAlign:"middle",transition:"all 0.3s ease"},V={marginTop:e.style?.captionGap||"8px",fontSize:e.style?.captionFontSize||"14px",color:e.style?.captionColor||"#666666",fontStyle:"italic",margin:0},Y={position:"absolute",top:0,left:0,right:0,bottom:0,display:g?"flex":"none",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:A},$=()=>{b(!1)},I=()=>{n?.()},ie=s.jsx("img",{src:h,alt:c,style:W,onLoad:$,onError:B=>{console.error("Image failed to load:",h),j(!0),b(!1)}});return s.jsxs("div",{style:K,onClick:n,children:[s.jsxs("div",{style:{position:"relative"},children:[y?s.jsxs("div",{style:{...W,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fee2e2",border:"2px solid #dc2626"},children:[s.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),s.jsxs("div",{style:{fontSize:"12px",color:"#991b1b",textAlign:"center",padding:"8px"},children:[s.jsx("div",{children:"Image failed to load"}),s.jsx("div",{style:{fontSize:"10px",marginTop:"4px",wordBreak:"break-all"},children:h})]})]}):f?s.jsx("a",{href:f,target:e.props?.openNewTab?"_blank":"_self",rel:"noopener noreferrer",onClick:I,children:ie}):ie,s.jsx("div",{style:Y,children:s.jsx("div",{style:{color:"white",fontSize:"12px"},children:"Loading..."})})]}),u&&s.jsx("p",{style:V,children:u})]})};Zs({widgetType:"image",name:"Image",icon:"Image",renderer:SI,schema:{content:[{type:"mediapicker",label:"Image (Upload or URL)",name:"src",default:"https://via.placeholder.com/400x300?text=Image"},{type:"text",label:"Alt Text",name:"alt",default:"Image"},{type:"text",label:"Caption",name:"caption",placeholder:"Optional image caption"},{type:"link",label:"Link",name:"link",placeholder:"e.g., /page or https://example.com"},{type:"toggle",label:"Open Link in New Tab",name:"openNewTab",default:!1}],style:[{type:"heading",label:"Sizing",name:"sizing"},{type:"unit-number",label:"Width",name:"width",units:["px","%","em","rem","auto"],defaultUnit:"%",default:"100%",responsive:!0},{type:"unit-number",label:"Height",name:"height",units:["px","em","rem","auto"],defaultUnit:"auto",default:"auto",responsive:!0},{type:"heading",label:"Border & Shadow",name:"borderShadow"},{type:"slider",label:"Border Radius",name:"borderRadius",min:0,max:50,unit:"px",default:0},{type:"slider",label:"Border Width",name:"borderWidth",min:0,max:10,unit:"px",default:0},{type:"color",label:"Border Color",name:"borderColor",default:"#000000"},{type:"shadow",label:"Shadow",name:"boxShadow"},{type:"heading",label:"Effects",name:"effects"},{type:"slider",label:"Opacity",name:"opacity",min:0,max:1,step:.1,default:1},{type:"heading",label:"Image Fit",name:"imageFit"},{type:"select",label:"Object Fit",name:"objectFit",options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Fill",value:"fill"},{label:"Scale Down",value:"scale-down"}],default:"cover"},{type:"select",label:"Object Position",name:"objectPosition",options:[{label:"Center",value:"center"},{label:"Top",value:"top"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Top Left",value:"top left"},{label:"Top Right",value:"top right"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"}],default:"center"},{type:"heading",label:"Caption",name:"caption"},{type:"slider",label:"Caption Font Size",name:"captionFontSize",min:10,max:36,unit:"px",default:14},{type:"color",label:"Caption Color",name:"captionColor",default:"#666666"},{type:"slider",label:"Caption Gap",name:"captionGap",min:0,max:30,unit:"px",default:8},{type:"heading",label:"Alignment",name:"alignment"},{type:"align",label:"Image Alignment",name:"alignment",options:["left","center","right"],default:"center",responsive:!0},{type:"heading",label:"Spacing",name:"spacing"},{type:"dimensions",label:"Padding",name:"padding",unit:"px",responsive:!0},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{src:"https://via.placeholder.com/400x300?text=Image",alt:"Image",caption:""},category:"Content"});const CI=({node:e,device:t="desktop",isEditing:r,onEdit:n,cssStyle:a={}})=>{const l=(I,ie)=>{const B=e.style?.[I],Z=e.responsive?.[t]?.style?.[I];return Z!==void 0?Z:B!==void 0?B:ie},c=l("dividerType","simple"),u=l("lineStyle","solid"),f=l("thickness",2),h=l("color","var(--color-border)"),m=l("width","100%"),g=l("alignment","center"),b=l("gap",0),y=l("text",""),j=l("textColor","var(--color-text-light)"),w=l("textSize",14),S=l("textWeight","normal"),N=l("textGap",16),A=l("dotSize",6),E=l("dotSpacing",8),M=e.style?.padding||{},T=e.style?.margin||{},D=e.advanced?.customClass||"",R=e.advanced?.hideOn||[];if(R&&Array.isArray(R)&&R.includes(t))return null;const q=()=>{if(typeof M=="string")return M;if(typeof M=="object"&&M){const{top:I=0,right:ie=0,bottom:B=0,left:Z=0}=M;return`${I}px ${ie}px ${B}px ${Z}px`}return"0"},K=()=>{if(typeof T=="string")return T;if(typeof T=="object"&&T){const{top:I=0,right:ie=0,bottom:B=0,left:Z=0}=T;return`${I}px ${ie}px ${B}px ${Z}px`}return"0"},Y={display:"flex",justifyContent:{left:"flex-start",center:"center",right:"flex-end"}[g]||"center",alignItems:"center",width:"100%",padding:q(),margin:K(),gap:`${b}px`,cursor:r?"pointer":"default",transition:"all 0.3s ease",...a};if(c==="simple"){const I={width:m,height:u==="solid"?`${f}px`:"0px",backgroundColor:u==="solid"?h:"transparent",border:"none",...u!=="solid"&&{borderStyle:u,borderWidth:`${f}px`,borderColor:h,height:"0px"},flexShrink:0,transition:"all 0.3s ease"};return s.jsx("div",{style:Y,className:D,onClick:n,role:"separator","aria-orientation":"horizontal",children:s.jsx("div",{style:I})})}if(c==="dotted"){const I=typeof m=="string"?m==="100%"?500:parseInt(m)||500:m||500,ie=Math.max(2,Math.floor(I/(A+E))),B={width:m,display:"flex",gap:`${E}px`,justifyContent:"center",alignItems:"center",flexShrink:0},Z={width:`${A}px`,height:`${A}px`,borderRadius:"50%",backgroundColor:h,display:"inline-block",flexShrink:0,transition:"all 0.3s ease"};return s.jsx("div",{style:Y,className:D,onClick:n,role:"separator","aria-orientation":"horizontal",children:s.jsx("div",{style:B,children:Array.from({length:ie}).map((ue,_)=>s.jsx("div",{style:Z},_))})})}if(c==="text"&&y){const I={normal:400,"semi-bold":600,bold:700},ie={display:"flex",justifyContent:"center",alignItems:"center",gap:`${N}px`,width:m,flexShrink:0},B={flex:1,borderTop:`${f}px solid ${h}`,height:"0"},Z={color:j,fontSize:`${w}px`,fontWeight:I[S]||400,whiteSpace:"nowrap",userSelect:"none",transition:"all 0.3s ease"};return s.jsx("div",{style:Y,className:D,onClick:n,role:"separator","aria-orientation":"horizontal",children:s.jsxs("div",{style:ie,children:[s.jsx("div",{style:B}),s.jsx("span",{style:Z,children:y}),s.jsx("div",{style:B})]})})}const $={width:m,height:`${f}px`,backgroundColor:h,border:"none",flexShrink:0,transition:"all 0.3s ease"};return s.jsx("div",{style:Y,className:D,onClick:n,role:"separator","aria-orientation":"horizontal",children:s.jsx("div",{style:$})})};Zs({widgetType:"divider",name:"Divider",icon:"",renderer:CI,schema:{content:[],style:[{type:"select",label:"Divider Type",name:"dividerType",options:[{label:"Simple Line",value:"simple"},{label:"Dotted",value:"dotted"},{label:"Text",value:"text"}],default:"simple"},{type:"heading",label:" Line Style",name:"lineStyleSection",condition:{dividerType:["simple","text"]}},{type:"select",label:"Line Style",name:"lineStyle",options:[{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"}],default:"solid",condition:{dividerType:["simple","text"]}},{type:"color",label:"Color",name:"color",default:"#cccccc"},{type:"slider",label:"Thickness",name:"thickness",min:1,max:10,unit:"px",default:2,responsive:!0},{type:"heading",label:" Text Options",name:"textSection",condition:{dividerType:"text"}},{type:"text",label:"Text",name:"text",placeholder:"Enter divider text",default:"",condition:{dividerType:"text"}},{type:"color",label:"Text Color",name:"textColor",default:"#666666",condition:{dividerType:"text"}},{type:"slider",label:"Text Size",name:"textSize",min:8,max:48,unit:"px",default:14,responsive:!0,condition:{dividerType:"text"}},{type:"select",label:"Text Weight",name:"textWeight",options:[{label:"Normal",value:"normal"},{label:"Semi Bold",value:"semi-bold"},{label:"Bold",value:"bold"}],default:"normal",condition:{dividerType:"text"}},{type:"slider",label:"Text Gap",name:"textGap",min:0,max:50,unit:"px",default:16,responsive:!0,condition:{dividerType:"text"}},{type:"heading",label:" Dot Options",name:"dotSection",condition:{dividerType:"dotted"}},{type:"slider",label:"Dot Size",name:"dotSize",min:2,max:20,unit:"px",default:6,responsive:!0,condition:{dividerType:"dotted"}},{type:"slider",label:"Dot Spacing",name:"dotSpacing",min:2,max:30,unit:"px",default:8,responsive:!0,condition:{dividerType:"dotted"}},{type:"heading",label:" Width & Alignment",name:"widthAlignment"},{type:"unit-number",label:"Width",name:"width",units:["px","%","em","rem"],defaultUnit:"%",default:"100%"},{type:"align",label:"Alignment",name:"alignment",options:["left","center","right"],default:"center"},{type:"heading",label:" Spacing",name:"spacing"},{type:"slider",label:"Vertical Gap (Above/Below)",name:"gap",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"slider",label:"Horizontal Padding (Left)",name:"paddingLeft",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"slider",label:"Horizontal Padding (Right)",name:"paddingRight",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"slider",label:"Top Padding",name:"paddingTop",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"slider",label:"Bottom Padding",name:"paddingBottom",min:0,max:100,unit:"px",default:0,responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",placeholder:"e.g. my-custom-class",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0,default:[]}]},defaultProps:{dividerType:"simple",lineStyle:"solid",thickness:2,color:"#cccccc",width:"100%",alignment:"center",gap:0,text:"",textColor:"#666666",textSize:14,textWeight:"normal",textGap:16,dotSize:6,dotSpacing:8},category:"Basic"});const kI=({node:e,device:t="desktop",isEditing:r,onEdit:n,cssStyle:a={}})=>{const l=e.props?.videoType||"youtube",c=e.props?.videoUrl||e.props?.videoSrc||"",u=e.props?.videoUpload||"",f=e.props?.iframeCode||"",h=e.props?.videoId||"dQw4w9WgXcQ",[m,g]=C.useState(!1),b=(Z,ue)=>{const _=e.style?.[Z],fe=e.responsive?.[t]?.style?.[Z];return fe!==void 0?fe:_!==void 0?_:ue},y=b("width","100%"),j=e.style?.aspectRatio||e.props?.aspectRatio||"16:9",w=a?.borderRadius||e.style?.borderRadius||"0px",S=a?.borderWidth||e.style?.borderWidth||"0px",N=a?.borderColor||e.style?.borderColor||"#000000",A=a?.boxShadow||e.style?.boxShadow||"none",E=a?.opacity||e.style?.opacity||1,M=a?.padding||e.style?.padding||"0px",T=b("paddingTop",0),D=b("paddingRight",0),R=b("paddingBottom",0),q=b("paddingLeft",0),K={display:"flex",justifyContent:"center",width:"100%",cursor:r?"pointer":"default",paddingTop:`${T}px`,paddingRight:`${D}px`,paddingBottom:`${R}px`,paddingLeft:`${q}px`},V=(Z=>{const[ue,_]=Z.split(":").map(Number);return _/ue*100})(j),Y={position:"relative",width:typeof y=="string"?y:`${y}px`,maxWidth:"100%",paddingBottom:`${V}%`,height:0,overflow:"hidden",borderRadius:w,boxShadow:A},$={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",borderRadius:w,border:S!=="0px"?`${S} solid ${N}`:"none",padding:M,opacity:E,display:"block"},I={position:"absolute",top:0,left:0,right:0,bottom:0,display:m?"flex":"none",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",fontSize:"14px",zIndex:10},ie=()=>{const Z=c||"";if(l==="youtube"){let ue=h;if(Z){const _=Z.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);ue=_?_[1]:Z}return`https://www.youtube.com/embed/${ue}?autoplay=${e.props?.autoplay?1:0}&controls=${e.props?.showControls!==!1?1:0}`}else if(l==="vimeo"){let ue=h;if(Z){const _=Z.match(/vimeo\.com\/(\d+)/);ue=_?_[1]:Z}return`https://player.vimeo.com/video/${ue}?autoplay=${e.props?.autoplay?1:0}`}else{if(l==="upload")return u||"";if(l==="url"||l==="html5")return Z}return Z},B=()=>{g(!1)};return s.jsx("div",{style:K,onClick:r?n:void 0,children:l==="iframe"&&f?s.jsx("div",{dangerouslySetInnerHTML:{__html:f}}):s.jsx("div",{style:Y,children:l==="html5"||l==="url"||l==="upload"?s.jsxs(s.Fragment,{children:[s.jsxs("video",{style:$,controls:e.props?.showControls!==!1,autoPlay:e.props?.autoplay||!1,loop:e.props?.loop||!1,onLoadedData:B,children:[s.jsx("source",{src:ie(),type:"video/mp4"}),"Your browser does not support the video tag."]}),s.jsx("div",{style:I,children:s.jsx("span",{children:"Loading video..."})})]}):s.jsxs(s.Fragment,{children:[s.jsx("iframe",{style:$,src:ie(),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:B}),s.jsx("div",{style:I,children:s.jsx("span",{children:"Loading video..."})})]})})})};Zs({widgetType:"video",name:"Video",icon:"Video",renderer:kI,schema:{content:[{type:"select",label:"Video Type",name:"videoType",options:[{label:"YouTube",value:"youtube"},{label:"Vimeo",value:"vimeo"},{label:"HTML5 Video",value:"html5"},{label:"Direct URL",value:"url"},{label:"Upload",value:"upload"},{label:"Iframe Code",value:"iframe"}],default:"youtube"},{type:"text",label:"Video URL / ID",name:"videoUrl",placeholder:"YouTube: dQw4w9WgXcQ or https://www.youtube.com/watch?v=... | Vimeo: 123456 or https://vimeo.com/... | HTML5/URL: https://example.com/video.mp4",default:""},{type:"mediapicker",label:"Upload Video",name:"videoUpload",assetType:"video",default:""},{type:"textarea",label:"Iframe Code",name:"iframeCode",placeholder:'<iframe src="..." width="560" height="315"></iframe>',default:""},{type:"text",label:"Video ID (Fallback)",name:"videoId",placeholder:"Fallback video ID",default:"dQw4w9WgXcQ"},{type:"toggle",label:"Autoplay",name:"autoplay",default:!1},{type:"toggle",label:"Show Controls",name:"showControls",default:!0},{type:"toggle",label:"Loop",name:"loop",default:!1}],style:[{type:"heading",label:"Sizing",name:"sizing"},{type:"unit-number",label:"Width",name:"width",units:["px","%","em","rem","vw"],defaultUnit:"%",default:"100%",responsive:!0},{type:"select",label:"Aspect Ratio",name:"aspectRatio",options:[{label:"16:9",value:"16:9"},{label:"4:3",value:"4:3"},{label:"1:1",value:"1:1"},{label:"21:9",value:"21:9"}],default:"16:9"},{type:"heading",label:"Styling",name:"styling"},{type:"slider",label:"Border Radius",name:"borderRadius",min:0,max:50,unit:"px",default:0},{type:"number",label:"Border Width",name:"borderWidth",min:0,max:20,unit:"px",default:0},{type:"color",label:"Border Color",name:"borderColor",default:"#000000"},{type:"shadow",label:"Box Shadow",name:"boxShadow",default:"none"},{type:"slider",label:"Opacity",name:"opacity",min:0,max:1,step:.1,default:1},{type:"heading",label:"Spacing",name:"spacing"},{type:"number",label:"Padding Top",name:"paddingTop",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"number",label:"Padding Right",name:"paddingRight",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"number",label:"Padding Bottom",name:"paddingBottom",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"number",label:"Padding Left",name:"paddingLeft",min:0,max:100,unit:"px",default:0,responsive:!0},{type:"dimensions",label:"Margin",name:"margin",unit:"px",responsive:!0}],advanced:[{type:"text",label:"CSS Classes",name:"customClass",default:""},{type:"select",label:"Hide On Device",name:"hideOn",options:[{label:"Desktop",value:"desktop"},{label:"Tablet",value:"tablet"},{label:"Mobile",value:"mobile"}],multiple:!0}]},defaultProps:{videoUrl:"",videoId:"dQw4w9WgXcQ",videoType:"youtube",autoplay:!1,showControls:!0,loop:!1},category:"Content"});const EI=({node:e,device:t,isSelected:r,onSelect:n,cssStyle:a,className:l,onClick:c})=>{if(!e.widgetType)return s.jsxs("div",{className:"text-gray-900 p-2 border border-gray-300 rounded text-xs",children:["Node type: ",e.kind]});const u=xI(e.widgetType);if(!u)return s.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 p-4 rounded text-center text-sm text-gray-600 cursor-pointer hover:bg-gray-100 transition",onClick:c,children:[s.jsxs("p",{className:"font-medium",children:["[",e.widgetType,"]"]}),s.jsx("p",{className:"text-xs mt-1",children:"Widget not registered"}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Content: ",JSON.stringify(e.props)?.substring(0,50),"..."]})]});const f=e.widgetType!=="image"&&e.widgetType!=="video",{backgroundColor:h,...m}=a,b={width:"100%",position:"relative",...f?m:(()=>{const{borderWidth:y,borderStyle:j,borderColor:w,borderRadius:S,boxShadow:N,shadow:A,opacity:E,padding:M,...T}=m;return T})()};return s.jsx("div",{style:b,className:`widget-node cursor-pointer transition ${r?"ring-2 ring-blue-500 bg-blue-50 ring-inset":"hover:ring-1 hover:ring-blue-300"} ${l}`,onClick:c,children:s.jsx(u,{node:e,device:t,isEditing:r,onEdit:()=>n?.(e.id),cssStyle:a})})},AI=e=>{const t={},r=["border","outline","Box"],n=new Set(["display","flexDirection","justifyContent","alignItems","alignContent","flexWrap","flex","flexGrow","flexShrink","flexBasis","gap","gridTemplateColumns","gridTemplateRows","gridAutoColumns","gridAutoRows","gridTemplate","grid","gridGap","gridAutoFlow","gridColumn","gridRow","position","top","right","bottom","left","zIndex"]);for(const[a,l]of Object.entries(e||{})){if(n.has(a))continue;let c=!1;for(const u of r)if(a.includes(u)){c=!0;break}c||(t[a]=l)}return t},Ih=({node:e,device:t="desktop",isSelected:r=!1,onSelect:n})=>{const a=ES(e,t),l=bb(e,t),c=uI(a),f={desktop:"hideDesktop",tablet:"hideTablet",mobile:"hideMobile"}[t],h=l[f]===!0||l.hidden===!0,m=[l.customClass,r?"node-selected":"",h?"hidden":""].filter(Boolean).join(" ");let g=c;h&&(g={...g,opacity:.5,pointerEvents:"auto"});const b=y=>{y.stopPropagation(),n?.(e.id)};switch(e.kind){case"section":return s.jsx(fI,{node:e,device:t,isSelected:r,onSelect:n,cssStyle:g,className:m,onClick:b});case"column":return s.jsx(pI,{node:e,device:t,isSelected:r,onSelect:n,cssStyle:g,className:m,onClick:b});case"widget":const y=e.widgetType==="image"?g:AI(g);return s.jsx(EI,{node:e,device:t,isSelected:r,onSelect:n,cssStyle:y,className:m,onClick:b});case"root":return s.jsx("div",{"data-node-id":e.id,"data-node-type":"root",children:e.children&&e.children.length>0?e.children.map(j=>s.jsx(Ih,{node:j,device:t,onSelect:n,isSelected:!1},j.id)):null},e.id);default:return null}},TI=({device:e="desktop",onSelectNode:t})=>{const r=C.useContext(Fo),[n,a]=C.useState(null);if(!r)return s.jsx("div",{className:"p-4 text-black text-sm",children:"Builder context not available"});const{rootNode:l,selectNode:c}=r;if(!l||!l.children)return s.jsx("div",{className:"p-4 text-gray-900 text-sm",children:"No page tree loaded"});const u=h=>{a(h),c?.(h),t?.(h)},f=()=>{switch(e){case"mobile":return"384px";case"tablet":return"672px";case"desktop":default:return"100%"}};return s.jsxs("div",{className:"canvas-container bg-linear-to-b from-gray-50 to-black-100 overflow-auto h-full",children:[s.jsx("div",{className:"canvas-preview min-h-full",children:s.jsx("div",{className:"canvas-device-wrapper mx-auto transition-all",style:{width:f(),boxShadow:e!=="desktop"?"0 10px 40px rgba(0,0,0,0.1)":"none"},children:s.jsx("div",{className:"bg-white min-h-screen",children:l.children?.map(h=>s.jsx(Ih,{node:h,device:e,isSelected:n===h.id,onSelect:u},h.id))})})}),s.jsx("style",{children:`
        .canvas-container {
          background-color: #f3f4f6;
          display: flex;
          flex-direction: column;
        }

        .canvas-preview {
          flex: 1;
          overflow: auto;
       
        }

        .canvas-device-wrapper {
          background: white;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          min-height: auto;
          margin-left: auto;
          margin-right: auto;
          overflow: visible;
        }

        /* Mobile view */
        @media (max-width: 768px) {
          .canvas-device-wrapper {
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          }
        }

        /* Responsive grid for sections */
        @media (max-width: 768px) {
          .builder-section {
            width: 100%;
          }
        }

        /* Node selection outline */
        .node-selected {
          outline: 2px solid #3b82f6 !important;
          box-shadow: inset 0 0 0 1px #3b82f6, 0 0 0 3px rgba(59, 130, 246, 0.1);
          position: relative;
        }

        .node-selected::after {
          content: attr(data-selected);
          position: absolute;
          top: -24px;
          left: 0;
          background: #3b82f6;
          color: white;
          font-size: 11px;
          padding: 2px 6px;
          border-radius: 3px;
          white-space: nowrap;
          font-weight: bold;
        }

        /* Section styles */
        .section-node {
          width: 100%;
          position: relative;
          display: grid;
        }

        /* Boxed mode (Elementor content width boxed) */
        .builder-section.is-boxed {
          max-width: var(--boxed-max, 1140px);
          margin-left: auto;
          margin-right: auto;
          padding-left: var(--pad-x, 15px);
          padding-right: var(--pad-x, 15px);
        }

        /* Full width mode (Elementor full width content) */
        .builder-section.is-full {
          max-width: none;
          margin-left: 0;
          margin-right: 0;
          padding-left: 0;
          padding-right: 0;
        }

        .section-children {
          width: 100%;
        }

        /* Container styles */
        .container-node {
          width: 100%;
          position: relative;
          display: grid;
        }

        /* Column styles */
        .column-node {
          position: relative;
          display: flex;
          flex-direction: column;
        }

        /* Widget styles */
        .widget-node {
          position: relative;
          transition: background-color 0.15s ease;
          
        }

        /* Hidden elements indicator */
        .hidden {
          opacity: 0.4;
          pointer-events: none;
        }

        .hidden::before {
          content: 'Hidden on this device';
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: rgba(0, 0, 0, 0.7);
          color: white;
          padding: 4px 8px;
          border-radius: 3px;
          font-size: 11px;
          white-space: nowrap;
          z-index: 10;
        }
      `})]})},MI={section:{content:[{name:"heading",label:"Content Width",type:"heading"},{name:"contentWidthMode",label:"Mode",type:"buttongroup",options:[{label:"Full Width",value:"full_width"},{label:"Boxed",value:"boxed"}],default:"full_width",help:"Choose how to layout the content"},{name:"boxedMaxWidth",label:"Max Width (px)",type:"number",default:1140,min:400,max:2e3,unit:"px",condition:e=>e.contentWidthMode==="boxed",help:"Maximum width when in boxed mode"},{name:"horizontalPadding",label:"Horizontal Padding (px)",type:"number",default:15,min:0,max:100,unit:"px",condition:e=>e.contentWidthMode==="boxed",help:"Padding on left and right when in boxed mode"},{name:"columnsDivider",label:"Columns",type:"heading"},{name:"contentWidth",label:"Content Width",type:"select",options:[{label:"Full Width",value:"full"},{label:"Boxed",value:"boxed"},{label:"Custom",value:"custom"}],default:"full"},{name:"numColumns",label:"Columns",type:"slider",min:1,max:6,default:1,responsive:!0,help:"Number of columns in the section"}],style:[{name:"backgroundColor",label:"Background Color",type:"color"},{name:"backgroundImage",label:"Background Image",type:"mediapicker",accept:"image"},{name:"backgroundSize",label:"Background Size",type:"select",options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Auto",value:"auto"},{label:"100% 100%",value:"100% 100%"},{label:"100% Auto",value:"100% auto"},{label:"Auto 100%",value:"auto 100%"}],default:"cover",condition:e=>!!e.backgroundImage,help:"How the background image should be sized"},{name:"backgroundPosition",label:"Background Position",type:"select",options:[{label:"Center",value:"center"},{label:"Top Left",value:"top left"},{label:"Top Center",value:"top center"},{label:"Top Right",value:"top right"},{label:"Center Left",value:"center left"},{label:"Center Right",value:"center right"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Center",value:"bottom center"},{label:"Bottom Right",value:"bottom right"}],default:"center",condition:e=>!!e.backgroundImage,help:"Position of the background image"},{name:"backgroundOpacity",label:"Background Image Opacity",type:"slider",min:0,max:1,step:.1,default:1,condition:e=>!!e.backgroundImage},{name:"minHeight",label:"Min Height",type:"unit-number",units:["px","rem","em","%","vh","vw"],defaultUnit:"px",responsive:!0},{name:"height",label:"Height",type:"unit-number",units:["px","rem","em","%","vh","vw"],defaultUnit:"px",responsive:!0},{name:"border",label:"Border",type:"border"},{name:"shadow",label:"Shadow",type:"shadow"},{name:"padding",label:"Padding",type:"dimensions",unit:"px",responsive:!0},{name:"margin",label:"Margin",type:"dimensions",unit:"px",responsive:!0},{name:"gap",label:"Gap Between Items",type:"unit-number",units:["px","rem","em","%","vh","vw"],defaultUnit:"px",default:"0px",responsive:!0}],advanced:[{name:"direction",label:"Layout Direction",type:"buttongroup",options:[{label:"Down ",value:"column",icon:"fa-arrow-down"},{label:"Side ",value:"row",icon:"fa-arrow-right"}],responsive:!0,help:"Arrange columns vertically or horizontally"},{name:"display",label:"Display",type:"select",options:[{label:"Block",value:"block"},{label:"Flex",value:"flex"},{label:"Grid",value:"grid"}],responsive:!0},{name:"flexDirection",label:"Direction",type:"select",options:[{label:"Row",value:"row"},{label:"Column",value:"column"}],responsive:!0,condition:e=>e.display==="flex"},{name:"justifyContent",label:"Justify Content",type:"align",options:["flex-start","center","flex-end","space-between"]},{name:"alignItems",label:"Align Items",type:"align",options:["flex-start","center","flex-end"]},{name:"gap",label:"Gap",type:"gap",unit:"px",responsive:!0},{name:"customClass",label:"CSS Class",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},column:{content:[{name:"verticalAlign",label:"Vertical Align",type:"select",options:[{label:"Top",value:"flex-start"},{label:"Center",value:"center"},{label:"Bottom",value:"flex-end"},{label:"Stretch",value:"stretch"}],default:"flex-start"},{name:"horizontalAlign",label:"Horizontal Align",type:"select",options:[{label:"Left",value:"flex-start"},{label:"Center",value:"center"},{label:"Right",value:"flex-end"},{label:"Space Between",value:"space-between"}],default:"flex-start"},{name:"gap",label:"Gap Between Widgets",type:"unit-number",units:["px","rem","em","%","vh","vw"],defaultUnit:"px",default:"0px",responsive:!0,help:"Space between widgets inside the column"}],style:[{name:"backgroundColor",label:"Background Color",type:"color"},{name:"padding",label:"Padding",type:"dimensions",unit:"px",responsive:!0},{name:"margin",label:"Margin",type:"dimensions",unit:"px",responsive:!0},{name:"border",label:"Border",type:"border"},{name:"shadow",label:"Shadow",type:"shadow"},{name:"minHeight",label:"Min Height",type:"number",unit:"px",responsive:!0},{name:"height",label:"Height",type:"unit-number",units:["px","rem","em","%","vh","vw"],defaultUnit:"px",responsive:!0}],advanced:[{name:"width",label:"Column Width",type:"unit-number",units:["px","vh","vw","em","rem","%","auto"],defaultUnit:"%",responsive:!0,help:"Set the width of this column (adjustable)"},{name:"direction",label:"Layout Direction",type:"buttongroup",options:[{label:"Down ",value:"column",icon:"fa-arrow-down"},{label:"Side ",value:"row",icon:"fa-arrow-right"}],responsive:!0,help:"Arrange child elements vertically or horizontally"},{name:"display",label:"Display",type:"select",options:[{label:"Block",value:"block"},{label:"Flex",value:"flex"}],default:"flex"},{name:"flexDirection",label:"Direction",type:"select",options:[{label:"Row",value:"row"},{label:"Column",value:"column"}],responsive:!0,condition:e=>e.display==="flex"},{name:"gap",label:"Gap",type:"gap",unit:"px",responsive:!0},{name:"customClass",label:"CSS Class",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]}},OI=e=>MI[e]||{content:[],style:[],advanced:[]},RI={content:[{name:"product",label:"Product",type:"heading"},{name:"productId",label:"Select Product",type:"select",options:[],help:"Choose a product to display"},{name:"showTitle",label:"Show Title",type:"toggle",default:!0},{name:"showPrice",label:"Show Price",type:"toggle",default:!0},{name:"showRating",label:"Show Rating",type:"toggle",default:!0},{name:"showDescription",label:"Show Description",type:"toggle",default:!1},{name:"showAddToCart",label:"Show Add to Cart",type:"toggle",default:!0}],style:[{name:"card",label:"Card",type:"heading"},{name:"backgroundColor",label:"Background Color",type:"color"},{name:"border",label:"Border",type:"border"},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px",default:8},{name:"boxShadow",label:"Shadow",type:"shadow"},{name:"padding",label:"Padding",type:"dimensions",unit:"px"},{name:"image",label:"Image",type:"heading"},{name:"imageHeight",label:"Image Height",type:"number",unit:"px",default:300},{name:"imageBorderRadius",label:"Image Border Radius",type:"number",unit:"px"},{name:"typography",label:"Typography",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"unit-number",units:["px","rem","em"],defaultUnit:"px",default:"16px"},{name:"priceColor",label:"Price Color",type:"color"},{name:"priceFontSize",label:"Price Size",type:"unit-number",units:["px","rem","em"],defaultUnit:"px",default:"18px"}],advanced:[{name:"hoverEffect",label:"Hover Effect",type:"select",options:[{label:"None",value:"none"},{label:"Scale",value:"scale"},{label:"Shadow",value:"shadow"},{label:"Lift",value:"lift"}],default:"scale"},{name:"hoverTransition",label:"Transition Duration",type:"number",unit:"ms",default:300},{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},DI={content:[{name:"category",label:"Category",type:"heading"},{name:"categoryId",label:"Select Category",type:"select",options:[]},{name:"showTitle",label:"Show Title",type:"toggle",default:!0},{name:"showDescription",label:"Show Description",type:"toggle",default:!1},{name:"showProductCount",label:"Show Product Count",type:"toggle",default:!0}],style:[{name:"card",label:"Card",type:"heading"},{name:"backgroundColor",label:"Background Color",type:"color"},{name:"border",label:"Border",type:"border"},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px",default:8},{name:"boxShadow",label:"Shadow",type:"shadow"},{name:"padding",label:"Padding",type:"dimensions",unit:"px"},{name:"image",label:"Image",type:"heading"},{name:"imageHeight",label:"Image Height",type:"number",unit:"px",default:200},{name:"imageBorderRadius",label:"Image Border Radius",type:"number",unit:"px"},{name:"typography",label:"Typography",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"number",unit:"px",default:18}],advanced:[{name:"hoverEffect",label:"Hover Effect",type:"select",options:[{label:"None",value:"none"},{label:"Scale",value:"scale"},{label:"Overlay",value:"overlay"}],default:"overlay"},{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},zI={content:[{name:"header",label:"Header",type:"heading"},{name:"title",label:"Title",type:"text",default:"Featured Products"},{name:"showTitle",label:"Show Title",type:"toggle",default:!0},{name:"subtitle",label:"Subtitle",type:"text"},{name:"showSubtitle",label:"Show Subtitle",type:"toggle",default:!1},{name:"products",label:"Products",type:"heading"},{name:"limit",label:"Number of Products",type:"slider",min:1,max:50,step:1,default:8},{name:"columns",label:"Columns",type:"select",options:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"6",value:6}],default:3,responsive:!0},{name:"layout",label:"Layout",type:"select",options:[{label:"Grid",value:"grid"},{label:"Carousel",value:"carousel"}],default:"grid"}],style:[{name:"container",label:"Container",type:"heading"},{name:"backgroundColor",label:"Background Color",type:"color"},{name:"padding",label:"Padding",type:"dimensions",unit:"px"},{name:"spacing",label:"Spacing",type:"heading"},{name:"gap",label:"Gap Between Items",type:"number",unit:"px",default:20,responsive:!0},{name:"margin",label:"Margin",type:"dimensions",unit:"px"},{name:"header",label:"Header",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"number",unit:"px",default:28},{name:"subtitleColor",label:"Subtitle Color",type:"color"},{name:"subtitleFontSize",label:"Subtitle Size",type:"number",unit:"px",default:16}],advanced:[{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},LI={content:[{name:"header",label:"Header",type:"heading"},{name:"title",label:"Title",type:"text",default:"Shop by Category"},{name:"showTitle",label:"Show Title",type:"toggle",default:!0},{name:"categories",label:"Categories",type:"heading"},{name:"limit",label:"Number of Categories",type:"slider",min:1,max:50,step:1,default:6},{name:"columns",label:"Columns",type:"select",options:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"6",value:6}],default:3,responsive:!0}],style:[{name:"container",label:"Container",type:"heading"},{name:"backgroundColor",label:"Background Color",type:"color"},{name:"padding",label:"Padding",type:"dimensions",unit:"px"},{name:"spacing",label:"Spacing",type:"heading"},{name:"gap",label:"Gap Between Items",type:"number",unit:"px",default:20,responsive:!0},{name:"header",label:"Header",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"number",unit:"px",default:28}],advanced:[{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},BI={content:[{name:"slides",label:"Slides",type:"repeater",controls:[{name:"media",label:"Image",type:"mediapicker",accept:"image"},{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"},{name:"link",label:"Link",type:"link"},{name:"buttonText",label:"Button Text",type:"text"}],minItems:1}],style:[{name:"sizing",label:"Sizing",type:"heading"},{name:"height",label:"Height",type:"number",unit:"px",default:400,responsive:!0},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px"},{name:"spacing",label:"Spacing",type:"heading"},{name:"margin",label:"Margin",type:"dimensions",unit:"px"},{name:"overlay",label:"Overlay",type:"heading"},{name:"overlayColor",label:"Overlay Color",type:"color"},{name:"overlayOpacity",label:"Overlay Opacity",type:"slider",min:0,max:1,step:.1,default:.3},{name:"content",label:"Content",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"number",unit:"px",default:32},{name:"descriptionColor",label:"Description Color",type:"color"}],advanced:[{name:"autoplay",label:"Autoplay",type:"toggle",default:!0},{name:"autoplayInterval",label:"Autoplay Interval",type:"number",unit:"ms",default:5e3},{name:"showDots",label:"Show Dots",type:"toggle",default:!0},{name:"showArrows",label:"Show Arrows",type:"toggle",default:!0},{name:"className",label:"CSS Classes",type:"text"}]},_I={content:[{name:"header",label:"Header",type:"heading"},{name:"title",label:"Title",type:"text",default:"Subscribe to Our Newsletter"},{name:"subtitle",label:"Subtitle",type:"textarea"},{name:"description",label:"Description",type:"textarea"},{name:"form",label:"Form",type:"heading"},{name:"inputPlaceholder",label:"Input Placeholder",type:"text",default:"Enter your email"},{name:"buttonText",label:"Button Text",type:"text",default:"Subscribe"},{name:"success",label:"Success Message",type:"heading"},{name:"successTitle",label:"Success Title",type:"text",default:"You're subscribed!"},{name:"successMessage",label:"Success Message",type:"textarea",default:"Thanks for subscribing!"}],style:[{name:"container",label:"Container",type:"heading"},{name:"backgroundColor",label:"Background Color",type:"color"},{name:"backgroundMedia",label:"Background Image",type:"mediapicker",accept:"image"},{name:"padding",label:"Padding",type:"dimensions",unit:"px",default:{top:40,right:40,bottom:40,left:40}},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px"},{name:"typography",label:"Typography",type:"heading"},{name:"titleColor",label:"Title Color",type:"color"},{name:"titleFontSize",label:"Title Size",type:"number",unit:"px",default:28},{name:"textColor",label:"Text Color",type:"color"},{name:"button",label:"Button",type:"heading"},{name:"buttonColor",label:"Button Color",type:"color"},{name:"buttonTextColor",label:"Button Text Color",type:"color"}],advanced:[{name:"layout",label:"Layout",type:"select",options:[{label:"Vertical",value:"vertical"},{label:"Horizontal",value:"horizontal"}],default:"vertical"},{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend"},{name:"hideDesktop",label:"Hide on Desktop",type:"toggle",default:!1},{name:"hideTablet",label:"Hide on Tablet",type:"toggle",default:!1},{name:"hideMobile",label:"Hide on Mobile",type:"toggle",default:!1}]},PI={content:[{name:"content",label:"Heading Text",type:"text",placeholder:"Enter heading text"},{name:"level",label:"Heading Level",type:"select",options:[{label:"H1 - Main Heading",value:"h1"},{label:"H2 - Subheading",value:"h2"},{label:"H3 - Section",value:"h3"},{label:"H4 - Subsection",value:"h4"},{label:"H5 - Minor",value:"h5"},{label:"H6 - Minimal",value:"h6"}],default:"h2"}],style:[{name:"fontSize",label:"Font Size",type:"number",unit:"px",default:24,responsive:!0},{name:"color",label:"Text Color",type:"color",default:"#000000",responsive:!0},{name:"textAlign",label:"Alignment",type:"select",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}],default:"left",responsive:!0},{name:"fontWeight",label:"Font Weight",type:"select",options:[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"},{label:"700",value:"700"},{label:"600",value:"600"}],default:"bold",responsive:!0},{name:"lineHeight",label:"Line Height",type:"text",placeholder:"1.5",responsive:!0},{name:"letterSpacing",label:"Letter Spacing",type:"text",placeholder:"0px",responsive:!0},{name:"margin",label:"Margin",type:"text",placeholder:"0px",responsive:!0},{name:"padding",label:"Padding",type:"text",placeholder:"0px",responsive:!0}],advanced:[{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend",responsive:!0}]},II={content:[{name:"content",label:"Text Content",type:"textarea",placeholder:"Enter text content",rows:3}],style:[{name:"fontSize",label:"Font Size",type:"number",unit:"px",default:16,responsive:!0},{name:"color",label:"Text Color",type:"color",default:"#333333",responsive:!0},{name:"textAlign",label:"Alignment",type:"select",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}],default:"left",responsive:!0},{name:"lineHeight",label:"Line Height",type:"text",placeholder:"1.6",responsive:!0},{name:"margin",label:"Margin",type:"text",placeholder:"0px",responsive:!0},{name:"padding",label:"Padding",type:"text",placeholder:"0px",responsive:!0}],advanced:[{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend",responsive:!0}]},HI={content:[{name:"text",label:"Button Text",type:"text",placeholder:"Click me"},{name:"link",label:"Link URL",type:"text",placeholder:"/products"}],style:[{name:"backgroundColor",label:"Background Color",type:"color",default:"#3b82f6",responsive:!0},{name:"color",label:"Text Color",type:"color",default:"#ffffff",responsive:!0},{name:"fontSize",label:"Font Size",type:"number",unit:"px",default:16,min:8,max:72,responsive:!0},{name:"paddingTop",label:"Padding Top",type:"number",unit:"px",default:12,min:0,max:100,responsive:!0},{name:"paddingRight",label:"Padding Right",type:"number",unit:"px",default:24,min:0,max:100,responsive:!0},{name:"paddingBottom",label:"Padding Bottom",type:"number",unit:"px",default:12,min:0,max:100,responsive:!0},{name:"paddingLeft",label:"Padding Left",type:"number",unit:"px",default:24,min:0,max:100,responsive:!0},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px",default:6,min:0,max:50,responsive:!0},{name:"margin",label:"Margin",type:"text",placeholder:"0px",responsive:!0},{name:"boxShadow",label:"Box Shadow",type:"toggle",default:!1,responsive:!0,help:"Enable drop shadow effect"},{name:"hoverBgColor",label:"Hover Background",type:"color",default:"#2563eb",responsive:!0,help:"Button background on hover"},{name:"hoverTextColor",label:"Hover Text Color",type:"color",default:"#ffffff",responsive:!0,help:"Button text color on hover"}],advanced:[{name:"className",label:"CSS Classes",type:"text"},{name:"hidden",label:"Hide Element",type:"toggle",default:!1,help:"Hide this element from the frontend",responsive:!0}]},$I={content:[{name:"src",label:"Image URL",type:"text",placeholder:"/images/example.jpg"},{name:"alt",label:"Alt Text",type:"text",placeholder:"Image description"}],style:[{name:"width",label:"Width",type:"unit-number",units:["px","vh","vw","em","rem","%"],defaultUnit:"%",default:"100%"},{name:"height",label:"Height",type:"text",placeholder:"auto"},{name:"objectFit",label:"Object Fit",type:"select",options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Fill",value:"fill"},{label:"Scale Down",value:"scale-down"}],default:"cover"},{name:"objectPosition",label:"Object Position",type:"select",options:[{label:"Center",value:"center"},{label:"Top",value:"top"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Top Left",value:"top left"},{label:"Top Right",value:"top right"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"}],default:"center"},{name:"borderRadius",label:"Border Radius",type:"number",unit:"px",default:0},{name:"opacity",label:"Opacity",type:"number",min:0,max:1,step:.1,default:1},{name:"padding",label:"Padding",type:"number",unit:"px",default:0}],advanced:[{name:"className",label:"CSS Classes",type:"text"}]},VI={heading:PI,text:II,button:HI,image:$I,productCard:RI,categoryCard:DI,featuredProducts:zI,featuredCategories:LI,slider:BI,newsletter:_I};function UI(e){return VI[e]||{content:[],style:[],advanced:[]}}const Xg=({control:e,value:t,onChange:r,condition:n})=>{if(n&&!n(t))return null;const a=()=>{const l=t!==void 0?t:e.default;switch(e.type){case"text":return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsx("input",{type:"text",value:l||"",onChange:f=>r(f.target.value),placeholder:e.placeholder,maxLength:e.maxLength,className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"textarea":return e.richText===!0?s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),(()=>{const h=Zx;return s.jsx(h,{value:l||"",onChange:m=>r(m)})})(),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]}):s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsx("textarea",{value:l||"",onChange:h=>r(h.target.value),placeholder:e.placeholder,rows:e.rows||3,maxLength:e.maxLength,className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"select":return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsxs("select",{value:String(l||""),onChange:f=>r(f.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"-- Select --"}),e.options?.map(f=>s.jsx("option",{value:String(f.value),children:f.label},String(f.value)))]}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"toggle":return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l||!1,onChange:f=>r(f.target.checked),className:"w-4 h-4 rounded"}),s.jsxs("span",{className:"text-xs font-semibold text-gray-700",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]})]}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"color":return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"color",value:l||"#000000",onChange:f=>r(f.target.value),className:"w-12 h-8 border border-gray-300 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:l||"",onChange:f=>r(f.target.value),placeholder:"#000000",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"slider":return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"range",min:e.min,max:e.max,step:e.step||1,value:l||e.min,onChange:f=>r(Number(f.target.value)),className:"flex-1 h-2 bg-gray-200 rounded cursor-pointer"}),s.jsx("input",{type:"number",min:e.min,max:e.max,step:e.step||1,value:l||e.min,onChange:f=>r(Number(f.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.unit&&s.jsx("span",{className:"text-xs text-gray-900",children:e.unit})]}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"number":return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",min:e.min,max:e.max,step:e.step||1,value:l||"",onChange:f=>r(f.target.value?Number(f.target.value):""),className:"flex-1 px-2 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.unit&&s.jsx("span",{className:"px-2 py-1.5 text-xs font-medium text-gray-600",children:e.unit})]}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"unit-number":{const h=(typeof l=="string"?l:"").match(/^([\d.-]*)(.*)$/),m=h?h[1]:"",b=(h?h[2].trim():"")||e.defaultUnit||"px",y=e.units||["px","rem","em","%","vh","vw"];return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",min:e.min,max:e.max,step:e.step||1,value:m,onChange:j=>{const w=j.target.value?`${j.target.value}${b}`:"";r(w)},placeholder:"Value",className:"flex-1 px-2 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("select",{value:b,onChange:j=>{const w=j.target.value,S=m?`${m}${w}`:w;r(S)},className:"px-2 py-1.5 border border-gray-300 rounded text-xs font-medium bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:y.map(j=>s.jsx("option",{value:j,children:j},j))})]}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]})}case"align":return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsx("div",{className:"flex gap-1",children:e.options?.map(f=>s.jsx("button",{onClick:()=>r(f),className:`px-3 py-1.5 rounded text-xs font-medium transition ${l===f?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:f,children:WI(f)},f))}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"dimensions":return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Top"}),s.jsx("input",{type:"number",value:l?.top||"",onChange:f=>r({...l,top:f.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Right"}),s.jsx("input",{type:"number",value:l?.right||"",onChange:f=>r({...l,right:f.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Bottom"}),s.jsx("input",{type:"number",value:l?.bottom||"",onChange:f=>r({...l,bottom:f.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Left"}),s.jsx("input",{type:"number",value:l?.left||"",onChange:f=>r({...l,left:f.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"typography":return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsxs("div",{className:"space-y-2 border border-gray-200 rounded p-2 bg-gray-50",children:[e.includeFontFamily!==!1&&s.jsx("input",{type:"text",value:l?.fontFamily||"",onChange:f=>r({...l,fontFamily:f.target.value}),placeholder:"Font Family",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.includeFontWeight!==!1&&s.jsxs("select",{value:l?.fontWeight||400,onChange:f=>r({...l,fontWeight:f.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:300,children:"Light (300)"}),s.jsx("option",{value:400,children:"Normal (400)"}),s.jsx("option",{value:500,children:"Medium (500)"}),s.jsx("option",{value:600,children:"Semibold (600)"}),s.jsx("option",{value:700,children:"Bold (700)"}),s.jsx("option",{value:800,children:"Extrabold (800)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"number",value:l?.fontSize||"",onChange:f=>r({...l,fontSize:f.target.value}),placeholder:"Font Size",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.includeLineHeight!==!1&&s.jsx("input",{type:"number",value:l?.lineHeight||"",onChange:f=>r({...l,lineHeight:f.target.value}),placeholder:"Line Height",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.includeLetterSpacing!==!1&&s.jsx("input",{type:"number",value:l?.letterSpacing||"",onChange:f=>r({...l,letterSpacing:f.target.value}),placeholder:"Letter Spacing",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.includeTextTransform!==!1&&s.jsxs("select",{value:l?.textTransform||"none",onChange:f=>r({...l,textTransform:f.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"none",children:"None"}),s.jsx("option",{value:"uppercase",children:"Uppercase"}),s.jsx("option",{value:"lowercase",children:"Lowercase"}),s.jsx("option",{value:"capitalize",children:"Capitalize"})]})]}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"border":const c=l||{};return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsxs("div",{className:"space-y-2 border border-gray-200 rounded p-2 bg-gray-50",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"number",value:c?.width||"",onChange:f=>r({...c,width:f.target.value}),placeholder:"Width",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsxs("select",{value:c?.style||"solid",onChange:f=>r({...c,style:f.target.value}),className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"solid",children:"Solid"}),s.jsx("option",{value:"dashed",children:"Dashed"}),s.jsx("option",{value:"dotted",children:"Dotted"})]})]}),s.jsx("input",{type:"color",value:c?.color||"#000000",onChange:f=>r({...c,color:f.target.value}),className:"w-full h-8 border border-gray-300 rounded cursor-pointer"}),s.jsx("input",{type:"number",value:c?.radius||"",onChange:f=>r({...c,radius:f.target.value}),placeholder:"Radius",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"shadow":const u=l||{};return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsxs("div",{className:"space-y-2 border border-gray-200 rounded p-2 bg-gray-50",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"number",value:u?.offsetX||"",onChange:f=>r({...u,offsetX:f.target.value}),placeholder:"Offset X",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"number",value:u?.offsetY||"",onChange:f=>r({...u,offsetY:f.target.value}),placeholder:"Offset Y",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"number",value:u?.blur||"",onChange:f=>r({...u,blur:f.target.value}),placeholder:"Blur",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"number",value:u?.spread||"",onChange:f=>r({...u,spread:f.target.value}),placeholder:"Spread",className:"px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsx("input",{type:"color",value:u?.color||"#000000",onChange:f=>r({...u,color:f.target.value}),className:"w-full h-8 border border-gray-300 rounded cursor-pointer"})]}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"mediapicker":return s.jsx(FI,{value:l,onChange:r,label:e.label,help:e.help,accept:e.accept,responsive:e.responsive});case"heading":return s.jsx("div",{className:"mb-3 pt-2 pb-2 border-t border-gray-200",children:s.jsx("h4",{className:"text-xs font-bold text-gray-700 uppercase tracking-wide",children:e.label})});case"buttongroup":return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsx("div",{className:"flex gap-2",children:e.options?.map(f=>s.jsxs("button",{onClick:()=>{r(f.value)},className:`flex-1 px-3 py-2 rounded text-xs font-medium transition ${l===f.value?"bg-blue-500 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:f.label,children:[f.icon&&s.jsx("i",{className:`fas ${f.icon} mr-1`}),f.label]},f.value))}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]});case"repeater":{const[f,h]=C.useState(null),m=Array.isArray(l)?l:e.default||[],g=()=>{const j={};e.fields?.forEach(w=>{j[w.name]=w.default||""}),r([...m,j])},b=j=>{r(m.filter((w,S)=>S!==j)),h(null)},y=(j,w,S)=>{const N=[...m];N[j]={...N[j],[w]:S},r(N)};return s.jsxs("div",{className:"mb-4 border border-gray-300 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 p-3 border-b",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-700 mb-3",children:e.label}),s.jsx("div",{className:"space-y-2 mb-3",children:m.map((j,w)=>s.jsxs("div",{className:`p-3 border rounded cursor-pointer transition ${f===w?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>h(f===w?null:w),children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"text-xs font-semibold text-gray-700",children:["Item ",w+1,j.icon&&s.jsx("span",{className:"ml-2 text-sm",children:j.icon}),j.heading&&s.jsx("span",{className:"ml-2 text-gray-600",children:j.heading})]})}),s.jsx("button",{onClick:S=>{S.stopPropagation(),b(w)},className:"text-black hover:text-gray-700 text-xs font-bold",children:""})]}),f===w&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-3",onClick:S=>S.stopPropagation(),children:e.fields?.map(S=>s.jsxs("div",{onClick:N=>N.stopPropagation(),children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:S.label}),S.type==="icon"&&s.jsx("input",{type:"text",value:j[S.name]||"",onChange:N=>{N.stopPropagation(),y(w,S.name,N.target.value)},onClick:N=>N.stopPropagation(),placeholder:"fas fa-check",className:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),S.type==="text"&&s.jsx("input",{type:"text",value:j[S.name]||"",onChange:N=>{N.stopPropagation(),y(w,S.name,N.target.value)},onClick:N=>N.stopPropagation(),placeholder:S.placeholder||S.label,className:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),S.type==="textarea"&&s.jsx("textarea",{value:j[S.name]||"",onChange:N=>{N.stopPropagation(),y(w,S.name,N.target.value)},onClick:N=>N.stopPropagation(),placeholder:S.placeholder||S.label,rows:2,className:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"}),S.type==="toggle"&&s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",onClick:N=>N.stopPropagation(),children:[s.jsx("input",{type:"checkbox",checked:j[S.name]||!1,onChange:N=>{N.stopPropagation(),y(w,S.name,N.target.checked)},onClick:N=>N.stopPropagation(),className:"w-4 h-4 rounded"}),s.jsx("span",{className:"text-xs text-gray-600",children:S.label})]})]},S.name))})]},w))}),s.jsx("button",{onClick:g,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-xs font-semibold rounded transition",children:"+ Add Item"})]}),e.help&&s.jsx("div",{className:"p-3 bg-blue-50 text-xs text-blue-700",children:e.help})]})}case"icon":{const f=["fas fa-star","fas fa-heart","fas fa-check","fas fa-times","fas fa-plus","fas fa-minus","fas fa-search","fas fa-user","fas fa-bell","fas fa-cog","fas fa-phone","fas fa-envelope","fas fa-home","fas fa-shopping-cart","fas fa-arrow-right","fas fa-arrow-left","fas fa-arrow-up","fas fa-arrow-down","fas fa-calendar","fas fa-clock","fas fa-camera","fas fa-image","fas fa-video","fas fa-music","fas fa-file","fas fa-folder","fas fa-link","fas fa-share","fas fa-download","fas fa-upload","fab fa-facebook","fab fa-twitter","fab fa-linkedin","fab fa-instagram","fab fa-youtube","fab fa-github","fab fa-whatsapp","fab fa-telegram","fas fa-bars","fas fa-trash","fas fa-edit","fas fa-eye","fas fa-globe","fas fa-map","fas fa-star-half","fas fa-flag","fas fa-rocket","fas fa-certificate","fas fa-crown","fas fa-gift","fas fa-lock","fas fa-unlock","fas fa-key","fas fa-battery-full","fas fa-wifi","fas fa-sun","fas fa-moon","fas fa-cloud","fas fa-leaf","fas fa-fire"];return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:[e.label,e.responsive&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded",children:[s.jsx("p",{className:"text-xs font-semibold text-blue-700 mb-2",children:" Custom FontAwesome Code"}),s.jsx("input",{type:"text",value:l||"",onChange:h=>r(h.target.value),placeholder:"e.g., fas fa-star, fab fa-facebook",className:"w-full px-2 py-2 border border-blue-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Type any FontAwesome class name"})]}),l&&s.jsxs("div",{className:"mb-3 p-2 bg-gray-50 border border-gray-200 rounded flex items-center gap-2",children:[s.jsx("span",{className:"text-3xl text-gray-400",children:s.jsx("i",{className:l})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Selected:"}),s.jsx("p",{className:"text-sm text-gray-400 font-mono",children:l})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Or Select from Library:"}),s.jsx("div",{className:"grid grid-cols-6 gap-2 p-2 border border-gray-300 rounded bg-gray-50 max-h-64 overflow-y-auto",children:f.map(h=>s.jsx("button",{onClick:()=>r(h),className:`p-2 rounded text-lg transition ${l===h?"bg-blue-500 text-white shadow-md ring-2 ring-blue-400":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200 hover:border-blue-400"}`,title:h,children:s.jsx("i",{className:h})},h))})]}),e.help&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:e.help})]})}}};return s.jsx(s.Fragment,{children:a()})},FI=({value:e,onChange:t,label:r,help:n,accept:a="all",responsive:l})=>{const[c,u]=C.useState(!1),[f,h]=C.useState(!1),[m,g]=C.useState(""),[b,y]=C.useState(!1),j=async S=>{const N=S.target.files?.[0];if(N){y(!0);try{const A=new FormData;A.append("file",N);const E=await fetch("/api/media/upload",{method:"POST",body:A});if(E.ok){const M=await E.json(),T=M.asset?.url||M.url||M.path||N.name;t(T)}else console.error("Upload failed"),alert("Upload failed. Please try again.")}catch(A){console.error("Upload error:",A),alert("Upload error. Please try again.")}finally{y(!1)}}},w=()=>{m.trim()&&(t(m),g(""),h(!1))};return s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:[r,l&&s.jsx("span",{className:"text-blue-500 ml-1",children:""})]}),s.jsxs("div",{className:"border border-gray-300 rounded p-2 bg-gray-50",children:[e?s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center text-2xl overflow-hidden",children:typeof e=="string"&&e.startsWith?.("http")?s.jsx("img",{src:e,alt:"preview",className:"w-full h-full object-cover"}):a==="video"||e?.type==="video"?"":""}),s.jsxs("div",{className:"flex-1 text-xs",children:[s.jsx("p",{className:"font-semibold text-gray-700 truncate",children:typeof e=="string"?e.includes("/")?e.split("/").pop()?.split("?")[0]||"Media File":e:e?.filename||e?.assetId}),s.jsx("p",{className:"text-gray-600",children:typeof e=="string"?"URL":"Asset"})]}),s.jsx("button",{onClick:()=>t(void 0),className:"p-1 hover:bg-gray-100 rounded text-black",title:"Remove",children:""})]}):s.jsxs("div",{className:"text-center py-4 text-gray-900",children:[s.jsx("p",{className:"text-2xl mb-1",children:""}),s.jsx("p",{className:"text-xs",children:"No media selected"})]}),f?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:m,onChange:S=>g(S.target.value),placeholder:"https://example.com/image.jpg",className:"flex-1 px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-gray-500",onKeyPress:S=>S.key==="Enter"&&w()}),s.jsx("button",{onClick:w,className:"px-3 py-1.5 bg-black hover:bg-black text-white text-xs font-medium rounded transition",children:"Add"}),s.jsx("button",{onClick:()=>{h(!1),g("")},className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-700 text-white text-xs font-medium rounded transition",children:"Cancel"})]}):s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("label",{className:`flex-1 px-2 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded cursor-pointer transition text-center ${b?"opacity-50 cursor-not-allowed":""}`,children:[b?"Uploading...":"Upload",s.jsx("input",{type:"file",onChange:j,disabled:b,accept:a==="all"?"image/*,video/*":a==="image"?"image/*":"video/*",className:"hidden"})]}),s.jsx("button",{onClick:()=>h(!0),className:"flex-1 px-2 py-1.5 bg-black hover:bg-black text-white text-xs font-medium rounded transition",children:"URL"}),s.jsx("button",{onClick:()=>u(!0),className:"flex-1 px-2 py-1.5 bg-gray-700 hover:bg-gray-700 text-white text-xs font-medium rounded transition",children:"Library"})]})]}),n&&s.jsx("p",{className:"text-xs text-gray-900 mt-1",children:n}),c&&s.jsx(qI,{onSelect:(S,N)=>{t(S),u(!1)},onClose:()=>u(!1),accept:a})]})},qI=({onSelect:e,onClose:t,accept:r="all"})=>{const n=[{_id:"1",type:"image",filename:"photo1.jpg",url:"/api/media/serve/1"},{_id:"2",type:"image",filename:"photo2.jpg",url:"/api/media/serve/2"},{_id:"3",type:"video",filename:"video1.mp4",url:"/api/media/serve/3"}];return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"font-bold text-gray-800",children:"Select Media"}),s.jsx("button",{onClick:t,className:"text-gray-900 hover:text-gray-700 text-2xl",children:""})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-4 gap-3",children:n.filter(a=>r==="all"||r==="image"&&a.type==="image"||r==="video"&&a.type==="video").map(a=>s.jsxs("button",{onClick:()=>e(a._id,a.type),className:"p-2 border border-gray-300 rounded hover:border-blue-500 transition text-left",children:[s.jsx("div",{className:"w-full aspect-square bg-gray-200 rounded flex items-center justify-center text-3xl mb-1",children:a.type==="image"?"":""}),s.jsx("p",{className:"text-xs font-semibold text-gray-700 truncate",children:a.filename})]},a._id))}),s.jsx("div",{className:"p-4 border-t flex justify-end gap-2",children:s.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded transition",children:"Cancel"})})]})})},WI=e=>{switch(e){case"left":return"";case"center":return"";case"right":return"";case"justify":return"";case"flex-start":return"";case"flex-end":return"";case"space-between":return"  ";default:return e}},GI=({onSelect:e,onClose:t})=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Which layout would you like to use?"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>e("flexbox"),className:"flex flex-col items-center gap-3 p-6 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition group",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-300 to-black-400 rounded flex items-center justify-center group-hover:from-blue-300 group-hover:to-blue-400 transition",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-8 h-12 bg-white bg-opacity-70 rounded"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"w-8 h-5 bg-white bg-opacity-70 rounded"}),s.jsx("div",{className:"w-8 h-5 bg-white bg-opacity-70 rounded"})]})]})}),s.jsx("span",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition",children:"Flexbox"}),s.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Row-based flexible layout"})]}),s.jsxs("button",{onClick:()=>e("grid"),className:"flex flex-col items-center gap-3 p-6 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition group",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-300 to-black-400 rounded flex items-center justify-center group-hover:from-blue-300 group-hover:to-blue-400 transition",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-70 rounded"}),s.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-70 rounded"}),s.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-70 rounded"}),s.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-70 rounded"})]})}),s.jsx("span",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition",children:"Grid"}),s.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Column-based grid layout"})]})]})]})}),KI=[{id:"flex-1",name:"1 Column",columns:[100],visual:""},{id:"flex-2",name:"2 Columns (50-50)",columns:[50,50],visual:""},{id:"flex-2-uneven",name:"2 Columns (33-66)",columns:[33.33,66.67],visual:""},{id:"flex-3",name:"3 Columns",columns:[33.33,33.33,33.33],visual:""},{id:"flex-4",name:"4 Columns",columns:[25,25,25,25],visual:""},{id:"flex-5",name:"5 Columns",columns:[20,20,20,20,20],visual:""}],YI=[{id:"grid-1",name:"1 Column",columns:[100],visual:""},{id:"grid-2",name:"2 Columns",columns:[50,50],visual:""},{id:"grid-2-uneven",name:"2 Columns (33-66)",columns:[33.33,66.67],visual:""},{id:"grid-3",name:"3 Columns",columns:[33.33,33.33,33.33],visual:""},{id:"grid-4",name:"4 Columns",columns:[25,25,25,25],visual:""},{id:"grid-2x2",name:"2x2 Grid",columns:[50,50,50,50],visual:`
`}],JI=({layout:e,onSelect:t,onBack:r,onClose:n})=>{const a=e==="flexbox"?KI:YI;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-5xl mx-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-900 text-2xl p-1",title:"Go back",children:""}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Select your structure"})]}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:a.map(l=>s.jsxs("button",{onClick:()=>t(l),className:"flex flex-col items-center gap-2 p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition group",title:l.name,children:[s.jsx("div",{className:"w-full h-20 bg-gray-100 rounded flex items-center justify-center mb-2 group-hover:bg-blue-100 transition",children:e==="flexbox"?s.jsx("div",{className:"flex gap-1 w-full justify-center px-2",children:l.columns.map((c,u)=>s.jsx("div",{style:{width:`${c}%`},className:"h-12 bg-gray-300 rounded group-hover:bg-blue-400 transition"},u))}):s.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:`repeat(${Math.max(2,l.columns.length)}, 1fr)`},children:l.columns.map((c,u)=>s.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded group-hover:bg-blue-400 transition"},u))})}),s.jsx("span",{className:"text-xs font-semibold text-gray-900 text-center group-hover:text-blue-600 transition",children:l.name})]},l.id))})]})})},QI=({onSelectNode:e,selectedNodeId:t})=>{const r=C.useContext(Fo),[n,a]=C.useState(new Set);if(!r||!r.rootNode)return s.jsx("div",{className:"p-4 text-gray-900 text-sm",children:"No page structure"});const{rootNode:l,updateNodeAdvanced:c,findNode:u}=r,f=y=>{const j=new Set(n);j.has(y)?j.delete(y):j.add(y),a(j)},h=y=>{switch(y.kind){case"section":return s.jsx(Mc,{className:"text-black"});case"column":return s.jsx(gT,{className:"text-blue-600"});case"widget":return s.jsx(l4,{className:"text-gray-400"});default:return s.jsx(l4,{})}},m=y=>y.kind==="widget"?y.widgetType||"Widget":y.kind==="section"?`Section (${y.children?.length||0} columns)`:y.kind==="column"?`Column (${y.children?.length||0} items)`:y.kind,g=(y,j)=>{y.stopPropagation();const w=u(j);if(w){const S=w.advanced?.hidden||!1;c?.(j,{hidden:!S})}},b=(y,j=0)=>{const w=y.children&&y.children.length>0,S=n.has(y.id),N=t===y.id,A=y.advanced?.hidden||!1;return s.jsxs("div",{children:[s.jsxs("div",{onClick:()=>e?.(y.id),className:`flex items-center gap-2 px-3 py-2 cursor-pointer transition rounded-md ${N?"bg-blue-100 border-l-4 border-blue-600":"hover:bg-gray-100"}`,style:{paddingLeft:`${j*16+12}px`},children:[w?s.jsx("button",{onClick:E=>{E.stopPropagation(),f(y.id)},className:"flex items-center justify-center w-4 h-4 text-gray-600 hover:text-gray-900",children:S?s.jsx(Gn,{size:12}):s.jsx(Yn,{size:12})}):s.jsx("div",{className:"w-4"}),s.jsx("span",{className:"flex items-center justify-center w-4 h-4",children:h(y)}),s.jsx("span",{className:`flex-1 text-sm font-medium ${N?"text-blue-900":"text-gray-700"} ${A?"opacity-50 line-through":""}`,children:m(y)}),s.jsx("button",{onClick:E=>g(E,y.id),className:`flex items-center justify-center p-1 rounded transition ${A?"text-gray-400 hover:text-gray-600":"text-gray-900 hover:text-gray-700"}`,title:A?"Show element":"Hide element",children:A?s.jsx(E6,{size:14}):s.jsx(A0,{size:14})})]}),w&&S&&s.jsx("div",{children:y.children.map(E=>b(E,j+1))})]},y.id)};return s.jsxs("div",{className:"navigator h-full flex flex-col overflow-hidden bg-white",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-3 border-b border-gray-200 bg-gray-50 flex-shrink-0",children:[s.jsx(Mc,{className:"text-gray-600",size:16}),s.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Structure"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:l.children&&l.children.length>0?s.jsx("div",{className:"p-2",children:l.children.map(y=>b(y))}):s.jsxs("div",{className:"p-4 text-center text-gray-900 text-sm",children:[s.jsx("p",{children:"No elements yet"}),s.jsx("p",{className:"text-xs mt-1",children:"Add sections to get started"})]})})]})},XI=e=>({Heart:s.jsx(jh,{}),List:s.jsx(T0,{}),Star:s.jsx(c4,{}),Box:s.jsx(Pn,{}),Text:s.jsx(jT,{}),Button:s.jsx(zT,{}),Image:s.jsx(T6,{}),Video:s.jsx(VT,{}),Divider:s.jsx(O6,{}),Spacer:s.jsx(lT,{}),Heading:s.jsx(c4,{})})[e]||s.jsx(Pn,{}),ZI=({selectedNodeId:e,onSelectNode:t})=>{const r=C.useContext(Fo),[n,a]=C.useState("library"),[l,c]=C.useState("content"),[u,f]=C.useState(new Set(["Basic","Content","eCommerce"])),[h,m]=C.useState(!1),[g,b]=C.useState(null);if(!r)return s.jsx("div",{className:"p-4 text-black text-sm",children:"Context not available"});const{rootNode:y,findNode:j,insertNewNode:w,updateNodeProps:S,updateNodeStyle:N,updateNodeAdvanced:A,deleteNode:E,duplicateNodeAction:M,updateNodeResponsiveStyle:T,updateNodeResponsiveAdvanced:D,currentDevice:R}=r,q=e?j(e):null,K=gI(),W=G=>({heading:{content:"Heading",level:"h2"},text:{content:"Enter your text here"},button:{content:"Click Me",link:"#"},image:{src:"",alt:"Image"},video:{src:"",autoplay:!1},divider:{type:"solid"},spacer:{height:"20px"},iconList:{items:[]}})[G]||{},V=G=>{const ce=new Set(u);ce.has(G)?ce.delete(G):ce.add(G),f(ce)},Y=()=>{m(!0)},$=G=>{b(G)},I=G=>{if(!w||!y?.id)return;const ce=G.columns.map((Me,$e)=>rj({id:`col_${Date.now()}_${$e}`,props:{width:`${Me}%`}})),ke=tj({id:`section_${Date.now()}`,props:{contentWidth:"full",numColumns:G.columns.length},style:{gap:"20px"},advanced:{display:g},children:ce});w(y.id,ke),m(!1),b(null)},ie=G=>{if(!w||!y?.id)return;const ce=Me=>{if(!Me)return null;if(Me.kind==="column")return Me;if(Me.children&&Me.children.length>0)for(const $e of Me.children){const Ae=ce($e);if(Ae)return Ae}return null},ke=ce(y);if(ke){const Me=W(G),$e=e0(G,Me);w(ke.id,$e)}else{const Me=e0(G,{}),$e=rj({id:`col_${Date.now()}`,children:[Me]}),Ae=tj({id:`section_${Date.now()}`,props:{numColumns:1},children:[$e]});w(y.id,Ae)}},B=()=>{E&&e&&(E(e),t(null))},Z=()=>{M&&e&&M(e)},_=(()=>{if(!q)return null;if(q.kind==="section"||q.kind==="column")return OI(q.kind);if(q.kind==="widget"&&q.widgetType){const G=mI(q.widgetType);return G&&G.schema?G.schema:UI(q.widgetType)}return null})(),fe=(G,ce)=>{if(S&&e&&q){const ke={...q.props,[G]:ce};S(e,{props:ke})}},z=(G,ce)=>{e&&(console.error(` [LeftPanel] handleStyleChange: ${G}=${ce}, device=${R}`),R==="desktop"?(console.warn("   DESKTOP path"),N?.(e,{[G]:ce})):(console.warn(`   RESPONSIVE path for ${R}`),T?.(e,R,G,ce)))},X=(G,ce)=>{e&&(R==="desktop"?A?.(e,{[G]:ce}):D?.(e,R,G,ce))};return s.jsxs("div",{className:"left-panel h-full flex flex-col overflow-hidden bg-white",children:[s.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50 flex-shrink-0",children:[s.jsxs("button",{onClick:()=>a("library"),className:`flex-1 px-3 py-3 text-sm font-medium transition border-b-2 flex flex-col  items-center justify-center gap-2 ${n==="library"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900"}`,children:[s.jsx(Pn,{}),s.jsx("span",{children:"Library"})]}),s.jsxs("button",{onClick:()=>a("navigator"),className:`flex-1 px-3 py-3 text-sm font-medium transition border-b-2 flex flex-col items-center justify-center gap-2 ${n==="navigator"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900"}`,children:[s.jsx(hT,{}),s.jsx("span",{children:"Structure"})]}),s.jsxs("button",{onClick:()=>a("inspector"),className:`flex-1 px-3 py-3 text-sm font-medium transition border-b-2 flex flex-col items-center justify-center gap-2 ${n==="inspector"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900"}`,children:[s.jsx(mT,{}),s.jsx("span",{children:"Inspector"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:n==="library"?s.jsxs("div",{className:"p-3",children:[s.jsxs("button",{onClick:Y,className:"w-full mb-4 px-4 py-3 bg-linear-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-lg transition flex items-center justify-center gap-2 shadow-md",children:[s.jsx(Js,{}),s.jsx("span",{children:"Add Section"})]}),Object.entries(K).map(([G,ce])=>s.jsxs("div",{className:"mb-3",children:[s.jsxs("button",{onClick:()=>V(G),className:"w-full flex items-center gap-2 px-2 py-2 mb-2 bg-gray-100 hover:bg-gray-200 rounded text-sm font-semibold text-gray-700 transition",children:[u.has(G)?s.jsx(Gn,{size:12}):s.jsx(Yn,{size:12}),s.jsx("span",{children:G})]}),u.has(G)&&s.jsx("div",{className:"grid grid-cols-2 gap-2 ml-2",children:ce.map(ke=>s.jsxs("button",{onClick:()=>ie(ke.widgetType),draggable:!0,onDragStart:Me=>{Me.dataTransfer.effectAllowed="copy",Me.dataTransfer.setData("widgetType",ke.widgetType)},className:"flex flex-col items-center justify-center gap-1 px-2 py-3 bg-white border border-gray-200 hover:border-blue-400 hover:bg-blue-50 rounded text-sm transition cursor-move",children:[s.jsx("span",{className:"text-xl text-blue-600",children:XI(ke.icon)}),s.jsx("span",{className:"font-medium text-gray-700 text-center",children:ke.name})]},ke.widgetType))})]},G))]}):n==="navigator"?s.jsx(QI,{selectedNodeId:e,onSelectNode:t}):s.jsx("div",{className:"p-3 space-y-3",children:q?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Element Type"}),s.jsx("p",{className:"font-semibold text-gray-900 capitalize text-sm",children:q.widgetType||q.kind})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:Z,className:"text-gray-400 hover:text-gray-700 hover:bg-gray-50 p-1.5 rounded transition",title:"Duplicate element",children:s.jsx(bT,{})}),s.jsx("button",{onClick:B,className:"text-black hover:text-gray-700 hover:bg-gray-100 p-1.5 rounded transition",title:"Delete element",children:s.jsx(Fs,{})})]})]})}),q.kind!=="section"&&s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded p-2",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Hierarchy"}),s.jsxs("button",{onClick:()=>{if(y?j(y,e):null){let ce=null;const ke=Me=>Me.children?.find($e=>$e.id===e)?(ce=Me.id,!0):Me.children?.some($e=>ke($e));y&&ke(y),ce&&t(ce)}},className:"w-full text-left px-2 py-2 bg-white border border-amber-300 rounded text-xs font-medium text-amber-700 hover:bg-amber-100 transition",children:[" Select Parent ",q.kind==="column"?"Section":"Column"]})]}),s.jsx("div",{className:"flex justify-between border-b border-gray-200 bg-gray-50 -mx-3 px-3 pt-1",children:["content","style","advanced"].map(G=>s.jsx("button",{onClick:()=>c(G),className:`px-2 py-2 text-xs font-medium border-b-2 transition ${l===G?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900"}`,children:G==="content"?"Content":G==="style"?"Style":"Advanced"},G))}),s.jsx("div",{className:"space-y-2",children:_?s.jsxs(s.Fragment,{children:[l==="content"&&_.content&&_.content.length>0?s.jsx("div",{className:"space-y-2",children:_.content.map(G=>s.jsx("div",{children:s.jsx(Xg,{control:G,value:q.props?.[G.name]??G.default,onChange:ce=>fe(G.name,ce)})},G.name||G.label))}):l==="content"?s.jsx("p",{className:"text-xs text-gray-900 py-3",children:"No content controls"}):null,l==="style"&&_.style&&_.style.length>0?s.jsx("div",{className:"space-y-2",children:_.style.map(G=>{let ke=q.style?.[G.name]??G.default;if(G.responsive&&R!=="desktop"){const Me=q.responsive?.[R]?.style?.[G.name];Me!==void 0&&(ke=Me)}return s.jsx("div",{children:s.jsx(Xg,{control:G,value:ke,onChange:Me=>z(G.name,Me)})},G.name||G.label)})}):l==="style"?s.jsx("p",{className:"text-xs text-gray-900 py-3",children:"No style controls"}):null,l==="advanced"&&_.advanced&&_.advanced.length>0?s.jsx("div",{className:"space-y-2",children:_.advanced.map(G=>{let ke=q.advanced?.[G.name]??G.default;if(G.responsive&&R!=="desktop"){const Me=q.responsive?.[R]?.advanced?.[G.name];Me!==void 0&&(ke=Me)}return s.jsx("div",{children:s.jsx(Xg,{control:G,value:ke,onChange:Me=>X(G.name,Me)})},G.name||G.label)})}):l==="advanced"?s.jsx("p",{className:"text-xs text-gray-900 py-3",children:"No advanced controls"}):null]}):s.jsx("p",{className:"text-xs text-gray-900 py-3",children:"No schema available for this element"})})]}):s.jsx("div",{className:"text-center py-8",children:s.jsxs("p",{className:"text-gray-900 text-sm flex items-center justify-center gap-2",children:[s.jsx(Yn,{}),s.jsx("span",{children:"Select an element on canvas to edit"})]})})})}),h&&!g&&s.jsx(GI,{onSelect:$,onClose:()=>{m(!1),b(null)}}),h&&g&&s.jsx(JI,{layout:g,onSelect:I,onBack:()=>b(null),onClose:()=>{m(!1),b(null)}})]})},eH=({title:e="Page Builder"})=>{const[t,r]=C.useState(null),{savePage:n,rootNode:a,saveStatus:l,currentDevice:c,setCurrentDevice:u}=C.useContext(Fo)||{},f=async()=>{n&&await n(!0)};return s.jsxs("div",{className:"builder-layout h-screen flex flex-col bg-gray-50",children:[s.jsx("header",{className:"builder-header bg-linear-to-r from-blue-600 to-blue-700 text-white p-4 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Elementor Builder"}),s.jsx("span",{className:"text-blue-100 text-sm",children:"home"})]}),s.jsx("div",{className:"flex items-center gap-2",children:["desktop","tablet","mobile"].map(h=>s.jsx("button",{onClick:()=>u?.(h),className:`px-3 py-2 rounded text-sm font-medium transition ${c===h?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:h==="desktop"?"":h==="tablet"?" Tablet":" Mobile"},h))}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-blue-100",children:"6 sections"}),s.jsx("button",{onClick:f,disabled:l==="saving",className:`px-4 py-2 rounded font-semibold transition ${l==="saving"?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-white text-blue-600 hover:bg-gray-100"}`,children:l==="saving"?" Saving...":l==="saved"?" Saved":" Save"}),s.jsx("button",{className:"bg-black text-white px-4 py-2 rounded font-semibold hover:bg-gray-900 transition",children:" Exit"})]})]})}),s.jsxs("div",{className:"builder-content flex flex-1 overflow-hidden",children:[s.jsx("div",{className:"builder-left w-80 bg-white border-r border-gray-200 overflow-hidden flex flex-col shadow-sm",children:s.jsx(ZI,{selectedNodeId:t,onSelectNode:r})}),s.jsx("div",{className:"builder-canvas flex-1 overflow-hidden",children:s.jsx(TI,{device:c||"desktop",onSelectNode:r})})]}),s.jsx("style",{children:`
                .builder-layout {
                    background: #f5f5f5;
                }

                .builder-header {
                    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                    z-index: 50;
                }

                .builder-content {
                    display: flex;
                    flex: 1;
                    overflow: hidden;
                }

                .builder-left {
                    flex-shrink: 0;
                    display: flex;
                    flex-direction: column;
                }

                .builder-canvas {
                    flex: 1;
                    overflow: auto;
                }

                /* Responsive - hide left panel on small screens */
                @media (max-width: 768px) {
                    .builder-left {
                        display: none;
                    }
                }
            `})]})},tH=({pageId:e="home"})=>{const{isEditing:t,currentPage:r,saveStatus:n,isSaving:a,toggleEditMode:l,savePage:c}=w0();return C.useEffect(()=>{const u=f=>{t&&(f.ctrlKey||f.metaKey)&&f.key==="s"&&(f.preventDefault(),c(!0))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[t,c]),t?s.jsx("div",{className:"elementor-builder-wrapper fixed inset-0 z-50 bg-white overflow-hidden flex flex-col",children:s.jsx(eH,{title:`Editing: ${r||"home"}`})}):null},rH=()=>{const e=pn(),t=qt(),{isEditing:r}=w0(),n=e.pathname.startsWith("/admin"),a=e.pathname==="/admin/login";return C.useEffect(()=>{(async()=>{IA();const c=_A();console.log("App.jsx - Restored guestId:",c),await new Promise(u=>setTimeout(u,300)),console.log("App.jsx - Fetching cart and wishlist"),t(Ac()),t(Hl())})()},[t]),C.useEffect(()=>{window.scrollTo(0,0)},[e]),DA(),zA(),s.jsxs("div",{className:"flex flex-col min-h-screen",children:[!n&&!a&&!r&&s.jsx(UT,{hideMenu:e.pathname==="/"}),s.jsx("main",{className:"grow",children:s.jsxs(h9,{children:[s.jsx(kt,{path:"/",element:s.jsx(aM,{})}),s.jsx(kt,{path:"/products",element:s.jsx(oM,{})}),s.jsx(kt,{path:"/product/:slug",element:s.jsx(cM,{})}),s.jsx(kt,{path:"/categories",element:s.jsx(uM,{})}),s.jsx(kt,{path:"/category/:slug",element:s.jsx(fM,{})}),s.jsx(kt,{path:"/cart",element:s.jsx(mM,{})}),s.jsx(kt,{path:"/checkout",element:s.jsx(AM,{})}),s.jsx(kt,{path:"/wishlist",element:s.jsx(TM,{})}),s.jsx(kt,{path:"/admin/login",element:s.jsx(MM,{})}),s.jsx(kt,{path:"/about",element:s.jsx(qM,{})}),s.jsx(kt,{path:"/contact",element:s.jsx(WM,{})}),s.jsx(kt,{path:"/policies/shipping",element:s.jsx(JM,{})}),s.jsx(kt,{path:"/policies/returns-refund",element:s.jsx(QM,{})}),s.jsx(kt,{path:"/policies/privacy",element:s.jsx(XM,{})}),s.jsx(kt,{path:"/policies/terms",element:s.jsx(ZM,{})}),s.jsx(kt,{path:"/policies/faq",element:s.jsx(eO,{})}),s.jsx(kt,{path:"/payment-options",element:s.jsx(lI,{})}),s.jsx(kt,{path:"/order-lookup",element:s.jsx(YM,{})}),s.jsx(kt,{path:"/order/:id",element:s.jsx(KM,{})}),s.jsx(kt,{path:"/admin",element:s.jsx(On,{children:s.jsx(b4,{})})}),s.jsx(kt,{path:"/admin/dashboard",element:s.jsx(On,{children:s.jsx(b4,{})})}),s.jsx(kt,{path:"/admin/products",element:s.jsx(On,{children:s.jsx(nO,{})})}),s.jsx(kt,{path:"/admin/categories",element:s.jsx(On,{children:s.jsx(eI,{})})}),s.jsx(kt,{path:"/admin/collections",element:s.jsx(On,{children:s.jsx(YP,{})})}),s.jsx(kt,{path:"/admin/orders",element:s.jsx(On,{children:s.jsx(nI,{})})}),s.jsx(kt,{path:"/admin/reviews",element:s.jsx(On,{children:s.jsx(KP,{})})}),s.jsx(kt,{path:"/admin/analytics",element:s.jsx(On,{children:s.jsx(sI,{})})}),s.jsx(kt,{path:"/admin/menu",element:s.jsx(On,{children:s.jsx(aI,{})})}),s.jsx(kt,{path:"/admin/chat",element:s.jsx(On,{children:s.jsx(oI,{})})}),s.jsx(kt,{path:"/admin/products/add",element:s.jsx(On,{children:s.jsx(Z3,{})})}),s.jsx(kt,{path:"/admin/products/edit/:id",element:s.jsx(On,{children:s.jsx(Z3,{})})})]})}),s.jsx(tH,{}),!n&&!a&&!r&&s.jsx(FT,{}),s.jsx(CA,{position:"top-right"})]})},nH=()=>s.jsx(f7,{store:_E,children:s.jsx(kA,{children:s.jsx(RA,{children:s.jsx(_9,{children:s.jsx(rH,{})})})})});rt.defaults.withCredentials=!0;W5.createRoot(document.getElementById("root")).render(s.jsx(C.StrictMode,{children:s.jsx(nH,{})}));
